let e;function t(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}function i(e,t){return Object.keys(t).forEach(function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),e}var r,o,s,a,u,l,c,h,d,p,f,m,g,y,v,D,b,E,x,w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},S={},C={},T=w.parcelRequire77af;null==T&&((T=function(e){if(e in S)return S[e].exports;if(e in C){var t=C[e];delete C[e];var n={id:e,exports:{}};return S[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){C[e]=t},w.parcelRequire77af=T);var F=T.register;F("gBhAd",function(e,n){t(e.exports,"extend",function(){return P}),t(e.exports,"Color",function(){return X}),t(e.exports,"Point",function(){return K}),t(e.exports,"Matrix",function(){return Z}),t(e.exports,"Element",function(){return eb}),t(e.exports,"Box",function(){return et}),t(e.exports,"on",function(){return ec}),t(e.exports,"off",function(){return eh}),t(e.exports,"Number",function(){return eg}),t(e.exports,"Defs",function(){return ew}),t(e.exports,"PointArray",function(){return ez}),t(e.exports,"Line",function(){return eV}),t(e.exports,"Path",function(){return tt}),t(e.exports,"Svg",function(){return ty}),t(e.exports,"Symbol",function(){return tv}),t(e.exports,"Text",function(){return tb}),t(e.exports,"G",function(){return tT}),t(e.exports,"SVG",function(){return tO});let i={},r=[];function o(e,t){if(Array.isArray(e)){for(let n of e)o(n,t);return}if("object"==typeof e){for(let t in e)o(t,e[t]);return}a(Object.getOwnPropertyNames(t)),i[e]=Object.assign(i[e]||{},t)}function s(e){return i[e]||{}}function a(e){r.push(...e)}function u(e,t){let n,i=e.length,r=[];for(n=0;n<i;n++)r.push(t(e[n]));return r}function l(e){return e%360*Math.PI/180}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(e,t,n,i){return(null==t||null==n)&&(i=i||e.bbox(),null==t?t=i.width/i.height*n:null==n&&(n=i.height/i.width*t)),{width:t,height:n}}function d(e,t){let n=e.origin,i=null!=e.ox?e.ox:null!=e.originX?e.originX:"center",r=null!=e.oy?e.oy:null!=e.originY?e.originY:"center";null!=n&&([i,r]=Array.isArray(n)?n:"object"==typeof n?[n.x,n.y]:[n,n]);let o="string"==typeof i,s="string"==typeof r;if(o||s){let{height:e,width:n,x:a,y:u}=t.bbox();o&&(i=i.includes("left")?a:i.includes("right")?a+n:a+n/2),s&&(r=r.includes("top")?u:r.includes("bottom")?u+e:u+e/2)}return[i,r]}let p=new Set(["desc","metadata","title"]),f=e=>p.has(e.nodeName),m=(e,t,n={})=>{let i={...t};for(let e in i)i[e].valueOf()===n[e]&&delete i[e];Object.keys(i).length?e.node.setAttribute("data-svgjs",JSON.stringify(i)):(e.node.removeAttribute("data-svgjs"),e.node.removeAttribute("svgjs:data"))},g="http://www.w3.org/2000/svg",y="http://www.w3.org/2000/xmlns/",v="http://www.w3.org/1999/xlink",D={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class b{}let E={},x="___SYMBOL___ROOT___";function w(e,t=g){return D.document.createElementNS(t,e)}function S(e,t=!1){if(e instanceof b)return e;if("object"==typeof e)return F(e);if(null==e)return new E[x];if("string"==typeof e&&"<"!==e.charAt(0))return F(D.document.querySelector(e));let n=t?D.document.createElement("div"):w("svg");return n.innerHTML=e,e=F(n.firstChild),n.removeChild(n.firstChild),e}function C(e,t){return t&&(t instanceof D.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:w(e)}function T(e){if(!e)return null;if(e.instance instanceof b)return e.instance;if("#document-fragment"===e.nodeName)return new E.Fragment(e);let t=c(e.nodeName||"Dom");return"LinearGradient"===t||"RadialGradient"===t?t="Gradient":E[t]||(t="Dom"),new E[t](e)}let F=T;function A(e,t=e.name,n=!1){return E[t]=e,n&&(E[x]=e),a(Object.getOwnPropertyNames(e.prototype)),e}let k=1e3;function _(e){return"Svgjs"+c(e)+k++}function P(e,t){let n,i;for(i=(e=Array.isArray(e)?e:[e]).length-1;i>=0;i--)for(n in t)e[i].prototype[n]=t[n]}function L(e){return function(...t){let n=t[t.length-1];return!n||n.constructor!==Object||n instanceof Array?e.apply(this,t):e.apply(this,t.slice(0,-1)).attr(n)}}o("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){let e=this.position();return this.parent().add(this.remove(),e+1),this},backward:function(){let e=this.position();return this.parent().add(this.remove(),e?e-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(e){(e=S(e)).remove();let t=this.position();return this.parent().add(e,t),this},after:function(e){(e=S(e)).remove();let t=this.position();return this.parent().add(e,t+1),this},insertBefore:function(e){return(e=S(e)).before(this),this},insertAfter:function(e){return(e=S(e)).after(this),this}});let O=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,R=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,I=/rgb\((\d+),(\d+),(\d+)\)/,N=/(#[a-z_][a-z0-9\-_]*)/i,M=/\)\s*,?\s*/,B=/\s/g,U=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,z=/^rgb\(/,j=/^(\s+)?$/,V=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,G=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,$=/[\s,]+/,H=/[MLHVCSQTAZ]/i;function W(e){let t=Math.max(0,Math.min(255,Math.round(e))).toString(16);return 1===t.length?"0"+t:t}function q(e,t){for(let n=t.length;n--;)if(null==e[t[n]])return!1;return!0}function Y(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}o("Dom",{classes:function(){let e=this.attr("class");return null==e?[]:e.trim().split($)},hasClass:function(e){return -1!==this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){let t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!==e}).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}}),o("Dom",{css:function(e,t){let n={};if(0==arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter(function(e){return!!e.length}).forEach(function(e){let t=e.split(/\s*:\s*/);n[t[0]]=t[1]}),n;if(arguments.length<2){if(Array.isArray(e)){for(let t of e)n[t]=this.node.style.getPropertyValue(t);return n}if("string"==typeof e)return this.node.style.getPropertyValue(e);if("object"==typeof e)for(let t in e)this.node.style.setProperty(t,null==e[t]||j.test(e[t])?"":e[t])}return 2==arguments.length&&this.node.style.setProperty(e,null==t||j.test(t)?"":t),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),o("Dom",{data:function(e,t,n){if(null==e)return this.data(u(function(e,t){let n,i=e.length,r=[];for(n=0;n<i;n++)t(e[n])&&r.push(e[n]);return r}(this.node.attributes,e=>0===e.nodeName.indexOf("data-")),e=>e.nodeName.slice(5)));if(e instanceof Array){let t={};for(let n of e)t[n]=this.data(n);return t}if("object"==typeof e)for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch(t){return this.attr("data-"+e)}else this.attr("data-"+e,null===t?null:!0===n||"string"==typeof t||"number"==typeof t?t:JSON.stringify(t));return this}}),o("Dom",{remember:function(e,t){if("object"==typeof arguments[0])for(let t in e)this.remember(t,e[t]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory=this._memory||{}}});class X{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof X||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b}static random(e="vibrant",t){let{random:n,round:i,sin:r,PI:o}=Math;if("vibrant"===e){let e=24*n()+57;return new X(e,38*n()+45,360*n(),"lch")}if("sine"===e){let e=i(80*r(2*o*(t=null==t?n():t)/.5+.01)+150);return new X(e,i(50*r(2*o*t/.5+4.6)+200),i(100*r(2*o*t/.5+2.3)+150))}if("pastel"===e){let e=8*n()+86;return new X(e,17*n()+9,360*n(),"lch")}if("dark"===e){let e=10+10*n();return new X(e,50*n()+86,360*n(),"lch")}if("rgb"===e){let e=255*n();return new X(e,255*n(),255*n())}else if("lab"===e){let e=100*n();return new X(e,256*n()-128,256*n()-128,"lab")}else if("grey"===e){let e=255*n();return new X(e,e,e)}else throw Error("Unsupported random color mode")}static test(e){return"string"==typeof e&&(U.test(e)||z.test(e))}cmyk(){let{_a:e,_b:t,_c:n}=this.rgb(),[i,r,o]=[e,t,n].map(e=>e/255),s=Math.min(1-i,1-r,1-o);return 1===s?new X(0,0,0,1,"cmyk"):new X((1-i-s)/(1-s),(1-r-s)/(1-s),(1-o-s)/(1-s),s,"cmyk")}hsl(){let{_a:e,_b:t,_c:n}=this.rgb(),[i,r,o]=[e,t,n].map(e=>e/255),s=Math.max(i,r,o),a=Math.min(i,r,o),u=(s+a)/2,l=s===a,c=s-a;return new X(360*(l?0:s===i?((r-o)/c+6*(r<o))/6:s===r?((o-i)/c+2)/6:s===o?((i-r)/c+4)/6:0),100*(l?0:u>.5?c/(2-s-a):c/(s+a)),100*u,"hsl")}init(e=0,t=0,n=0,i=0,r="rgb"){if(e=e||0,this.space)for(let e in this.space)delete this[this.space[e]];if("number"==typeof e)r="string"==typeof i?i:r,Object.assign(this,{_a:e,_b:t,_c:n,_d:i="string"==typeof i?0:i,space:r});else if(e instanceof Array)this.space=t||("string"==typeof e[3]?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object)Object.assign(this,function(e,t){let n=q(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:q(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:q(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:q(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:q(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:q(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}(e,t));else if("string"==typeof e)if(z.test(e)){let t=e.replace(B,""),[n,i,r]=I.exec(t).slice(1,4).map(e=>parseInt(e));Object.assign(this,{_a:n,_b:i,_c:r,_d:0,space:"rgb"})}else if(U.test(e)){var o;let[,t,n,i]=R.exec(4===(o=e).length?"#"+o.substring(1,2)+o.substring(1,2)+o.substring(2,3)+o.substring(2,3)+o.substring(3,4)+o.substring(3,4):o).map(e=>parseInt(e,16));Object.assign(this,{_a:t,_b:n,_c:i,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");let{_a:s,_b:a,_c:u,_d:l}=this;Object.assign(this,"rgb"===this.space?{r:s,g:a,b:u}:"xyz"===this.space?{x:s,y:a,z:u}:"hsl"===this.space?{h:s,s:a,l:u}:"lab"===this.space?{l:s,a:a,b:u}:"lch"===this.space?{l:s,c:a,h:u}:"cmyk"===this.space?{c:s,m:a,y:u,k:l}:{})}lab(){let{x:e,y:t,z:n}=this.xyz();return new X(116*t-16,500*(e-t),200*(t-n),"lab")}lch(){let{l:e,a:t,b:n}=this.lab(),i=Math.sqrt(t**2+n**2),r=180*Math.atan2(n,t)/Math.PI;return r<0&&(r*=-1,r=360-r),new X(e,i,r,"lch")}rgb(){var e;if("rgb"===this.space)return this;if(+("lab"!==(e=this.space)&&"xyz"!==e&&"lch"!==e))if("hsl"===this.space){let{h:e,s:t,l:n}=this;if(e/=360,n/=100,0==(t/=100))return new X(n*=255,n,n);let i=n<.5?n*(1+t):n+t-n*t,r=2*n-i,o=255*Y(r,i,e+1/3);return new X(o,255*Y(r,i,e),255*Y(r,i,e-1/3))}else{if("cmyk"!==this.space)return this;let{c:e,m:t,y:n,k:i}=this;return new X(255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)))}{let{x:e,y:t,z:n}=this;if("lab"===this.space||"lch"===this.space){let{l:i,a:r,b:o}=this;if("lch"===this.space){let{c:e,h:t}=this,n=Math.PI/180;r=e*Math.cos(n*t),o=e*Math.sin(n*t)}let s=(i+16)/116,a=r/500+s,u=s-o/200,l=16/116;e=.95047*(a**3>.008856?a**3:(a-l)/7.787),t=+(s**3>.008856?s**3:(s-l)/7.787),n=1.08883*(u**3>.008856?u**3:(u-l)/7.787)}let i=3.2406*e+-1.5372*t+-.4986*n,r=-.9689*e+1.8758*t+.0415*n,o=.0557*e+-.204*t+1.057*n,s=Math.pow,a=i>.0031308?1.055*s(i,1/2.4)-.055:12.92*i;return new X(255*a,255*(r>.0031308?1.055*s(r,1/2.4)-.055:12.92*r),255*(o>.0031308?1.055*s(o,1/2.4)-.055:12.92*o))}}toArray(){let{_a:e,_b:t,_c:n,_d:i,space:r}=this;return[e,t,n,i,r]}toHex(){let[e,t,n]=this._clamped().map(W);return`#${e}${t}${n}`}toRgb(){let[e,t,n]=this._clamped();return`rgb(${e},${t},${n})`}toString(){return this.toHex()}xyz(){let{_a:e,_b:t,_c:n}=this.rgb(),[i,r,o]=[e,t,n].map(e=>e/255),s=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,u=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,l=(.4124*s+.3576*a+.1805*u)/.95047,c=(.2126*s+.7152*a+.0722*u)/1,h=(.0193*s+.1192*a+.9505*u)/1.08883;return new X(l>.008856?Math.pow(l,1/3):7.787*l+16/116,c>.008856?Math.pow(c,1/3):7.787*c+16/116,h>.008856?Math.pow(h,1/3):7.787*h+16/116,"xyz")}_clamped(){let{_a:e,_b:t,_c:n}=this.rgb(),{max:i,min:r,round:o}=Math;return[e,t,n].map(e=>i(0,r(o(e),255)))}}class K{constructor(...e){this.init(...e)}clone(){return new K(this)}init(e,t){let n=Array.isArray(e)?{x:e[0],y:e[1]}:"object"==typeof e?{x:e.x,y:e.y}:{x:e,y:t};return this.x=null==n.x?0:n.x,this.y=null==n.y?0:n.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Z.isMatrixLike(e)||(e=new Z(e));let{x:t,y:n}=this;return this.x=e.a*t+e.c*n+e.e,this.y=e.b*t+e.d*n+e.f,this}}function J(e,t,n){return 1e-6>Math.abs(t-e)}class Z{constructor(...e){this.init(...e)}static formatTransforms(e){let t="both"===e.flip||!0===e.flip,n=e.flip&&(t||"x"===e.flip)?-1:1,i=e.flip&&(t||"y"===e.flip)?-1:1,r=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,s=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,a=e.scale&&e.scale.length?e.scale[1]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleY)?e.scaleY*i:i,u=e.shear||0,l=e.rotate||e.theta||0,c=new K(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),h=c.x,d=c.y,p=new K(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),f=p.x,m=p.y,g=new K(e.translate||e.tx||e.translateX,e.ty||e.translateY),y=g.x,v=g.y,D=new K(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:s,scaleY:a,skewX:r,skewY:o,shear:u,theta:l,rx:D.x,ry:D.y,tx:y,ty:v,ox:h,oy:d,px:f,py:m}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return null!=e.a||null!=e.b||null!=e.c||null!=e.d||null!=e.e||null!=e.f}static matrixMultiply(e,t,n){let i=e.a*t.a+e.c*t.b,r=e.b*t.a+e.d*t.b,o=e.a*t.c+e.c*t.d,s=e.b*t.c+e.d*t.d,a=e.e+e.a*t.e+e.c*t.f,u=e.f+e.b*t.e+e.d*t.f;return n.a=i,n.b=r,n.c=o,n.d=s,n.e=a,n.f=u,n}around(e,t,n){return this.clone().aroundO(e,t,n)}aroundO(e,t,n){let i=e||0,r=t||0;return this.translateO(-i,-r).lmultiplyO(n).translateO(i,r)}clone(){return new Z(this)}decompose(e=0,t=0){let n=this.a,i=this.b,r=this.c,o=this.d,s=this.e,a=this.f,u=n*o-i*r,l=u>0?1:-1,c=l*Math.sqrt(n*n+i*i),h=Math.atan2(l*i,l*n),d=180/Math.PI*h,p=Math.cos(h),f=Math.sin(h),m=(n*r+i*o)/u,g=r*c/(m*n-i)||o*c/(m*i+n);return{scaleX:c,scaleY:g,shear:m,rotate:d,translateX:s-e+e*p*c+t*(m*p*c-f*g),translateY:a-t+e*f*c+t*(m*f*c+p*g),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;let t=new Z(e);return J(this.a,t.a)&&J(this.b,t.b)&&J(this.c,t.c)&&J(this.d,t.d)&&J(this.e,t.e)&&J(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return"x"===e?this.scaleO(-1,1,t,0):"y"===e?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){let t=Z.fromArray([1,0,0,1,0,0]);return e=e instanceof eb?e.matrixify():"string"==typeof e?Z.fromArray(e.split($).map(parseFloat)):Array.isArray(e)?Z.fromArray(e):"object"==typeof e&&Z.isMatrixLike(e)?e:"object"==typeof e?new Z().transform(e):6==arguments.length?Z.fromArray([].slice.call(arguments)):t,this.a=null!=e.a?e.a:t.a,this.b=null!=e.b?e.b:t.b,this.c=null!=e.c?e.c:t.c,this.d=null!=e.d?e.d:t.d,this.e=null!=e.e?e.e:t.e,this.f=null!=e.f?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){let e=this.a,t=this.b,n=this.c,i=this.d,r=this.e,o=this.f,s=e*i-t*n;if(!s)throw Error("Cannot invert "+this);let a=i/s,u=-t/s,l=-n/s,c=e/s;return this.a=a,this.b=u,this.c=l,this.d=c,this.e=-(a*r+l*o),this.f=-(u*r+c*o),this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){let t=e instanceof Z?e:new Z(e);return Z.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){let t=e instanceof Z?e:new Z(e);return Z.matrixMultiply(this,t,this)}rotate(e,t,n){return this.clone().rotateO(e,t,n)}rotateO(e,t=0,n=0){let i=Math.cos(e=l(e)),r=Math.sin(e),{a:o,b:s,c:a,d:u,e:c,f:h}=this;return this.a=o*i-s*r,this.b=s*i+o*r,this.c=a*i-u*r,this.d=u*i+a*r,this.e=c*i-h*r+n*r-t*i+t,this.f=h*i+c*r-t*r-n*i+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,n=0,i=0){3==arguments.length&&(i=n,n=t,t=e);let{a:r,b:o,c:s,d:a,e:u,f:l}=this;return this.a=r*e,this.b=o*t,this.c=s*e,this.d=a*t,this.e=u*e-n*e+n,this.f=l*t-i*t+i,this}shear(e,t,n){return this.clone().shearO(e,t,n)}shearO(e,t=0,n=0){let{a:i,b:r,c:o,d:s,e:a,f:u}=this;return this.a=i+r*e,this.c=o+s*e,this.e=a+u*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,n=0,i=0){3==arguments.length&&(i=n,n=t,t=e),e=l(e),t=l(t);let r=Math.tan(e),o=Math.tan(t),{a:s,b:a,c:u,d:c,e:h,f:d}=this;return this.a=s+a*r,this.b=a+s*o,this.c=u+c*r,this.d=c+u*o,this.e=h+d*r-i*r,this.f=d+h*o-n*o,this}skewX(e,t,n){return this.skew(e,0,t,n)}skewY(e,t,n){return this.skew(0,e,t,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Z.isMatrixLike(e))return new Z(e).multiplyO(this);let t=Z.formatTransforms(e),{x:n,y:i}=new K(t.ox,t.oy).transform(this),r=new Z().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-n,-i).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(n,i);if(isFinite(t.px)||isFinite(t.py)){let e=new K(n,i).transform(r),o=isFinite(t.px)?t.px-e.x:0,s=isFinite(t.py)?t.py-e.y:0;r.translateO(o,s)}return r.translateO(t.tx,t.ty),r}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Q(){if(!Q.nodes){let e=S().size(2,0);e.node.style.cssText="opacity: 0;position: absolute;left: -100%;top: -100%;overflow: hidden",e.attr("focusable","false"),e.attr("aria-hidden","true");let t=e.path().node;Q.nodes={svg:e,path:t}}if(!Q.nodes.svg.node.parentNode){let e=D.document.body||D.document.documentElement;Q.nodes.svg.addTo(e)}return Q.nodes}function ee(e){return!e.width&&!e.height&&!e.x&&!e.y}A(Z,"Matrix");class et{constructor(...e){this.init(...e)}addOffset(){return this.x+=D.window.pageXOffset,this.y+=D.window.pageYOffset,new et(this)}init(e){return e="string"==typeof e?e.split($).map(parseFloat):Array.isArray(e)?e:"object"==typeof e?[null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height]:4==arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return ee(this)}merge(e){let t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-t,r=Math.max(this.y+this.height,e.y+e.height)-n;return new et(t,n,i,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Z||(e=new Z(e));let t=1/0,n=-1/0,i=1/0,r=-1/0;return[new K(this.x,this.y),new K(this.x2,this.y),new K(this.x,this.y2),new K(this.x2,this.y2)].forEach(function(o){o=o.transform(e),t=Math.min(t,o.x),n=Math.max(n,o.x),i=Math.min(i,o.y),r=Math.max(r,o.y)}),new et(t,i,n-t,r-i)}}function en(e,t,n){let i;try{var r;if(i=t(e.node),ee(i)&&!((r=e.node)===D.document||(D.document.documentElement.contains||function(e){for(;e.parentNode;)e=e.parentNode;return e===D.document}).call(D.document.documentElement,r)))throw Error("Element not in the dom")}catch(t){i=n(e)}return i}o({viewbox:{viewbox(e,t,n,i){return null==e?new et(this.attr("viewBox")):this.attr("viewBox",new et(e,t,n,i))},zoom(e,t){let{width:n,height:i}=this.attr(["width","height"]);if((n||i)&&"string"!=typeof n&&"string"!=typeof i||(n=this.node.clientWidth,i=this.node.clientHeight),!n||!i)throw Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");let r=this.viewbox(),o=n/r.width,s=i/r.height,a=Math.min(o,s);if(null==e)return a;let u=a/e;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),t=t||new K(n/2/o+r.x,i/2/s+r.y);let l=new et(r).transform(new Z({scale:u,origin:t}));return this.viewbox(l)}}}),A(et,"Box");class ei extends Array{constructor(e=[],...t){if(super(e,...t),"number"==typeof e)return this;this.length=0,this.push(...e)}}P([ei],{each(e,...t){return"function"==typeof e?this.map((t,n,i)=>e.call(t,t,n,i)):this.map(n=>n[e](...t))},toArray(){return Array.prototype.concat.apply([],this)}});let er=["toArray","constructor","each"];function eo(e,t){return new ei(u((t||D.document).querySelectorAll(e),function(e){return T(e)}))}ei.extend=function(e){P([ei],e=e.reduce((e,t)=>(er.includes(t)||"_"===t[0]||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...e){return this.each(t,...e)}),e),{}))};let es=0,ea={};function eu(e){let t=e.getEventHolder();return t===D.window&&(t=ea),t.events||(t.events={}),t.events}function el(e){return e.getEventTarget()}function ec(e,t,n,i,r){let o=n.bind(i||e),s=S(e),a=eu(s),u=el(s);t=Array.isArray(t)?t:t.split($),n._svgjsListenerId||(n._svgjsListenerId=++es),t.forEach(function(e){let t=e.split(".")[0],i=e.split(".")[1]||"*";a[t]=a[t]||{},a[t][i]=a[t][i]||{},a[t][i][n._svgjsListenerId]=o,u.addEventListener(t,o,r||!1)})}function eh(e,t,n,i){let r=S(e),o=eu(r),s=el(r);("function"!=typeof n||(n=n._svgjsListenerId))&&(t=Array.isArray(t)?t:(t||"").split($)).forEach(function(e){let t,a,u=e&&e.split(".")[0],l=e&&e.split(".")[1];if(n)o[u]&&o[u][l||"*"]&&(s.removeEventListener(u,o[u][l||"*"][n],i||!1),delete o[u][l||"*"][n]);else if(u&&l){if(o[u]&&o[u][l]){for(a in o[u][l])eh(s,[u,l].join("."),a);delete o[u][l]}}else if(l)for(e in o)for(t in o[e])l===t&&eh(s,[e,l].join("."));else if(u){if(o[u]){for(t in o[u])eh(s,[u,t].join("."));delete o[u]}}else{let t;for(e in o)eh(s,e);(t=r.getEventHolder())===D.window&&(t=ea),t.events&&(t.events={})}})}class ed extends b{addEventListener(){}dispatch(e,t,n){var i=e;let r=el(this);return i instanceof D.window.Event||(i=new D.window.CustomEvent(i,{detail:t,cancelable:!0,...n})),r.dispatchEvent(i),i}dispatchEvent(e){let t=this.getEventHolder().events;if(!t)return!0;let n=t[e.type];for(let t in n)for(let i in n[t])n[t][i](e);return!e.defaultPrevented}fire(e,t,n){return this.dispatch(e,t,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,n){return eh(this,e,t,n),this}on(e,t,n,i){return ec(this,e,t,n,i),this}removeEventListener(){}}function ep(){}A(ed,"EventTarget");let ef={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class em extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return"number"==typeof e||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split($).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){let e=[];return e.push(...this),e}}class eg{constructor(...e){this.init(...e)}convert(e){return new eg(this.value,e)}divide(e){return e=new eg(e),new eg(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(O))&&(this.value=parseFloat(t[1]),"%"===t[5]?this.value/=100:"s"===t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof eg&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new eg(e),new eg(this-e,this.unit||e.unit)}plus(e){return e=new eg(e),new eg(this+e,this.unit||e.unit)}times(e){return e=new eg(e),new eg(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}let ey=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),ev=[];class eD extends ed{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=S(e)).removeNamespace&&this.node instanceof D.window.SVGElement&&e.removeNamespace(),null==t?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return S(e).put(this,t)}children(){return new ei(u(this.node.children,function(e){return T(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return t&&(n=function e(t){for(let n=t.children.length-1;n>=0;n--)e(t.children[n]);return t.id&&(t.id=_(t.nodeName)),t}(n)),new this.constructor(n)}each(e,t){let n,i,r=this.children();for(n=0,i=r.length;n<i;n++)e.apply(r[n],[n,r]),t&&r[n].each(e,t);return this}element(e,t){return this.put(new eD(w(e),t))}first(){return T(this.node.firstChild)}get(e){return T(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return void 0!==e||this.node.id||(this.node.id=_(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return T(this.node.lastChild)}matches(e){let t=this.node,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return n&&n.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=T(t.node.parentNode),!e)return t;do if("string"==typeof e?t.matches(e):t instanceof e)break;while(t=T(t.node.parentNode))return t}put(e,t){return e=S(e),this.add(e,t),e}putIn(e,t){return S(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=S(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){let n=10**e,i=this.attr(t);for(let e in i)"number"==typeof i[e]&&(i[e]=Math.round(i[e]*n)/n);return this.attr(i),this}svg(e,t){return this.xml(e,t,g)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){let t=this.parent();if(!t)return this.addTo(e);let n=t.index(this);return t.put(e,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,n){if("boolean"==typeof e&&(n=t,t=e,e=null),null==e||"function"==typeof e){t=null==t||t,this.writeDataToDom();let n=this;if(null!=e){if(n=T(n.node.cloneNode(!0)),t){let t=e(n);if(n=t||n,!1===t)return""}n.each(function(){let t=e(this),n=t||this;!1===t?this.remove():t&&this!==n&&this.replace(n)},!0)}return t?n.node.outerHTML:n.node.innerHTML}t=null!=t&&t;let i=w("wrapper",n),r=D.document.createDocumentFragment();i.innerHTML=e;for(let e=i.children.length;e--;)r.appendChild(i.firstElementChild);let o=this.parent();return t?this.replace(r)&&o:this.add(r)}}P(eD,{attr:function(e,t,n){if(null==e){for(let n of(e={},t=this.node.attributes))e[n.nodeName]=V.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return e}if(e instanceof Array)return e.reduce((e,t)=>(e[t]=this.attr(t),e),{});if("object"==typeof e&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?ef[e]:V.test(t)?parseFloat(t):t;"number"==typeof(t=ev.reduce((t,n)=>n(e,t,this),t))?t=new eg(t):ey.has(e)&&X.isColor(t)?t=new X(t):t.constructor===Array&&(t=new em(t)),"leading"===e?this.leading&&this.leading(t):"string"==typeof n?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),this.rebuild&&("font-size"===e||"x"===e)&&this.rebuild()}return this},find:function(e){return eo(e,this.node)},findOne:function(e){return T(this.node.querySelector(e))}}),A(eD,"Dom");class eb extends eD{constructor(e,t){super(e,t),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(e.getAttribute("data-svgjs"))??JSON.parse(e.getAttribute("svgjs:data"))??{})}center(e,t){return this.cx(e).cy(t)}cx(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){let e=this.root();return e&&e.defs()}dmove(e,t){return this.dx(e).dy(t)}dx(e=0){return this.x(new eg(e).plus(this.x()))}dy(e=0){return this.y(new eg(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,t){return this.x(e).y(t)}parents(e=this.root()){let t="string"==typeof e;t||(e=S(e));let n=new ei,i=this;for(;(i=i.parent())&&i.node!==D.document&&"#document-fragment"!==i.nodeName&&(n.push(i),!(!t&&i.node===e.node||t&&i.matches(e)));)if(i.node===this.root().node)return null;return n}reference(e){if(!(e=this.attr(e)))return null;let t=(e+"").match(N);return t?S(t[1]):null}root(){let e=this.parent(E[x]);return e&&e.root()}setData(e){return this.dom=e,this}size(e,t){let n=h(this,e,t);return this.width(new eg(n.width)).height(new eg(n.height))}width(e){return this.attr("width",e)}writeDataToDom(){return m(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}}P(eb,{bbox:function(){return new et(en(this,e=>e.getBBox(),e=>{try{let t=e.clone().addTo(Q().svg).show(),n=t.node.getBBox();return t.remove(),n}catch(t){throw Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}}))},rbox:function(e){let t=new et(en(this,e=>e.getBoundingClientRect(),e=>{throw Error(`Getting rbox of element "${e.node.nodeName}" is not possible`)}));return e?t.transform(e.screenCTM().inverseO()):t.addOffset()},inside:function(e,t){let n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height},point:function(e,t){return new K(e,t).transformO(this.screenCTM().inverseO())},ctm:function(){return new Z(this.node.getCTM())},screenCTM:function(){try{if("function"==typeof this.isRoot&&!this.isRoot()){let e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new Z(t)}return new Z(this.node.getScreenCTM())}catch(e){return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Z}}}),A(eb,"Element");let eE={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"===t?e:e+"-"+t}};["fill","stroke"].forEach(function(e){let t,n={};n[e]=function(n){if(void 0===n)return this.attr(e);if("string"==typeof n||n instanceof X||X.isRgb(n)||n instanceof eb)this.attr(e,n);else for(t=eE[e].length-1;t>=0;t--)null!=n[eE[e][t]]&&this.attr(eE.prefix(e,eE[e][t]),n[eE[e][t]]);return this},o(["Element","Runner"],n)}),o(["Element","Runner"],{matrix:function(e,t,n,i,r,o){return null==e?new Z(this):this.attr("transform",new Z(e,t,n,i,r,o))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,i){return 1==arguments.length||3==arguments.length?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:i},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,i){return 1==arguments.length||3==arguments.length?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:i},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return -1==="xybothtrue".indexOf(e)&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}}),o("radius",{radius:function(e,t=e){return"radialGradient"===(this._element||this).type?this.attr("r",new eg(e)):this.rx(e).ry(t)}}),o("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new K(this.node.getPointAtLength(e))}}),o(["Element","Runner"],{font:function(e,t){if("object"==typeof e){for(t in e)this.font(t,e[t]);return this}return"leading"===e?this.leading(t):"anchor"===e?this.attr("text-anchor",t):"size"===e||"family"===e||"weight"===e||"stretch"===e||"variant"===e||"style"===e?this.attr("font-"+e,t):this.attr(e,t)}}),o("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(e,t){return e[t]=function(e){return null===e?this.off(t):this.on(t,e),this},e},{})),o("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(M).slice(0,-1).map(function(e){let t=e.trim().split("(");return[t[0],t[1].split($).map(function(e){return parseFloat(e)})]}).reverse().reduce(function(e,t){return"matrix"===t[0]?e.lmultiply(Z.fromArray(t[1])):e[t[0]].apply(e,t[1])},new Z)},toParent:function(e,t){if(this===e)return this;if(f(this.node))return this.addTo(e,t);let n=this.screenCTM(),i=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(i.multiply(n)),this},toRoot:function(e){return this.toParent(this.root(),e)},transform:function(e,t){if(null==e||"string"==typeof e){let t=new Z(this).decompose();return null==e?t:t[e]}Z.isMatrixLike(e)||(e={...e,origin:d(e,this)});let n=new Z(!0===t?this:t||!1).transform(e);return this.attr("transform",n)}});class ex extends eb{flatten(){return this.each(function(){if(this instanceof ex)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=-1===t?e.children().length:t,this.each(function(n,i){return i[i.length-n-1].toParent(e,t)}),this.remove()}}A(ex,"Container");class ew extends ex{constructor(e,t=e){super(C("defs",e),t)}flatten(){return this}ungroup(){return this}}A(ew,"Defs");class eS extends eb{}function eC(e){return this.attr("rx",e)}function eT(e){return this.attr("ry",e)}function eF(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())}function eA(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())}function ek(e){return this.attr("cx",e)}function e_(e){return this.attr("cy",e)}function eP(e){return null==e?2*this.rx():this.rx(new eg(e).divide(2))}function eL(e){return null==e?2*this.ry():this.ry(new eg(e).divide(2))}A(eS,"Shape");class eO extends eS{constructor(e,t=e){super(C("ellipse",e),t)}size(e,t){let n=h(this,e,t);return this.rx(new eg(n.width).divide(2)).ry(new eg(n.height).divide(2))}}P(eO,{__proto__:null,cx:ek,cy:e_,height:eL,rx:eC,ry:eT,width:eP,x:eF,y:eA}),o("Container",{ellipse:L(function(e=0,t=e){return this.put(new eO).size(e,t).move(0,0)})}),A(eO,"Ellipse");class eR extends eD{constructor(e=D.document.createDocumentFragment()){super(e)}xml(e,t,n){if("boolean"==typeof e&&(n=t,t=e,e=null),null==e||"function"==typeof e){let e=new eD(w("wrapper",n));return e.add(this.node.cloneNode(!0)),e.xml(!1,n)}return super.xml(e,!1,n)}}function eI(e,t){return"radialGradient"===(this._element||this).type?this.attr({fx:new eg(e),fy:new eg(t)}):this.attr({x1:new eg(e),y1:new eg(t)})}function eN(e,t){return"radialGradient"===(this._element||this).type?this.attr({cx:new eg(e),cy:new eg(t)}):this.attr({x2:new eg(e),y2:new eg(t)})}A(eR,"Fragment");class eM extends ex{constructor(e,t){super(C(e+"Gradient","string"==typeof e?null:e),t)}attr(e,t,n){return"transform"===e&&(e="gradientTransform"),super.attr(e,t,n)}bbox(){return new et}targets(){return eo("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}P(eM,{__proto__:null,from:eI,to:eN}),o({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:L(function(e,t){return this.put(new eM(e)).update(t)})}}),A(eM,"Gradient");class eB extends ex{constructor(e,t=e){super(C("pattern",e),t)}attr(e,t,n){return"transform"===e&&(e="patternTransform"),super.attr(e,t,n)}bbox(){return new et}targets(){return eo("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}o({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:L(function(e,t,n){return this.put(new eB).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})})}}),A(eB,"Pattern");class eU extends eS{constructor(e,t=e){super(C("image",e),t)}load(e,t){if(!e)return this;let n=new D.window.Image;return ec(n,"load",function(e){let i=this.parent(eB);0===this.width()&&0===this.height()&&this.size(n.width,n.height),i instanceof eB&&0===i.width()&&0===i.height()&&i.size(this.width(),this.height()),"function"==typeof t&&t.call(this,e)},this),ec(n,"load error",function(){eh(n)}),this.attr("href",n.src=e,v)}}ev.push(function(e,t,n){return("fill"===e||"stroke"===e)&&G.test(t)&&(t=n.root().defs().image(t)),t instanceof eU&&(t=n.root().defs().pattern(0,0,e=>{e.add(t)})),t}),o({Container:{image:L(function(e,t){return this.put(new eU).size(0,0).load(e,t)})}}),A(eU,"Image");class ez extends em{bbox(){let e=-1/0,t=-1/0,n=1/0,i=1/0;return this.forEach(function(r){e=Math.max(r[0],e),t=Math.max(r[1],t),n=Math.min(r[0],n),i=Math.min(r[1],i)}),new et(n,i,e-n,t-i)}move(e,t){let n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+e,this[n][1]+t];return this}parse(e=[0,0]){let t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split($).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,i=e.length;n<i;n+=2)t.push([e[n],e[n+1]]);return t}size(e,t){let n,i=this.bbox();for(n=this.length-1;n>=0;n--)i.width&&(this[n][0]=(this[n][0]-i.x)*e/i.width+i.x),i.height&&(this[n][1]=(this[n][1]-i.y)*t/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){let e=[];for(let t=0,n=this.length;t<n;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Z.isMatrixLike(e)||(e=new Z(e));for(let t=this.length;t--;){let[n,i]=this[t];this[t][0]=e.a*n+e.c*i+e.e,this[t][1]=e.b*n+e.d*i+e.f}return this}}var ej={__proto__:null,MorphArray:ez,height:function(e){let t=this.bbox();return null==e?t.height:this.size(t.width,e)},width:function(e){let t=this.bbox();return null==e?t.width:this.size(e,t.height)},x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)}};class eV extends eS{constructor(e,t=e){super(C("line",e),t)}array(){return new ez([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(e,t){return this.attr(this.array().move(e,t).toLine())}plot(e,t,n,i){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:n,y2:i}:new ez(e).toLine(),this.attr(e))}size(e,t){let n=h(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}}P(eV,ej),o({Container:{line:L(function(...e){return eV.prototype.plot.apply(this.put(new eV),null!=e[0]?e:[0,0,0,0])})}}),A(eV,"Line");class eG extends ex{constructor(e,t=e){super(C("marker",e),t)}height(e){return this.attr("markerHeight",e)}orient(e){return this.attr("orient",e)}ref(e,t){return this.attr("refX",e).attr("refY",t)}toString(){return"url(#"+this.id()+")"}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}width(e){return this.attr("markerWidth",e)}}function e$(e,t){return function(n){return null==n?this[e]:(this[e]=n,t&&t.call(this),this)}}o({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:L(function(e,t,n){return this.put(new eG).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)})},marker:{marker(e,t,n,i){let r=["marker"];return"all"!==e&&r.push(e),r=r.join("-"),e=arguments[1]instanceof eG?arguments[1]:this.defs().marker(t,n,i),this.attr(r,e)}}}),A(eG,"Marker");let eH={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return-Math.cos(e*Math.PI/2)+1},bezier:function(e,t,n,i){return function(r){if(r<0)if(e>0)return t/e*r;else if(n>0)return i/n*r;else return 0;return r>1?n<1?(1-i)/(1-n)*r+(i-n)/(1-n):e<1?(1-t)/(1-e)*r+(t-e)/(1-e):1:3*r*(1-r)**2*t+3*r**2*(1-r)*i+r**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let n=e;return"none"===t?--n:"both"===t&&++n,(i,r=!1)=>{let o=Math.floor(i*e),s=i*o%1==0;return("start"===t||"both"===t)&&++o,r&&s&&--o,i>=0&&o<0&&(o=0),i<=1&&o>n&&(o=n),o/n}}};class eW{done(){return!1}}class eq extends eW{constructor(e=">"){super(),this.ease=eH[e]||e}step(e,t,n){return"number"!=typeof e?n<1?e:t:e+(t-e)*this.ease(n)}}class eY extends eW{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,n,i){return this.stepper(e,t,n,i)}}function eX(){let e=(this._duration||500)/1e3,t=this._overshoot||0,n=Math.PI,i=Math.log(t/100+1e-10),r=-i/Math.sqrt(n*n+i*i),o=3.9/(r*e);this.d=2*r*o,this.k=o*o}P(class extends eY{constructor(e=500,t=0){super(),this.duration(e).overshoot(t)}step(e,t,n,i){if("string"==typeof e)return e;if(i.done=n===1/0,n===1/0)return t;if(0===n)return e;n>100&&(n=16),n/=1e3;let r=i.velocity||0,o=-this.d*r-this.k*(e-t),s=e+r*n+o*n*n/2;return i.velocity=r+o*n,i.done=Math.abs(t-s)+Math.abs(r)<.002,i.done?t:s}},{duration:e$("_duration",eX),overshoot:e$("_overshoot",eX)}),P(class extends eY{constructor(e=.1,t=.01,n=0,i=1e3){super(),this.p(e).i(t).d(n).windup(i)}step(e,t,n,i){if("string"==typeof e)return e;if(i.done=n===1/0,n===1/0)return t;if(0===n)return e;let r=t-e,o=(i.integral||0)+r*n,s=(r-(i.error||0))/n,a=this._windup;return!1!==a&&(o=Math.max(-a,Math.min(o,a))),i.error=r,i.integral=o,i.done=.001>Math.abs(r),i.done?t:e+(this.P*r+this.I*o+this.D*s)}},{windup:e$("_windup"),p:e$("P"),i:e$("I"),d:e$("D")});let eK={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},eJ={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},eZ="mlhvqtcsaz".split("");for(let e=0,t=eZ.length;e<t;++e)eJ[eZ[e]]=function(e){return function(t,n,i){if("H"===e)t[0]=t[0]+n.x;else if("V"===e)t[0]=t[0]+n.y;else if("A"===e)t[5]=t[5]+n.x,t[6]=t[6]+n.y;else for(let e=0,i=t.length;e<i;++e)t[e]=t[e]+(e%2?n.y:n.x);return eJ[e](t,n,i)}}(eZ[e].toUpperCase());function eQ(e){return e.segment.length&&e.segment.length-1===eK[e.segment[0].toUpperCase()]}function e0(e,t){if(!e.inNumber)throw Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,eQ(e)&&e1(e)}function e1(e){e.inSegment=!1,e.absolute&&(e.segment=eJ[e.segment[0]](e.segment.slice(1),e.p,e.p0)),e.segments.push(e.segment)}let e2=new Set([" ",",","	","\n","\r","\f"]);class e3 extends em{bbox(){return Q().path.setAttribute("d",this.toString()),new et(Q.nodes.path.getBBox())}move(e,t){let n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let n,i=this.length-1;i>=0;i--)"M"===(n=this[i][0])||"L"===n||"T"===n?(this[i][1]+=e,this[i][2]+=t):"H"===n?this[i][1]+=e:"V"===n?this[i][1]+=t:"C"===n||"S"===n||"Q"===n?(this[i][1]+=e,this[i][2]+=t,this[i][3]+=e,this[i][4]+=t,"C"===n&&(this[i][5]+=e,this[i][6]+=t)):"A"===n&&(this[i][6]+=e,this[i][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(e,t=!0){let n=0,i="",r={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new K,p:new K};for(;r.lastToken=i,i=e.charAt(n++);)if(!(!r.inSegment&&function(e,t){e.inNumber&&e0(e,!1);let n=H.test(t);if(n)e.segment=[t];else{let t=e.lastCommand,n=t.toLowerCase(),i=t===n;e.segment=["m"===n?i?"l":"L":t]}return e.inSegment=!0,e.lastCommand=e.segment[0],n}(r,i))){if("."===i){if(r.pointSeen||r.hasExponent){e0(r,!1),--n;continue}r.inNumber=!0,r.pointSeen=!0,r.number+=i;continue}if(!isNaN(parseInt(i))){if("0"===r.number||function(e){if(!e.segment.length)return!1;let t="A"===e.segment[0].toUpperCase(),n=e.segment.length;return t&&(4===n||5===n)}(r)){r.inNumber=!0,r.number=i,e0(r,!0);continue}r.inNumber=!0,r.number+=i;continue}if(e2.has(i)){r.inNumber&&e0(r,!1);continue}if("-"===i||"+"===i){if(r.inNumber&&"E"!==r.lastToken.toUpperCase()){e0(r,!1),--n;continue}r.number+=i,r.inNumber=!0;continue}if("E"===i.toUpperCase()){r.number+=i,r.hasExponent=!0;continue}if(H.test(i)){if(r.inNumber)e0(r,!1);else if(eQ(r))e1(r);else throw Error("parser Error");--n}}return r.inNumber&&e0(r,!1),r.inSegment&&eQ(r)&&e1(r),r.segments}(e)}size(e,t){let n,i,r=this.bbox();for(r.width=0===r.width?1:r.width,r.height=0===r.height?1:r.height,n=this.length-1;n>=0;n--)"M"===(i=this[n][0])||"L"===i||"T"===i?(this[n][1]=(this[n][1]-r.x)*e/r.width+r.x,this[n][2]=(this[n][2]-r.y)*t/r.height+r.y):"H"===i?this[n][1]=(this[n][1]-r.x)*e/r.width+r.x:"V"===i?this[n][1]=(this[n][1]-r.y)*t/r.height+r.y:"C"===i||"S"===i||"Q"===i?(this[n][1]=(this[n][1]-r.x)*e/r.width+r.x,this[n][2]=(this[n][2]-r.y)*t/r.height+r.y,this[n][3]=(this[n][3]-r.x)*e/r.width+r.x,this[n][4]=(this[n][4]-r.y)*t/r.height+r.y,"C"===i&&(this[n][5]=(this[n][5]-r.x)*e/r.width+r.x,this[n][6]=(this[n][6]-r.y)*t/r.height+r.y)):"A"===i&&(this[n][1]=this[n][1]*e/r.width,this[n][2]=this[n][2]*t/r.height,this[n][6]=(this[n][6]-r.x)*e/r.width+r.x,this[n][7]=(this[n][7]-r.y)*t/r.height+r.y);return this}toString(){return function(e){let t="";for(let n=0,i=e.length;n<i;n++)t+=e[n][0],null!=e[n][1]&&(t+=e[n][1],null!=e[n][2]&&(t+=" ",t+=e[n][2],null!=e[n][3]&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],null!=e[n][5]&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],null!=e[n][7]&&(t+=" ",t+=e[n][7])))));return t+" "}(this)}}let e6=e=>{let t=typeof e;if("number"===t)return eg;if("string"===t)if(X.isColor(e))return X;else if($.test(e))return H.test(e)?e3:em;else if(O.test(e))return eg;else return e5;if(te.indexOf(e.constructor)>-1)return e.constructor;if(Array.isArray(e))return em;if("object"===t)return e9;else return e5};class e8{constructor(e){this._stepper=e||new eq("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return null==e?this._from:(this._from=this._set(e),this)}stepper(e){return null==e?this._stepper:(this._stepper=e,this)}to(e){return null==e?this._to:(this._to=this._set(e),this)}type(e){return null==e?this._type:(this._type=e,this)}_set(e){this._type||this.type(e6(e));let t=new this._type(e);return this._type===X&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===e9&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(e){return e.done=!0,e}),t}}class e5{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class e4{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,e4.defaults,e),this}toArray(){return[this.scaleX,this.scaleY,this.shear,this.rotate,this.translateX,this.translateY,this.originX,this.originY]}}e4.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};let e7=(e,t)=>e[0]<t[0]?-1:+(e[0]>t[0]);class e9{constructor(...e){this.init(...e)}align(e){let t=this.values;for(let n=0,i=t.length;n<i;++n){if(t[n+1]===e[n+1]){if(t[n+1]===X&&e[n+7]!==t[n+7]){let t=e[n+7],i=new X(this.values.splice(n+3,5))[t]().toArray();this.values.splice(n+3,0,...i)}n+=t[n+2]+2;continue}if(!e[n+1])break;let i=new e[n+1]().toArray(),r=t[n+2]+3;t.splice(n,r,e[n],e[n+1],e[n+2],...i),n+=t[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e)){this.values=e.slice();return}let t=[];for(let n in e=e||{}){let i=e6(e[n]),r=new i(e[n]).toArray();t.push([n,i,r.length,...r])}return t.sort(e7),this.values=t.reduce((e,t)=>e.concat(t),[]),this}toArray(){return this.values}valueOf(){let e={},t=this.values;for(;t.length;){let n=t.shift(),i=t.shift(),r=t.shift(),o=t.splice(0,r);e[n]=new i(o)}return e}}let te=[e5,e4,e9];class tt extends eS{constructor(e,t=e){super(C("path",e),t)}array(){return this._array||(this._array=new e3(this.attr("d")))}clear(){return delete this._array,this}height(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new e3(e))}size(e,t){let n=h(this,e,t);return this.attr("d",this.array().size(n.width,n.height))}width(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)}x(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)}y(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)}}tt.prototype.MorphArray=e3,o({Container:{path:L(function(e){return this.put(new tt).plot(e||new e3)})}}),A(tt,"Path");var tn={__proto__:null,array:function(){return this._array||(this._array=new ez(this.attr("points")))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new ez(e))},size:function(e,t){let n=h(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}};class ti extends eS{constructor(e,t=e){super(C("polygon",e),t)}}o({Container:{polygon:L(function(e){return this.put(new ti).plot(e||new ez)})}}),P(ti,ej),P(ti,tn),A(ti,"Polygon");class tr extends eS{constructor(e,t=e){super(C("polyline",e),t)}}o({Container:{polyline:L(function(e){return this.put(new tr).plot(e||new ez)})}}),P(tr,ej),P(tr,tn),A(tr,"Polyline");class to extends eS{constructor(e,t=e){super(C("rect",e),t)}}P(to,{rx:eC,ry:eT}),o({Container:{rect:L(function(e,t){return this.put(new to).size(e,t)})}}),A(to,"Rect");class ts{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){let t=void 0!==e.next?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){let e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}let ta={nextDraw:null,frames:new ts,timeouts:new ts,immediates:new ts,timer:()=>D.window.performance||D.window.Date,transforms:[],frame(e){let t=ta.frames.push({run:e});return null===ta.nextDraw&&(ta.nextDraw=D.window.requestAnimationFrame(ta._draw)),t},timeout(e,t){t=t||0;let n=ta.timer().now()+t,i=ta.timeouts.push({run:e,time:n});return null===ta.nextDraw&&(ta.nextDraw=D.window.requestAnimationFrame(ta._draw)),i},immediate(e){let t=ta.immediates.push(e);return null===ta.nextDraw&&(ta.nextDraw=D.window.requestAnimationFrame(ta._draw)),t},cancelFrame(e){null!=e&&ta.frames.remove(e)},clearTimeout(e){null!=e&&ta.timeouts.remove(e)},cancelImmediate(e){null!=e&&ta.immediates.remove(e)},_draw(e){let t=null,n=ta.timeouts.last();for(;(t=ta.timeouts.shift())&&(e>=t.time?t.run():ta.timeouts.push(t),t!==n););let i=null,r=ta.frames.last();for(;i!==r&&(i=ta.frames.shift());)i.run(e);let o=null;for(;o=ta.immediates.shift();)o();ta.nextDraw=ta.timeouts.first()||ta.frames.first()?D.window.requestAnimationFrame(ta._draw):null}},tu=function(e){let t=e.start,n=e.runner.duration();return{start:t,duration:n,end:t+n,runner:e.runner}},tl=function(){let e=D.window;return(e.performance||e.Date).now()};class tc extends ed{constructor(e=tl){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){let e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){return Math.max(0,...this._runners.map(e=>e.start+e.runner.duration()))}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return null==e?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){let t=this.speed();if(null==e)return this.speed(-t);let n=Math.abs(t);return this.speed(e?-n:n)}schedule(e,t,n){if(null==e)return this._runners.map(tu);let i=0,r=this.getEndTime();if(t=t||0,null==n||"last"===n||"after"===n)i=r;else if("absolute"===n||"start"===n)i=t,t=0;else if("now"===n)i=this._time;else if("relative"===n){let n=this.getRunnerInfoById(e.id);n&&(i=n.start+t,t=0)}else if("with-last"===n){let e=this.getLastRunnerInfo();i=e?e.start:this._time}else throw Error('Invalid value for the "when" parameter');e.unschedule(),e.timeline(this);let o=e.persist(),s={persist:null===o?this._persist:o,start:i+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(s),this._runners.sort((e,t)=>e.start-t.start),this._runnerIds=this._runners.map(e=>e.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return null==e?this._timeSource:(this._timeSource=e,this)}speed(e){return null==e?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return null==e?this._time:(this._time=e,this._continue(!0))}unschedule(e){let t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return(ta.cancelFrame(this._nextFrame),this._nextFrame=null,e)?this._stepImmediate():(this._paused||(this._nextFrame=ta.frame(this._step)),this)}_stepFn(e=!1){let t=this._timeSource(),n=t-this._lastSourceTime;e&&(n=0);let i=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let e=this._runners.length;e--;){let t=this._runners[e],n=t.runner;this._time-t.start<=0&&n.reset()}let r=!1;for(let e=0,t=this._runners.length;e<t;e++){let n=this._runners[e],o=n.runner,s=i,a=this._time-n.start;if(a<=0){r=!0;continue}a<s&&(s=a),o.active()&&(o.step(s).done?!0!==n.persist&&o.duration()-o.time()+this._time+n.persist<this._time&&(o.unschedule(),--e,--t):r=!0)}return r&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}o({Element:{timeline:function(e){return null==e?(this._timeline=this._timeline||new tc,this._timeline):(this._timeline=e,this)}}});class th extends ed{constructor(e){super(),this.id=th.id++,e="function"==typeof(e=null==e?400:e)?new eY(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof e&&e,this._isDeclarative=e instanceof eY,this._stepper=this._isDeclarative?e:new eq,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Z,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,n){let i=1,r=!1,o=0;return t=t??0,n=n||"last","object"!=typeof(e=e??400)||e instanceof eW||(t=e.delay??t,n=e.when??n,r=e.swing||r,i=e.times??i,o=e.wait??o,e=e.duration??400),{duration:e,delay:t,swing:r,times:i,wait:o,when:n}}active(e){return null==e?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,n){let i=th.sanitise(e,t,n),r=new th(i.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new Z,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new eq(e),this}element(e){return null==e?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,n){return"object"==typeof e&&(t=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}loops(e){let t=this._duration+this._wait;if(null==e){let e=Math.floor(this._time/t),n=(this._time-e*t)/this._duration;return Math.min(e+n,this._times)}let n=t*Math.floor(e)+this._duration*(e%1);return this.time(n)}persist(e){return null==e?this._persist:(this._persist=e,this)}position(e){let t,n=this._time,i=this._duration,r=this._wait,o=this._times,s=this._swing,a=this._reverse;if(null==e){let e=function(e){let t=s*Math.floor(e%(2*(r+i))/(r+i)),n=t&&!a||!t&&a;return Math.max(Math.min(e%(r+i)*Math.pow(-1,n)/i+n,1),0)},t=o*(r+i)-r;return n<=0?Math.round(e(1e-5)):n<t?e(n):Math.round(e(t-1e-5))}let u=Math.floor(this.loops()),l=s&&u%2==0;return t=u+(l&&!a||a&&l?e:1-e),this.loops(t)}progress(e){return null==e?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,n,i){return this._queue.push({initialiser:e||ep,runner:t||ep,retarget:n,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=null==e?!this._reverse:e,this}schedule(e,t,n){if(e instanceof tc||(n=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,n),this}step(e){if(!this.enabled)return this;e=null==e?16:e,this._time+=e;let t=this.position(),n=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;let i=this.duration(),r=this._lastTime<=0&&this._time>0,o=this._lastTime<i&&this._time>=i;this._lastTime=this._time,r&&this.fire("start",this);let s=this._isDeclarative;this.done=!s&&!o&&this._time>=i,this._reseted=!1;let a=!1;return(n||s)&&(this._initialise(n),this.transforms=new Z,a=this._run(s?e:t),this.fire("step",this)),this.done=this.done||a&&s,o&&this.fire("finished",this),this}time(e){if(null==e)return this._time;let t=e-this._time;return this.step(t),this}timeline(e){return void 0===e?this._timeline:(this._timeline=e,this)}unschedule(){let e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,n=this._queue.length;t<n;++t){let n=this._queue[t],i=this._isDeclarative||!n.initialised&&e;e=!n.finished,i&&e&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){let e=this.timeline();e&&e.play()}}_run(e){let t=!0;for(let n=0,i=this._queue.length;n<i;++n){let i=this._queue[n],r=i.runner.call(this,e);i.finished=i.finished||!0===r,t=t&&i.finished}return t}_tryRetarget(e,t,n){if(this._history[e]){if(!this._history[e].caller.initialised){let t=this._queue.indexOf(this._history[e].caller);return this._queue.splice(t,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,n):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;let i=this.timeline();return i&&i.play(),!0}return!1}}th.id=0;class td{constructor(e=new Z,t=-1,n=!0){this.transforms=e,this.id=t,this.done=n}clearTransformsFromQueue(){}}P([th,td],{mergeWith(e){return new td(e.transforms.lmultiply(this.transforms),e.id)}});let tp=(e,t)=>e.lmultiplyO(t),tf=e=>e.transforms;function tm(){let e=this._transformationRunners.runners.map(tf).reduce(tp,new Z);this.transform(e),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class tg{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;let t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){let t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new td).forEach(e=>e.clearTransformsFromQueue()),this}edit(e,t){let n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){let n=this.runners[t];if(!e||!n.done||!e.done||n._timeline&&n._timeline._runnerIds.includes(n.id)||e._timeline&&e._timeline._runnerIds.includes(e.id))e=n;else{this.remove(n.id);let i=n.mergeWith(e);this.edit(e.id,i),e=i,--t}}return this}remove(e){let t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}o({Element:{animate(e,t,n){let i=th.sanitise(e,t,n),r=this.timeline();return new th(i.duration).loop(i).element(this).timeline(r.play()).schedule(i.delay,i.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter(t=>t.id<=e.id).map(tf).reduce(tp,new Z)},_addRunner(e){this._transformationRunners.add(e),ta.cancelImmediate(this._frameId),this._frameId=ta.immediate(tm.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=new tg().add(new td(new Z(this))))}}}),P(th,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,n){if("string"==typeof t)return this.styleAttr(e,{[t]:n});let i=t;if(this._tryRetarget(e,i))return this;let r=new e8(this._stepper).to(i),o=Object.keys(i);return this.queue(function(){r=r.from(this.element()[e](o))},function(t){return this.element()[e](r.at(t).valueOf()),r.done()},function(t){let n,s=Object.keys(t),a=(n=o,s.filter(e=>!n.includes(e)));if(a.length){let t=this.element()[e](a),n=new e9(r.from()).valueOf();Object.assign(n,t),r.from(n)}let u=new e9(r.to()).valueOf();Object.assign(u,t),r.to(u),o=s,i=t}),this._rememberMorpher(e,r),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let n=new e8(this._stepper).to(new eg(e));return this.queue(function(){n=n.from(this.element().zoom())},function(e){return this.element().zoom(n.at(e),t),n.done()},function(e,i){t=i,n.to(e)}),this._rememberMorpher("zoom",n),this},transform(e,t,n){let i,r,o,s,a;if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;let u=Z.isMatrixLike(e);n=null!=e.affine?e.affine:null!=n?n:!u;let l=new e8(this._stepper).type(n?e4:Z);return this.queue(function(){r=r||this.element(),i=i||d(e,r),a=new Z(t?void 0:r),r._addRunner(this),t||r._clearTransformRunnersBefore(this)},function(c){t||this.clearTransform();let{x:h,y:d}=new K(i).transform(r._currentTransform(this)),p=new Z({...e,origin:[h,d]}),f=this._isDeclarative&&o?o:a;if(n){p=p.decompose(h,d),f=f.decompose(h,d);let e=p.rotate,t=f.rotate,n=[e-360,e,e+360],i=n.map(e=>Math.abs(e-t)),r=Math.min(...i),o=i.indexOf(r);p.rotate=n[o]}t&&(u||(p.rotate=e.rotate||0),this._isDeclarative&&s&&(f.rotate=s)),l.from(f),l.to(p);let m=l.at(c);return s=m.rotate,o=new Z(m),this.addTransform(o),r._addRunner(this),l.done()},function(t){(t.origin||"center").toString()!==(e.origin||"center").toString()&&(i=d(t,r)),e={...t,origin:i}},!0),this._isDeclarative&&this._rememberMorpher("transform",l),this},x(e){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},ax(e){return this._queueNumber("ax",e)},ay(e){return this._queueNumber("ay",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new eg(t),this._tryRetarget(e,t))return this;let n=new e8(this._stepper).to(t),i=null;return this.queue(function(){i=this.element()[e](),n.from(i),n.to(i+t)},function(t){return this.element()[e](n.at(t)),n.done()},function(e){n.to(i+new eg(e))}),this._rememberMorpher(e,n),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;let n=new e8(this._stepper).to(t);return this.queue(function(){n.from(this.element()[e]())},function(t){return this.element()[e](n.at(t)),n.done()}),this._rememberMorpher(e,n),this},_queueNumber(e,t){return this._queueObject(e,new eg(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},amove(e,t){return this.ax(e).ay(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let n;return e&&t||(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,n,i){if(4==arguments.length)return this.plot([e,t,n,i]);if(this._tryRetarget("plot",e))return this;let r=new e8(this._stepper).type(this._element.MorphArray).to(e);return this.queue(function(){r.from(this._element.array())},function(e){return this._element.plot(r.at(e)),r.done()}),this._rememberMorpher("plot",r),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,n,i){return this._queueObject("viewbox",new et(e,t,n,i))},update(e){return"object"!=typeof e?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset),this)}}),P(th,{rx:eC,ry:eT,from:eI,to:eN}),A(th,"Runner");class ty extends ex{constructor(e,t=e){super(C("svg",e),t),this.namespace()}defs(){return this.isRoot()?T(this.node.querySelector("defs"))||this.put(new ew):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof D.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:g,version:"1.1"}).attr("xmlns:xlink",v,y):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,y).attr("xmlns:svgjs",null,y)}root(){return this.isRoot()?this:super.root()}}o({Container:{nested:L(function(){return this.put(new ty)})}}),A(ty,"Svg",!0);class tv extends ex{constructor(e,t=e){super(C("symbol",e),t)}}o({Container:{symbol:L(function(){return this.put(new tv)})}}),A(tv,"Symbol");var tD={__proto__:null,amove:function(e,t){return this.ax(e).ay(t)},ax:function(e){return this.attr("x",e)},ay:function(e){return this.attr("y",e)},build:function(e){return this._build=!!e,this},center:function(e,t,n=this.bbox()){return this.cx(e,n).cy(t,n)},cx:function(e,t=this.bbox()){return null==e?t.cx:this.attr("x",this.attr("x")+e-t.cx)},cy:function(e,t=this.bbox()){return null==e?t.cy:this.attr("y",this.attr("y")+e-t.cy)},length:function(){return this.node.getComputedTextLength()},move:function(e,t,n=this.bbox()){return this.x(e,n).y(t,n)},plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(D.document.createTextNode(e)),this},x:function(e,t=this.bbox()){return null==e?t.x:this.attr("x",this.attr("x")+e-t.x)},y:function(e,t=this.bbox()){return null==e?t.y:this.attr("y",this.attr("y")+e-t.y)}};class tb extends eS{constructor(e,t=e){super(C("text",e),t),this.dom.leading=this.dom.leading??new eg(1.3),this._rebuild=!0,this._build=!1}leading(e){return null==e?this.dom.leading:(this.dom.leading=new eg(e),this.rebuild())}rebuild(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){let e=this,t=0,n=this.dom.leading;this.each(function(i){if(f(this.node))return;let r=n*new eg(D.window.getComputedStyle(this.node).getPropertyValue("font-size"));this.dom.newLined&&(this.attr("x",e.attr("x")),"\n"===this.text()?t+=r:(this.attr("dy",i?r+t:0),t=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new eg(e.leading||1.3),this}writeDataToDom(){return m(this,this.dom,{leading:1.3}),this}text(e){if(void 0===e){let t=this.node.childNodes,n=0;e="";for(let i=0,r=t.length;i<r;++i){if("textPath"===t[i].nodeName||f(t[i])){0===i&&(n=i+1);continue}i!==n&&3!==t[i].nodeType&&!0===T(t[i]).dom.newLined&&(e+="\n"),e+=t[i].textContent}return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{e=(e+"").split("\n");for(let t=0,n=e.length;t<n;t++)this.newLine(e[t])}return this.build(!1).rebuild()}}P(tb,tD),o({Container:{text:L(function(e=""){return this.put(new tb).text(e)}),plain:L(function(e=""){return this.put(new tb).plain(e)})}}),A(tb,"Text");class tE extends eS{constructor(e,t=e){super(C("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;let e=this.parent();if(!(e instanceof tb))return this;let t=e.index(this),n=D.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=e.dom.leading*new eg(n);return this.dy(t?i:0).attr("x",e.x())}text(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}P(tE,tD),o({Tspan:{tspan:L(function(e=""){let t=new tE;return this._build||this.clear(),this.put(t).text(e)})},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}}),A(tE,"Tspan");class tx extends eS{constructor(e,t=e){super(C("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new eg(e).divide(2))}}P(tx,{x:eF,y:eA,cx:ek,cy:e_,width:eP,height:eL}),o({Container:{circle:L(function(e=0){return this.put(new tx).size(e).move(0,0)})}}),A(tx,"Circle");class tw extends ex{constructor(e,t=e){super(C("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return eo("svg [clip-path*="+this.id()+"]")}}o({Container:{clip:L(function(){return this.defs().put(new tw)})},Element:{clipper(){return this.reference("clip-path")},clipWith(e){let t=e instanceof tw?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}}),A(tw,"ClipPath");class tS extends eb{constructor(e,t=e){super(C("foreignObject",e),t)}}o({Container:{foreignObject:L(function(e,t){return this.put(new tS).size(e,t)})}}),A(tS,"ForeignObject");var tC={__proto__:null,dmove:function(e,t){return this.children().forEach(n=>{let i;try{i=n.node instanceof D.window.SVGSVGElement?new et(n.attr(["x","y","width","height"])):n.bbox()}catch(e){return}let r=new Z(n),o=r.translate(e,t).transform(r.inverse()),s=new K(i.x,i.y).transform(o);n.move(s.x,s.y)}),this},dx:function(e){return this.dmove(e,0)},dy:function(e){return this.dmove(0,e)},height:function(e,t=this.bbox()){return null==e?t.height:this.size(t.width,e,t)},move:function(e=0,t=0,n=this.bbox()){let i=e-n.x,r=t-n.y;return this.dmove(i,r)},size:function(e,t,n=this.bbox()){let i=h(this,e,t,n),r=i.width/n.width,o=i.height/n.height;return this.children().forEach(e=>{let t=new K(n).transform(new Z(e).inverse());e.scale(r,o,t.x,t.y)}),this},width:function(e,t=this.bbox()){return null==e?t.width:this.size(e,t.height,t)},x:function(e,t=this.bbox()){return null==e?t.x:this.move(e,t.y,t)},y:function(e,t=this.bbox()){return null==e?t.y:this.move(t.x,e,t)}};class tT extends ex{constructor(e,t=e){super(C("g",e),t)}}P(tT,tC),o({Container:{group:L(function(){return this.put(new tT)})}}),A(tT,"G");class tF extends ex{constructor(e,t=e){super(C("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,v)}}P(tF,tC),o({Container:{link:L(function(e){return this.put(new tF).to(e)})},Element:{unlink(){let e=this.linker();if(!e)return this;let t=e.parent();if(!t)return this.remove();let n=t.index(e);return t.add(this,n),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new tF,this.wrap(t)),"function"==typeof e?e.call(t,t):t.to(e),this},linker(){let e=this.parent();return e&&"a"===e.node.nodeName.toLowerCase()?e:null}}}),A(tF,"A");class tA extends ex{constructor(e,t=e){super(C("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return eo("svg [mask*="+this.id()+"]")}}o({Container:{mask:L(function(){return this.defs().put(new tA)})},Element:{masker(){return this.reference("mask")},maskWith(e){let t=e instanceof tA?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}}),A(tA,"Mask");class tk extends eb{constructor(e,t=e){super(C("stop",e),t)}update(e){return("number"==typeof e||e instanceof eg)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new eg(e.offset)),this}}o({Gradient:{stop:function(e,t,n){return this.put(new tk).update(e,t,n)}}}),A(tk,"Stop");class t_ extends eb{constructor(e,t=e){super(C("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,n={}){return this.rule("@font-face",{fontFamily:e,src:t,...n})}rule(e,t){return this.addText(function(e,t){if(!e)return"";if(!t)return e;let n=e+"{";for(let e in t)n+=e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})+":"+t[e]+";";return n+"}"}(e,t))}}o("Dom",{style(e,t){return this.put(new t_).rule(e,t)},fontface(e,t,n){return this.put(new t_).font(e,t,n)}}),A(t_,"Style");class tP extends tb{constructor(e,t=e){super(C("textPath",e),t)}array(){let e=this.track();return e?e.array():null}plot(e){let t=this.track(),n=null;return t&&(n=t.plot(e)),null==e?n:this}track(){return this.reference("href")}}o({Container:{textPath:L(function(e,t){return e instanceof tb||(e=this.text(e)),e.path(t)})},Text:{path:L(function(e,t=!0){let n,i=new tP;if(e instanceof tt||(e=this.defs().path(e)),i.attr("href","#"+e,v),t)for(;n=this.node.firstChild;)i.node.appendChild(n);return this.put(i)}),textPath(){return this.findOne("textPath")}},Path:{text:L(function(e){return e instanceof tb||(e=new tb().addTo(this.parent()).text(e)),e.path(this)}),targets(){return eo("svg textPath").filter(e=>(e.attr("href")||"").includes(this.id()))}}}),tP.prototype.MorphArray=e3,A(tP,"TextPath");class tL extends eS{constructor(e,t=e){super(C("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,v)}}o({Container:{use:L(function(e,t){return this.put(new tL).use(e,t)})}}),A(tL,"Use");let tO=S;P([ty,tv,eU,eB,eG],s("viewbox")),P([eV,tr,ti,tt],s("marker")),P(tb,s("Text")),P(tt,s("Path")),P(ew,s("Defs")),P([tb,tE],s("Tspan")),P([to,eO,eM,th],s("radius")),P(ed,s("EventTarget")),P(eD,s("Dom")),P(eb,s("Element")),P(eS,s("Shape")),P([ex,eR],s("Container")),P(eM,s("Gradient")),P(th,s("Runner")),ei.extend([...new Set(r)]),function(e=[]){te.push(...[].concat(e))}([eg,X,et,Z,em,ez,e3,K]),P(te,{to(e){return new e8().type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,n,i,r){return this.fromArray(e.map(function(e,o){return i.step(e,t[o],n,r[o],r)}))}})}),F("33Mmf",function(e,n){function i(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n	 It performs no action other than printing this message.\n	 Please avoid using it as it will be completely removed in the future")}t(e.exports,"clearCache",function(){return i}),t(e.exports,"Parser",function(){return r}),t(e.exports,"VERSION",function(){return T("eMKuy").VERSION}),t(e.exports,"CstParser",function(){return T("5qjkp").CstParser}),t(e.exports,"EmbeddedActionsParser",function(){return T("5qjkp").EmbeddedActionsParser}),t(e.exports,"ParserDefinitionErrorType",function(){return T("5qjkp").ParserDefinitionErrorType}),t(e.exports,"EMPTY_ALT",function(){return T("5qjkp").EMPTY_ALT}),t(e.exports,"Lexer",function(){return T("eSJX3").Lexer}),t(e.exports,"LexerDefinitionErrorType",function(){return T("eSJX3").LexerDefinitionErrorType}),t(e.exports,"createToken",function(){return T("hvAWv").createToken}),t(e.exports,"createTokenInstance",function(){return T("hvAWv").createTokenInstance}),t(e.exports,"EOF",function(){return T("hvAWv").EOF}),t(e.exports,"tokenLabel",function(){return T("hvAWv").tokenLabel}),t(e.exports,"tokenMatcher",function(){return T("hvAWv").tokenMatcher}),t(e.exports,"tokenName",function(){return T("hvAWv").tokenName}),t(e.exports,"defaultGrammarResolverErrorProvider",function(){return T("hUgka").defaultGrammarResolverErrorProvider}),t(e.exports,"defaultGrammarValidatorErrorProvider",function(){return T("hUgka").defaultGrammarValidatorErrorProvider}),t(e.exports,"defaultParserErrorProvider",function(){return T("hUgka").defaultParserErrorProvider}),t(e.exports,"EarlyExitException",function(){return T("czA2c").EarlyExitException}),t(e.exports,"isRecognitionException",function(){return T("czA2c").isRecognitionException}),t(e.exports,"MismatchedTokenException",function(){return T("czA2c").MismatchedTokenException}),t(e.exports,"NotAllInputParsedException",function(){return T("czA2c").NotAllInputParsedException}),t(e.exports,"NoViableAltException",function(){return T("czA2c").NoViableAltException}),t(e.exports,"defaultLexerErrorProvider",function(){return T("lMxRC").defaultLexerErrorProvider}),t(e.exports,"Alternation",function(){return T("bbUHG").Alternation}),t(e.exports,"Alternative",function(){return T("bbUHG").Alternative}),t(e.exports,"NonTerminal",function(){return T("bbUHG").NonTerminal}),t(e.exports,"Option",function(){return T("bbUHG").Option}),t(e.exports,"Repetition",function(){return T("bbUHG").Repetition}),t(e.exports,"RepetitionMandatory",function(){return T("bbUHG").RepetitionMandatory}),t(e.exports,"RepetitionMandatoryWithSeparator",function(){return T("bbUHG").RepetitionMandatoryWithSeparator}),t(e.exports,"RepetitionWithSeparator",function(){return T("bbUHG").RepetitionWithSeparator}),t(e.exports,"Rule",function(){return T("bbUHG").Rule}),t(e.exports,"Terminal",function(){return T("bbUHG").Terminal}),t(e.exports,"serializeGrammar",function(){return T("bbUHG").serializeGrammar}),t(e.exports,"serializeProduction",function(){return T("bbUHG").serializeProduction}),t(e.exports,"GAstVisitor",function(){return T("1bKra").GAstVisitor}),t(e.exports,"assignOccurrenceIndices",function(){return T("ciB86").assignOccurrenceIndices}),t(e.exports,"resolveGrammar",function(){return T("ciB86").resolveGrammar}),t(e.exports,"validateGrammar",function(){return T("ciB86").validateGrammar}),t(e.exports,"createSyntaxDiagramsCode",function(){return T("IrQ3e").createSyntaxDiagramsCode}),t(e.exports,"generateParserFactory",function(){return T("an09V").generateParserFactory}),t(e.exports,"generateParserModule",function(){return T("an09V").generateParserModule}),T("eMKuy"),T("5qjkp"),T("eSJX3"),T("hvAWv"),T("hUgka"),T("czA2c"),T("lMxRC"),T("bbUHG"),T("1bKra"),T("ciB86"),T("IrQ3e"),T("an09V");var r=function(){throw Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.	\nSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_7-0-0")}}),F("eMKuy",function(e,n){t(e.exports,"VERSION",function(){return i});var i="7.1.1"}),F("5qjkp",function(e,n){t(e.exports,"END_OF_FILE",function(){return x}),t(e.exports,"DEFAULT_PARSER_CONFIG",function(){return w}),t(e.exports,"DEFAULT_RULE_CONFIG",function(){return S}),t(e.exports,"ParserDefinitionErrorType",function(){return o}),t(e.exports,"EMPTY_ALT",function(){return C}),t(e.exports,"CstParser",function(){return A}),t(e.exports,"EmbeddedActionsParser",function(){return k});var i,r,o,s=T("5mLYn"),a=T("b8PtM"),u=T("hvAWv"),l=T("hUgka"),c=T("ciB86"),h=T("8VG34"),d=T("32FQp"),p=T("8zxTb"),f=T("awxar"),m=T("lzzFw"),g=T("1gH4Q"),y=T("dBSuc"),v=T("e17bs"),D=T("hsTas"),b=T("dBicR"),E=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),x=(0,u.createTokenInstance)(u.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(x);var w=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:l.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),S=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function C(e){return void 0===e&&(e=void 0),function(){return e}}(r=o||(o={}))[r.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",r[r.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",r[r.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",r[r.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",r[r.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",r[r.LEFT_RECURSION=5]="LEFT_RECURSION",r[r.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",r[r.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",r[r.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",r[r.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",r[r.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",r[r.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",r[r.TOO_MANY_ALTS=12]="TOO_MANY_ALTS";var F=function(){function e(e,t){if(this.definitionErrors=[],this.selfAnalysisDone=!1,this.initErrorHandler(t),this.initLexerAdapter(),this.initLooksAhead(t),this.initRecognizerEngine(e,t),this.initRecoverable(t),this.initTreeBuilder(t),this.initContentAssist(),this.initGastRecorder(t),this.initPerformanceTracer(t),(0,s.has)(t,"ignoredIssues"))throw Error("The <ignoredIssues> IParserConfig property has been deprecated.\n	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n	See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n	For further details.");this.skipValidations=(0,s.has)(t,"skipValidations")?t.skipValidations:w.skipValidations}return e.performSelfAnalysis=function(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},e.prototype.performSelfAnalysis=function(){var t=this;this.TRACE_INIT("performSelfAnalysis",function(){t.selfAnalysisDone=!0;var n=t.className;t.TRACE_INIT("toFastProps",function(){(0,s.toFastProperties)(t)}),t.TRACE_INIT("Grammar Recording",function(){try{t.enableRecording(),(0,s.forEach)(t.definedRulesNames,function(e){var n=t[e].originalGrammarAction,i=void 0;t.TRACE_INIT(e+" Rule",function(){i=t.topLevelRuleRecord(e,n)}),t.gastProductionsCache[e]=i})}finally{t.disableRecording()}});var i=[];if(t.TRACE_INIT("Grammar Resolving",function(){i=(0,c.resolveGrammar)({rules:(0,s.values)(t.gastProductionsCache)}),t.definitionErrors.push.apply(t.definitionErrors,i)}),t.TRACE_INIT("Grammar Validations",function(){if((0,s.isEmpty)(i)&&!1===t.skipValidations){var e=(0,c.validateGrammar)({rules:(0,s.values)(t.gastProductionsCache),maxLookahead:t.maxLookahead,tokenTypes:(0,s.values)(t.tokensMap),errMsgProvider:l.defaultGrammarValidatorErrorProvider,grammarName:n});t.definitionErrors.push.apply(t.definitionErrors,e)}}),(0,s.isEmpty)(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",function(){var e=(0,a.computeAllProdsFollows)((0,s.values)(t.gastProductionsCache));t.resyncFollows=e}),t.TRACE_INIT("ComputeLookaheadFunctions",function(){t.preComputeLookaheadFunctions((0,s.values)(t.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,s.isEmpty)(t.definitionErrors))throw Error("Parser Definition Errors detected:\n "+(0,s.map)(t.definitionErrors,function(e){return e.message}).join("\n-------------------------------\n"))})},e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e}();(0,s.applyMixins)(F,[h.Recoverable,d.LooksAhead,p.TreeBuilder,f.LexerAdapter,g.RecognizerEngine,m.RecognizerApi,y.ErrorHandler,v.ContentAssist,D.GastRecorder,b.PerformanceTracer]);var A=function(e){function t(t,n){void 0===n&&(n=w);var i=(0,s.cloneObj)(n);return i.outputCst=!0,e.call(this,t,i)||this}return E(t,e),t}(F),k=function(e){function t(t,n){void 0===n&&(n=w);var i=(0,s.cloneObj)(n);return i.outputCst=!1,e.call(this,t,i)||this}return E(t,e),t}(F)}),F("5mLYn",function(e,n){function i(e){return e&&0===e.length}function r(e){return null==e?[]:Object.keys(e)}function o(e){for(var t=[],n=Object.keys(e),i=0;i<n.length;i++)t.push(e[n[i]]);return t}function s(e,t){for(var n=[],i=r(e),o=0;o<i.length;o++){var s=i[o];n.push(t.call(null,e[s],s))}return n}function a(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t.call(null,e[i],i));return n}function u(e){return i(e)?void 0:e[0]}function l(e){var t=e&&e.length;return t?e[t-1]:void 0}function c(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else if(_(e))for(var i=r(e),n=0;n<i.length;n++){var o=i[n],s=e[o];t.call(null,s,o)}else throw Error("non exhaustive match")}function h(e){return"string"==typeof e}function d(e){return void 0===e}function p(e){return e instanceof Function}function f(e,t){return void 0===t&&(t=1),e.slice(t,e.length)}function m(e,t){return void 0===t&&(t=1),e.slice(0,e.length-t)}function g(e,t){var n=[];if(Array.isArray(e))for(var i=0;i<e.length;i++){var r=e[i];t.call(null,r)&&n.push(r)}return n}function y(e,t){return g(e,function(e){return!t(e)})}function v(e,t){for(var n=Object.keys(e),i={},r=0;r<n.length;r++){var o=n[r],s=e[o];t(s)&&(i[o]=s)}return i}function D(e,t){return!!_(e)&&e.hasOwnProperty(t)}function b(e,t){return void 0!==w(e,function(e){return e===t})}function E(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function x(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function w(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t.call(null,i))return i}}function S(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];t.call(null,r)&&n.push(r)}return n}function C(e,t,n){for(var i=Array.isArray(e),s=i?e:o(e),a=i?[]:r(e),u=n,l=0;l<s.length;l++)u=t.call(null,u,s[l],i?l:a[l]);return u}function T(e){return y(e,function(e){return null==e})}function F(e,t){void 0===t&&(t=function(e){return e});var n=[];return C(e,function(e,i){var r=t(i);return b(n,r)?e:(n.push(r),e.concat(i))},[])}function A(e){return Array.isArray(e)}function k(e){return e instanceof RegExp}function _(e){return e instanceof Object}function P(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function L(e,t){return y(e,function(e){return b(t,e)})}function O(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function R(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return -1}function I(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0;i<t.length;i++)for(var o=t[i],s=r(o),a=0;a<s.length;a++){var u=s[a];e[u]=o[u]}return e}function N(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0;i<t.length;i++)for(var o=t[i],s=r(o),a=0;a<s.length;a++){var u=s[a];D(e,u)||(e[u]=o[u])}return e}function M(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return N.apply(null,[{}].concat(e))}function B(e,t){var n={};return c(e,function(e){var i=t(e),r=n[i];r?r.push(e):n[i]=[e]}),n}function U(e,t){for(var n=x(e),i=r(t),o=0;o<i.length;o++){var s=i[o],a=t[s];n[s]=a}return n}function z(){}function j(e){return e}function V(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(void 0!==i?i:void 0)}return t}function G(e){console&&console.error&&console.error("Error: "+e)}function $(e){console&&console.warn&&console.warn("Warning: "+e)}function H(){return"function"==typeof Map}function W(e,t){t.forEach(function(t){var n=t.prototype;Object.getOwnPropertyNames(n).forEach(function(i){if("constructor"!==i){var r=Object.getOwnPropertyDescriptor(n,i);r&&(r.get||r.set)?Object.defineProperty(e.prototype,i,r):e.prototype[i]=t.prototype[i]}})})}function q(e){function t(){}t.prototype=e;var n=new t;function i(){return typeof n.bar}return i(),i(),e}function Y(e){return e[e.length-1]}function X(e){var t=new Date().getTime(),n=e();return{time:new Date().getTime()-t,value:n}}t(e.exports,"isEmpty",function(){return i}),t(e.exports,"keys",function(){return r}),t(e.exports,"values",function(){return o}),t(e.exports,"mapValues",function(){return s}),t(e.exports,"map",function(){return a}),t(e.exports,"flatten",function(){return function e(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?n=n.concat(e(r)):n.push(r)}return n}}),t(e.exports,"first",function(){return u}),t(e.exports,"last",function(){return l}),t(e.exports,"forEach",function(){return c}),t(e.exports,"isObject",function(){return _}),t(e.exports,"isString",function(){return h}),t(e.exports,"isUndefined",function(){return d}),t(e.exports,"isFunction",function(){return p}),t(e.exports,"drop",function(){return f}),t(e.exports,"dropRight",function(){return m}),t(e.exports,"filter",function(){return g}),t(e.exports,"reject",function(){return y}),t(e.exports,"pick",function(){return v}),t(e.exports,"has",function(){return D}),t(e.exports,"contains",function(){return b}),t(e.exports,"find",function(){return w}),t(e.exports,"cloneArr",function(){return E}),t(e.exports,"cloneObj",function(){return x}),t(e.exports,"findAll",function(){return S}),t(e.exports,"reduce",function(){return C}),t(e.exports,"compact",function(){return T}),t(e.exports,"uniq",function(){return F}),t(e.exports,"isArray",function(){return A}),t(e.exports,"isRegExp",function(){return k}),t(e.exports,"every",function(){return P}),t(e.exports,"difference",function(){return L}),t(e.exports,"some",function(){return O}),t(e.exports,"indexOf",function(){return R}),t(e.exports,"assign",function(){return I}),t(e.exports,"defaults",function(){return M}),t(e.exports,"groupBy",function(){return B}),t(e.exports,"merge",function(){return U}),t(e.exports,"NOOP",function(){return z}),t(e.exports,"IDENTITY",function(){return j}),t(e.exports,"packArray",function(){return V}),t(e.exports,"PRINT_ERROR",function(){return G}),t(e.exports,"PRINT_WARNING",function(){return $}),t(e.exports,"isES2015MapSupported",function(){return H}),t(e.exports,"applyMixins",function(){return W}),t(e.exports,"toFastProperties",function(){return q}),t(e.exports,"peek",function(){return Y}),t(e.exports,"timer",function(){return X})}),F("b8PtM",function(e,n){t(e.exports,"computeAllProdsFollows",function(){return h});var i,r=T("ip5ou"),o=T("6BL7Z"),s=T("5mLYn"),a=T("kWjNL"),u=T("bbUHG"),l=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t){var n=e.call(this)||this;return n.topProd=t,n.follows={},n}return l(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(e,t,n){},t.prototype.walkProdRef=function(e,t,n){var i,r,s=(i=e.referencedRule,r=e.idx,i.name+r+a.IN+this.topProd.name),l=t.concat(n),c=new(0,u.Alternative)({definition:l}),h=(0,o.first)(c);this.follows[s]=h},t}(r.RestWalker);function h(e){var t={};return(0,s.forEach)(e,function(e){var n=new c(e).startWalking();(0,s.assign)(t,n)}),t}}),F("ip5ou",function(e,n){t(e.exports,"RestWalker",function(){return o});var i=T("5mLYn"),r=T("bbUHG"),o=function(){function e(){}return e.prototype.walk=function(e,t){var n=this;void 0===t&&(t=[]),(0,i.forEach)(e.definition,function(o,s){var a=(0,i.drop)(e.definition,s+1);if(o instanceof r.NonTerminal)n.walkProdRef(o,a,t);else if(o instanceof r.Terminal)n.walkTerminal(o,a,t);else if(o instanceof r.Alternative)n.walkFlat(o,a,t);else if(o instanceof r.Option)n.walkOption(o,a,t);else if(o instanceof r.RepetitionMandatory)n.walkAtLeastOne(o,a,t);else if(o instanceof r.RepetitionMandatoryWithSeparator)n.walkAtLeastOneSep(o,a,t);else if(o instanceof r.RepetitionWithSeparator)n.walkManySep(o,a,t);else if(o instanceof r.Repetition)n.walkMany(o,a,t);else if(o instanceof r.Alternation)n.walkOr(o,a,t);else throw Error("non exhaustive match")})},e.prototype.walkTerminal=function(e,t,n){},e.prototype.walkProdRef=function(e,t,n){},e.prototype.walkFlat=function(e,t,n){var i=t.concat(n);this.walk(e,i)},e.prototype.walkOption=function(e,t,n){var i=t.concat(n);this.walk(e,i)},e.prototype.walkAtLeastOne=function(e,t,n){var i=[new(0,r.Option)({definition:e.definition})].concat(t,n);this.walk(e,i)},e.prototype.walkAtLeastOneSep=function(e,t,n){var i=s(e,t,n);this.walk(e,i)},e.prototype.walkMany=function(e,t,n){var i=[new(0,r.Option)({definition:e.definition})].concat(t,n);this.walk(e,i)},e.prototype.walkManySep=function(e,t,n){var i=s(e,t,n);this.walk(e,i)},e.prototype.walkOr=function(e,t,n){var o=this,s=t.concat(n);(0,i.forEach)(e.definition,function(e){var t=new(0,r.Alternative)({definition:[e]});o.walk(t,s)})},e}();function s(e,t,n){return[new(0,r.Option)({definition:[new(0,r.Terminal)({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}}),F("bbUHG",function(e,n){t(e.exports,"AbstractProduction",function(){return a}),t(e.exports,"NonTerminal",function(){return u}),t(e.exports,"Rule",function(){return l}),t(e.exports,"Alternative",function(){return c}),t(e.exports,"Option",function(){return h}),t(e.exports,"RepetitionMandatory",function(){return d}),t(e.exports,"RepetitionMandatoryWithSeparator",function(){return p}),t(e.exports,"Repetition",function(){return f}),t(e.exports,"RepetitionWithSeparator",function(){return m}),t(e.exports,"Alternation",function(){return g}),t(e.exports,"Terminal",function(){return y}),t(e.exports,"serializeGrammar",function(){return v}),t(e.exports,"serializeProduction",function(){return D});var i,r=T("5mLYn"),o=T("hvAWv"),s=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){function e(e){this._definition=e}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),e.prototype.accept=function(e){e.visit(this),(0,r.forEach)(this.definition,function(t){t.accept(e)})},e}(),u=function(e){function t(t){var n=e.call(this,[])||this;return n.idx=1,(0,r.assign)(n,(0,r.pick)(t,function(e){return void 0!==e})),n}return s(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(e){},enumerable:!1,configurable:!0}),t.prototype.accept=function(e){e.visit(this)},t}(a),l=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.orgText="",(0,r.assign)(n,(0,r.pick)(t,function(e){return void 0!==e})),n}return s(t,e),t}(a),c=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.ignoreAmbiguities=!1,(0,r.assign)(n,(0,r.pick)(t,function(e){return void 0!==e})),n}return s(t,e),t}(a),h=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,r.assign)(n,(0,r.pick)(t,function(e){return void 0!==e})),n}return s(t,e),t}(a),d=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,r.assign)(n,(0,r.pick)(t,function(e){return void 0!==e})),n}return s(t,e),t}(a),p=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,r.assign)(n,(0,r.pick)(t,function(e){return void 0!==e})),n}return s(t,e),t}(a),f=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,r.assign)(n,(0,r.pick)(t,function(e){return void 0!==e})),n}return s(t,e),t}(a),m=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,r.assign)(n,(0,r.pick)(t,function(e){return void 0!==e})),n}return s(t,e),t}(a),g=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,(0,r.assign)(n,(0,r.pick)(t,function(e){return void 0!==e})),n}return s(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),t}(a),y=function(){function e(e){this.idx=1,(0,r.assign)(this,(0,r.pick)(e,function(e){return void 0!==e}))}return e.prototype.accept=function(e){e.visit(this)},e}();function v(e){return(0,r.map)(e,D)}function D(e){function t(e){return(0,r.map)(e,D)}if(e instanceof u)return{type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};if(e instanceof c)return{type:"Alternative",definition:t(e.definition)};if(e instanceof h)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof d)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof p)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:D(new y({terminalType:e.separator})),definition:t(e.definition)};else if(e instanceof m)return{type:"RepetitionWithSeparator",idx:e.idx,separator:D(new y({terminalType:e.separator})),definition:t(e.definition)};else if(e instanceof f)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};else if(e instanceof g)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};else if(e instanceof y){var n={type:"Terminal",name:e.terminalType.name,label:(0,o.tokenLabel)(e.terminalType),idx:e.idx},i=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=(0,r.isRegExp)(i)?i.source:i),n}else if(e instanceof l)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};else throw Error("non exhaustive match")}}),F("hvAWv",function(e,n){t(e.exports,"tokenLabel",function(){return s}),t(e.exports,"hasTokenLabel",function(){return u}),t(e.exports,"tokenName",function(){return a}),t(e.exports,"createToken",function(){return y}),t(e.exports,"EOF",function(){return D}),t(e.exports,"createTokenInstance",function(){return b}),t(e.exports,"tokenMatcher",function(){return E});var i=T("5mLYn"),r=T("eSJX3"),o=T("6UThq");function s(e){return u(e)?e.LABEL:e.name}function a(e){return e.name}function u(e){return(0,i.isString)(e.LABEL)&&""!==e.LABEL}var l="categories",c="label",h="group",d="push_mode",p="pop_mode",f="longer_alt",m="line_breaks",g="start_chars_hint";function y(e){return v(e)}function v(e){var t=e.pattern,n={};if(n.name=e.name,(0,i.isUndefined)(t)||(n.PATTERN=t),(0,i.has)(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";return(0,i.has)(e,l)&&(n.CATEGORIES=e[l]),(0,o.augmentTokenTypes)([n]),(0,i.has)(e,c)&&(n.LABEL=e[c]),(0,i.has)(e,h)&&(n.GROUP=e[h]),(0,i.has)(e,p)&&(n.POP_MODE=e[p]),(0,i.has)(e,d)&&(n.PUSH_MODE=e[d]),(0,i.has)(e,f)&&(n.LONGER_ALT=e[f]),(0,i.has)(e,m)&&(n.LINE_BREAKS=e[m]),(0,i.has)(e,g)&&(n.START_CHARS_HINT=e[g]),n}var D=v({name:"EOF",pattern:r.Lexer.NA});function b(e,t,n,i,r,o,s,a){return{image:t,startOffset:n,endOffset:i,startLine:r,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function E(e,t){return(0,o.tokenStructuredMatcher)(e,t)}(0,o.augmentTokenTypes)([D])}),F("eSJX3",function(e,n){t(e.exports,"LexerDefinitionErrorType",function(){return r}),t(e.exports,"Lexer",function(){return h});var i,r,o=T("22jE1"),s=T("5mLYn"),a=T("6UThq"),u=T("lMxRC"),l=T("8VuTk");(i=r||(r={}))[i.MISSING_PATTERN=0]="MISSING_PATTERN",i[i.INVALID_PATTERN=1]="INVALID_PATTERN",i[i.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",i[i.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",i[i.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",i[i.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",i[i.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",i[i.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",i[i.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",i[i.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",i[i.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",i[i.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",i[i.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",i[i.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",i[i.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",i[i.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",i[i.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK";var c={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:u.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1};Object.freeze(c);var h=function(){function e(e,t){var n=this;if(void 0===t&&(t=c),this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=(0,s.merge)(c,t);var i=this.config.traceInitPerf;!0===i?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof i&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var i,r=!0;n.TRACE_INIT("Lexer Config handling",function(){if(n.config.lineTerminatorsPattern===c.lineTerminatorsPattern)n.config.lineTerminatorsPattern=o.LineTerminatorOptimizedTester;else if(n.config.lineTerminatorCharacters===c.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n	For details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),(0,s.isArray)(e)?((i={modes:{}}).modes[o.DEFAULT_MODE]=(0,s.cloneArr)(e),i[o.DEFAULT_MODE]=o.DEFAULT_MODE):(r=!1,i=(0,s.cloneObj)(e))}),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat((0,o.performRuntimeChecks)(i,n.trackStartLines,n.config.lineTerminatorCharacters))}),n.TRACE_INIT("performWarningRuntimeChecks",function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat((0,o.performWarningRuntimeChecks)(i,n.trackStartLines,n.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},(0,s.forEach)(i.modes,function(e,t){i.modes[t]=(0,s.reject)(e,function(e){return(0,s.isUndefined)(e)})});var u=(0,s.keys)(i.modes);if((0,s.forEach)(i.modes,function(e,i){n.TRACE_INIT("Mode: <"+i+"> processing",function(){if(n.modes.push(i),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat((0,o.validatePatterns)(e,u))}),(0,s.isEmpty)(n.lexerDefinitionErrors)){var r;(0,a.augmentTokenTypes)(e),n.TRACE_INIT("analyzeTokenTypes",function(){r=(0,o.analyzeTokenTypes)(e,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:n.TRACE_INIT.bind(n)})}),n.patternIdxToConfig[i]=r.patternIdxToConfig,n.charCodeToPatternIdxToConfig[i]=r.charCodeToPatternIdxToConfig,n.emptyGroups=(0,s.merge)(n.emptyGroups,r.emptyGroups),n.hasCustom=r.hasCustom||n.hasCustom,n.canModeBeOptimized[i]=r.canBeOptimized}})}),n.defaultMode=i.defaultMode,!(0,s.isEmpty)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling)throw Error("Errors detected in definition of Lexer:\n"+(0,s.map)(n.lexerDefinitionErrors,function(e){return e.message}).join("-----------------------\n"));(0,s.forEach)(n.lexerDefinitionWarning,function(e){(0,s.PRINT_WARNING)(e.message)}),n.TRACE_INIT("Choosing sub-methods implementations",function(){if(o.SUPPORT_STICKY?(n.chopInput=s.IDENTITY,n.match=n.matchWithTest):(n.updateLastIndex=s.NOOP,n.match=n.matchWithExec),r&&(n.handleModes=s.NOOP),!1===n.trackStartLines&&(n.computeNewColumn=s.IDENTITY),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=s.NOOP),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else if(/onlyOffset/i.test(n.config.positionTracking))n.createTokenInstance=n.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)}),n.TRACE_INIT("Failed Optimization Warnings",function(){var e=(0,s.reduce)(n.canModeBeOptimized,function(e,t,n){return!1===t&&e.push(n),e},[]);if(t.ensureOptimizations&&!(0,s.isEmpty)(e))throw Error("Lexer Modes: < "+e.join(", ")+' > cannot be optimized.\n	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n	 Or inspect the console log for details on how to resolve these issues.')}),n.TRACE_INIT("clearRegExpParserCache",function(){(0,l.clearRegExpParserCache)()}),n.TRACE_INIT("toFastProperties",function(){(0,s.toFastProperties)(n)})})}return e.prototype.tokenize=function(e,t){if(void 0===t&&(t=this.defaultMode),!(0,s.isEmpty)(this.lexerDefinitionErrors))throw Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+(0,s.map)(this.lexerDefinitionErrors,function(e){return e.message}).join("-----------------------\n"));return this.tokenizeInternal(e,t)},e.prototype.tokenizeInternal=function(e,t){var n,i,r,a,u,l,c,h,d,p,f,m,g,y,v,D=this,b=e,E=b.length,x=0,w=0,S=Array(this.hasCustom?0:Math.floor(e.length/10)),C=[],T=this.trackStartLines?1:void 0,F=this.trackStartLines?1:void 0,A=(0,o.cloneEmptyGroups)(this.emptyGroups),k=this.trackStartLines,_=this.config.lineTerminatorsPattern,P=0,L=[],O=[],R=[],I=[];Object.freeze(I);var N=void 0;function M(){return L}function B(e){var t=O[(0,o.charCodeToOptimizedIndex)(e)];return void 0===t?I:t}var U=function(e){if(1===R.length&&void 0===e.tokenType.PUSH_MODE){var t=D.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);C.push({offset:e.startOffset,line:void 0!==e.startLine?e.startLine:void 0,column:void 0!==e.startColumn?e.startColumn:void 0,length:e.image.length,message:t})}else{R.pop();var n=(0,s.last)(R);L=D.patternIdxToConfig[n],O=D.charCodeToPatternIdxToConfig[n],P=L.length;var i=D.canModeBeOptimized[n]&&!1===D.config.safeMode;N=O&&i?B:M}};function z(e){R.push(e),O=this.charCodeToPatternIdxToConfig[e],P=(L=this.patternIdxToConfig[e]).length,P=L.length;var t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;N=O&&t?B:M}for(z.call(this,t);x<E;){u=null;var j=b.charCodeAt(x),V=N(j),G=V.length;for(n=0;n<G;n++){var $=(v=V[n]).pattern;l=null;var H=v.short;if(!1!==H?j===H&&(u=$):!0===v.isCustom?null!==(y=$.exec(b,x,S,A))?(u=y[0],void 0!==y.payload&&(l=y.payload)):u=null:(this.updateLastIndex($,x),u=this.match($,e,x)),null!==u){if(void 0!==(a=v.longerAlt)){var W=L[a],q=W.pattern;c=null,!0===W.isCustom?null!==(y=q.exec(b,x,S,A))?(r=y[0],void 0!==y.payload&&(c=y.payload)):r=null:(this.updateLastIndex(q,x),r=this.match(q,e,x)),r&&r.length>u.length&&(u=r,l=c,v=W)}break}}if(null!==u){if(h=u.length,void 0!==(d=v.group)&&(p=v.tokenTypeIdx,f=this.createTokenInstance(u,x,p,v.tokenType,T,F,h),this.handlePayload(f,l),!1===d?w=this.addToken(S,w,f):A[d].push(f)),e=this.chopInput(e,h),x+=h,F=this.computeNewColumn(F,h),!0===k&&!0===v.canLineTerminator){var Y=0,X=void 0,K=void 0;_.lastIndex=0;do!0===(X=_.test(u))&&(K=_.lastIndex-1,Y++);while(!0===X)0!==Y&&(T+=Y,F=h-K,this.updateTokenEndLineColumnLocation(f,d,K,Y,T,F,h))}this.handleModes(v,U,z,f)}else{for(var J=x,Z=T,Q=F,ee=!1;!ee&&x<E;)for(b.charCodeAt(x),e=this.chopInput(e,1),x++,i=0;i<P;i++){var et=L[i],$=et.pattern,H=et.short;if(!1!==H?b.charCodeAt(x)===H&&(ee=!0):!0===et.isCustom?ee=null!==$.exec(b,x,S,A):(this.updateLastIndex($,x),ee=null!==$.exec(e)),!0===ee)break}m=x-J,g=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(b,J,m,Z,Q),C.push({offset:J,line:Z,column:Q,length:m,message:g})}}return this.hasCustom||(S.length=w),{tokens:S,groups:A,errors:C}},e.prototype.handleModes=function(e,t,n,i){if(!0===e.pop){var r=e.push;t(i),void 0!==r&&n.call(this,r)}else void 0!==e.push&&n.call(this,e.push)},e.prototype.chopInput=function(e,t){return e.substring(t)},e.prototype.updateLastIndex=function(e,t){e.lastIndex=t},e.prototype.updateTokenEndLineColumnLocation=function(e,t,n,i,r,o,s){var a,u;void 0!==t&&(u=(a=n===s-1)?-1:0,(1!==i||!0!==a)&&(e.endLine=r+u,e.endColumn=o-1+-u))},e.prototype.computeNewColumn=function(e,t){return e+t},e.prototype.createTokenInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},e.prototype.createOffsetOnlyToken=function(e,t,n,i){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:i}},e.prototype.createStartOnlyToken=function(e,t,n,i,r,o){return{image:e,startOffset:t,startLine:r,startColumn:o,tokenTypeIdx:n,tokenType:i}},e.prototype.createFullToken=function(e,t,n,i,r,o,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:r,endLine:r,startColumn:o,endColumn:o+s-1,tokenTypeIdx:n,tokenType:i}},e.prototype.addToken=function(e,t,n){return 666},e.prototype.addTokenUsingPush=function(e,t,n){return e.push(n),t},e.prototype.addTokenUsingMemberAccess=function(e,t,n){return e[t]=n,++t},e.prototype.handlePayload=function(e,t){},e.prototype.handlePayloadNoCustom=function(e,t){},e.prototype.handlePayloadWithCustom=function(e,t){null!==t&&(e.payload=t)},e.prototype.match=function(e,t,n){return null},e.prototype.matchWithTest=function(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null},e.prototype.matchWithExec=function(e,t){var n=e.exec(t);return null!==n?n[0]:n},e.prototype.TRACE_INIT=function(e,t){if(!0!==this.traceInitPerf)return t();this.traceInitIndent++;var n=Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var i=(0,s.timer)(t),r=i.time,o=i.value,a=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+e+"> time: "+r+"ms"),this.traceInitIndent--,o},e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e}()}),F("22jE1",function(e,n){t(e.exports,"DEFAULT_MODE",function(){return h}),t(e.exports,"SUPPORT_STICKY",function(){return p}),t(e.exports,"analyzeTokenTypes",function(){return f}),t(e.exports,"charCodeToOptimizedIndex",function(){return P}),t(e.exports,"validatePatterns",function(){return m}),t(e.exports,"performRuntimeChecks",function(){return b}),t(e.exports,"performWarningRuntimeChecks",function(){return E}),t(e.exports,"cloneEmptyGroups",function(){return x}),t(e.exports,"LineTerminatorOptimizedTester",function(){return C}),t(e.exports,"minOptimizationVal",function(){return _});var i,r=T("dKV4H"),o=T("eSJX3"),s=T("5mLYn"),a=T("kdIKl"),u=T("8VuTk"),l=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c="PATTERN",h="defaultMode",d="modes",p="boolean"==typeof RegExp("(?:)").sticky;function f(e,t){var n,i,r,u,l,h,d,f,m,g,y,b,E=(t=(0,s.defaults)(t,{useSticky:p,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(e,t){return t()}})).tracer;E("initCharCodeToOptimizedIndexMap",function(){if((0,s.isEmpty)(L)){L=Array(65536);for(var e=0;e<65536;e++)L[e]=e>255?255+~~(e/255):e}}),E("Reject Lexer.NA",function(){n=(0,s.reject)(e,function(e){return e[c]===o.Lexer.NA})});var x=!1;E("Transform Patterns",function(){x=!1,i=(0,s.map)(n,function(e){var n=e[c];if((0,s.isRegExp)(n)){var i=n.source;return 1!==i.length||"^"===i||"$"===i||"."===i||n.ignoreCase?2!==i.length||"\\"!==i[0]||(0,s.contains)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],i[1])?t.useSticky?D(n):v(n):i[1]:i}if((0,s.isFunction)(n))return x=!0,{exec:n};if((0,s.has)(n,"exec"))return x=!0,n;if("string"==typeof n)if(1===n.length)return n;else{var r=new RegExp(n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"));return t.useSticky?D(r):v(r)}throw Error("non exhaustive match")})}),E("misc mapping",function(){r=(0,s.map)(n,function(e){return e.tokenTypeIdx}),u=(0,s.map)(n,function(e){var t=e.GROUP;if(t!==o.Lexer.SKIPPED){if((0,s.isString)(t))return t;if((0,s.isUndefined)(t))return!1;throw Error("non exhaustive match")}}),l=(0,s.map)(n,function(e){var t=e.LONGER_ALT;if(t)return(0,s.indexOf)(n,t)}),h=(0,s.map)(n,function(e){return e.PUSH_MODE}),d=(0,s.map)(n,function(e){return(0,s.has)(e,"POP_MODE")})}),E("Line Terminator Handling",function(){var e=A(t.lineTerminatorCharacters);f=(0,s.map)(n,function(e){return!1}),"onlyOffset"!==t.positionTracking&&(f=(0,s.map)(n,function(t){return(0,s.has)(t,"LINE_BREAKS")?t.LINE_BREAKS:!1===F(t,e)?(0,a.canMatchCharCode)(e,t.PATTERN):void 0}))}),E("Misc Mapping #2",function(){m=(0,s.map)(n,w),g=(0,s.map)(i,S),y=(0,s.reduce)(n,function(e,t){var n=t.GROUP;return(0,s.isString)(n)&&n!==o.Lexer.SKIPPED&&(e[n]=[]),e},{}),b=(0,s.map)(i,function(e,t){return{pattern:i[t],longerAlt:l[t],canLineTerminator:f[t],isCustom:m[t],short:g[t],group:u[t],push:h[t],pop:d[t],tokenTypeIdx:r[t],tokenType:n[t]}})});var C=!0,T=[];return t.safeMode||E("First Char Optimization",function(){T=(0,s.reduce)(n,function(e,n,i){if("string"==typeof n.PATTERN){var r;k(e,P(n.PATTERN.charCodeAt(0)),b[i])}else if((0,s.isArray)(n.START_CHARS_HINT))(0,s.forEach)(n.START_CHARS_HINT,function(t){var n=P("string"==typeof t?t.charCodeAt(0):t);r!==n&&(r=n,k(e,n,b[i]))});else if((0,s.isRegExp)(n.PATTERN))if(n.PATTERN.unicode)C=!1,t.ensureOptimizations&&(0,s.PRINT_ERROR)(""+a.failedOptimizationPrefixMsg+"	Unable to analyze < "+n.PATTERN.toString()+" > pattern.\n	The regexp unicode flag is not currently supported by the regexp-to-ast library.\n	This will disable the lexer's first char optimizations.\n	For details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var o=(0,a.getOptimizedStartCodesIndices)(n.PATTERN,t.ensureOptimizations);(0,s.isEmpty)(o)&&(C=!1),(0,s.forEach)(o,function(t){k(e,t,b[i])})}else t.ensureOptimizations&&(0,s.PRINT_ERROR)(""+a.failedOptimizationPrefixMsg+"	TokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n	This will disable the lexer's first char optimizations.\n	For details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),C=!1;return e},[])}),E("ArrayPacking",function(){T=(0,s.packArray)(T)}),{emptyGroups:y,patternIdxToConfig:b,charCodeToPatternIdxToConfig:T,hasCustom:x,canBeOptimized:C}}function m(e,t){var n,i,a,h,d,p,f,m,v,D,b,E,x,w,S,C,T,F,A,k,_,P,L,O,R,I,N,M,B,U=[],z=(n=e,i=(0,s.filter)(n,function(e){return!(0,s.has)(e,c)}),{errors:(0,s.map)(i,function(e){return{message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:o.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[e]}}),valid:(0,s.difference)(n,i)});U=U.concat(z.errors);var j=(a=z.valid,h=(0,s.filter)(a,function(e){var t=e[c];return!(0,s.isRegExp)(t)&&!(0,s.isFunction)(t)&&!(0,s.has)(t,"exec")&&!(0,s.isString)(t)}),{errors:(0,s.map)(h,function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:o.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[e]}}),valid:(0,s.difference)(a,h)}),V=j.valid;return(U=(U=(U=(U=U.concat(j.errors)).concat((d=V,p=[],f=(0,s.filter)(d,function(e){return(0,s.isRegExp)(e[c])}),(p=(p=(p=(p=p.concat((m=f,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return l(t,e),t.prototype.visitEndAnchor=function(e){this.found=!0},t}(r.BaseRegExpVisitor),D=(0,s.filter)(m,function(e){var t=e[c];try{var n=(0,u.getRegExpAst)(t),i=new v;return i.visit(n),i.found}catch(e){return g.test(t.source)}}),(0,s.map)(D,function(e){return{message:"Unexpected RegExp Anchor Error:\n	Token Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n	See sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.",type:o.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[e]}})))).concat((b=f,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return l(t,e),t.prototype.visitStartAnchor=function(e){this.found=!0},t}(r.BaseRegExpVisitor),x=(0,s.filter)(b,function(e){var t=e[c];try{var n=(0,u.getRegExpAst)(t),i=new E;return i.visit(n),i.found}catch(e){return y.test(t.source)}}),(0,s.map)(x,function(e){return{message:"Unexpected RegExp Anchor Error:\n	Token Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n	See https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.",type:o.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[e]}})))).concat((w=f,S=(0,s.filter)(w,function(e){var t=e[c];return t instanceof RegExp&&(t.multiline||t.global)}),(0,s.map)(S,function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:o.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}})))).concat((C=f,T=[],F=(0,s.map)(C,function(e){return(0,s.reduce)(C,function(t,n){return e.PATTERN.source!==n.PATTERN.source||(0,s.contains)(T,n)||n.PATTERN===o.Lexer.NA||(T.push(n),t.push(n)),t},[])}),F=(0,s.compact)(F),A=(0,s.filter)(F,function(e){return e.length>1}),(0,s.map)(A,function(e){var t=(0,s.map)(e,function(e){return e.name});return{message:"The same RegExp pattern ->"+(0,s.first)(e).PATTERN+"<-has been used in all of the following Token Types: "+t.join(", ")+" <-",type:o.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}})))).concat((k=f,_=(0,s.filter)(k,function(e){return e[c].test("")}),(0,s.map)(_,function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:o.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[e]}})))))).concat((P=V,L=(0,s.filter)(P,function(e){if(!(0,s.has)(e,"GROUP"))return!1;var t=e.GROUP;return t!==o.Lexer.SKIPPED&&t!==o.Lexer.NA&&!(0,s.isString)(t)}),(0,s.map)(L,function(e){return{message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:o.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}})))).concat((O=V,R=t,I=(0,s.filter)(O,function(e){return void 0!==e.PUSH_MODE&&!(0,s.contains)(R,e.PUSH_MODE)}),(0,s.map)(I,function(e){return{message:"Token Type: ->"+e.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+e.PUSH_MODE+"<-which does not exist",type:o.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}})))).concat((N=V,M=[],B=(0,s.reduce)(N,function(e,t,n){var i,r=t.PATTERN;return r===o.Lexer.NA||((0,s.isString)(r)?e.push({str:r,idx:n,tokenType:t}):(0,s.isRegExp)(r)&&(i=r,void 0===(0,s.find)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],function(e){return -1!==i.source.indexOf(e)}))&&e.push({str:r.source,idx:n,tokenType:t})),e},[]),(0,s.forEach)(N,function(e,t){(0,s.forEach)(B,function(n){var i=n.str,r=n.idx,a=n.tokenType;if(t<r&&function(e,t){if((0,s.isRegExp)(t)){var n=t.exec(e);return null!==n&&0===n.index}if((0,s.isFunction)(t))return t(e,0,[],{});if((0,s.has)(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(i,e.PATTERN)){var u="Token: ->"+a.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+e.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";M.push({message:u,type:o.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[e,a]})}})}),M))}var g=/[^\\][\$]/,y=/[^\\[][\^]|^\^/;function v(e){var t=e.ignoreCase?"i":"";return RegExp("^(?:"+e.source+")",t)}function D(e){var t=e.ignoreCase?"iy":"y";return RegExp(""+e.source,t)}function b(e,t,n){var i=[];return(0,s.has)(e,h)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+h+"> property in its definition\n",type:o.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,s.has)(e,d)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+d+"> property in its definition\n",type:o.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,s.has)(e,d)&&(0,s.has)(e,h)&&!(0,s.has)(e.modes,e.defaultMode)&&i.push({message:"A MultiMode Lexer cannot be initialized with a "+h+": <"+e.defaultMode+">which does not exist\n",type:o.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,s.has)(e,d)&&(0,s.forEach)(e.modes,function(e,t){(0,s.forEach)(e,function(e,n){(0,s.isUndefined)(e)&&i.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+("<"+t+"> at index: <")+n+">\n",type:o.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})})}),i}function E(e,t,n){var i=[],r=!1,u=(0,s.compact)((0,s.flatten)((0,s.mapValues)(e.modes,function(e){return e}))),l=(0,s.reject)(u,function(e){return e[c]===o.Lexer.NA}),h=A(n);return t&&(0,s.forEach)(l,function(e){var t=F(e,h);if(!1!==t){var n={message:function(e,t){if(t.issue===o.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n	The problem is in the <"+e.name+"> Token Type\n	 Root cause: "+t.errMsg+".\n	For details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===o.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n	The problem is in the <"+e.name+"> Token Type\n	For details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(e,t),type:t.issue,tokenType:e};i.push(n)}else(0,s.has)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(r=!0):(0,a.canMatchCharCode)(h,e.PATTERN)&&(r=!0)}),t&&!r&&i.push({message:"Warning: No LINE_BREAKS Found.\n	This Lexer has been defined to track line and column information,\n	But none of the Token Types can be identified as matching a line terminator.\n	See https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n	for details.",type:o.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),i}function x(e){var t={},n=(0,s.keys)(e);return(0,s.forEach)(n,function(n){var i=e[n];if((0,s.isArray)(i))t[n]=[];else throw Error("non exhaustive match")}),t}function w(e){var t=e.PATTERN;if((0,s.isRegExp)(t))return!1;if((0,s.isFunction)(t))return!0;if((0,s.has)(t,"exec"))return!0;if((0,s.isString)(t))return!1;throw Error("non exhaustive match")}function S(e){return!!(0,s.isString)(e)&&1===e.length&&e.charCodeAt(0)}var C={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var i=e.charCodeAt(n);if(10===i)return this.lastIndex=n+1,!0;if(13===i)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function F(e,t){if((0,s.has)(e,"LINE_BREAKS"))return!1;if((0,s.isRegExp)(e.PATTERN)){try{(0,a.canMatchCharCode)(t,e.PATTERN)}catch(e){return{issue:o.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if((0,s.isString)(e.PATTERN))return!1;if(w(e))return{issue:o.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function A(e){return(0,s.map)(e,function(e){return(0,s.isString)(e)&&e.length>0?e.charCodeAt(0):e})}function k(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}var _=256;function P(e){return e<_?e:L[e]}var L=[]}),F("dKV4H",function(e,t){var n,i;n="undefined"!=typeof self?self:e.exports,i=function(){function e(){}e.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},e.prototype.restoreState=function(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx},e.prototype.pattern=function(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");var t=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":a(n,"global");break;case"i":a(n,"ignoreCase");break;case"m":a(n,"multiLine");break;case"u":a(n,"unicode");break;case"y":a(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}},e.prototype.disjunction=function(){var e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}},e.prototype.alternative=function(){for(var e=[],t=this.idx;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}},e.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},e.prototype.assertion=function(){var e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}u(t);var t,n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}throw Error("Internal Error - Should never get here!")},e.prototype.quantifier=function(e){var t=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":var n,i=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:i,atMost:i};break;case",":n=this.isDigit()?{atLeast:i,atMost:this.integerIncludingZero()}:{atLeast:i,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===n)return;u(n)}if(!0!==e||void 0!==n)return u(n),"?"===this.peekChar(0)?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(t),n},e.prototype.atom=function(){var e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),u(e),e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e},e.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},e.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},e.prototype.characterClassEscape=function(){var e,t=!1;switch(this.popChar()){case"d":e=l;break;case"D":e=l,t=!0;break;case"s":e=h;break;case"S":e=h,t=!0;break;case"w":e=c;break;case"W":e=c,t=!0}return u(e),{type:"Set",value:e,complement:t}},e.prototype.controlEscapeAtom=function(){var e;switch(this.popChar()){case"f":e=o("\f");break;case"n":e=o("\n");break;case"r":e=o("\r");break;case"t":e=o("	");break;case"v":e=o("\v")}return u(e),{type:"Character",value:e}},e.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}},e.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},e.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},e.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},e.prototype.identityEscapeAtom=function(){return{type:"Character",value:o(this.popChar())}},e.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:o(this.popChar())}}},e.prototype.characterClass=function(){var e=[],t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){var n=this.classAtom();if("Character"===n.type&&this.isRangeDash()){this.consumeChar("-");var i=this.classAtom();if("Character"===i.type){if(i.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:i.value})}else s(n.value,e),e.push(o("-")),s(i.value,e)}else s(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}},e.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},e.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.group=function(){var e=!0;this.consumeChar("("),"?"===this.peekChar(0)?(this.consumeChar("?"),this.consumeChar(":"),e=!1):this.groupIdx++;var t=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n},e.prototype.positiveInteger=function(){var e=this.popChar();if(!1===r.test(e))throw Error("Expecting a positive integer");for(;i.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)},e.prototype.integerIncludingZero=function(){var e=this.popChar();if(!1===i.test(e))throw Error("Expecting an integer");for(;i.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)},e.prototype.patternCharacter=function(){var e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(e)}}},e.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},e.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},e.prototype.isDigit=function(){return i.test(this.peekChar(0))},e.prototype.isClassAtom=function(e){switch(void 0===e&&(e=0),this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},e.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},e.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},e.prototype.isQuantifier=function(){var e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(e){return!1}finally{this.restoreState(e)}},e.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.parseHexDigits=function(e){for(var t="",i=0;i<e;i++){var r=this.popChar();if(!1===n.test(r))throw Error("Expecting a HexDecimal digits");t+=r}return{type:"Character",value:parseInt(t,16)}},e.prototype.peekChar=function(e){return void 0===e&&(e=0),this.input[this.idx+e]},e.prototype.popChar=function(){var e=this.peekChar(0);return this.consumeChar(),e},e.prototype.consumeChar=function(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},e.prototype.loc=function(e){return{begin:e,end:this.idx}};var t,n=/[0-9a-fA-F]/,i=/[0-9]/,r=/[1-9]/;function o(e){return e.charCodeAt(0)}function s(e,t){void 0!==e.length?e.forEach(function(e){t.push(e)}):t.push(e)}function a(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t]=!0}function u(e){if(void 0===e)throw Error("Internal Error - Should never get here!")}var l=[];for(t=o("0");t<=o("9");t++)l.push(t);var c=[o("_")].concat(l);for(t=o("a");t<=o("z");t++)c.push(t);for(t=o("A");t<=o("Z");t++)c.push(t);var h=[o(" "),o("\f"),o("\n"),o("\r"),o("	"),o("\v"),o("	"),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o("\u2028"),o("\u2029"),o(""),o(""),o(""),o("\uFEFF")];function d(){}return d.prototype.visitChildren=function(e){for(var t in e){var n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach(function(e){this.visit(e)},this))}},d.prototype.visit=function(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)},d.prototype.visitPattern=function(e){},d.prototype.visitFlags=function(e){},d.prototype.visitDisjunction=function(e){},d.prototype.visitAlternative=function(e){},d.prototype.visitStartAnchor=function(e){},d.prototype.visitEndAnchor=function(e){},d.prototype.visitWordBoundary=function(e){},d.prototype.visitNonWordBoundary=function(e){},d.prototype.visitLookahead=function(e){},d.prototype.visitNegativeLookahead=function(e){},d.prototype.visitCharacter=function(e){},d.prototype.visitSet=function(e){},d.prototype.visitGroup=function(e){},d.prototype.visitGroupBackReference=function(e){},d.prototype.visitQuantifier=function(e){},{RegExpParser:e,BaseRegExpVisitor:d,VERSION:"0.5.0"}},"function"==typeof define&&define.amd?define([],i):e.exports?e.exports=i():n.regexpToAst=i()}),F("kdIKl",function(e,n){t(e.exports,"failedOptimizationPrefixMsg",function(){return c}),t(e.exports,"getOptimizedStartCodesIndices",function(){return h}),t(e.exports,"canMatchCharCode",function(){return m});var i,r=T("dKV4H"),o=T("5mLYn"),s=T("8VuTk"),a=T("22jE1"),u=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l="Complement Sets are not supported for first char optimization",c='Unable to use "first char" lexer optimizations:\n';function h(e,t){void 0===t&&(t=!1);try{var n=(0,s.getRegExpAst)(e);return function e(t,n,i){switch(t.type){case"Disjunction":for(var r=0;r<t.value.length;r++)e(t.value[r],n,i);break;case"Alternative":for(var s=t.value,r=0;r<s.length;r++){var u=s[r];switch(u.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}switch(u.type){case"Character":d(u.value,n,i);break;case"Set":if(!0===u.complement)throw Error(l);(0,o.forEach)(u.value,function(e){if("number"==typeof e)d(e,n,i);else if(!0===i)for(var t=e.from;t<=e.to;t++)d(t,n,i);else{for(var t=e.from;t<=e.to&&t<a.minOptimizationVal;t++)d(t,n,i);if(e.to>=a.minOptimizationVal)for(var r=e.from>=a.minOptimizationVal?e.from:a.minOptimizationVal,o=e.to,s=(0,a.charCodeToOptimizedIndex)(r),u=(0,a.charCodeToOptimizedIndex)(o),l=s;l<=u;l++)n[l]=l}});break;case"Group":e(u.value,n,i);break;default:throw Error("Non Exhaustive Match")}var c=void 0!==u.quantifier&&0===u.quantifier.atLeast;if("Group"===u.type&&!1===function e(t){return!!t.quantifier&&0===t.quantifier.atLeast||!!t.value&&((0,o.isArray)(t.value)?(0,o.every)(t.value,e):e(t.value))}(u)||"Group"!==u.type&&!1===c)break}break;default:throw Error("non exhaustive match!")}return(0,o.values)(n)}(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===l)t&&(0,o.PRINT_WARNING)(""+c+"	Unable to optimize: < "+e.toString()+" >\n	Complement Sets cannot be automatically optimized.\n	This will disable the lexer's first char optimizations.\n	See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var i="";t&&(i="\n	This will disable the lexer's first char optimizations.\n	See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),(0,o.PRINT_ERROR)(c+"\n	Failed parsing: < "+e.toString()+" >\n	Using the regexp-to-ast library version: "+r.VERSION+"\n	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+i)}}return[]}function d(e,t,n){var i=(0,a.charCodeToOptimizedIndex)(e);t[i]=i,!0===n&&function(e,t){var n=String.fromCharCode(e),i=n.toUpperCase();if(i!==n){var r=(0,a.charCodeToOptimizedIndex)(i.charCodeAt(0));t[r]=r}else{var o=n.toLowerCase();if(o!==n){var r=(0,a.charCodeToOptimizedIndex)(o.charCodeAt(0));t[r]=r}}}(e,t)}function p(e,t){return(0,o.find)(e.value,function(e){return"number"==typeof e?(0,o.contains)(t,e):void 0!==(0,o.find)(t,function(t){return e.from<=t&&t<=e.to})})}var f=function(e){function t(t){var n=e.call(this)||this;return n.targetCharCodes=t,n.found=!1,n}return u(t,e),t.prototype.visitChildren=function(t){if(!0!==this.found){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}e.prototype.visitChildren.call(this,t)}},t.prototype.visitCharacter=function(e){(0,o.contains)(this.targetCharCodes,e.value)&&(this.found=!0)},t.prototype.visitSet=function(e){e.complement?void 0===p(e,this.targetCharCodes)&&(this.found=!0):void 0!==p(e,this.targetCharCodes)&&(this.found=!0)},t}(r.BaseRegExpVisitor);function m(e,t){if(!(t instanceof RegExp))return void 0!==(0,o.find)(t,function(t){return(0,o.contains)(e,t.charCodeAt(0))});var n=(0,s.getRegExpAst)(t),i=new f(e);return i.visit(n),i.found}}),F("8VuTk",function(e,n){t(e.exports,"getRegExpAst",function(){return s}),t(e.exports,"clearRegExpParserCache",function(){return a});var i=T("dKV4H"),r={},o=new(0,i.RegExpParser);function s(e){var t=e.toString();if(r.hasOwnProperty(t))return r[t];var n=o.pattern(t);return r[t]=n,n}function a(){r={}}}),F("6UThq",function(e,n){t(e.exports,"tokenStructuredMatcher",function(){return r}),t(e.exports,"tokenStructuredMatcherNoCategories",function(){return o}),t(e.exports,"augmentTokenTypes",function(){return u}),t(e.exports,"hasShortKeyProperty",function(){return l}),t(e.exports,"isTokenType",function(){return h});var i=T("5mLYn");function r(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function o(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var s=1,a={};function u(e){var t,n,r,o=function(e){for(var t=(0,i.cloneArr)(e),n=e,r=!0;r;){n=(0,i.compact)((0,i.flatten)((0,i.map)(n,function(e){return e.CATEGORIES})));var o=(0,i.difference)(n,t);t=t.concat(o),(0,i.isEmpty)(o)?r=!1:n=o}return t}(e);t=o,(0,i.forEach)(t,function(e){var t,n;l(e)||(a[s]=e,e.tokenTypeIdx=s++),c(e)&&!(0,i.isArray)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),c(e)||(e.CATEGORIES=[]),t=e,(0,i.has)(t,"categoryMatches")||(e.categoryMatches=[]),n=e,(0,i.has)(n,"categoryMatchesMap")||(e.categoryMatchesMap={})}),n=o,(0,i.forEach)(n,function(e){!function e(t,n){(0,i.forEach)(t,function(e){n.categoryMatchesMap[e.tokenTypeIdx]=!0}),(0,i.forEach)(n.CATEGORIES,function(r){var o=t.concat(n);(0,i.contains)(o,r)||e(o,r)})}([],e)}),r=o,(0,i.forEach)(r,function(e){e.categoryMatches=[],(0,i.forEach)(e.categoryMatchesMap,function(t,n){e.categoryMatches.push(a[n].tokenTypeIdx)})}),(0,i.forEach)(o,function(e){e.isParent=e.categoryMatches.length>0})}function l(e){return(0,i.has)(e,"tokenTypeIdx")}function c(e){return(0,i.has)(e,"CATEGORIES")}function h(e){return(0,i.has)(e,"tokenTypeIdx")}}),F("lMxRC",function(e,n){t(e.exports,"defaultLexerErrorProvider",function(){return i});var i={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->"+e.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(e,t,n,i,r){return"unexpected character: ->"+e.charAt(t)+"<- at offset: "+t+", skipped "+n+" characters."}}}),F("6BL7Z",function(e,n){t(e.exports,"first",function(){return function e(t){if(t instanceof r.NonTerminal)return e(t.referencedRule);if(t instanceof r.Terminal)return[t.terminalType];if((0,o.isSequenceProd)(t))return function(t){for(var n,r=[],s=t.definition,a=0,u=s.length>a,l=!0;u&&l;)n=s[a],l=(0,o.isOptionalProd)(n),r=r.concat(e(n)),a+=1,u=s.length>a;return(0,i.uniq)(r)}(t);if((0,o.isBranchingProd)(t)){var n,s;return n=t,s=(0,i.map)(n.definition,function(t){return e(t)}),(0,i.uniq)((0,i.flatten)(s))}throw Error("non exhaustive match")}});var i=T("5mLYn"),r=T("bbUHG"),o=T("h6YGr")}),F("h6YGr",function(e,n){t(e.exports,"isSequenceProd",function(){return u}),t(e.exports,"isOptionalProd",function(){return function e(t,n){return void 0===n&&(n=[]),t instanceof o.Option||t instanceof o.Repetition||t instanceof o.RepetitionWithSeparator||(t instanceof o.Alternation?(0,r.some)(t.definition,function(t){return e(t,n)}):!(t instanceof o.NonTerminal&&(0,r.contains)(n,t))&&t instanceof o.AbstractProduction&&(t instanceof o.NonTerminal&&n.push(t),(0,r.every)(t.definition,function(t){return e(t,n)})))}}),t(e.exports,"isBranchingProd",function(){return l}),t(e.exports,"getProductionDslName",function(){return c}),t(e.exports,"DslMethodsCollectorVisitor",function(){return h}),t(e.exports,"collectMethods",function(){return p});var i,r=T("5mLYn"),o=T("bbUHG"),s=T("1bKra"),a=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function u(e){return e instanceof o.Alternative||e instanceof o.Option||e instanceof o.Repetition||e instanceof o.RepetitionMandatory||e instanceof o.RepetitionMandatoryWithSeparator||e instanceof o.RepetitionWithSeparator||e instanceof o.Terminal||e instanceof o.Rule}function l(e){return e instanceof o.Alternation}function c(e){if(e instanceof o.NonTerminal)return"SUBRULE";if(e instanceof o.Option)return"OPTION";if(e instanceof o.Alternation)return"OR";if(e instanceof o.RepetitionMandatory)return"AT_LEAST_ONE";if(e instanceof o.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";else if(e instanceof o.RepetitionWithSeparator)return"MANY_SEP";else if(e instanceof o.Repetition)return"MANY";else if(e instanceof o.Terminal)return"CONSUME";else throw Error("non exhaustive match")}var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.separator="-",t.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},t}return a(t,e),t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitTerminal=function(e){var t=e.terminalType.name+this.separator+"Terminal";(0,r.has)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitNonTerminal=function(e){var t=e.nonTerminalName+this.separator+"Terminal";(0,r.has)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitOption=function(e){this.dslMethods.option.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.dslMethods.repetitionWithSeparator.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.dslMethods.repetitionMandatory.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)},t.prototype.visitRepetition=function(e){this.dslMethods.repetition.push(e)},t.prototype.visitAlternation=function(e){this.dslMethods.alternation.push(e)},t}(s.GAstVisitor),d=new h;function p(e){d.reset(),e.accept(d);var t=d.dslMethods;return d.reset(),t}}),F("1bKra",function(e,n){t(e.exports,"GAstVisitor",function(){return r});var i=T("bbUHG"),r=function(){function e(){}return e.prototype.visit=function(e){switch(e.constructor){case i.NonTerminal:return this.visitNonTerminal(e);case i.Alternative:return this.visitAlternative(e);case i.Option:return this.visitOption(e);case i.RepetitionMandatory:return this.visitRepetitionMandatory(e);case i.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(e);case i.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(e);case i.Repetition:return this.visitRepetition(e);case i.Alternation:return this.visitAlternation(e);case i.Terminal:return this.visitTerminal(e);case i.Rule:return this.visitRule(e);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(e){},e.prototype.visitAlternative=function(e){},e.prototype.visitOption=function(e){},e.prototype.visitRepetition=function(e){},e.prototype.visitRepetitionMandatory=function(e){},e.prototype.visitRepetitionMandatoryWithSeparator=function(e){},e.prototype.visitRepetitionWithSeparator=function(e){},e.prototype.visitAlternation=function(e){},e.prototype.visitTerminal=function(e){},e.prototype.visitRule=function(e){},e}()}),F("kWjNL",function(e,n){t(e.exports,"IN",function(){return i});var i="_~IN~_"}),F("hUgka",function(e,n){t(e.exports,"defaultParserErrorProvider",function(){return a}),t(e.exports,"defaultGrammarResolverErrorProvider",function(){return u}),t(e.exports,"defaultGrammarValidatorErrorProvider",function(){return l});var i=T("hvAWv"),r=T("5mLYn"),o=T("bbUHG"),s=T("h6YGr"),a={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual;return e.previous,e.ruleName,"Expecting "+((0,i.hasTokenLabel)(t)?"--\x3e "+(0,i.tokenLabel)(t)+" <--":"token of type --\x3e "+t.name+" <--")+" but found --\x3e '"+n.image+"' <--"},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;return e.ruleName,"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual,o=(e.previous,e.customUserDescription);e.ruleName;var s="Expecting: ",a="\nbut found: '"+(0,r.first)(n).image+"'";if(o)return s+o+a;var u=(0,r.reduce)(t,function(e,t){return e.concat(t)},[]),l=(0,r.map)(u,function(e){return"["+(0,r.map)(e,function(e){return(0,i.tokenLabel)(e)}).join(", ")+"]"});return s+"one of these possible Token sequences:\n"+(0,r.map)(l,function(e,t){return"  "+(t+1)+". "+e}).join("\n")+a},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,o=e.customUserDescription;e.ruleName;var s="Expecting: ",a="\nbut found: '"+(0,r.first)(n).image+"'";return o?s+o+a:s+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+(0,r.map)(t,function(e){return"["+(0,r.map)(e,function(e){return(0,i.tokenLabel)(e)}).join(",")+"]"}).join(" ,"))+">"+a}};Object.freeze(a);var u={buildRuleNotFoundError:function(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"}},l={buildDuplicateFoundError:function(e,t){var n=e.name,i=(0,r.first)(t),a=i.idx,u=(0,s.getProductionDslName)(i),l=i instanceof o.Terminal?i.terminalType.name:i instanceof o.NonTerminal?i.nonTerminalName:"",c="->"+u+(a>0?a:"")+"<- "+(l?"with argument: ->"+l+"<-":"")+"\n                  appears more than once ("+t.length+" times) in the top level rule: ->"+n+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return(c=c.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(e){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+e.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(e){var t=(0,r.map)(e.prefixPath,function(e){return(0,i.tokenLabel)(e)}).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return"Ambiguous alternatives: <"+e.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\n"+("in <OR"+n+"> inside <")+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(e){var t=(0,r.map)(e.prefixPath,function(e){return(0,i.tokenLabel)(e)}).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,o="Ambiguous Alternatives Detected: <"+e.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\n";return o+"See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(e){var t=(0,s.getProductionDslName)(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),"The repetition <"+t+"> within Rule <"+e.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(e){return"deprecated"},buildEmptyAlternationError:function(e){return"Ambiguous empty alternative: <"+(e.emptyChoiceIdx+1)+">"+(" in <OR"+e.alternation.idx+"> inside <")+e.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(e){return"An Alternation cannot have more than 256 alternatives:\n"+("<OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\n has ")+(e.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(e){var t=e.topLevelRule.name,n=t+" --\x3e "+r.map(e.leftRecursionPath,function(e){return e.name}).concat([t]).join(" --\x3e ");return"Left Recursion found in grammar.\nrule: <"+t+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+n+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(e){return"deprecated"},buildDuplicateRuleNameError:function(e){return"Duplicate definition, rule: ->"+(e.topLevelRule instanceof o.Rule?e.topLevelRule.name:e.topLevelRule)+"<- is already defined in the grammar: ->"+e.grammarName+"<-"}}}),F("ciB86",function(e,n){t(e.exports,"resolveGrammar",function(){return u}),t(e.exports,"validateGrammar",function(){return l}),t(e.exports,"assignOccurrenceIndices",function(){return c});var i=T("5mLYn"),r=T("ldvNR"),o=T("5hnkq"),s=T("hUgka"),a=T("h6YGr");function u(e){e=(0,i.defaults)(e,{errMsgProvider:s.defaultGrammarResolverErrorProvider});var t={};return(0,i.forEach)(e.rules,function(e){t[e.name]=e}),(0,r.resolveGrammar)(t,e.errMsgProvider)}function l(e){return e=(0,i.defaults)(e,{errMsgProvider:s.defaultGrammarValidatorErrorProvider}),(0,o.validateGrammar)(e.rules,e.maxLookahead,e.tokenTypes,e.errMsgProvider,e.grammarName)}function c(e){(0,i.forEach)(e.rules,function(e){var t=new(0,a.DslMethodsCollectorVisitor);e.accept(t),(0,i.forEach)(t.dslMethods,function(e){(0,i.forEach)(e,function(e,t){e.idx=t+1})})})}}),F("ldvNR",function(e,n){t(e.exports,"resolveGrammar",function(){return u});var i,r=T("5qjkp"),o=T("5mLYn"),s=T("1bKra"),a=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function u(e,t){var n=new l(e,t);return n.resolveRefs(),n.errors}var l=function(e){function t(t,n){var i=e.call(this)||this;return i.nameToTopRule=t,i.errMsgProvider=n,i.errors=[],i}return a(t,e),t.prototype.resolveRefs=function(){var e=this;(0,o.forEach)((0,o.values)(this.nameToTopRule),function(t){e.currTopLevel=t,t.accept(e)})},t.prototype.visitNonTerminal=function(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:r.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}},t}(s.GAstVisitor)}),F("5hnkq",function(e,n){t(e.exports,"validateGrammar",function(){return d}),t(e.exports,"validateRuleIsOverridden",function(){return g});var i,r=T("5mLYn"),o=T("5qjkp"),s=T("h6YGr"),a=T("1eoLt"),u=T("ld8c4"),l=T("bbUHG"),c=T("1bKra"),h=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function d(e,t,n,i,c){var h,d,g,D,b,E,x,w,S,C=r.map(e,function(e){var t,n,a,u,l,c;return t=e,n=i,a=new m,t.accept(a),u=a.allProductions,l=r.groupBy(u,p),c=r.pick(l,function(e){return e.length>1}),r.map(r.values(c),function(e){var i=r.first(e),a=n.buildDuplicateFoundError(t,e),u=(0,s.getProductionDslName)(i),l={message:a,type:o.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:u,occurrence:i.idx},c=f(i);return c&&(l.parameter=c),l})}),T=r.map(e,function(e){return function e(t,n,i,a){void 0===a&&(a=[]);var u=[],c=function e(t){var n=[];if(r.isEmpty(t))return n;var i=r.first(t);if(i instanceof l.NonTerminal)n.push(i.referencedRule);else if(i instanceof l.Alternative||i instanceof l.Option||i instanceof l.RepetitionMandatory||i instanceof l.RepetitionMandatoryWithSeparator||i instanceof l.RepetitionWithSeparator||i instanceof l.Repetition)n=n.concat(e(i.definition));else if(i instanceof l.Alternation)n=r.flatten(r.map(i.definition,function(t){return e(t.definition)}));else if(i instanceof l.Terminal);else throw Error("non exhaustive match");var o=(0,s.isOptionalProd)(i),a=t.length>1;if(!o||!a)return n;var u=r.drop(t);return n.concat(e(u))}(n.definition);if(r.isEmpty(c))return[];var h=t.name;r.contains(c,t)&&u.push({message:i.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:a}),type:o.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:h});var d=r.difference(c,a.concat([t])),p=r.map(d,function(n){var o=r.cloneArr(a);return o.push(n),e(t,n,i,o)});return u.concat(r.flatten(p))}(e,e,i)}),F=[],A=[],k=[];(0,r.every)(T,r.isEmpty)&&(F=(0,r.map)(e,function(e){var t,n,s,a;return t=e,n=i,s=new y,t.accept(s),a=s.alternations,r.reduce(a,function(e,i){var s=r.dropRight(i.definition),a=r.map(s,function(e,s){var a=(0,u.nextPossibleTokensAfter)([e],[],null,1);return r.isEmpty(a)?{message:n.buildEmptyAlternationError({topLevelRule:t,alternation:i,emptyChoiceIdx:s}),type:o.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:i.idx,alternative:s+1}:null});return e.concat(r.compact(a))},[])}),A=(0,r.map)(e,function(e){var n,s,u,l,c;return n=e,s=t,u=i,l=new y,n.accept(l),c=l.alternations,c=(0,r.reject)(c,function(e){return!0===e.ignoreAmbiguities}),r.reduce(c,function(e,t){var i,l,c,h,d,p,f,m,g,y,v,D,b=t.idx,E=t.maxLookahead||s,x=(0,a.getLookaheadPathsForOr)(b,n,E,t),w=(i=x,l=t,c=n,h=u,d=[],p=(0,r.reduce)(i,function(e,t,n){return!0===l.definition[n].ignoreAmbiguities||(0,r.forEach)(t,function(t){var o=[n];(0,r.forEach)(i,function(e,i){n!==i&&(0,a.containsPath)(e,t)&&!0!==l.definition[i].ignoreAmbiguities&&o.push(i)}),o.length>1&&!(0,a.containsPath)(d,t)&&(d.push(t),e.push({alts:o,path:t}))}),e},[]),r.map(p,function(e){var t=(0,r.map)(e.alts,function(e){return e+1});return{message:h.buildAlternationAmbiguityError({topLevelRule:c,alternation:l,ambiguityIndices:t,prefixPath:e.path}),type:o.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:c.name,occurrence:l.idx,alternatives:[e.alts]}})),S=(f=x,m=t,g=n,y=u,v=[],D=(0,r.reduce)(f,function(e,t,n){var i=(0,r.map)(t,function(e){return{idx:n,path:e}});return e.concat(i)},[]),(0,r.forEach)(D,function(e){if(!0!==m.definition[e.idx].ignoreAmbiguities){var t=e.idx,n=e.path,i=(0,r.findAll)(D,function(e){return!0!==m.definition[e.idx].ignoreAmbiguities&&e.idx<t&&(0,a.isStrictPrefixOfPath)(e.path,n)}),s=(0,r.map)(i,function(e){var n=[e.idx+1,t+1],i=0===m.idx?"":m.idx;return{message:y.buildAlternationPrefixAmbiguityError({topLevelRule:g,alternation:m,ambiguityIndices:n,prefixPath:e.path}),type:o.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:g.name,occurrence:i,alternatives:n}});v=v.concat(s)}}),v);return e.concat(w,S)},[])}),h=e,d=t,g=i,D=[],(0,r.forEach)(h,function(e){var t=new v;e.accept(t);var n=t.allProductions;(0,r.forEach)(n,function(t){var n=(0,a.getProdType)(t),i=t.maxLookahead||d,s=t.idx,u=(0,a.getLookaheadPathsForOptionalProd)(s,e,n,i)[0];if((0,r.isEmpty)((0,r.flatten)(u))){var l=g.buildEmptyRepetitionError({topLevelRule:e,repetition:t});D.push({message:l,type:o.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}})}),k=D);var _=(b=e,E=n,x=i,w=[],S=(0,r.map)(E,function(e){return e.name}),(0,r.forEach)(b,function(e){var t=e.name;if((0,r.contains)(S,t)){var n=x.buildNamespaceConflictError(e);w.push({message:n,type:o.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}}),w),P=(0,r.map)(e,function(e){var t,n,s,a;return t=e,n=i,s=new y,t.accept(s),a=s.alternations,r.reduce(a,function(e,i){return i.definition.length>255&&e.push({message:n.buildTooManyAlternativesError({topLevelRule:t,alternation:i}),type:o.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:t.name,occurrence:i.idx}),e},[])}),L=(0,r.map)(e,function(t){var n=t,s=e,a=c,u=i,l=[];if((0,r.reduce)(s,function(e,t){return t.name===n.name?e+1:e},0)>1){var h=u.buildDuplicateRuleNameError({topLevelRule:n,grammarName:a});l.push({message:h,type:o.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:n.name})}return l});return r.flatten(C.concat(k,T,F,A,_,P,L))}function p(e){return(0,s.getProductionDslName)(e)+"_#_"+e.idx+"_#_"+f(e)}function f(e){return e instanceof l.Terminal?e.terminalType.name:e instanceof l.NonTerminal?e.nonTerminalName:""}var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return h(t,e),t.prototype.visitNonTerminal=function(e){this.allProductions.push(e)},t.prototype.visitOption=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t.prototype.visitAlternation=function(e){this.allProductions.push(e)},t.prototype.visitTerminal=function(e){this.allProductions.push(e)},t}(c.GAstVisitor);function g(e,t,n){var i=[];return r.contains(t,e)||i.push({message:"Invalid rule override, rule: ->"+e+"<- cannot be overridden in the grammar: ->"+n+"<-as it is not defined in any of the super grammars ",type:o.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:e}),i}var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alternations=[],t}return h(t,e),t.prototype.visitAlternation=function(e){this.alternations.push(e)},t}(c.GAstVisitor),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return h(t,e),t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t}(c.GAstVisitor)}),F("1eoLt",function(e,n){t(e.exports,"PROD_TYPE",function(){return o}),t(e.exports,"getProdType",function(){return p}),t(e.exports,"buildLookaheadFuncForOr",function(){return f}),t(e.exports,"getLookaheadPathsForOr",function(){return w}),t(e.exports,"buildLookaheadFuncForOptionalProd",function(){return m}),t(e.exports,"getLookaheadPathsForOptionalProd",function(){return S}),t(e.exports,"buildAlternativesLookAheadFunc",function(){return g}),t(e.exports,"buildSingleAlternativeLookaheadFunction",function(){return y}),t(e.exports,"containsPath",function(){return C}),t(e.exports,"isStrictPrefixOfPath",function(){return F});var i,r,o,s=T("5mLYn"),a=T("ld8c4"),u=T("ip5ou"),l=T("6UThq"),c=T("bbUHG"),h=T("1bKra"),d=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function p(e){if(e instanceof c.Option)return o.OPTION;if(e instanceof c.Repetition)return o.REPETITION;if(e instanceof c.RepetitionMandatory)return o.REPETITION_MANDATORY;if(e instanceof c.RepetitionMandatoryWithSeparator)return o.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof c.RepetitionWithSeparator)return o.REPETITION_WITH_SEPARATOR;else if(e instanceof c.Alternation)return o.ALTERNATION;else throw Error("non exhaustive match")}function f(e,t,n,i,r,o){var s=w(e,t,n),a=A(s)?l.tokenStructuredMatcherNoCategories:l.tokenStructuredMatcher;return o(s,i,a,r)}function m(e,t,n,i,r,o){var s=S(e,t,r,n),a=A(s)?l.tokenStructuredMatcherNoCategories:l.tokenStructuredMatcher;return o(s[0],a,i)}function g(e,t,n,i){var r=e.length,o=(0,s.every)(e,function(e){return(0,s.every)(e,function(e){return 1===e.length})});if(t)return function(t){for(var i=(0,s.map)(t,function(e){return e.GATE}),o=0;o<r;o++){var a=e[o],u=a.length,l=i[o];if(void 0===l||!1!==l.call(this))e:for(var c=0;c<u;c++){for(var h=a[c],d=h.length,p=0;p<d;p++)if(!1===n(this.LA(p+1),h[p]))continue e;return o}}};if(!o||i)return function(){for(var t=0;t<r;t++){var i=e[t],o=i.length;e:for(var s=0;s<o;s++){for(var a=i[s],u=a.length,l=0;l<u;l++)if(!1===n(this.LA(l+1),a[l]))continue e;return t}}};var a=(0,s.map)(e,function(e){return(0,s.flatten)(e)}),u=(0,s.reduce)(a,function(e,t,n){return(0,s.forEach)(t,function(t){(0,s.has)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),(0,s.forEach)(t.categoryMatches,function(t){(0,s.has)(e,t)||(e[t]=n)})}),e},[]);return function(){return u[this.LA(1).tokenTypeIdx]}}function y(e,t,n){var i=(0,s.every)(e,function(e){return 1===e.length}),r=e.length;if(!i||n)return function(){e:for(var n=0;n<r;n++){for(var i=e[n],o=i.length,s=0;s<o;s++)if(!1===t(this.LA(s+1),i[s]))continue e;return!0}return!1};var o=(0,s.flatten)(e);if(1===o.length&&(0,s.isEmpty)(o[0].categoryMatches)){var a=o[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}var u=(0,s.reduce)(o,function(e,t,n){return e[t.tokenTypeIdx]=!0,(0,s.forEach)(t.categoryMatches,function(t){e[t]=!0}),e},[]);return function(){return!0===u[this.LA(1).tokenTypeIdx]}}(r=o||(o={}))[r.OPTION=0]="OPTION",r[r.REPETITION=1]="REPETITION",r[r.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",r[r.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",r[r.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",r[r.ALTERNATION=5]="ALTERNATION";var v=function(e){function t(t,n,i){var r=e.call(this)||this;return r.topProd=t,r.targetOccurrence=n,r.targetProdType=i,r}return d(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},t.prototype.checkIsTarget=function(e,t,n,i){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(i),!0)},t.prototype.walkOption=function(t,n,i){this.checkIsTarget(t,o.OPTION,n,i)||e.prototype.walkOption.call(this,t,n,i)},t.prototype.walkAtLeastOne=function(t,n,i){this.checkIsTarget(t,o.REPETITION_MANDATORY,n,i)||e.prototype.walkOption.call(this,t,n,i)},t.prototype.walkAtLeastOneSep=function(t,n,i){this.checkIsTarget(t,o.REPETITION_MANDATORY_WITH_SEPARATOR,n,i)||e.prototype.walkOption.call(this,t,n,i)},t.prototype.walkMany=function(t,n,i){this.checkIsTarget(t,o.REPETITION,n,i)||e.prototype.walkOption.call(this,t,n,i)},t.prototype.walkManySep=function(t,n,i){this.checkIsTarget(t,o.REPETITION_WITH_SEPARATOR,n,i)||e.prototype.walkOption.call(this,t,n,i)},t}(u.RestWalker),D=function(e){function t(t,n,i){var r=e.call(this)||this;return r.targetOccurrence=t,r.targetProdType=n,r.targetRef=i,r.result=[],r}return d(t,e),t.prototype.checkIsTarget=function(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(void 0===this.targetRef||e===this.targetRef)&&(this.result=e.definition)},t.prototype.visitOption=function(e){this.checkIsTarget(e,o.OPTION)},t.prototype.visitRepetition=function(e){this.checkIsTarget(e,o.REPETITION)},t.prototype.visitRepetitionMandatory=function(e){this.checkIsTarget(e,o.REPETITION_MANDATORY)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.checkIsTarget(e,o.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.visitRepetitionWithSeparator=function(e){this.checkIsTarget(e,o.REPETITION_WITH_SEPARATOR)},t.prototype.visitAlternation=function(e){this.checkIsTarget(e,o.ALTERNATION)},t}(h.GAstVisitor);function b(e){for(var t=Array(e),n=0;n<e;n++)t[n]=[];return t}function E(e){for(var t=[""],n=0;n<e.length;n++){for(var i=e[n],r=[],o=0;o<t.length;o++){var s=t[o];r.push(s+"_"+i.tokenTypeIdx);for(var a=0;a<i.categoryMatches.length;a++){var u="_"+i.categoryMatches[a];r.push(s+u)}}t=r}return t}function x(e,t){for(var n=(0,s.map)(e,function(e){return(0,a.possiblePathsFrom)([e],1)}),i=b(n.length),r=(0,s.map)(n,function(e){var t={};return(0,s.forEach)(e,function(e){var n=E(e.partialPath);(0,s.forEach)(n,function(e){t[e]=!0})}),t}),o=n,u=1;u<=t;u++){var l=o;o=b(l.length);for(var c=function(e){for(var n=l[e],c=0;c<n.length;c++){var h=n[c].partialPath,d=n[c].suffixDef,p=E(h);if(function(e,t,n){for(var i=0;i<e.length;i++)if(i!==n){for(var r=e[i],o=0;o<t.length;o++)if(!0===r[t[o]])return!1}return!0}(r,p,e)||(0,s.isEmpty)(d)||h.length===t){var f=i[e];if(!1===C(f,h)){f.push(h);for(var m=0;m<p.length;m++){var g=p[m];r[e][g]=!0}}}else{var y=(0,a.possiblePathsFrom)(d,u+1,h);o[e]=o[e].concat(y),(0,s.forEach)(y,function(t){var n=E(t.partialPath);(0,s.forEach)(n,function(t){r[e][t]=!0})})}}},h=0;h<l.length;h++)c(h)}return i}function w(e,t,n,i){var r=new D(e,o.ALTERNATION,i);return t.accept(r),x(r.result,n)}function S(e,t,n,i){var r=new D(e,n);t.accept(r);var o=r.result,s=new v(t,e,n).startWalking();return x([new(0,c.Alternative)({definition:o}),new(0,c.Alternative)({definition:s})],i)}function C(e,t){t:for(var n=0;n<e.length;n++){var i=e[n];if(i.length===t.length){for(var r=0;r<i.length;r++){var o=t[r],s=i[r];if(!1==(o===s||void 0!==s.categoryMatchesMap[o.tokenTypeIdx]))continue t}return!0}}return!1}function F(e,t){return e.length<t.length&&(0,s.every)(e,function(e,n){var i=t[n];return e===i||i.categoryMatchesMap[e.tokenTypeIdx]})}function A(e){return(0,s.every)(e,function(e){return(0,s.every)(e,function(e){return(0,s.every)(e,function(e){return(0,s.isEmpty)(e.categoryMatches)})})})}}),F("ld8c4",function(e,n){t(e.exports,"NextAfterTokenWalker",function(){return l}),t(e.exports,"NextTerminalAfterManyWalker",function(){return h}),t(e.exports,"NextTerminalAfterManySepWalker",function(){return d}),t(e.exports,"NextTerminalAfterAtLeastOneWalker",function(){return p}),t(e.exports,"NextTerminalAfterAtLeastOneSepWalker",function(){return f}),t(e.exports,"possiblePathsFrom",function(){return function e(t,n,i){void 0===i&&(i=[]),i=(0,o.cloneArr)(i);var r=[],s=0;function u(a){var u=e(a.concat((0,o.drop)(t,s+1)),n,i);return r.concat(u)}for(;i.length<n&&s<t.length;){var l=t[s];if(l instanceof a.Alternative)return u(l.definition);if(l instanceof a.NonTerminal)return u(l.definition);if(l instanceof a.Option)r=u(l.definition);else if(l instanceof a.RepetitionMandatory){var c=l.definition.concat([new(0,a.Repetition)({definition:l.definition})]);return u(c)}else if(l instanceof a.RepetitionMandatoryWithSeparator){var c=[new(0,a.Alternative)({definition:l.definition}),new(0,a.Repetition)({definition:[new(0,a.Terminal)({terminalType:l.separator})].concat(l.definition)})];return u(c)}else if(l instanceof a.RepetitionWithSeparator){var c=l.definition.concat([new(0,a.Repetition)({definition:[new(0,a.Terminal)({terminalType:l.separator})].concat(l.definition)})]);r=u(c)}else if(l instanceof a.Repetition){var c=l.definition.concat([new(0,a.Repetition)({definition:l.definition})]);r=u(c)}else if(l instanceof a.Alternation)return(0,o.forEach)(l.definition,function(e){!1===(0,o.isEmpty)(e.definition)&&(r=u(e.definition))}),r;else if(l instanceof a.Terminal)i.push(l.terminalType);else throw Error("non exhaustive match");s++}return r.push({partialPath:i,suffixDef:(0,o.drop)(t,s)}),r}}),t(e.exports,"nextPossibleTokensAfter",function(){return m});var i,r=T("ip5ou"),o=T("5mLYn"),s=T("6BL7Z"),a=T("bbUHG"),u=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.path=n,i.nextTerminalName="",i.nextTerminalOccurrence=0,i.nextTerminalName=i.path.lastTok.name,i.nextTerminalOccurrence=i.path.lastTokOccurrence,i}return u(t,e),t.prototype.walkTerminal=function(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var i=t.concat(n),r=new(0,a.Alternative)({definition:i});this.possibleTokTypes=(0,s.first)(r),this.found=!0}},t}(function(e){function t(t,n){var i=e.call(this)||this;return i.topProd=t,i.path=n,i.possibleTokTypes=[],i.nextProductionName="",i.nextProductionOccurrence=0,i.found=!1,i.isAtEndOfPath=!1,i}return u(t,e),t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,o.cloneArr)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,o.cloneArr)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(t,n){void 0===n&&(n=[]),this.found||e.prototype.walk.call(this,t,n)},t.prototype.walkProdRef=function(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var i=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,i)}},t.prototype.updateExpectedNext=function(){(0,o.isEmpty)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(r.RestWalker)),c=function(e){function t(t,n){var i=e.call(this)||this;return i.topRule=t,i.occurrence=n,i.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},i}return u(t,e),t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(r.RestWalker),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.walkMany=function(t,n,i){if(t.idx===this.occurrence){var r=(0,o.first)(n.concat(i));this.result.isEndOfRule=void 0===r,r instanceof a.Terminal&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else e.prototype.walkMany.call(this,t,n,i)},t}(c),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.walkManySep=function(t,n,i){if(t.idx===this.occurrence){var r=(0,o.first)(n.concat(i));this.result.isEndOfRule=void 0===r,r instanceof a.Terminal&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else e.prototype.walkManySep.call(this,t,n,i)},t}(c),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.walkAtLeastOne=function(t,n,i){if(t.idx===this.occurrence){var r=(0,o.first)(n.concat(i));this.result.isEndOfRule=void 0===r,r instanceof a.Terminal&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else e.prototype.walkAtLeastOne.call(this,t,n,i)},t}(c),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.walkAtLeastOneSep=function(t,n,i){if(t.idx===this.occurrence){var r=(0,o.first)(n.concat(i));this.result.isEndOfRule=void 0===r,r instanceof a.Terminal&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else e.prototype.walkAtLeastOneSep.call(this,t,n,i)},t}(c);function m(e,t,n,i){var r="EXIT_NONE_TERMINAL",s=[r],u="EXIT_ALTERNATIVE",l=!1,c=t.length,h=c-i-1,d=[],p=[];for(p.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!(0,o.isEmpty)(p);){var f=p.pop();if(f===u){l&&(0,o.last)(p).idx<=h&&p.pop();continue}var m=f.def,g=f.idx,y=f.ruleStack,v=f.occurrenceStack;if(!(0,o.isEmpty)(m)){var D=m[0];if(D===r){var b={idx:g,def:(0,o.drop)(m),ruleStack:(0,o.dropRight)(y),occurrenceStack:(0,o.dropRight)(v)};p.push(b)}else if(D instanceof a.Terminal)if(g<c-1){var E=g+1;if(n(t[E],D.terminalType)){var b={idx:E,def:(0,o.drop)(m),ruleStack:y,occurrenceStack:v};p.push(b)}}else if(g===c-1)d.push({nextTokenType:D.terminalType,nextTokenOccurrence:D.idx,ruleStack:y,occurrenceStack:v}),l=!0;else throw Error("non exhaustive match");else if(D instanceof a.NonTerminal){var x=(0,o.cloneArr)(y);x.push(D.nonTerminalName);var w=(0,o.cloneArr)(v);w.push(D.idx);var b={idx:g,def:D.definition.concat(s,(0,o.drop)(m)),ruleStack:x,occurrenceStack:w};p.push(b)}else if(D instanceof a.Option){var S={idx:g,def:(0,o.drop)(m),ruleStack:y,occurrenceStack:v};p.push(S),p.push(u);var C={idx:g,def:D.definition.concat((0,o.drop)(m)),ruleStack:y,occurrenceStack:v};p.push(C)}else if(D instanceof a.RepetitionMandatory){var T=new(0,a.Repetition)({definition:D.definition,idx:D.idx}),F=D.definition.concat([T],(0,o.drop)(m)),b={idx:g,def:F,ruleStack:y,occurrenceStack:v};p.push(b)}else if(D instanceof a.RepetitionMandatoryWithSeparator){var A=new(0,a.Terminal)({terminalType:D.separator}),T=new(0,a.Repetition)({definition:[A].concat(D.definition),idx:D.idx}),F=D.definition.concat([T],(0,o.drop)(m)),b={idx:g,def:F,ruleStack:y,occurrenceStack:v};p.push(b)}else if(D instanceof a.RepetitionWithSeparator){var S={idx:g,def:(0,o.drop)(m),ruleStack:y,occurrenceStack:v};p.push(S),p.push(u);var A=new(0,a.Terminal)({terminalType:D.separator}),k=new(0,a.Repetition)({definition:[A].concat(D.definition),idx:D.idx}),F=D.definition.concat([k],(0,o.drop)(m)),C={idx:g,def:F,ruleStack:y,occurrenceStack:v};p.push(C)}else if(D instanceof a.Repetition){var S={idx:g,def:(0,o.drop)(m),ruleStack:y,occurrenceStack:v};p.push(S),p.push(u);var k=new(0,a.Repetition)({definition:D.definition,idx:D.idx}),F=D.definition.concat([k],(0,o.drop)(m)),C={idx:g,def:F,ruleStack:y,occurrenceStack:v};p.push(C)}else if(D instanceof a.Alternation)for(var _=D.definition.length-1;_>=0;_--){var P={idx:g,def:D.definition[_].definition.concat((0,o.drop)(m)),ruleStack:y,occurrenceStack:v};p.push(P),p.push(u)}else if(D instanceof a.Alternative)p.push({idx:g,def:D.definition.concat((0,o.drop)(m)),ruleStack:y,occurrenceStack:v});else if(D instanceof a.Rule)p.push(function(e,t,n,i){var r=(0,o.cloneArr)(n);r.push(e.name);var s=(0,o.cloneArr)(i);return s.push(1),{idx:t,def:e.definition,ruleStack:r,occurrenceStack:s}}(D,g,y,v));else throw Error("non exhaustive match")}}return d}}),F("8VG34",function(e,n){t(e.exports,"IN_RULE_RECOVERY_EXCEPTION",function(){return l}),t(e.exports,"Recoverable",function(){return h});var i=T("hvAWv"),r=T("5mLYn"),o=T("czA2c"),s=T("kWjNL"),a=T("5qjkp"),u={},l="InRuleRecoveryException";function c(e){this.name=l,this.message=e}c.prototype=Error.prototype;var h=function(){function e(){}return e.prototype.initRecoverable=function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,r.has)(e,"recoveryEnabled")?e.recoveryEnabled:a.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=d)},e.prototype.getTokenToInsert=function(e){var t=(0,i.createTokenInstance)(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t},e.prototype.canTokenTypeBeInsertedInRecovery=function(e){return!0},e.prototype.tryInRepetitionRecovery=function(e,t,n,i){for(var s=this,a=this.findReSyncTokenType(),u=this.exportLexerState(),l=[],c=!1,h=this.LA(1),d=this.LA(1),p=function(){var e=s.LA(0),t=s.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:h,previous:e,ruleName:s.getCurrRuleFullName()}),n=new(0,o.MismatchedTokenException)(t,h,s.LA(0));n.resyncedTokens=(0,r.dropRight)(l),s.SAVE_ERROR(n)};!c;)if(this.tokenMatcher(d,i))return void p();else if(n.call(this)){p(),e.apply(this,t);return}else this.tokenMatcher(d,a)?c=!0:(d=this.SKIP_TOKEN(),this.addToResyncTokens(d,l));this.importLexerState(u)},e.prototype.shouldInRepetitionRecoveryBeTried=function(e,t,n){return!(!1===n||void 0===e||void 0===t||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))},e.prototype.getFollowsForInRuleRecovery=function(e,t){var n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)},e.prototype.tryInRuleRecovery=function(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new c("sad sad panda")},e.prototype.canPerformInRuleRecovery=function(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)},e.prototype.canRecoverWithSingleTokenInsertion=function(e,t){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(e)||(0,r.isEmpty)(t))return!1;var i=this.LA(1);return void 0!==(0,r.find)(t,function(e){return n.tokenMatcher(i,e)})},e.prototype.canRecoverWithSingleTokenDeletion=function(e){return this.tokenMatcher(this.LA(2),e)},e.prototype.isInCurrentRuleReSyncSet=function(e){var t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return(0,r.contains)(n,e)},e.prototype.findReSyncTokenType=function(){for(var e=this.flattenFollowSet(),t=this.LA(1),n=2;;){var i=t.tokenType;if((0,r.contains)(e,i))return i;t=this.LA(n),n++}},e.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return u;var e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}},e.prototype.buildFullFollowKeyStack=function(){var e=this,t=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return(0,r.map)(t,function(i,r){return 0===r?u:{ruleName:e.shortRuleNameToFullName(i),idxInCallingRule:n[r],inRule:e.shortRuleNameToFullName(t[r-1])}})},e.prototype.flattenFollowSet=function(){var e=this,t=(0,r.map)(this.buildFullFollowKeyStack(),function(t){return e.getFollowSetFromFollowKey(t)});return(0,r.flatten)(t)},e.prototype.getFollowSetFromFollowKey=function(e){if(e===u)return[i.EOF];var t=e.ruleName+e.idxInCallingRule+s.IN+e.inRule;return this.resyncFollows[t]},e.prototype.addToResyncTokens=function(e,t){return this.tokenMatcher(e,i.EOF)||t.push(e),t},e.prototype.reSyncTo=function(e){for(var t=[],n=this.LA(1);!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return(0,r.dropRight)(t)},e.prototype.attemptInRepetitionRecovery=function(e,t,n,i,r,o,s){},e.prototype.getCurrentGrammarPath=function(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,r.cloneArr)(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}},e.prototype.getHumanReadableRuleStack=function(){var e=this;return(0,r.map)(this.RULE_STACK,function(t){return e.shortRuleNameToFullName(t)})},e}();function d(e,t,n,r,o,s,a){var u=this.getKeyForAutomaticLookahead(r,o),l=this.firstAfterRepMap[u];if(void 0===l){var c=this.getCurrRuleFullName();l=new s(this.getGAstProductions()[c],o).startWalking(),this.firstAfterRepMap[u]=l}var h=l.token,d=l.occurrence,p=l.isEndOfRule;1===this.RULE_STACK.length&&p&&void 0===h&&(h=i.EOF,d=1),this.shouldInRepetitionRecoveryBeTried(h,d,a)&&this.tryInRepetitionRecovery(e,t,n,h)}}),F("czA2c",function(e,n){t(e.exports,"isRecognitionException",function(){return h}),t(e.exports,"MismatchedTokenException",function(){return p}),t(e.exports,"NoViableAltException",function(){return f}),t(e.exports,"NotAllInputParsedException",function(){return m}),t(e.exports,"EarlyExitException",function(){return g});var i,r=T("5mLYn"),o=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s="MismatchedTokenException",a="NoViableAltException",u="EarlyExitException",l="NotAllInputParsedException",c=[s,a,u,l];function h(e){return(0,r.contains)(c,e.name)}Object.freeze(c);var d=function(e){function t(t,n){var i=this.constructor,r=e.call(this,t)||this;return r.token=n,r.resyncedTokens=[],Object.setPrototypeOf(r,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,r.constructor),r}return o(t,e),t}(Error),p=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.previousToken=i,r.name=s,r}return o(t,e),t}(d),f=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.previousToken=i,r.name=a,r}return o(t,e),t}(d),m=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.name=l,i}return o(t,e),t}(d),g=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.previousToken=i,r.name=u,r}return o(t,e),t}(d)}),F("32FQp",function(e,n){t(e.exports,"LooksAhead",function(){return u});var i=T("1eoLt"),r=T("5mLYn"),o=T("5qjkp"),s=T("ghJuf"),a=T("h6YGr"),u=function(){function e(){}return e.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=(0,r.has)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:o.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=(0,r.has)(e,"maxLookahead")?e.maxLookahead:o.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=(0,r.isES2015MapSupported)()?new Map:[],(0,r.isES2015MapSupported)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},e.prototype.preComputeLookaheadFunctions=function(e){var t=this;(0,r.forEach)(e,function(e){t.TRACE_INIT(e.name+" Rule Lookahead",function(){var n=(0,a.collectMethods)(e),o=n.alternation,u=n.repetition,l=n.option,c=n.repetitionMandatory,h=n.repetitionMandatoryWithSeparator,d=n.repetitionWithSeparator;(0,r.forEach)(o,function(n){var r=0===n.idx?"":n.idx;t.TRACE_INIT(""+(0,a.getProductionDslName)(n)+r,function(){var r=(0,i.buildLookaheadFuncForOr)(n.idx,e,n.maxLookahead||t.maxLookahead,n.hasPredicates,t.dynamicTokensEnabled,t.lookAheadBuilderForAlternatives),o=(0,s.getKeyForAutomaticLookahead)(t.fullRuleNameToShort[e.name],s.OR_IDX,n.idx);t.setLaFuncCache(o,r)})}),(0,r.forEach)(u,function(n){t.computeLookaheadFunc(e,n.idx,s.MANY_IDX,i.PROD_TYPE.REPETITION,n.maxLookahead,(0,a.getProductionDslName)(n))}),(0,r.forEach)(l,function(n){t.computeLookaheadFunc(e,n.idx,s.OPTION_IDX,i.PROD_TYPE.OPTION,n.maxLookahead,(0,a.getProductionDslName)(n))}),(0,r.forEach)(c,function(n){t.computeLookaheadFunc(e,n.idx,s.AT_LEAST_ONE_IDX,i.PROD_TYPE.REPETITION_MANDATORY,n.maxLookahead,(0,a.getProductionDslName)(n))}),(0,r.forEach)(h,function(n){t.computeLookaheadFunc(e,n.idx,s.AT_LEAST_ONE_SEP_IDX,i.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,(0,a.getProductionDslName)(n))}),(0,r.forEach)(d,function(n){t.computeLookaheadFunc(e,n.idx,s.MANY_SEP_IDX,i.PROD_TYPE.REPETITION_WITH_SEPARATOR,n.maxLookahead,(0,a.getProductionDslName)(n))})})})},e.prototype.computeLookaheadFunc=function(e,t,n,r,o,a){var u=this;this.TRACE_INIT(""+a+(0===t?"":t),function(){var a=(0,i.buildLookaheadFuncForOptionalProd)(t,e,o||u.maxLookahead,u.dynamicTokensEnabled,r,u.lookAheadBuilderForOptional),l=(0,s.getKeyForAutomaticLookahead)(u.fullRuleNameToShort[e.name],n,t);u.setLaFuncCache(l,a)})},e.prototype.lookAheadBuilderForOptional=function(e,t,n){return(0,i.buildSingleAlternativeLookaheadFunction)(e,t,n)},e.prototype.lookAheadBuilderForAlternatives=function(e,t,n,r){return(0,i.buildAlternativesLookAheadFunc)(e,t,n,r)},e.prototype.getKeyForAutomaticLookahead=function(e,t){var n=this.getLastExplicitRuleShortName();return(0,s.getKeyForAutomaticLookahead)(n,e,t)},e.prototype.getLaFuncFromCache=function(e){},e.prototype.getLaFuncFromMap=function(e){return this.lookAheadFuncsCache.get(e)},e.prototype.getLaFuncFromObj=function(e){return this.lookAheadFuncsCache[e]},e.prototype.setLaFuncCache=function(e,t){},e.prototype.setLaFuncCacheUsingMap=function(e,t){this.lookAheadFuncsCache.set(e,t)},e.prototype.setLaFuncUsingObj=function(e,t){this.lookAheadFuncsCache[e]=t},e}()}),F("ghJuf",function(e,n){t(e.exports,"BITS_FOR_METHOD_TYPE",function(){return i}),t(e.exports,"BITS_FOR_OCCURRENCE_IDX",function(){return r}),t(e.exports,"OR_IDX",function(){return o}),t(e.exports,"OPTION_IDX",function(){return s}),t(e.exports,"MANY_IDX",function(){return a}),t(e.exports,"AT_LEAST_ONE_IDX",function(){return u}),t(e.exports,"MANY_SEP_IDX",function(){return l}),t(e.exports,"AT_LEAST_ONE_SEP_IDX",function(){return c}),t(e.exports,"getKeyForAutomaticLookahead",function(){return h});var i=4,r=8,o=256,s=512,a=768,u=1024,l=1280,c=1536;function h(e,t,n){return n|t|e}}),F("8zxTb",function(e,n){t(e.exports,"TreeBuilder",function(){return a});var i=T("3QJ7L"),r=T("5mLYn"),o=T("1ajIG"),s=T("5qjkp"),a=function(){function e(){}return e.prototype.initTreeBuilder=function(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=(0,r.has)(e,"nodeLocationTracking")?e.nodeLocationTracking:s.DEFAULT_PARSER_CONFIG.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=i.setNodeLocationFull,this.setNodeLocationFromNode=i.setNodeLocationFull,this.cstPostRule=r.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=r.NOOP,this.setNodeLocationFromNode=r.NOOP,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=i.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=i.setNodeLocationOnlyOffset,this.cstPostRule=r.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=r.NOOP,this.setNodeLocationFromNode=r.NOOP,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=r.NOOP,this.setNodeLocationFromNode=r.NOOP,this.cstPostRule=r.NOOP,this.setInitialNodeLocation=r.NOOP;else throw Error('Invalid <nodeLocationTracking> config option: "'+e.nodeLocationTracking+'"');else this.cstInvocationStateUpdate=r.NOOP,this.cstFinallyStateUpdate=r.NOOP,this.cstPostTerminal=r.NOOP,this.cstPostNonTerminal=r.NOOP,this.cstPostRule=r.NOOP},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(e){e.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstInvocationStateUpdate=function(e,t){var n={name:e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},e.prototype.cstPostRuleFull=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==!0?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==!0?n.endOffset=t.endOffset:n.startOffset=NaN},e.prototype.cstPostTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];(0,i.addTerminalToCst)(n,t,e),this.setNodeLocationFromToken(n.location,t)},e.prototype.cstPostNonTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];(0,i.addNoneTerminalToCst)(n,t,e),this.setNodeLocationFromNode(n.location,e.location)},e.prototype.getBaseCstVisitorConstructor=function(){if((0,r.isUndefined)(this.baseCstVisitorConstructor)){var e=(0,o.createBaseSemanticVisitorConstructor)(this.className,(0,r.keys)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,r.isUndefined)(this.baseCstVisitorWithDefaultsConstructor)){var e=(0,o.createBaseVisitorConstructorWithDefaults)(this.className,(0,r.keys)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.getLastExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]},e}()}),F("3QJ7L",function(e,n){function i(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset)}function r(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function o(e,t,n){void 0===e.children[n]?e.children[n]=[t]:e.children[n].push(t)}function s(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}t(e.exports,"setNodeLocationOnlyOffset",function(){return i}),t(e.exports,"setNodeLocationFull",function(){return r}),t(e.exports,"addTerminalToCst",function(){return o}),t(e.exports,"addNoneTerminalToCst",function(){return s})}),F("1ajIG",function(e,n){t(e.exports,"createBaseSemanticVisitorConstructor",function(){return u}),t(e.exports,"createBaseVisitorConstructorWithDefaults",function(){return l});var i,r,o=T("5mLYn"),s=T("25eU6");function a(e,t){for(var n=(0,o.keys)(e),i=n.length,r=0;r<i;r++)for(var s=e[n[r]],a=s.length,u=0;u<a;u++){var l=s[u];void 0===l.tokenTypeIdx&&this[l.name](l.children,t)}}function u(e,t){var n=function(){};return(0,s.defineNameProp)(n,e+"BaseSemantics"),n.prototype={visit:function(e,t){if((0,o.isArray)(e)&&(e=e[0]),!(0,o.isUndefined)(e))return this[e.name](e.children,t)},validateVisitor:function(){var e,n,i,a,u,l,h,d=(e=this,n=t,l=(i=e,a=n,u=(0,o.map)(a,function(e){if(!(0,o.isFunction)(i[e]))return{msg:"Missing visitor method: <"+e+"> on "+(0,s.functionName)(i.constructor)+" CST Visitor.",type:r.MISSING_METHOD,methodName:e}}),(0,o.compact)(u)),h=function(e,t){var n=[];for(var i in e)!(0,o.isFunction)(e[i])||(0,o.contains)(c,i)||(0,o.contains)(t,i)||n.push({msg:"Redundant visitor method: <"+i+"> on "+(0,s.functionName)(e.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\n",type:r.REDUNDANT_METHOD,methodName:i});return n}(e,n),l.concat(h));if(!(0,o.isEmpty)(d)){var p=(0,o.map)(d,function(e){return e.msg});throw Error("Errors Detected in CST Visitor <"+(0,s.functionName)(this.constructor)+">:\n	"+p.join("\n\n").replace(/\n/g,"\n	"))}}},n.prototype.constructor=n,n._RULE_NAMES=t,n}function l(e,t,n){var i=function(){};(0,s.defineNameProp)(i,e+"BaseSemanticsWithDefaults");var r=Object.create(n.prototype);return(0,o.forEach)(t,function(e){r[e]=a}),i.prototype=r,i.prototype.constructor=i,i}(i=r||(r={}))[i.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",i[i.MISSING_METHOD=1]="MISSING_METHOD";var c=["constructor","visit","validateVisitor"]}),F("25eU6",function(e,n){t(e.exports,"classNameFromInstance",function(){return r}),t(e.exports,"functionName",function(){return s}),t(e.exports,"defineNameProp",function(){return a});var i=T("5mLYn");function r(e){return s(e.constructor)}var o="name";function s(e){var t=e.name;return t||"anonymous"}function a(e,t){var n=Object.getOwnPropertyDescriptor(e,o);return(!!(0,i.isUndefined)(n)||!!n.configurable)&&(Object.defineProperty(e,o,{enumerable:!1,configurable:!0,writable:!1,value:t}),!0)}}),F("awxar",function(e,n){t(e.exports,"LexerAdapter",function(){return r});var i=T("5qjkp"),r=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length},enumerable:!1,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):i.END_OF_FILE},e.prototype.LA=function(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?i.END_OF_FILE:this.tokVector[t]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(e){this.currIdx=e},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}()}),F("lzzFw",function(e,n){t(e.exports,"RecognizerApi",function(){return l});var i=T("5mLYn"),r=T("czA2c"),o=T("5qjkp"),s=T("hUgka"),a=T("5hnkq"),u=T("bbUHG"),l=function(){function e(){}return e.prototype.ACTION=function(e){return e.call(this)},e.prototype.consume=function(e,t,n){return this.consumeInternal(t,e,n)},e.prototype.subrule=function(e,t,n){return this.subruleInternal(t,e,n)},e.prototype.option=function(e,t){return this.optionInternal(t,e)},e.prototype.or=function(e,t){return this.orInternal(t,e)},e.prototype.many=function(e,t){return this.manyInternal(e,t)},e.prototype.atLeastOne=function(e,t){return this.atLeastOneInternal(e,t)},e.prototype.CONSUME=function(e,t){return this.consumeInternal(e,0,t)},e.prototype.CONSUME1=function(e,t){return this.consumeInternal(e,1,t)},e.prototype.CONSUME2=function(e,t){return this.consumeInternal(e,2,t)},e.prototype.CONSUME3=function(e,t){return this.consumeInternal(e,3,t)},e.prototype.CONSUME4=function(e,t){return this.consumeInternal(e,4,t)},e.prototype.CONSUME5=function(e,t){return this.consumeInternal(e,5,t)},e.prototype.CONSUME6=function(e,t){return this.consumeInternal(e,6,t)},e.prototype.CONSUME7=function(e,t){return this.consumeInternal(e,7,t)},e.prototype.CONSUME8=function(e,t){return this.consumeInternal(e,8,t)},e.prototype.CONSUME9=function(e,t){return this.consumeInternal(e,9,t)},e.prototype.SUBRULE=function(e,t){return this.subruleInternal(e,0,t)},e.prototype.SUBRULE1=function(e,t){return this.subruleInternal(e,1,t)},e.prototype.SUBRULE2=function(e,t){return this.subruleInternal(e,2,t)},e.prototype.SUBRULE3=function(e,t){return this.subruleInternal(e,3,t)},e.prototype.SUBRULE4=function(e,t){return this.subruleInternal(e,4,t)},e.prototype.SUBRULE5=function(e,t){return this.subruleInternal(e,5,t)},e.prototype.SUBRULE6=function(e,t){return this.subruleInternal(e,6,t)},e.prototype.SUBRULE7=function(e,t){return this.subruleInternal(e,7,t)},e.prototype.SUBRULE8=function(e,t){return this.subruleInternal(e,8,t)},e.prototype.SUBRULE9=function(e,t){return this.subruleInternal(e,9,t)},e.prototype.OPTION=function(e){return this.optionInternal(e,0)},e.prototype.OPTION1=function(e){return this.optionInternal(e,1)},e.prototype.OPTION2=function(e){return this.optionInternal(e,2)},e.prototype.OPTION3=function(e){return this.optionInternal(e,3)},e.prototype.OPTION4=function(e){return this.optionInternal(e,4)},e.prototype.OPTION5=function(e){return this.optionInternal(e,5)},e.prototype.OPTION6=function(e){return this.optionInternal(e,6)},e.prototype.OPTION7=function(e){return this.optionInternal(e,7)},e.prototype.OPTION8=function(e){return this.optionInternal(e,8)},e.prototype.OPTION9=function(e){return this.optionInternal(e,9)},e.prototype.OR=function(e){return this.orInternal(e,0)},e.prototype.OR1=function(e){return this.orInternal(e,1)},e.prototype.OR2=function(e){return this.orInternal(e,2)},e.prototype.OR3=function(e){return this.orInternal(e,3)},e.prototype.OR4=function(e){return this.orInternal(e,4)},e.prototype.OR5=function(e){return this.orInternal(e,5)},e.prototype.OR6=function(e){return this.orInternal(e,6)},e.prototype.OR7=function(e){return this.orInternal(e,7)},e.prototype.OR8=function(e){return this.orInternal(e,8)},e.prototype.OR9=function(e){return this.orInternal(e,9)},e.prototype.MANY=function(e){this.manyInternal(0,e)},e.prototype.MANY1=function(e){this.manyInternal(1,e)},e.prototype.MANY2=function(e){this.manyInternal(2,e)},e.prototype.MANY3=function(e){this.manyInternal(3,e)},e.prototype.MANY4=function(e){this.manyInternal(4,e)},e.prototype.MANY5=function(e){this.manyInternal(5,e)},e.prototype.MANY6=function(e){this.manyInternal(6,e)},e.prototype.MANY7=function(e){this.manyInternal(7,e)},e.prototype.MANY8=function(e){this.manyInternal(8,e)},e.prototype.MANY9=function(e){this.manyInternal(9,e)},e.prototype.MANY_SEP=function(e){this.manySepFirstInternal(0,e)},e.prototype.MANY_SEP1=function(e){this.manySepFirstInternal(1,e)},e.prototype.MANY_SEP2=function(e){this.manySepFirstInternal(2,e)},e.prototype.MANY_SEP3=function(e){this.manySepFirstInternal(3,e)},e.prototype.MANY_SEP4=function(e){this.manySepFirstInternal(4,e)},e.prototype.MANY_SEP5=function(e){this.manySepFirstInternal(5,e)},e.prototype.MANY_SEP6=function(e){this.manySepFirstInternal(6,e)},e.prototype.MANY_SEP7=function(e){this.manySepFirstInternal(7,e)},e.prototype.MANY_SEP8=function(e){this.manySepFirstInternal(8,e)},e.prototype.MANY_SEP9=function(e){this.manySepFirstInternal(9,e)},e.prototype.AT_LEAST_ONE=function(e){this.atLeastOneInternal(0,e)},e.prototype.AT_LEAST_ONE1=function(e){return this.atLeastOneInternal(1,e)},e.prototype.AT_LEAST_ONE2=function(e){this.atLeastOneInternal(2,e)},e.prototype.AT_LEAST_ONE3=function(e){this.atLeastOneInternal(3,e)},e.prototype.AT_LEAST_ONE4=function(e){this.atLeastOneInternal(4,e)},e.prototype.AT_LEAST_ONE5=function(e){this.atLeastOneInternal(5,e)},e.prototype.AT_LEAST_ONE6=function(e){this.atLeastOneInternal(6,e)},e.prototype.AT_LEAST_ONE7=function(e){this.atLeastOneInternal(7,e)},e.prototype.AT_LEAST_ONE8=function(e){this.atLeastOneInternal(8,e)},e.prototype.AT_LEAST_ONE9=function(e){this.atLeastOneInternal(9,e)},e.prototype.AT_LEAST_ONE_SEP=function(e){this.atLeastOneSepFirstInternal(0,e)},e.prototype.AT_LEAST_ONE_SEP1=function(e){this.atLeastOneSepFirstInternal(1,e)},e.prototype.AT_LEAST_ONE_SEP2=function(e){this.atLeastOneSepFirstInternal(2,e)},e.prototype.AT_LEAST_ONE_SEP3=function(e){this.atLeastOneSepFirstInternal(3,e)},e.prototype.AT_LEAST_ONE_SEP4=function(e){this.atLeastOneSepFirstInternal(4,e)},e.prototype.AT_LEAST_ONE_SEP5=function(e){this.atLeastOneSepFirstInternal(5,e)},e.prototype.AT_LEAST_ONE_SEP6=function(e){this.atLeastOneSepFirstInternal(6,e)},e.prototype.AT_LEAST_ONE_SEP7=function(e){this.atLeastOneSepFirstInternal(7,e)},e.prototype.AT_LEAST_ONE_SEP8=function(e){this.atLeastOneSepFirstInternal(8,e)},e.prototype.AT_LEAST_ONE_SEP9=function(e){this.atLeastOneSepFirstInternal(9,e)},e.prototype.RULE=function(e,t,n){if(void 0===n&&(n=o.DEFAULT_RULE_CONFIG),(0,i.contains)(this.definedRulesNames,e)){var r={message:s.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:o.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(r)}this.definedRulesNames.push(e);var a=this.defineRule(e,t,n);return this[e]=a,a},e.prototype.OVERRIDE_RULE=function(e,t,n){void 0===n&&(n=o.DEFAULT_RULE_CONFIG);var i=[];i=i.concat((0,a.validateRuleIsOverridden)(e,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,i);var r=this.defineRule(e,t,n);return this[e]=r,r},e.prototype.BACKTRACK=function(e,t){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if((0,r.isRecognitionException)(e))return!1;throw e}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return(0,u.serializeGrammar)((0,i.values)(this.gastProductionsCache))},e}()}),F("1gH4Q",function(e,n){t(e.exports,"RecognizerEngine",function(){return p});var i=T("5mLYn"),r=T("ghJuf"),o=T("czA2c"),s=T("1eoLt"),a=T("ld8c4"),u=T("5qjkp"),l=T("8VG34"),c=T("hvAWv"),h=T("6UThq"),d=T("25eU6"),p=function(){function e(){}return e.prototype.initRecognizerEngine=function(e,t){if(this.className=(0,d.classNameFromInstance)(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=h.tokenStructuredMatcherNoCategories,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,i.has)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n	See: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n	For Further details.");if((0,i.isArray)(e)){if((0,i.isEmpty)(e))throw Error("A Token Vocabulary cannot be empty.\n	Note that the first argument for the parser constructor\n	is no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n	See: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n	For Further details.")}if((0,i.isArray)(e))this.tokensMap=(0,i.reduce)(e,function(e,t){return e[t.name]=t,e},{});else if((0,i.has)(e,"modes")&&(0,i.every)((0,i.flatten)((0,i.values)(e.modes)),h.isTokenType)){var n=(0,i.flatten)((0,i.values)(e.modes)),r=(0,i.uniq)(n);this.tokensMap=(0,i.reduce)(r,function(e,t){return e[t.name]=t,e},{})}else if((0,i.isObject)(e))this.tokensMap=(0,i.cloneObj)(e);else throw Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=c.EOF;var o=(0,i.every)((0,i.values)(e),function(e){return(0,i.isEmpty)(e.categoryMatches)});this.tokenMatcher=o?h.tokenStructuredMatcherNoCategories:h.tokenStructuredMatcher,(0,h.augmentTokenTypes)((0,i.values)(this.tokensMap))},e.prototype.defineRule=function(e,t,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+e+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var o,s=(0,i.has)(n,"resyncEnabled")?n.resyncEnabled:u.DEFAULT_RULE_CONFIG.resyncEnabled,a=(0,i.has)(n,"recoveryValueFunc")?n.recoveryValueFunc:u.DEFAULT_RULE_CONFIG.recoveryValueFunc,l=this.ruleShortNameIdx<<r.BITS_FOR_METHOD_TYPE+r.BITS_FOR_OCCURRENCE_IDX;function c(e){try{if(!0!==this.outputCst)return t.apply(this,e);t.apply(this,e);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}catch(e){return this.invokeRuleCatch(e,s,a)}finally{this.ruleFinallyStateUpdate()}}return this.ruleShortNameIdx++,this.shortRuleNameToFull[l]=e,this.fullRuleNameToShort[e]=l,(o=function(t,n){return void 0===t&&(t=0),this.ruleInvocationStateUpdate(l,e,t),c.call(this,n)}).ruleName=e,o.originalGrammarAction=t,o},e.prototype.invokeRuleCatch=function(e,t,n){var i=1===this.RULE_STACK.length,r=t&&!this.isBackTracking()&&this.recoveryEnabled;if((0,o.isRecognitionException)(e)){if(r){var s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s)){if(e.resyncedTokens=this.reSyncTo(s),!this.outputCst)return n();var a=this.CST_STACK[this.CST_STACK.length-1];return a.recoveredNode=!0,a}if(this.outputCst){var a=this.CST_STACK[this.CST_STACK.length-1];a.recoveredNode=!0,e.partialCstResult=a}throw e}if(i)return this.moveToTerminatedState(),n()}throw e},e.prototype.optionInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(r.OPTION_IDX,t);return this.optionInternalLogic(e,t,n)},e.prototype.optionInternalLogic=function(e,t,n){var i,r,o=this,s=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(i=e.DEF,void 0!==(r=e.GATE)){var a=s;s=function(){return r.call(o)&&a.call(o)}}}else i=e;if(!0===s.call(this))return i.call(this)},e.prototype.atLeastOneInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(r.AT_LEAST_ONE_IDX,e);return this.atLeastOneInternalLogic(e,t,n)},e.prototype.atLeastOneInternalLogic=function(e,t,n){var i,o,u=this,l=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(i=t.DEF,void 0!==(o=t.GATE)){var c=l;l=function(){return o.call(u)&&c.call(u)}}}else i=t;if(!0===l.call(this))for(var h=this.doSingleRepetition(i);!0===l.call(this)&&!0===h;)h=this.doSingleRepetition(i);else throw this.raiseEarlyExitException(e,s.PROD_TYPE.REPETITION_MANDATORY,t.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],l,r.AT_LEAST_ONE_IDX,e,a.NextTerminalAfterAtLeastOneWalker)},e.prototype.atLeastOneSepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(r.AT_LEAST_ONE_SEP_IDX,e);this.atLeastOneSepFirstInternalLogic(e,t,n)},e.prototype.atLeastOneSepFirstInternalLogic=function(e,t,n){var i=this,o=t.DEF,u=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){o.call(this);for(var l=function(){return i.tokenMatcher(i.LA(1),u)};!0===this.tokenMatcher(this.LA(1),u);)this.CONSUME(u),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,u,l,o,a.NextTerminalAfterAtLeastOneSepWalker],l,r.AT_LEAST_ONE_SEP_IDX,e,a.NextTerminalAfterAtLeastOneSepWalker)}else throw this.raiseEarlyExitException(e,s.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG)},e.prototype.manyInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(r.MANY_IDX,e);return this.manyInternalLogic(e,t,n)},e.prototype.manyInternalLogic=function(e,t,n){var i,o,s=this,u=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(i=t.DEF,void 0!==(o=t.GATE)){var l=u;u=function(){return o.call(s)&&l.call(s)}}}else i=t;for(var c=!0;!0===u.call(this)&&!0===c;)c=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],u,r.MANY_IDX,e,a.NextTerminalAfterManyWalker,c)},e.prototype.manySepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(r.MANY_SEP_IDX,e);this.manySepFirstInternalLogic(e,t,n)},e.prototype.manySepFirstInternalLogic=function(e,t,n){var i=this,o=t.DEF,s=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){o.call(this);for(var u=function(){return i.tokenMatcher(i.LA(1),s)};!0===this.tokenMatcher(this.LA(1),s);)this.CONSUME(s),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,u,o,a.NextTerminalAfterManySepWalker],u,r.MANY_SEP_IDX,e,a.NextTerminalAfterManySepWalker)}},e.prototype.repetitionSepSecondInternal=function(e,t,n,i,o){for(;n();)this.CONSUME(t),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,i,o],n,r.AT_LEAST_ONE_SEP_IDX,e,o)},e.prototype.doSingleRepetition=function(e){var t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t},e.prototype.orInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(r.OR_IDX,t),o=(0,i.isArray)(e)?e:e.DEF,s=this.getLaFuncFromCache(n).call(this,o);if(void 0!==s)return o[s].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new(0,o.NotAllInputParsedException)(t,e))}},e.prototype.subruleInternal=function(e,t,n){var i;try{var r=void 0!==n?n.ARGS:void 0;return i=e.call(this,t,r),this.cstPostNonTerminal(i,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),i}catch(t){this.subruleInternalError(t,n,e.ruleName)}},e.prototype.subruleInternalError=function(e,t,n){throw(0,o.isRecognitionException)(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e},e.prototype.consumeInternal=function(e,t,n){var i;try{var r=this.LA(1);!0===this.tokenMatcher(r,e)?(this.consumeToken(),i=r):this.consumeInternalError(e,r,n)}catch(n){i=this.consumeInternalRecovery(e,t,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,i),i},e.prototype.consumeInternalError=function(e,t,n){var i,r=this.LA(0);throw i=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new(0,o.MismatchedTokenException)(i,t,r))},e.prototype.consumeInternalRecovery=function(e,t,n){if(this.recoveryEnabled&&"MismatchedTokenException"===n.name&&!this.isBackTracking()){var i=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,i)}catch(e){if(e.name===l.IN_RULE_RECOVERY_EXCEPTION)throw n;throw e}}throw n},e.prototype.saveRecogState=function(){var e=this.errors,t=(0,i.cloneArr)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}},e.prototype.reloadRecogState=function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t,e)},e.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},e.prototype.getCurrRuleFullName=function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]},e.prototype.shortRuleNameToFullName=function(e){return this.shortRuleNameToFull[e]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),c.EOF)},e.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}()}),F("dBSuc",function(e,n){t(e.exports,"ErrorHandler",function(){return a});var i=T("czA2c"),r=T("5mLYn"),o=T("1eoLt"),s=T("5qjkp"),a=function(){function e(){}return e.prototype.initErrorHandler=function(e){this._errors=[],this.errorMessageProvider=(0,r.has)(e,"errorMessageProvider")?e.errorMessageProvider:s.DEFAULT_PARSER_CONFIG.errorMessageProvider},e.prototype.SAVE_ERROR=function(e){if((0,i.isRecognitionException)(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,r.cloneArr)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return(0,r.cloneArr)(this._errors)},set:function(e){this._errors=e},enumerable:!1,configurable:!0}),e.prototype.raiseEarlyExitException=function(e,t,n){for(var r=this.getCurrRuleFullName(),s=this.getGAstProductions()[r],a=(0,o.getLookaheadPathsForOptionalProd)(e,s,t,this.maxLookahead)[0],u=[],l=1;l<=this.maxLookahead;l++)u.push(this.LA(l));var c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:u,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new(0,i.EarlyExitException)(c,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(e,t){for(var n=this.getCurrRuleFullName(),r=this.getGAstProductions()[n],s=(0,o.getLookaheadPathsForOr)(e,r,this.maxLookahead),a=[],u=1;u<=this.maxLookahead;u++)a.push(this.LA(u));var l=this.LA(0),c=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:a,previous:l,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new(0,i.NoViableAltException)(c,this.LA(1),l))},e}()}),F("e17bs",function(e,n){t(e.exports,"ContentAssist",function(){return o});var i=T("ld8c4"),r=T("5mLYn"),o=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(e,t){var n=this.gastProductionsCache[e];if((0,r.isUndefined)(n))throw Error("Rule ->"+e+"<- does not exist in this grammar.");return(0,i.nextPossibleTokensAfter)([n],t,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(e){var t=(0,r.first)(e.ruleStack),n=this.getGAstProductions()[t];return new(0,i.NextAfterTokenWalker)(n,e).startWalking()},e}()}),F("hsTas",function(e,n){t(e.exports,"GastRecorder",function(){return m});var i=T("5mLYn"),r=T("bbUHG"),o=T("eSJX3"),s=T("6UThq"),a=T("hvAWv"),u=T("5qjkp"),l=T("ghJuf"),c={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(c);var h=Math.pow(2,l.BITS_FOR_OCCURRENCE_IDX)-1,d=(0,a.createToken)({name:"RECORDING_PHASE_TOKEN",pattern:o.Lexer.NA});(0,s.augmentTokenTypes)([d]);var p=(0,a.createTokenInstance)(d,"This IToken indicates the Parser is in Recording Phase\n	See: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(p);var f={name:"This CSTNode indicates the Parser is in Recording Phase\n	See: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},m=function(){function e(){}return e.prototype.initGastRecorder=function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var t=function(t){var n=t>0?t:"";e["CONSUME"+n]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE"+n]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION"+n]=function(e){return this.optionInternalRecord(e,t)},e["OR"+n]=function(e){return this.orInternalRecord(e,t)},e["MANY"+n]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP"+n]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE"+n]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP"+n]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},n=0;n<10;n++)t(n);e.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},e.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},e.option=function(e,t){return this.optionInternalRecord(t,e)},e.or=function(e,t){return this.orInternalRecord(t,e)},e.many=function(e,t){this.manyInternalRecord(e,t)},e.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD})},e.prototype.disableRecording=function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var t=0;t<10;t++){var n=t>0?t:"";delete e["CONSUME"+n],delete e["SUBRULE"+n],delete e["OPTION"+n],delete e["OR"+n],delete e["MANY"+n],delete e["MANY_SEP"+n],delete e["AT_LEAST_ONE"+n],delete e["AT_LEAST_ONE_SEP"+n]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})},e.prototype.ACTION_RECORD=function(e){},e.prototype.BACKTRACK_RECORD=function(e,t){return function(){return!0}},e.prototype.LA_RECORD=function(e){return u.END_OF_FILE},e.prototype.topLevelRuleRecord=function(e,t){try{var n=new(0,r.Rule)({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(e){if(!0!==e.KNOWN_RECORDER_ERROR)try{e.message=e.message+'\n	 This error was thrown during the "grammar recording phase" For more info see:\n	https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(e){}throw e}},e.prototype.optionInternalRecord=function(e,t){return g.call(this,r.Option,e,t)},e.prototype.atLeastOneInternalRecord=function(e,t){g.call(this,r.RepetitionMandatory,t,e)},e.prototype.atLeastOneSepFirstInternalRecord=function(e,t){g.call(this,r.RepetitionMandatoryWithSeparator,t,e,!0)},e.prototype.manyInternalRecord=function(e,t){g.call(this,r.Repetition,t,e)},e.prototype.manySepFirstInternalRecord=function(e,t){g.call(this,r.RepetitionWithSeparator,t,e,!0)},e.prototype.orInternalRecord=function(e,t){return y.call(this,e,t)},e.prototype.subruleInternalRecord=function(e,t,n){if(D(t),!e||!1===(0,i.has)(e,"ruleName")){var o=Error("<SUBRULE"+v(t)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw o.KNOWN_RECORDER_ERROR=!0,o}var s=(0,i.peek)(this.recordingProdStack),a=e.ruleName,u=new(0,r.NonTerminal)({idx:t,nonTerminalName:a,referencedRule:void 0});return s.definition.push(u),this.outputCst?f:c},e.prototype.consumeInternalRecord=function(e,t,n){if(D(t),!(0,s.hasShortKeyProperty)(e)){var o=Error("<CONSUME"+v(t)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw o.KNOWN_RECORDER_ERROR=!0,o}var a=(0,i.peek)(this.recordingProdStack),u=new(0,r.Terminal)({idx:t,terminalType:e});return a.definition.push(u),p},e}();function g(e,t,n,r){void 0===r&&(r=!1),D(n);var o=(0,i.peek)(this.recordingProdStack),s=(0,i.isFunction)(t)?t:t.DEF,a=new e({definition:[],idx:n});return r&&(a.separator=t.SEP),(0,i.has)(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),o.definition.push(a),this.recordingProdStack.pop(),c}function y(e,t){var n=this;D(t);var o=(0,i.peek)(this.recordingProdStack),s=!1===(0,i.isArray)(e),a=!1===s?e:e.DEF,u=new(0,r.Alternation)({definition:[],idx:t,ignoreAmbiguities:s&&!0===e.IGNORE_AMBIGUITIES});return(0,i.has)(e,"MAX_LOOKAHEAD")&&(u.maxLookahead=e.MAX_LOOKAHEAD),u.hasPredicates=(0,i.some)(a,function(e){return(0,i.isFunction)(e.GATE)}),o.definition.push(u),(0,i.forEach)(a,function(e){var t=new(0,r.Alternative)({definition:[]});u.definition.push(t),(0,i.has)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:(0,i.has)(e,"GATE")&&(t.ignoreAmbiguities=!0),n.recordingProdStack.push(t),e.ALT.call(n),n.recordingProdStack.pop()}),c}function v(e){return 0===e?"":""+e}function D(e){if(e<0||e>h){var t=Error("Invalid DSL Method idx value: <"+e+">\n	Idx value must be a none negative value smaller than "+(h+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}}),F("dBicR",function(e,n){t(e.exports,"PerformanceTracer",function(){return o});var i=T("5mLYn"),r=T("5qjkp"),o=function(){function e(){}return e.prototype.initPerformanceTracer=function(e){if((0,i.has)(e,"traceInitPerf")){var t=e.traceInitPerf,n="number"==typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=r.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(e,t){if(!0!==this.traceInitPerf)return t();this.traceInitIndent++;var n=Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=(0,i.timer)(t),o=r.time,s=r.value,a=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,s},e}()}),F("IrQ3e",function(e,n){t(e.exports,"createSyntaxDiagramsCode",function(){return r});var i=T("eMKuy");function r(e,t){var n=void 0===t?{}:t,r=n.resourceBase,o=void 0===r?"https://unpkg.com/chevrotain@"+i.VERSION+"/diagrams/":r,s=n.css;return"\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset=\"utf-8\">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n\n<link rel='stylesheet' href='"+(void 0===s?"https://unpkg.com/chevrotain@"+i.VERSION+"/diagrams/diagrams.css":s)+"'>\n"+("\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(e,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}}),F("an09V",function(e,n){t(e.exports,"generateParserFactory",function(){return r}),t(e.exports,"generateParserModule",function(){return o});var i=T("6PmUo");function r(e){var t=Function("tokenVocabulary","config","chevrotain",(0,i.genWrapperFunction)({name:e.name,rules:e.rules}));return function(n){return t(e.tokenVocabulary,n,T("33Mmf"))}}function o(e){return(0,i.genUmdModule)({name:e.name,rules:e.rules})}}),F("6PmUo",function(e,n){t(e.exports,"genUmdModule",function(){return o}),t(e.exports,"genWrapperFunction",function(){return s});var i=T("5mLYn"),r=T("bbUHG");function o(e){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+a(e)+"\n    \nreturn {\n    "+e.name+": "+e.name+" \n}\n}));\n"}function s(e){return"    \n"+a(e)+"\nreturn new "+e.name+"(tokenVocabulary, config)    \n"}function a(e){var t;return"\nfunction "+e.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+(t=e.rules,(0,i.map)(t,function(e){var t,n,i;return n=1,i=h(1,'$.RULE("'+(t=e).name+'", function() {')+"\n"+c(t.definition,n+1)+(h(n+1,"})")+"\n")}).join("\n"))+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+e.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+e.name+".prototype.constructor = "+e.name+"    \n    "}function u(e,t,n){var i=h(n,"$."+(e+t.idx)+"(");return t.separator?(i+="{\n",i+=h(n+1,"SEP: this.tokensMap."+t.separator.name)+",\n",i+="DEF: "+l(t.definition,n+2)+"\n",i+=h(n,"}")+"\n"):i+=l(t.definition,n+1),i+=h(n,")")+"\n"}function l(e,t){var n="function() {\n";return n+=c(e,t),n+=h(t,"}")+"\n"}function c(e,t){var n="";return(0,i.forEach)(e,function(e){n+=function(e,t){var n;if(e instanceof r.NonTerminal)return h(t,"$.SUBRULE"+e.idx+"($."+e.nonTerminalName+")\n");if(e instanceof r.Option)return u("OPTION",e,t);if(e instanceof r.RepetitionMandatory)return u("AT_LEAST_ONE",e,t);if(e instanceof r.RepetitionMandatoryWithSeparator)return u("AT_LEAST_ONE_SEP",e,t);if(e instanceof r.RepetitionWithSeparator)return u("MANY_SEP",e,t);else if(e instanceof r.Repetition)return u("MANY",e,t);else if(e instanceof r.Alternation)return h(t,"$.OR"+e.idx+"([")+"\n"+(0,i.map)(e.definition,function(e){var n,i,r;return n=e,r=h(i=t+1,"{")+"\n"+(h(i+1,"ALT: function() {")+"\n")+c(n.definition,i+1)+(h(i+1,"}")+"\n")+h(i,"}")}).join(",\n")+"\n"+h(t,"])\n");else if(e instanceof r.Terminal)return n=e.terminalType.name,h(t,"$.CONSUME"+e.idx+"(this.tokensMap."+n+")\n");else if(e instanceof r.Alternative)return c(e.definition,t);else throw Error("non exhaustive match")}(e,t+1)}),n}function h(e,t){return Array(4*e+1).join(" ")+t}}),F("880tM",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}}return t.default=e,t}(T("9gSx8"));function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=T("1SgHS").join("node_modules/text-to-svg/build/src","../fonts/ipag.ttf"),o=function(){var e,t;function o(e){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");this.font=e}return e=[{key:"getWidth",value:function(e,t){for(var n=t.fontSize||72,i=!("kerning"in t)||t.kerning,r=1/this.font.unitsPerEm*n,o=0,s=this.font.stringToGlyphs(e),a=0;a<s.length;a++){var u=s[a];u.advanceWidth&&(o+=u.advanceWidth*r),i&&a<s.length-1&&(o+=this.font.getKerningValue(u,s[a+1])*r),t.letterSpacing?o+=t.letterSpacing*n:t.tracking&&(o+=t.tracking/1e3*n)}return o}},{key:"getHeight",value:function(e){var t=1/this.font.unitsPerEm*e;return(this.font.ascender-this.font.descender)*t}},{key:"getMetrics",value:function(e){var t,n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.fontSize||72,s={horizontal:n=0===(n=(t=r.anchor||"").match(/left|center|right/gi)||[]).length?"left":n[0],vertical:i=0===(i=t.match(/baseline|top|bottom|middle/gi)||[]).length?"baseline":i[0]},a=this.getWidth(e,r),u=this.getHeight(o),l=1/this.font.unitsPerEm*o,c=this.font.ascender*l,h=this.font.descender*l,d=r.x||0;switch(s.horizontal){case"left":d-=0;break;case"center":d-=a/2;break;case"right":d-=a;break;default:throw Error("Unknown anchor option: ".concat(s.horizontal))}var p=r.y||0;switch(s.vertical){case"baseline":p-=c;break;case"top":p-=0;break;case"middle":p-=u/2;break;case"bottom":p-=u;break;default:throw Error("Unknown anchor option: ".concat(s.vertical))}var f=p+c;return{x:d,y:p,baseline:f,width:a,height:u,ascender:c,descender:h}}},{key:"getD",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fontSize||72,i=!("kerning"in t)||t.kerning,r="letterSpacing"in t&&t.letterSpacing,o="tracking"in t&&t.tracking,s=this.getMetrics(e,t);return this.font.getPath(e,s.x,s.baseline,n,{kerning:i,letterSpacing:r,tracking:o}).toPathData()}},{key:"getPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t.attributes||{}).map(function(e){return"".concat(e,'="').concat(t.attributes[e],'"')}).join(" "),i=this.getD(e,t);return n?"<path ".concat(n,' d="').concat(i,'"/>'):'<path d="'.concat(i,'"/>')}},{key:"getSVG",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getMetrics(e,t),i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(n.width,'" height="').concat(n.height,'">');return i+=this.getPath(e,t),i+="</svg>"}},{key:"getDebugSVG",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t=JSON.parse(JSON.stringify(t))).x=t.x||0,t.y=t.y||0;var n=this.getMetrics(e,t),i={width:Math.max(n.x+n.width,0)-Math.min(n.x,0),height:Math.max(n.y+n.height,0)-Math.min(n.y,0)},r={x:i.width-Math.max(n.x+n.width,0),y:i.height-Math.max(n.y+n.height,0)};t.x+=r.x,t.y+=r.y;var o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(i.width,'" height="').concat(i.height,'">');return o+='<path fill="none" stroke="red" stroke-width="1" d="M0,'.concat(r.y,"L").concat(i.width,",").concat(r.y,'"/>'),o+='<path fill="none" stroke="red" stroke-width="1" d="M'.concat(r.x,",0L").concat(r.x,",").concat(i.height,'"/>'),o+=this.getPath(e,t),o+="</svg>"}}],t=[{key:"loadSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return new o(n.loadSync(e))}},{key:"load",value:function(e,t){n.load(e,function(e,n){return null!==e?t(e,null):t(null,new o(n))})}}],e&&i(o.prototype,e),t&&i(o,t),o}();e.exports.default=o,e.exports=e.exports.default}),F("9gSx8",function(e,i){t(e.exports,"parse",function(){return k}),t(e.exports,"load",function(){return _}),t(e.exports,"loadSync",function(){return P}),t(e.exports,"Font",function(){return T("9zLwB").default}),t(e.exports,"Glyph",function(){return T("e13Ax").default}),t(e.exports,"Path",function(){return T("knRc9").default}),t(e.exports,"BoundingBox",function(){return T("8oRG4").default}),t(e.exports,"_parse",function(){return T("8IoAa").default}),T("6asse");var r=T("3DGKn"),o=T("9zLwB");T("e13Ax");var s=T("gnC7u"),a=T("8IoAa");T("8oRG4"),T("knRc9");var u=T("3Myi9"),l=T("6VZQG"),c=T("fAJMI"),h=T("6AXWN"),d=T("caKfs"),p=T("bJxXm"),f=T("3iPGr"),m=T("l4x1Q"),g=T("kldBO"),y=T("l4q0r"),v=T("cl7Ud"),D=T("6csWz"),b=T("iqbBe"),E=T("9aWhU"),x=T("ezcqC"),w=T("iE1t3"),S=T("1Gujb"),C=T("1eHX9");function F(e,t){let n=[],i=12;for(let r=0;r<t;r+=1){let t=a.default.getTag(e,i),r=a.default.getULong(e,i+4),o=a.default.getULong(e,i+8),s=a.default.getULong(e,i+12);n.push({tag:t,checksum:r,offset:o,length:s,compression:!1}),i+=16}return n}function A(e,t){if("WOFF"!==t.compression)return{data:e,offset:t.offset};{let i=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),o=new Uint8Array(t.length);if(n(r)(i,o),o.byteLength!==t.length)throw Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(o.buffer,0),offset:0}}}function k(e){let t,n,i,r,u,T,k,_,P,L,O,R,I,N,M=new(0,o.default)({empty:!0}),B=new DataView(e,0),U=[],z=a.default.getTag(B,0);if(z===String.fromCharCode(0,1,0,0)||"true"===z||"typ1"===z)M.outlinesFormat="truetype",i=a.default.getUShort(B,4),U=F(B,i);else if("OTTO"===z)M.outlinesFormat="cff",i=a.default.getUShort(B,4),U=F(B,i);else if("wOFF"===z){let e=a.default.getTag(B,4);if(e===String.fromCharCode(0,1,0,0))M.outlinesFormat="truetype";else if("OTTO"===e)M.outlinesFormat="cff";else throw Error("Unsupported OpenType flavor "+z);i=a.default.getUShort(B,12),U=function(e,t){let n=[],i=44;for(let r=0;r<t;r+=1){let t,r=a.default.getTag(e,i),o=a.default.getULong(e,i+4),s=a.default.getULong(e,i+8),u=a.default.getULong(e,i+12);t=s<u&&"WOFF",n.push({tag:r,offset:o,compression:t,compressedLength:s,length:u}),i+=20}return n}(B,i)}else throw Error("Unsupported OpenType signature "+z);for(let e=0;e<i;e+=1){let i,o=U[e];switch(o.tag){case"cmap":i=A(B,o),M.tables.cmap=l.default.parse(i.data,i.offset),M.encoding=new(0,s.CmapEncoding)(M.tables.cmap);break;case"cvt ":i=A(B,o),N=new a.default.Parser(i.data,i.offset),M.tables.cvt=N.parseShortList(o.length/2);break;case"fvar":u=o;break;case"fpgm":i=A(B,o),N=new a.default.Parser(i.data,i.offset),M.tables.fpgm=N.parseByteList(o.length);break;case"head":i=A(B,o),M.tables.head=m.default.parse(i.data,i.offset),M.unitsPerEm=M.tables.head.unitsPerEm,t=M.tables.head.indexToLocFormat;break;case"hhea":i=A(B,o),M.tables.hhea=g.default.parse(i.data,i.offset),M.ascender=M.tables.hhea.ascender,M.descender=M.tables.hhea.descender,M.numberOfHMetrics=M.tables.hhea.numberOfHMetrics;break;case"hmtx":P=o;break;case"ltag":i=A(B,o),n=D.default.parse(i.data,i.offset);break;case"maxp":i=A(B,o),M.tables.maxp=E.default.parse(i.data,i.offset),M.numGlyphs=M.tables.maxp.numGlyphs;break;case"name":R=o;break;case"OS/2":i=A(B,o),M.tables.os2=w.default.parse(i.data,i.offset);break;case"post":i=A(B,o),M.tables.post=S.default.parse(i.data,i.offset),M.glyphNames=new(0,s.GlyphNames)(M.tables.post);break;case"prep":i=A(B,o),N=new a.default.Parser(i.data,i.offset),M.tables.prep=N.parseByteList(o.length);break;case"glyf":T=o;break;case"loca":O=o;break;case"CFF ":r=o;break;case"kern":L=o;break;case"GPOS":k=o;break;case"GSUB":_=o;break;case"meta":I=o}}let j=A(B,R);if(M.tables.name=x.default.parse(j.data,j.offset,n),M.names=M.tables.name,T&&O){let e=0===t,n=A(B,O),i=b.default.parse(n.data,n.offset,M.numGlyphs,e),r=A(B,T);M.glyphs=d.default.parse(r.data,r.offset,i,M)}else if(r){let e=A(B,r);c.default.parse(e.data,e.offset,M)}else throw Error("Font doesn't contain TrueType or CFF outlines.");let V=A(B,P);if(y.default.parse(V.data,V.offset,M.numberOfHMetrics,M.numGlyphs,M.glyphs),(0,s.addGlyphNames)(M),L){let e=A(B,L);M.kerningPairs=v.default.parse(e.data,e.offset)}else M.kerningPairs={};if(k){let e=A(B,k);M.tables.gpos=p.default.parse(e.data,e.offset),M.position.init()}if(_){let e=A(B,_);M.tables.gsub=f.default.parse(e.data,e.offset)}if(u){let e=A(B,u);M.tables.fvar=h.default.parse(e.data,e.offset,M.names)}if(I){let e=A(B,I);M.tables.meta=C.default.parse(e.data,e.offset),M.metas=M.tables.meta}return M}function _(e,t){("undefined"==typeof window?function(e,t){T("5Io6y").readFile(e,function(e,n){if(e)return t(e.message);t(null,(0,u.nodeBufferToArrayBuffer)(n))})}:function(e,t){let n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?t(null,n.response):t("Font could not be loaded: "+n.statusText)},n.onerror=function(){t("Font could not be loaded")},n.send()})(e,function(e,n){let i;if(e)return t(e);try{i=k(n)}catch(e){return t(e,null)}return t(null,i)})}function P(e){let t=T("5Io6y").readFileSync(e);return k((0,u.nodeBufferToArrayBuffer)(t))}}),F("6asse",function(e,t){var n,i;String.prototype.codePointAt||(n=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),i=function(e){if(this==null)throw TypeError();var t,n=String(this),i=n.length,r=e?Number(e):0;if(r!=r&&(r=0),!(r<0)&&!(r>=i)){var o=n.charCodeAt(r);return o>=55296&&o<=56319&&i>r+1&&(t=n.charCodeAt(r+1))>=56320&&t<=57343?(o-55296)*1024+t-56320+65536:o}},n?n(String.prototype,"codePointAt",{value:i,configurable:!0,writable:!0}):String.prototype.codePointAt=i)}),F("3DGKn",function(e,t){function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new n,this.dtree=new n}var r,o=new n,s=new n,a=new Uint8Array(30),u=new Uint16Array(30),l=new Uint8Array(30),c=new Uint16Array(30),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new n,p=new Uint8Array(320);function f(e,t,n,i){var r,o;for(r=0;r<n;++r)e[r]=0;for(r=0;r<30-n;++r)e[r+n]=r/n|0;for(o=i,r=0;r<30;++r)t[r]=o,o+=1<<e[r]}var m=new Uint16Array(16);function g(e,t,n,i){var r,o;for(r=0;r<16;++r)e.table[r]=0;for(r=0;r<i;++r)e.table[t[n+r]]++;for(o=0,e.table[0]=0,r=0;r<16;++r)m[r]=o,o+=e.table[r];for(r=0;r<i;++r)t[n+r]&&(e.trans[m[t[n+r]]++]=r)}function y(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var i=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,i+n}function v(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,i=0,r=0,o=e.tag;do i=2*i+(1&o),o>>>=1,++r,n+=t.table[r],i-=t.table[r];while(i>=0)return e.tag=o,e.bitcount-=r,t.trans[n+i]}function D(e,t,n){for(;;){var i,r,o,s,h=v(e,t);if(256===h)return 0;if(h<256)e.dest[e.destLen++]=h;else for(h-=257,i=y(e,a[h],u[h]),r=v(e,n),s=o=e.destLen-y(e,l[r],c[r]);s<o+i;++s)e.dest[e.destLen++]=e.dest[s]}}for(r=0;r<7;++r)o.table[r]=0;for(r=0,o.table[7]=24,o.table[8]=152,o.table[9]=112;r<24;++r)o.trans[r]=256+r;for(r=0;r<144;++r)o.trans[24+r]=r;for(r=0;r<8;++r)o.trans[168+r]=280+r;for(r=0;r<112;++r)o.trans[176+r]=144+r;for(r=0;r<5;++r)s.table[r]=0;for(r=0,s.table[5]=32;r<32;++r)s.trans[r]=r;f(a,u,4,3),f(l,c,2,1),a[28]=0,u[28]=258,e.exports=function(e,t){var n,r,a=new i(e,t);do{switch(n=function(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}(a),y(a,2,0)){case 0:r=function(e){for(var t,n,i;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return -3;for(e.sourceIndex+=4,i=t;i;--i)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}(a);break;case 1:r=D(a,o,s);break;case 2:!function(e,t,n){for(s=0,i=y(e,5,257),r=y(e,5,1),o=y(e,4,4);s<19;++s)p[s]=0;for(s=0;s<o;++s){var i,r,o,s,a,u,l=y(e,3,0);p[h[s]]=l}for(g(d,p,0,19),a=0;a<i+r;){var c=v(e,d);switch(c){case 16:var f=p[a-1];for(u=y(e,2,3);u;--u)p[a++]=f;break;case 17:for(u=y(e,3,3);u;--u)p[a++]=0;break;case 18:for(u=y(e,7,11);u;--u)p[a++]=0;break;default:p[a++]=c}}g(t,p,0,i),g(n,p,i,r)}(a,a.ltree,a.dtree),r=D(a,a.ltree,a.dtree);break;default:r=-3}if(0!==r)throw Error("Data error")}while(!n)if(a.destLen<a.dest.length)if("function"==typeof a.dest.slice)return a.dest.slice(0,a.destLen);else return a.dest.subarray(0,a.destLen);return a.dest}}),F("9zLwB",function(e,n){t(e.exports,"default",function(){return f});var i=T("knRc9"),r=T("cASxt"),o=T("gnC7u"),s=T("4UCwV"),a=T("88afp"),u=T("eYbUx"),l=T("3Myi9"),c=T("6XuqH"),h=T("8Q7lx"),d=T("lbzA8");function p(e){(e=e||{}).empty||((0,l.checkArgument)(e.familyName,"When creating a new Font object, familyName is required."),(0,l.checkArgument)(e.styleName,"When creating a new Font object, styleName is required."),(0,l.checkArgument)(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),(0,l.checkArgument)(e.ascender,"When creating a new Font object, ascender is required."),(0,l.checkArgument)(e.descender,"When creating a new Font object, descender is required."),(0,l.checkArgument)(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables={os2:{usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new s.default.GlyphSet(this,e.glyphs||[]),this.encoding=new(0,o.DefaultEncoding)(this),this.position=new(0,a.default)(this),this.substitution=new(0,u.default)(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new(0,c.default)(this):void 0}})}p.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},p.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},p.prototype.charToGlyph=function(e){let t=this.charToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},p.prototype.stringToGlyphs=function(e,t){t=t||this.defaultRenderOptions;let n=new(0,h.default),i=e=>this.charToGlyphIndex(e.char);n.registerModifier("glyphIndex",null,i);let r=new(0,d.default)(this);n.applyFeatures(["init","medi","fina","rlig"].map(e=>{let t=r.getFeature({tag:e,script:"arab"});if(t)return t}));let o=n.getTextGlyphs(e),s=o.length;if(t.features){let e=t.script||this.substitution.getDefaultScriptName(),n=[];t.features.liga&&(n=n.concat(this.substitution.getFeature("liga",e,t.language))),t.features.rlig&&(n=n.concat(this.substitution.getFeature("rlig",e,t.language)));for(let e=0;e<s;e+=1)for(let t=0;t<n.length;t++){let i=n[t],r=i.sub,a=r.length,u=0;for(;u<a&&r[u]===o[e+u];)u++;u===a&&(o.splice(e,a,i.by),s=s-a+1)}}let a=Array(s),u=this.glyphs.get(0);for(let e=0;e<s;e+=1)a[e]=this.glyphs.get(o[e])||u;return a},p.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},p.prototype.nameToGlyph=function(e){let t=this.nameToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},p.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},p.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;let n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0},p.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},p.prototype.forEachGlyph=function(e,t,n,i,r,o){let s;t=void 0!==t?t:0,n=void 0!==n?n:0,i=void 0!==i?i:72,r=r||this.defaultRenderOptions;let a=1/this.unitsPerEm*i,u=this.stringToGlyphs(e,r);if(r.kerning){let e=r.script||this.position.getDefaultScriptName();s=this.position.getKerningTables(e,r.language)}for(let e=0;e<u.length;e+=1){let l=u[e];o.call(this,l,t,n,i,r),l.advanceWidth&&(t+=l.advanceWidth*a),r.kerning&&e<u.length-1&&(t+=(s?this.position.getKerningValue(s,l.index,u[e+1].index):this.getKerningValue(l,u[e+1]))*a),r.letterSpacing?t+=r.letterSpacing*i:r.tracking&&(t+=r.tracking/1e3*i)}return t},p.prototype.getPath=function(e,t,n,r,o){let s=new(0,i.default);return this.forEachGlyph(e,t,n,r,o,function(e,t,n,i){let r=e.getPath(t,n,i,o,this);s.extend(r)}),s},p.prototype.getPaths=function(e,t,n,i,r){let o=[];return this.forEachGlyph(e,t,n,i,r,function(e,t,n,i){let s=e.getPath(t,n,i,r,this);o.push(s)}),o},p.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,function(){})},p.prototype.draw=function(e,t,n,i,r,o){this.getPath(t,n,i,r,o).draw(e)},p.prototype.drawPoints=function(e,t,n,i,r,o){this.forEachGlyph(t,n,i,r,o,function(t,n,i,r){t.drawPoints(e,n,i,r)})},p.prototype.drawMetrics=function(e,t,n,i,r,o){this.forEachGlyph(t,n,i,r,o,function(t,n,i,r){t.drawMetrics(e,n,i,r)})},p.prototype.getEnglishName=function(e){let t=this.names[e];if(t)return t.en},p.prototype.validate=function(){var e;let t=[],n=this;function i(e){var i;let r=n.getEnglishName(e);i=r&&r.trim().length>0,i||t.push("No English "+e+" specified.")}i("fontFamily"),i("weightName"),i("manufacturer"),i("copyright"),i("version"),e=this.unitsPerEm>0,e||t.push("No unitsPerEm specified.")},p.prototype.toTables=function(){return r.default.fontToTable(this)},p.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},p.prototype.toArrayBuffer=function(){let e=this.toTables().encode(),t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e[t];return t},p.prototype.download=function(e){let t=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+n+".otf";let i=this.toArrayBuffer();if((0,l.isBrowser)())if(window.URL=window.URL||window.webkitURL,window.URL){let t=new Blob([new DataView(i)],{type:"font/opentype"}),n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.download=e;let r=document.createEvent("MouseEvents");r.initEvent("click",!0,!1),n.dispatchEvent(r)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{let t=T("5Io6y"),n=(0,l.arrayBufferToNodeBuffer)(i);t.writeFileSync(e,n)}},p.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},p.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},p.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var f=p}),F("knRc9",function(e,n){t(e.exports,"default",function(){return o});var i=T("8oRG4");function r(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}r.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},r.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},r.prototype.curveTo=r.prototype.bezierCurveTo=function(e,t,n,i,r,o){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:i,x:r,y:o})},r.prototype.quadTo=r.prototype.quadraticCurveTo=function(e,t,n,i){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:i})},r.prototype.close=r.prototype.closePath=function(){this.commands.push({type:"Z"})},r.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof i.default){let t=e;this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),this.close();return}Array.prototype.push.apply(this.commands,e)},r.prototype.getBoundingBox=function(){let e=new(0,i.default),t=0,n=0,r=0,o=0;for(let i=0;i<this.commands.length;i++){let s=this.commands[i];switch(s.type){case"M":e.addPoint(s.x,s.y),t=r=s.x,n=o=s.y;break;case"L":e.addPoint(s.x,s.y),r=s.x,o=s.y;break;case"Q":e.addQuad(r,o,s.x1,s.y1,s.x,s.y),r=s.x,o=s.y;break;case"C":e.addBezier(r,o,s.x1,s.y1,s.x2,s.y2,s.x,s.y),r=s.x,o=s.y;break;case"Z":r=t,o=n;break;default:throw Error("Unexpected path command "+s.type)}}return e.isEmpty()&&e.addPoint(0,0),e},r.prototype.draw=function(e){e.beginPath();for(let t=0;t<this.commands.length;t+=1){let n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},r.prototype.toPathData=function(e){function t(){let t="";for(let n=0;n<arguments.length;n+=1){let i=arguments[n];i>=0&&n>0&&(t+=" "),t+=Math.round(i)===i?""+Math.round(i):i.toFixed(e)}return t}e=void 0!==e?e:2;let n="";for(let e=0;e<this.commands.length;e+=1){let i=this.commands[e];"M"===i.type?n+="M"+t(i.x,i.y):"L"===i.type?n+="L"+t(i.x,i.y):"C"===i.type?n+="C"+t(i.x1,i.y1,i.x2,i.y2,i.x,i.y):"Q"===i.type?n+="Q"+t(i.x1,i.y1,i.x,i.y):"Z"===i.type&&(n+="Z")}return n},r.prototype.toSVG=function(e){let t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},r.prototype.toDOMElement=function(e){let t=this.toPathData(e),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n};var o=r}),F("8oRG4",function(e,n){function i(e,t,n,i,r){return Math.pow(1-r,3)*e+3*Math.pow(1-r,2)*r*t+3*(1-r)*Math.pow(r,2)*n+Math.pow(r,3)*i}function r(){this.x1=NaN,this.y1=NaN,this.x2=NaN,this.y2=NaN}t(e.exports,"default",function(){return o}),r.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},r.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},r.prototype.addX=function(e){this.addPoint(e,null)},r.prototype.addY=function(e){this.addPoint(null,e)},r.prototype.addBezier=function(e,t,n,r,o,s,a,u){let l=[e,t],c=[n,r],h=[o,s],d=[a,u];this.addPoint(e,t),this.addPoint(a,u);for(let e=0;e<=1;e++){let t=6*l[e]-12*c[e]+6*h[e],n=-3*l[e]+9*c[e]-9*h[e]+3*d[e],r=3*c[e]-3*l[e];if(0===n){if(0===t)continue;let n=-r/t;0<n&&n<1&&(0===e&&this.addX(i(l[e],c[e],h[e],d[e],n)),1===e&&this.addY(i(l[e],c[e],h[e],d[e],n)));continue}let o=Math.pow(t,2)-4*r*n;if(o<0)continue;let s=(-t+Math.sqrt(o))/(2*n);0<s&&s<1&&(0===e&&this.addX(i(l[e],c[e],h[e],d[e],s)),1===e&&this.addY(i(l[e],c[e],h[e],d[e],s)));let a=(-t-Math.sqrt(o))/(2*n);0<a&&a<1&&(0===e&&this.addX(i(l[e],c[e],h[e],d[e],a)),1===e&&this.addY(i(l[e],c[e],h[e],d[e],a)))}},r.prototype.addQuad=function(e,t,n,i,r,o){let s=e+2/3*(n-e),a=t+2/3*(i-t);this.addBezier(e,t,s,a,s+1/3*(r-e),a+1/3*(o-t),r,o)};var o=r}),F("cASxt",function(e,n){t(e.exports,"default",function(){return x});var i=T("9wVTF"),r=T("gtEVy"),o=T("6VZQG"),s=T("fAJMI"),a=T("l4x1Q"),u=T("kldBO"),l=T("l4q0r"),c=T("6csWz"),h=T("9aWhU"),d=T("ezcqC"),p=T("iE1t3"),f=T("1Gujb"),m=T("3iPGr"),g=T("1eHX9");function y(e){return Math.log(e)/Math.log(2)|0}function v(e){for(;e.length%4!=0;)e.push(0);let t=0;for(let n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%0x100000000}function D(e,t,n,i){return new r.default.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==i?i:0}])}function b(e){let t=new r.default.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;let n=Math.pow(2,y(t.numTables));t.searchRange=16*n,t.entrySelector=y(n),t.rangeShift=16*t.numTables-t.searchRange;let o=[],s=[],a=t.sizeOf()+D().sizeOf()*t.numTables;for(;a%4!=0;)a+=1,s.push({name:"padding",type:"BYTE",value:0});for(let t=0;t<e.length;t+=1){let n=e[t];i.default.argument(4===n.tableName.length,"Table name"+n.tableName+" is invalid.");let r=n.sizeOf(),u=D(n.tableName,v(n.encode()),a,r);for(o.push({name:u.tag+" Table Record",type:"RECORD",value:u}),s.push({name:n.tableName+" table",type:"RECORD",value:n}),a+=r,i.default.argument(!isNaN(a),"Something went wrong calculating the offset.");a%4!=0;)a+=1,s.push({name:"padding",type:"BYTE",value:0})}return o.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(o),t.fields=t.fields.concat(s),t}function E(e,t,n){for(let n=0;n<t.length;n+=1){let i=e.charToGlyphIndex(t[n]);if(i>0)return e.glyphs.get(i).getMetrics()}return n}var x={make:b,fontToTable:function(e){let t,n=[],i=[],r=[],y=[],D=[],x=[],w=[],S=0,C=0,T=0,F=0,A=0;for(let o=0;o<e.glyphs.length;o+=1){let s=e.glyphs.get(o),a=0|s.unicode;if(isNaN(s.advanceWidth))throw Error("Glyph "+s.name+" ("+o+"): advanceWidth is not a number.");(t>a||void 0===t)&&a>0&&(t=a),S<a&&(S=a);let u=p.default.getUnicodeRange(a);if(u<32)C|=1<<u;else if(u<64)T|=1<<u-32;else if(u<96)F|=1<<u-64;else if(u<123)A|=1<<u-96;else throw Error("Unicode ranges bits > 123 are reserved for internal usage");if(".notdef"===s.name)continue;let l=s.getMetrics();n.push(l.xMin),i.push(l.yMin),r.push(l.xMax),y.push(l.yMax),x.push(l.leftSideBearing),w.push(l.rightSideBearing),D.push(s.advanceWidth)}let k={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,i),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,y),advanceWidthMax:Math.max.apply(null,D),advanceWidthAvg:function(e){let t=0;for(let n=0;n<e.length;n+=1)t+=e[n];return t/e.length}(D),minLeftSideBearing:Math.min.apply(null,x),maxLeftSideBearing:Math.max.apply(null,x),minRightSideBearing:Math.min.apply(null,w)};k.ascender=e.ascender,k.descender=e.descender;let _=a.default.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:k.xMin,yMin:k.yMin,xMax:k.xMax,yMax:k.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),P=u.default.make({ascender:k.ascender,descender:k.descender,advanceWidthMax:k.advanceWidthMax,minLeftSideBearing:k.minLeftSideBearing,minRightSideBearing:k.minRightSideBearing,xMaxExtent:k.maxLeftSideBearing+(k.xMax-k.xMin),numberOfHMetrics:e.glyphs.length}),L=h.default.make(e.glyphs.length),O=p.default.make({xAvgCharWidth:Math.round(k.advanceWidthAvg),usWeightClass:e.tables.os2.usWeightClass,usWidthClass:e.tables.os2.usWidthClass,usFirstCharIndex:t,usLastCharIndex:S,ulUnicodeRange1:C,ulUnicodeRange2:T,ulUnicodeRange3:F,ulUnicodeRange4:A,fsSelection:e.tables.os2.fsSelection,sTypoAscender:k.ascender,sTypoDescender:k.descender,sTypoLineGap:0,usWinAscent:k.yMax,usWinDescent:Math.abs(k.yMin),ulCodePageRange1:1,sxHeight:E(e,"xyvw",{yMax:Math.round(k.ascender/2)}).yMax,sCapHeight:E(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",k).yMax,usDefaultChar:32*!!e.hasChar(" "),usBreakChar:32*!!e.hasChar(" ")}),R=l.default.make(e.glyphs),I=o.default.make(e.glyphs),N=e.getEnglishName("fontFamily"),M=e.getEnglishName("fontSubfamily"),B=N+" "+M,U=e.getEnglishName("postScriptName");U||(U=N.replace(/\s/g,"")+"-"+M);let z={};for(let t in e.names)z[t]=e.names[t];z.uniqueID||(z.uniqueID={en:e.getEnglishName("manufacturer")+":"+B}),z.postScriptName||(z.postScriptName={en:U}),z.preferredFamily||(z.preferredFamily=e.names.fontFamily),z.preferredSubfamily||(z.preferredSubfamily=e.names.fontSubfamily);let j=[],V=d.default.make(z,j),G=j.length>0?c.default.make(j):void 0,$=f.default.make(),H=s.default.make(e.glyphs,{version:e.getEnglishName("version"),fullName:B,familyName:N,weightName:M,postScriptName:U,unitsPerEm:e.unitsPerEm,fontBBox:[0,k.yMin,k.ascender,k.advanceWidthMax]}),W=e.metas&&Object.keys(e.metas).length>0?g.default.make(e.metas):void 0,q=[_,P,L,O,V,I,$,H,R];G&&q.push(G),e.tables.gsub&&q.push(m.default.make(e.tables.gsub)),W&&q.push(W);let Y=b(q),X=v(Y.encode()),K=Y.fields,J=!1;for(let e=0;e<K.length;e+=1)if("head table"===K[e].name){K[e].value.checkSumAdjustment=0xb1b0afba-X,J=!0;break}if(!J)throw Error("Could not find head table with checkSum to adjust.");return Y},computeCheckSum:v}}),F("9wVTF",function(e,n){function i(e){throw Error(e)}function r(e,t){e||i(t)}t(e.exports,"default",function(){return o});var o={fail:i,argument:r,assert:r}}),F("gtEVy",function(e,n){t(e.exports,"default",function(){return p});var i=T("9wVTF"),r=T("d7ayE");function o(e,t,n){for(let e=0;e<t.length;e+=1){let n=t[e];this[n.name]=n.value}if(this.tableName=e,this.fields=t,n){let e=Object.keys(n);for(let t=0;t<e.length;t+=1){let i=e[t],r=n[i];void 0!==this[i]&&(this[i]=r)}}}function s(e,t,n){void 0===n&&(n=t.length);let i=Array(t.length+1);i[0]={name:e+"Count",type:"USHORT",value:n};for(let n=0;n<t.length;n++)i[n+1]={name:e+n,type:"USHORT",value:t[n]};return i}function a(e,t,n){let i=t.length,r=Array(i+1);r[0]={name:e+"Count",type:"USHORT",value:i};for(let o=0;o<i;o++)r[o+1]={name:e+o,type:"TABLE",value:n(t[o],o)};return r}function u(e,t,n){let i=t.length,r=[];r[0]={name:e+"Count",type:"USHORT",value:i};for(let e=0;e<i;e++)r=r.concat(n(t[e],e));return r}function l(e){1===e.format?o.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(s("glyph",e.glyphs))):i.default.assert(!1,"Can't create coverage table format 2 yet.")}function c(e){o.call(this,"scriptListTable",u("scriptRecord",e,function(e,t){let n=e.script,r=n.defaultLangSys;return i.default.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new o("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new o("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(s("featureIndex",r.featureIndexes)))}].concat(u("langSys",n.langSysRecords,function(e,t){let n=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new o("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(s("featureIndex",n.featureIndexes)))}]})))}]}))}function h(e){o.call(this,"featureListTable",u("featureRecord",e,function(e,t){let n=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new o("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(s("lookupListIndex",n.lookupListIndexes)))}]}))}function d(e,t){o.call(this,"lookupListTable",a("lookup",e,function(e){let n=t[e.lookupType];return i.default.assert(!!n,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new o("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(a("subtable",e.subtables,n)))}))}o.prototype.encode=function(){return r.encode.TABLE(this)},o.prototype.sizeOf=function(){return r.sizeOf.TABLE(this)},l.prototype=Object.create(o.prototype),l.prototype.constructor=l,c.prototype=Object.create(o.prototype),c.prototype.constructor=c,h.prototype=Object.create(o.prototype),h.prototype.constructor=h,d.prototype=Object.create(o.prototype),d.prototype.constructor=d;var p={Table:o,Record:o,Coverage:l,ScriptList:c,FeatureList:h,LookupList:d,ushortList:s,tableList:a,recordList:u}}),F("d7ayE",function(e,n){let i;t(e.exports,"decode",function(){return o}),t(e.exports,"encode",function(){return s}),t(e.exports,"sizeOf",function(){return a});var r=T("9wVTF");let o={},s={},a={};function u(e){return function(){return e}}s.BYTE=function(e){return r.default.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},a.BYTE=u(1),s.CHAR=function(e){return[e.charCodeAt(0)]},a.CHAR=u(1),s.CHARARRAY=function(e){let t=[];for(let n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t},a.CHARARRAY=function(e){return e.length},s.USHORT=function(e){return[e>>8&255,255&e]},a.USHORT=u(2),s.SHORT=function(e){return e>=32768&&(e=-(65536-e)),[e>>8&255,255&e]},a.SHORT=u(2),s.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},a.UINT24=u(3),s.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},a.ULONG=u(4),s.LONG=function(e){return e>=0x80000000&&(e=-(0x100000000-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},a.LONG=u(4),s.FIXED=s.ULONG,a.FIXED=a.ULONG,s.FWORD=s.SHORT,a.FWORD=a.SHORT,s.UFWORD=s.USHORT,a.UFWORD=a.USHORT,s.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},a.LONGDATETIME=u(8),s.TAG=function(e){return r.default.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},a.TAG=u(4),s.Card8=s.BYTE,a.Card8=a.BYTE,s.Card16=s.USHORT,a.Card16=a.USHORT,s.OffSize=s.BYTE,a.OffSize=a.BYTE,s.SID=s.USHORT,a.SID=a.USHORT,s.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[((e-=108)>>8)+247,255&e]:e>=-1131&&e<=-108?[((e=-e-108)>>8)+251,255&e]:e>=-32768&&e<=32767?s.NUMBER16(e):s.NUMBER32(e)},a.NUMBER=function(e){return s.NUMBER(e).length},s.NUMBER16=function(e){return[28,e>>8&255,255&e]},a.NUMBER16=u(3),s.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},a.NUMBER32=u(5),s.REAL=function(e){let t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(n){let i=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));t=(Math.round(e*i)/i).toString()}let i="";for(let e=0,n=t.length;e<n;e+=1){let n=t[e];"e"===n?i+="-"===t[++e]?"c":"b":"."===n?i+="a":"-"===n?i+="e":i+=n}i+=1&i.length?"f":"ff";let r=[30];for(let e=0,t=i.length;e<t;e+=2)r.push(parseInt(i.substr(e,2),16));return r},a.REAL=function(e){return s.REAL(e).length},s.NAME=s.CHARARRAY,a.NAME=a.CHARARRAY,s.STRING=s.CHARARRAY,a.STRING=a.CHARARRAY,o.UTF8=function(e,t,n){let i=[];for(let r=0;r<n;r++,t+=1)i[r]=e.getUint8(t);return String.fromCharCode.apply(null,i)},o.UTF16=function(e,t,n){let i=[],r=n/2;for(let n=0;n<r;n++,t+=2)i[n]=e.getUint16(t);return String.fromCharCode.apply(null,i)},s.UTF16=function(e){let t=[];for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);t[t.length]=i>>8&255,t[t.length]=255&i}return t},a.UTF16=function(e){return 2*e.length};let l={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};o.MACSTRING=function(e,t,n,i){let r=l[i];if(void 0===r)return;let o="";for(let i=0;i<n;i++){let n=e.getUint8(t+i);n<=127?o+=String.fromCharCode(n):o+=r[127&n]}return o};let c="function"==typeof WeakMap&&new WeakMap,h=function(e){if(!i)for(let e in i={},l)i[e]=new String(e);let t=i[e];if(void 0===t)return;if(c){let e=c.get(t);if(void 0!==e)return e}let n=l[e];if(void 0===n)return;let r={};for(let e=0;e<n.length;e++)r[n.charCodeAt(e)]=e+128;return c&&c.set(t,r),r};function d(e){return e>=-128&&e<=127}s.MACSTRING=function(e,t){let n=h(t);if(void 0===n)return;let i=[];for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=128&&void 0===(r=n[r]))return;i[t]=r}return i},a.MACSTRING=function(e,t){let n=s.MACSTRING(e,t);return void 0!==n?n.length:0},s.VARDELTAS=function(e){let t=0,n=[];for(;t<e.length;){let i=e[t];t=0===i?function(e,t,n){let i=0,r=e.length;for(;t<r&&i<64&&0===e[t];)++t,++i;return n.push(128|i-1),t}(e,t,n):i>=-128&&i<=127?function(e,t,n){let i=0,r=e.length,o=t;for(;o<r&&i<64;){let t=e[o];if(!d(t)||0===t&&o+1<r&&0===e[o+1])break;++o,++i}n.push(i-1);for(let i=t;i<o;++i)n.push(e[i]+256&255);return o}(e,t,n):function(e,t,n){let i=0,r=e.length,o=t;for(;o<r&&i<64;){let t=e[o];if(0===t||d(t)&&o+1<r&&d(e[o+1]))break;++o,++i}n.push(64|i-1);for(let i=t;i<o;++i){let t=e[i];n.push(t+65536>>8&255,t+256&255)}return o}(e,t,n)}return n},s.INDEX=function(e){let t=1,n=[1],i=[];for(let r=0;r<e.length;r+=1){let o=s.OBJECT(e[r]);Array.prototype.push.apply(i,o),t+=o.length,n.push(t)}if(0===i.length)return[0,0];let r=[],o=1+Math.floor(Math.log(t)/Math.log(2))/8|0,a=[void 0,s.BYTE,s.USHORT,s.UINT24,s.ULONG][o];for(let e=0;e<n.length;e+=1){let t=a(n[e]);Array.prototype.push.apply(r,t)}return Array.prototype.concat(s.Card16(e.length),s.OffSize(o),r,i)},a.INDEX=function(e){return s.INDEX(e).length},s.DICT=function(e){let t=[],n=Object.keys(e),i=n.length;for(let r=0;r<i;r+=1){let i=parseInt(n[r],0),o=e[i];t=(t=t.concat(s.OPERAND(o.value,o.type))).concat(s.OPERATOR(i))}return t},a.DICT=function(e){return s.DICT(e).length},s.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},s.OPERAND=function(e,t){let n=[];if(Array.isArray(t))for(let i=0;i<t.length;i+=1)r.default.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(s.OPERAND(e[i],t[i]));else if("SID"===t)n=n.concat(s.NUMBER(e));else if("offset"===t)n=n.concat(s.NUMBER32(e));else if("number"===t)n=n.concat(s.NUMBER(e));else if("real"===t)n=n.concat(s.REAL(e));else throw Error("Unknown operand type "+t);return n},s.OP=s.BYTE,a.OP=a.BYTE;let p="function"==typeof WeakMap&&new WeakMap;s.CHARSTRING=function(e){if(p){let t=p.get(e);if(void 0!==t)return t}let t=[],n=e.length;for(let i=0;i<n;i+=1){let n=e[i];t=t.concat(s[n.type](n.value))}return p&&p.set(e,t),t},a.CHARSTRING=function(e){return s.CHARSTRING(e).length},s.OBJECT=function(e){let t=s[e.type];return r.default.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},a.OBJECT=function(e){let t=a[e.type];return r.default.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},s.TABLE=function(e){let t=[],n=e.fields.length,i=[],o=[];for(let a=0;a<n;a+=1){let n=e.fields[a],u=s[n.type];r.default.argument(void 0!==u,"No encoding function for field type "+n.type+" ("+n.name+")");let l=e[n.name];void 0===l&&(l=n.value);let c=u(l);"TABLE"===n.type?(o.push(t.length),t=t.concat([0,0]),i.push(c)):t=t.concat(c)}for(let n=0;n<i.length;n+=1){let s=o[n],a=t.length;r.default.argument(a<65536,"Table "+e.tableName+" too big."),t[s]=a>>8,t[s+1]=255&a,t=t.concat(i[n])}return t},a.TABLE=function(e){let t=0,n=e.fields.length;for(let i=0;i<n;i+=1){let n=e.fields[i],o=a[n.type];r.default.argument(void 0!==o,"No sizeOf function for field type "+n.type+" ("+n.name+")");let s=e[n.name];void 0===s&&(s=n.value),t+=o(s),"TABLE"===n.type&&(t+=2)}return t},s.RECORD=s.TABLE,a.RECORD=a.TABLE,s.LITERAL=function(e){return e},a.LITERAL=function(e){return e.length}}),F("6VZQG",function(e,n){t(e.exports,"default",function(){return s});var i=T("9wVTF"),r=T("8IoAa"),o=T("gtEVy"),s={parse:function(e,t){let n={};n.version=r.default.getUShort(e,t),i.default.argument(0===n.version,"cmap table version should be 0."),n.numTables=r.default.getUShort(e,t+2);let o=-1;for(let i=n.numTables-1;i>=0;i-=1){let n=r.default.getUShort(e,t+4+8*i),s=r.default.getUShort(e,t+4+8*i+2);if(3===n&&(0===s||1===s||10===s)||0===n&&(0===s||1===s||2===s||3===s||4===s)){o=r.default.getULong(e,t+4+8*i+4);break}}if(-1===o)throw Error("No valid cmap sub-tables found.");let s=new r.default.Parser(e,t+o);if(n.format=s.parseUShort(),12===n.format)!function(e,t){let n;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=n=t.parseULong(),e.glyphIndexMap={};for(let i=0;i<n;i+=1){let n=t.parseULong(),i=t.parseULong(),r=t.parseULong();for(let t=n;t<=i;t+=1)e.glyphIndexMap[t]=r,r++}}(n,s);else if(4===n.format)!function(e,t,n,i,o){let s;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=s=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};let a=new r.default.Parser(n,i+o+14),u=new r.default.Parser(n,i+o+16+2*s),l=new r.default.Parser(n,i+o+16+4*s),c=new r.default.Parser(n,i+o+16+6*s),h=i+o+16+8*s;for(let t=0;t<s-1;t+=1){let t,i=a.parseUShort(),o=u.parseUShort(),s=l.parseShort(),d=c.parseUShort();for(let a=o;a<=i;a+=1)0!==d?(h=c.offset+c.relativeOffset-2+d+(a-o)*2,0!==(t=r.default.getUShort(n,h))&&(t=t+s&65535)):t=a+s&65535,e.glyphIndexMap[a]=t}}(n,s,e,t,o);else throw Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n},make:function(e){let t,n=!0;for(t=e.length-1;t>0;t-=1)if(e.get(t).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),n=!1;break}let i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:n?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:n?12:20}];n||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);let r=new o.default.Table("cmap",i);for(t=0,r.segments=[];t<e.length;t+=1){let n=e.get(t);for(let e=0;e<n.unicodes.length;e+=1){var s,a;s=n.unicodes[e],a=t,r.segments.push({end:s,start:s,delta:-(s-a),offset:0,glyphIndex:a})}r.segments=r.segments.sort(function(e,t){return e.start-t.start})}r.segments.push({end:65535,start:65535,delta:1,offset:0});let u=r.segments.length,l=0,c=[],h=[],d=[],p=[],f=[],m=[];for(t=0;t<u;t+=1){let e=r.segments[t];e.end<=65535&&e.start<=65535?(c=c.concat({name:"end_"+t,type:"USHORT",value:e.end}),h=h.concat({name:"start_"+t,type:"USHORT",value:e.start}),d=d.concat({name:"idDelta_"+t,type:"SHORT",value:e.delta}),p=p.concat({name:"idRangeOffset_"+t,type:"USHORT",value:e.offset}),void 0!==e.glyphId&&(f=f.concat({name:"glyph_"+t,type:"USHORT",value:e.glyphId}))):l+=1,n||void 0===e.glyphIndex||(m=(m=(m=m.concat({name:"cmap12Start_"+t,type:"ULONG",value:e.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:e.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:e.glyphIndex}))}if(r.segCountX2=(u-l)*2,r.searchRange=2*Math.pow(2,Math.floor(Math.log(u-l)/Math.log(2))),r.entrySelector=Math.log(r.searchRange/2)/Math.log(2),r.rangeShift=r.segCountX2-r.searchRange,r.fields=r.fields.concat(c),r.fields.push({name:"reservedPad",type:"USHORT",value:0}),r.fields=r.fields.concat(h),r.fields=r.fields.concat(d),r.fields=r.fields.concat(p),r.fields=r.fields.concat(f),r.cmap4Length=14+2*c.length+2+2*h.length+2*d.length+2*p.length+2*f.length,!n){let e=16+4*m.length;r.cmap12Offset=20+r.cmap4Length,r.fields=r.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:e},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:m.length/3}]),r.fields=r.fields.concat(m)}return r}}}),F("8IoAa",function(e,n){t(e.exports,"Parser",function(){return l}),t(e.exports,"default",function(){return h});var i=T("9wVTF");function r(e,t){return e.getUint8(t)}function o(e,t){return e.getUint16(t,!1)}function s(e,t){return e.getUint32(t,!1)}function a(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}let u={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function l(e,t){this.data=e,this.offset=t,this.relativeOffset=0}l.prototype.parseByte=function(){let e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},l.prototype.parseChar=function(){let e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},l.prototype.parseCard8=l.prototype.parseByte,l.prototype.parseUShort=function(){let e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},l.prototype.parseCard16=l.prototype.parseUShort,l.prototype.parseSID=l.prototype.parseUShort,l.prototype.parseOffset16=l.prototype.parseUShort,l.prototype.parseShort=function(){let e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},l.prototype.parseF2Dot14=function(){let e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},l.prototype.parseULong=function(){let e=s(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},l.prototype.parseOffset32=l.prototype.parseULong,l.prototype.parseFixed=function(){let e=a(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},l.prototype.parseString=function(e){let t=this.data,n=this.offset+this.relativeOffset,i="";this.relativeOffset+=e;for(let r=0;r<e;r++)i+=String.fromCharCode(t.getUint8(n+r));return i},l.prototype.parseTag=function(){return this.parseString(4)},l.prototype.parseLongDateTime=function(){let e=s(this.data,this.offset+this.relativeOffset+4);return e-=0x7c25b080,this.relativeOffset+=8,e},l.prototype.parseVersion=function(e){let t=o(this.data,this.offset+this.relativeOffset),n=o(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+n/e/10},l.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=u[e]*t},l.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());let t=Array(e),n=this.data,i=this.offset+this.relativeOffset;for(let r=0;r<e;r++)t[r]=n.getUint32(i),i+=4;return this.relativeOffset+=4*e,t},l.prototype.parseOffset16List=l.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());let t=Array(e),n=this.data,i=this.offset+this.relativeOffset;for(let r=0;r<e;r++)t[r]=n.getUint16(i),i+=2;return this.relativeOffset+=2*e,t},l.prototype.parseShortList=function(e){let t=Array(e),n=this.data,i=this.offset+this.relativeOffset;for(let r=0;r<e;r++)t[r]=n.getInt16(i),i+=2;return this.relativeOffset+=2*e,t},l.prototype.parseByteList=function(e){let t=Array(e),n=this.data,i=this.offset+this.relativeOffset;for(let r=0;r<e;r++)t[r]=n.getUint8(i++);return this.relativeOffset+=e,t},l.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());let n=Array(e);for(let i=0;i<e;i++)n[i]=t.call(this);return n},l.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());let n=Array(e);for(let i=0;i<e;i++)n[i]=t.call(this);return n},l.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());let n=Array(e),i=Object.keys(t);for(let r=0;r<e;r++){let e={};for(let n=0;n<i.length;n++){let r=i[n],o=t[r];e[r]=o.call(this)}n[r]=e}return n},l.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());let n=Array(e),i=Object.keys(t);for(let r=0;r<e;r++){let e={};for(let n=0;n<i.length;n++){let r=i[n],o=t[r];e[r]=o.call(this)}n[r]=e}return n},l.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);{let t=Object.keys(e),n={};for(let i=0;i<t.length;i++){let r=t[i],o=e[r];n[r]=o.call(this)}return n}},l.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0===e)return;let t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t},l.prototype.parseValueRecordList=function(){let e=this.parseUShort(),t=this.parseUShort(),n=Array(t);for(let i=0;i<t;i++)n[i]=this.parseValueRecord(e);return n},l.prototype.parsePointer=function(e){let t=this.parseOffset16();if(t>0)return new l(this.data,this.offset+t).parseStruct(e)},l.prototype.parsePointer32=function(e){let t=this.parseOffset32();if(t>0)return new l(this.data,this.offset+t).parseStruct(e)},l.prototype.parseListOfLists=function(e){let t=this.parseOffset16List(),n=t.length,i=this.relativeOffset,r=Array(n);for(let i=0;i<n;i++){let n=t[i];if(0===n){r[i]=void 0;continue}if(this.relativeOffset=n,e){let t=this.parseOffset16List(),o=Array(t.length);for(let i=0;i<t.length;i++)this.relativeOffset=n+t[i],o[i]=e.call(this);r[i]=o}else r[i]=this.parseUShortList()}return this.relativeOffset=i,r},l.prototype.parseCoverage=function(){let e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(n)};if(2===t){let e=Array(n);for(let t=0;t<n;t++)e[t]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:e}}throw Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},l.prototype.parseClassDef=function(){let e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:l.uShort,end:l.uShort,classId:l.uShort})};throw Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},l.list=function(e,t){return function(){return this.parseList(e,t)}},l.list32=function(e,t){return function(){return this.parseList32(e,t)}},l.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},l.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},l.pointer=function(e){return function(){return this.parsePointer(e)}},l.pointer32=function(e){return function(){return this.parsePointer32(e)}},l.tag=l.prototype.parseTag,l.byte=l.prototype.parseByte,l.uShort=l.offset16=l.prototype.parseUShort,l.uShortList=l.prototype.parseUShortList,l.uLong=l.offset32=l.prototype.parseULong,l.uLongList=l.prototype.parseULongList,l.struct=l.prototype.parseStruct,l.coverage=l.prototype.parseCoverage,l.classDef=l.prototype.parseClassDef;let c={reserved:l.uShort,reqFeatureIndex:l.uShort,featureIndexes:l.uShortList};l.prototype.parseScriptList=function(){return this.parsePointer(l.recordList({tag:l.tag,script:l.pointer({defaultLangSys:l.pointer(c),langSysRecords:l.recordList({tag:l.tag,langSys:l.pointer(c)})})}))||[]},l.prototype.parseFeatureList=function(){return this.parsePointer(l.recordList({tag:l.tag,feature:l.pointer({featureParams:l.offset16,lookupListIndexes:l.uShortList})}))||[]},l.prototype.parseLookupList=function(e){return this.parsePointer(l.list(l.pointer(function(){let t=this.parseUShort();i.default.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");let n=this.parseUShort();return{lookupType:t,lookupFlag:n,subtables:this.parseList(l.pointer(e[t])),markFilteringSet:16&n?this.parseUShort():void 0}})))||[]},l.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){let e=this.parseUShort(),t=this.parseUShort();return i.default.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:l.offset32,featureTableSubstitutionOffset:l.offset32})})||[]};var h={getByte:r,getCard8:r,getUShort:o,getCard16:o,getShort:function(e,t){return e.getInt16(t,!1)},getULong:s,getFixed:a,getTag:function(e,t){let n="";for(let i=t;i<t+4;i+=1)n+=String.fromCharCode(e.getInt8(i));return n},getOffset:function(e,t,n){let i=0;for(let r=0;r<n;r+=1)i<<=8,i+=e.getUint8(t+r);return i},getBytes:function(e,t,n){let i=[];for(let r=t;r<n;r+=1)i.push(e.getUint8(r));return i},bytesToString:function(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t},Parser:l}}),F("fAJMI",function(e,n){t(e.exports,"default",function(){return E});var i=T("gnC7u"),r=T("4UCwV"),o=T("8IoAa"),s=T("knRc9"),a=T("gtEVy");function u(e){return e.length<1240?107:e.length<33900?1131:32768}function l(e,t,n){let i,r,s=[],a=[],u=o.default.getCard16(e,t);if(0!==u){let n=o.default.getByte(e,t+2);i=t+(u+1)*n+2;let a=t+3;for(let t=0;t<u+1;t+=1)s.push(o.default.getOffset(e,a,n)),a+=n;r=i+s[u]}else r=t+2;for(let t=0;t<s.length-1;t+=1){let r=o.default.getBytes(e,i+s[t],i+s[t+1]);n&&(r=n(r)),a.push(r)}return{objects:a,startOffset:t,endOffset:r}}function c(e,t,n){t=void 0!==t?t:0;let i=new o.default.Parser(e,t),r=[],s=[];for(n=void 0!==n?n:e.length;i.relativeOffset<n;){let e=i.parseByte();e<=21?(12===e&&(e=1200+i.parseByte()),r.push([e,s]),s=[]):s.push(function(e,t){let n,i;if(28===t)return(n=e.parseByte())<<8|(i=e.parseByte());if(29===t)return n=e.parseByte(),i=e.parseByte(),n<<24|i<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){let t="",n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];for(;;){let i=e.parseByte(),r=i>>4,o=15&i;if(15===r||(t+=n[r],15===o))break;t+=n[o]}return parseFloat(t)}(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return(t-247)*256+(n=e.parseByte())+108;if(t>=251&&t<=254)return-(256*(t-251))-(n=e.parseByte())-108;throw Error("Invalid b0 "+t)}(i,e))}return function(e){let t={};for(let n=0;n<e.length;n+=1){let i,r=e[n][0],o=e[n][1];if(i=1===o.length?o[0]:o,t.hasOwnProperty(r)&&!isNaN(t[r]))throw Error("Object "+t+" already has key "+r);t[r]=i}return t}(r)}function h(e,t){return t<=390?i.cffStandardStrings[t]:e[t-391]}function d(e,t,n){let i,r={};for(let o=0;o<t.length;o+=1){let s=t[o];if(Array.isArray(s.type)){let t=[];t.length=s.type.length;for(let r=0;r<s.type.length;r++)void 0===(i=void 0!==e[s.op]?e[s.op][r]:void 0)&&(i=void 0!==s.value&&void 0!==s.value[r]?s.value[r]:null),"SID"===s.type[r]&&(i=h(n,i)),t[r]=i;r[s.name]=t}else void 0===(i=e[s.op])&&(i=void 0!==s.value?s.value:null),"SID"===s.type&&(i=h(n,i)),r[s.name]=i}return r}let p=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],f=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function m(e,t,n,i){let r=[];for(let s=0;s<n.length;s+=1){var o;let a=(o=new DataView(new Uint8Array(n[s]).buffer),d(c(o,0,o.byteLength),p,i));a._subrs=[],a._subrsBias=0;let h=a.private[0],m=a.private[1];if(0!==h&&0!==m){let n=d(c(e,m+t,h),f,i);a._defaultWidthX=n.defaultWidthX,a._nominalWidthX=n.nominalWidthX,0!==n.subrs&&(a._subrs=l(e,m+n.subrs+t).objects,a._subrsBias=u(a._subrs)),a._privateDict=n}r.push(a)}return r}function g(e,t,n){let i,r,o,a,u,l,c,h,d=new(0,s.default),p=[],f=0,m=!1,g=!1,y=0,v=0;if(e.isCIDFont){let n=e.tables.cff.topDict._fdSelect[t.index],i=e.tables.cff.topDict._fdArray[n];u=i._subrs,l=i._subrsBias,c=i._defaultWidthX,h=i._nominalWidthX}else u=e.tables.cff.topDict._subrs,l=e.tables.cff.topDict._subrsBias,c=e.tables.cff.topDict._defaultWidthX,h=e.tables.cff.topDict._nominalWidthX;let D=c;function b(e,t){g&&d.closePath(),d.moveTo(e,t),g=!0}function E(){p.length%2==0||m||(D=p.shift()+h),f+=p.length>>1,p.length=0,m=!0}return!function n(s){let c,x,w,S,C,T,F,A,k,_,P,L,O=0;for(;O<s.length;){let R=s[O];switch(O+=1,R){case 1:case 3:case 18:case 23:E();break;case 4:p.length>1&&!m&&(D=p.shift()+h,m=!0),v+=p.pop(),b(y,v);break;case 5:for(;p.length>0;)y+=p.shift(),v+=p.shift(),d.lineTo(y,v);break;case 6:for(;p.length>0&&(y+=p.shift(),d.lineTo(y,v),0!==p.length);)v+=p.shift(),d.lineTo(y,v);break;case 7:for(;p.length>0&&(v+=p.shift(),d.lineTo(y,v),0!==p.length);)y+=p.shift(),d.lineTo(y,v);break;case 8:for(;p.length>0;)i=y+p.shift(),r=v+p.shift(),o=i+p.shift(),a=r+p.shift(),y=o+p.shift(),v=a+p.shift(),d.curveTo(i,r,o,a,y,v);break;case 10:(T=u[C=p.pop()+l])&&n(T);break;case 11:return;case 12:switch(R=s[O],O+=1,R){case 35:i=y+p.shift(),r=v+p.shift(),o=i+p.shift(),a=r+p.shift(),F=o+p.shift(),A=a+p.shift(),k=F+p.shift(),_=A+p.shift(),P=k+p.shift(),L=_+p.shift(),y=P+p.shift(),v=L+p.shift(),p.shift(),d.curveTo(i,r,o,a,F,A),d.curveTo(k,_,P,L,y,v);break;case 34:i=y+p.shift(),r=v,o=i+p.shift(),a=r+p.shift(),F=o+p.shift(),A=a,k=F+p.shift(),_=a,P=k+p.shift(),L=v,y=P+p.shift(),d.curveTo(i,r,o,a,F,A),d.curveTo(k,_,P,L,y,v);break;case 36:i=y+p.shift(),r=v+p.shift(),o=i+p.shift(),a=r+p.shift(),F=o+p.shift(),A=a,k=F+p.shift(),_=a,P=k+p.shift(),L=_+p.shift(),y=P+p.shift(),d.curveTo(i,r,o,a,F,A),d.curveTo(k,_,P,L,y,v);break;case 37:i=y+p.shift(),r=v+p.shift(),o=i+p.shift(),a=r+p.shift(),F=o+p.shift(),A=a+p.shift(),k=F+p.shift(),_=A+p.shift(),P=k+p.shift(),L=_+p.shift(),Math.abs(P-y)>Math.abs(L-v)?y=P+p.shift():v=L+p.shift(),d.curveTo(i,r,o,a,F,A),d.curveTo(k,_,P,L,y,v);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+R),p.length=0}break;case 14:p.length>0&&!m&&(D=p.shift()+h,m=!0),g&&(d.closePath(),g=!1);break;case 19:case 20:E(),O+=f+7>>3;break;case 21:p.length>2&&!m&&(D=p.shift()+h,m=!0),v+=p.pop(),b(y+=p.pop(),v);break;case 22:p.length>1&&!m&&(D=p.shift()+h,m=!0),b(y+=p.pop(),v);break;case 24:for(;p.length>2;)i=y+p.shift(),r=v+p.shift(),o=i+p.shift(),a=r+p.shift(),y=o+p.shift(),v=a+p.shift(),d.curveTo(i,r,o,a,y,v);y+=p.shift(),v+=p.shift(),d.lineTo(y,v);break;case 25:for(;p.length>6;)y+=p.shift(),v+=p.shift(),d.lineTo(y,v);i=y+p.shift(),r=v+p.shift(),o=i+p.shift(),a=r+p.shift(),y=o+p.shift(),v=a+p.shift(),d.curveTo(i,r,o,a,y,v);break;case 26:for(p.length%2&&(y+=p.shift());p.length>0;)i=y,r=v+p.shift(),o=i+p.shift(),a=r+p.shift(),y=o,v=a+p.shift(),d.curveTo(i,r,o,a,y,v);break;case 27:for(p.length%2&&(v+=p.shift());p.length>0;)i=y+p.shift(),r=v,o=i+p.shift(),a=r+p.shift(),y=o+p.shift(),v=a,d.curveTo(i,r,o,a,y,v);break;case 28:c=s[O],x=s[O+1],p.push((c<<24|x<<16)>>16),O+=2;break;case 29:C=p.pop()+e.gsubrsBias,(T=e.gsubrs[C])&&n(T);break;case 30:for(;p.length>0&&(i=y,r=v+p.shift(),o=i+p.shift(),a=r+p.shift(),y=o+p.shift(),v=a+(1===p.length?p.shift():0),d.curveTo(i,r,o,a,y,v),0!==p.length);)i=y+p.shift(),r=v,o=i+p.shift(),v=(a=r+p.shift())+p.shift(),y=o+(1===p.length?p.shift():0),d.curveTo(i,r,o,a,y,v);break;case 31:for(;p.length>0&&(i=y+p.shift(),r=v,o=i+p.shift(),v=(a=r+p.shift())+p.shift(),y=o+(1===p.length?p.shift():0),d.curveTo(i,r,o,a,y,v),0!==p.length);)i=y,r=v+p.shift(),o=i+p.shift(),a=r+p.shift(),y=o+p.shift(),v=a+(1===p.length?p.shift():0),d.curveTo(i,r,o,a,y,v);break;default:R<32?console.log("Glyph "+t.index+": unknown operator "+R):R<247?p.push(R-139):R<251?(c=s[O],O+=1,p.push((R-247)*256+c+108)):R<255?(c=s[O],O+=1,p.push(-(256*(R-251))-c-108)):(c=s[O],x=s[O+1],w=s[O+2],S=s[O+3],O+=4,p.push((c<<24|x<<16|w<<8|S)/65536))}}}(n),t.advanceWidth=D,d}function y(e,t){let n,r=i.cffStandardStrings.indexOf(e);return r>=0&&(n=r),(r=t.indexOf(e))>=0?n=r+i.cffStandardStrings.length:(n=i.cffStandardStrings.length+t.length,t.push(e)),n}function v(e,t,n){let i={};for(let r=0;r<e.length;r+=1){let o=e[r],s=t[o.name];void 0!==s&&!function e(t,n){if(t===n)return!0;if(!(Array.isArray(t)&&Array.isArray(n))||t.length!==n.length)return!1;for(let i=0;i<t.length;i+=1)if(!e(t[i],n[i]))return!1;return!0}(s,o.value)&&("SID"===o.type&&(s=y(s,n)),i[o.op]={name:o.name,type:o.type,value:s})}return i}function D(e,t){let n=new a.default.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=v(p,e,t),n}function b(e){let t=new a.default.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}var E={parse:function(e,t,n){var s,a;n.tables.cff={};let p=function(e,t){let n={};return n.formatMajor=o.default.getCard8(e,t),n.formatMinor=o.default.getCard8(e,t+1),n.size=o.default.getCard8(e,t+2),n.offsetSize=o.default.getCard8(e,t+3),n.startOffset=t,n.endOffset=t+4,n}(e,t),y=l(e,p.endOffset,o.default.bytesToString),v=l(e,y.endOffset),D=l(e,v.endOffset,o.default.bytesToString);n.gsubrs=l(e,D.endOffset).objects,n.gsubrsBias=u(n.gsubrs);let b=m(e,t,v.objects,D.objects);if(1!==b.length)throw Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+b.length);let E=b[0];if(n.tables.cff.topDict=E,E._privateDict&&(n.defaultWidthX=E._privateDict.defaultWidthX,n.nominalWidthX=E._privateDict.nominalWidthX),void 0!==E.ros[0]&&void 0!==E.ros[1]&&(n.isCIDFont=!0),n.isCIDFont){let i=E.fdArray,r=E.fdSelect;if(0===i||0===r)throw Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");let s=l(e,i+=t),a=m(e,t,s.objects,D.objects);E._fdArray=a,E._fdSelect=function(e,t,n,i){let r,s=[],a=new o.default.Parser(e,t),u=a.parseCard8();if(0===u)for(let e=0;e<n;e++){if((r=a.parseCard8())>=i)throw Error("CFF table CID Font FDSelect has bad FD index value "+r+" (FD count "+i+")");s.push(r)}else if(3===u){let e,t=a.parseCard16(),o=a.parseCard16();if(0!==o)throw Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+o);for(let u=0;u<t;u++){if(r=a.parseCard8(),e=a.parseCard16(),r>=i)throw Error("CFF table CID Font FDSelect has bad FD index value "+r+" (FD count "+i+")");if(e>n)throw Error("CFF Table CID Font FDSelect format 3 range has bad GID "+e);for(;o<e;o++)s.push(r);o=e}if(e!==n)throw Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+e)}else throw Error("CFF Table CID Font FDSelect table has unsupported format "+u);return s}(e,r+=t,n.numGlyphs,a.length)}let x=t+E.private[1],w=(s=E.private[0],a=D.objects,d(c(e,x,s),f,a));n.defaultWidthX=w.defaultWidthX,n.nominalWidthX=w.nominalWidthX,0!==w.subrs?(n.subrs=l(e,x+w.subrs).objects,n.subrsBias=u(n.subrs)):(n.subrs=[],n.subrsBias=0);let S=l(e,t+E.charStrings);n.nGlyphs=S.objects.length;let C=function(e,t,n,i){let r,s,a=new o.default.Parser(e,t);n-=1;let u=[".notdef"],l=a.parseCard8();if(0===l)for(let e=0;e<n;e+=1)r=a.parseSID(),u.push(h(i,r));else if(1===l)for(;u.length<=n;){r=a.parseSID(),s=a.parseCard8();for(let e=0;e<=s;e+=1)u.push(h(i,r)),r+=1}else if(2===l)for(;u.length<=n;){r=a.parseSID(),s=a.parseCard16();for(let e=0;e<=s;e+=1)u.push(h(i,r)),r+=1}else throw Error("Unknown charset format "+l);return u}(e,t+E.charset,n.nGlyphs,D.objects);0===E.encoding?n.cffEncoding=new(0,i.CffEncoding)(i.cffStandardEncoding,C):1===E.encoding?n.cffEncoding=new(0,i.CffEncoding)(i.cffExpertEncoding,C):n.cffEncoding=function(e,t,n){let r,s={},a=new o.default.Parser(e,t),u=a.parseCard8();if(0===u){let e=a.parseCard8();for(let t=0;t<e;t+=1)s[r=a.parseCard8()]=t}else if(1===u){let e=a.parseCard8();r=1;for(let t=0;t<e;t+=1){let e=a.parseCard8(),t=a.parseCard8();for(let n=e;n<=e+t;n+=1)s[n]=r,r+=1}}else throw Error("Unknown encoding format "+u);return new(0,i.CffEncoding)(s,n)}(e,t+E.encoding,C),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new r.default.GlyphSet(n);for(let e=0;e<n.nGlyphs;e+=1){let t=S.objects[e];n.glyphs.push(e,r.default.cffGlyphLoader(n,e,g,t))}},make:function(e,t){let n,i=new a.default.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/t.unitsPerEm,o={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s=[];for(let t=1;t<e.length;t+=1)n=e.get(t),s.push(n.name);let u=[];i.header=new a.default.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),i.nameIndex=function(e){let t=new a.default.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(let n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}([t.postScriptName]);let l=D(o,u);return i.topDictIndex=b(l),i.globalSubrIndex=new a.default.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),i.charsets=function(e,t){let n=new a.default.Record("Charsets",[{name:"format",type:"Card8",value:0}]);for(let i=0;i<e.length;i+=1){let r=y(e[i],t);n.fields.push({name:"glyph_"+i,type:"SID",value:r})}return n}(s,u),i.charStringsIndex=function(e){let t=new a.default.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]);for(let n=0;n<e.length;n+=1){let i=e.get(n),r=function(e){let t=[],n=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});let i=0,r=0;for(let e=0;e<n.commands.length;e+=1){let o,s,a=n.commands[e];if("Q"===a.type){let e=1/3,t=2/3;a={type:"C",x:a.x,y:a.y,x1:e*i+t*a.x1,y1:e*r+t*a.y1,x2:e*a.x+t*a.x1,y2:e*a.y+t*a.y1}}if("M"===a.type)o=Math.round(a.x-i),s=Math.round(a.y-r),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),i=Math.round(a.x),r=Math.round(a.y);else if("L"===a.type)o=Math.round(a.x-i),s=Math.round(a.y-r),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),i=Math.round(a.x),r=Math.round(a.y);else if("C"===a.type){let e=Math.round(a.x1-i),n=Math.round(a.y1-r),u=Math.round(a.x2-a.x1),l=Math.round(a.y2-a.y1);o=Math.round(a.x-a.x2),s=Math.round(a.y-a.y2),t.push({name:"dx1",type:"NUMBER",value:e}),t.push({name:"dy1",type:"NUMBER",value:n}),t.push({name:"dx2",type:"NUMBER",value:u}),t.push({name:"dy2",type:"NUMBER",value:l}),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),i=Math.round(a.x),r=Math.round(a.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}(i);t.charStrings.push({name:i.name,type:"CHARSTRING",value:r})}return t}(e),i.privateDict=function(e,t){let n=new a.default.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=v(f,e,t),n}({},u),i.stringIndex=function(e){let t=new a.default.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(let n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}(u),o.charset=i.header.sizeOf()+i.nameIndex.sizeOf()+i.topDictIndex.sizeOf()+i.stringIndex.sizeOf()+i.globalSubrIndex.sizeOf(),o.encoding=0,o.charStrings=o.charset+i.charsets.sizeOf(),o.private[1]=o.charStrings+i.charStringsIndex.sizeOf(),i.topDictIndex=b(l=D(o,u)),i}}}),F("gnC7u",function(e,n){t(e.exports,"cffStandardStrings",function(){return i}),t(e.exports,"cffStandardEncoding",function(){return r}),t(e.exports,"cffExpertEncoding",function(){return o}),t(e.exports,"standardNames",function(){return s}),t(e.exports,"DefaultEncoding",function(){return a}),t(e.exports,"CmapEncoding",function(){return u}),t(e.exports,"CffEncoding",function(){return l}),t(e.exports,"GlyphNames",function(){return c}),t(e.exports,"addGlyphNames",function(){return h});let i=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],r=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],s=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function a(e){this.font=e}function u(e){this.cmap=e}function l(e,t){this.encoding=e,this.charset=t}function c(e){switch(e.version){case 1:this.names=s.slice();break;case 2:this.names=Array(e.numberOfGlyphs);for(let t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<s.length?this.names[t]=s[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-s.length];break;case 2.5:this.names=Array(e.numberOfGlyphs);for(let t=0;t<e.numberOfGlyphs;t++)this.names[t]=s[t+e.glyphNameIndex[t]];break;default:this.names=[]}}function h(e){let t,n=e.tables.cmap.glyphIndexMap,i=Object.keys(n);for(let r=0;r<i.length;r+=1){let o=i[r],s=n[o];(t=e.glyphs.get(s)).addUnicode(parseInt(o))}for(let n=0;n<e.glyphs.length;n+=1)t=e.glyphs.get(n),e.cffEncoding?e.isCIDFont?t.name="gid"+n:t.name=e.cffEncoding.charset[n]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(n))}a.prototype.charToGlyphIndex=function(e){let t=e.codePointAt(0),n=this.font.glyphs;if(n)for(let e=0;e<n.length;e+=1){let i=n.get(e);for(let n=0;n<i.unicodes.length;n+=1)if(i.unicodes[n]===t)return e}return null},u.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},l.prototype.charToGlyphIndex=function(e){let t=e.codePointAt(0),n=this.encoding[t];return this.charset.indexOf(n)},c.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},c.prototype.glyphIndexToName=function(e){return this.names[e]}}),F("4UCwV",function(e,n){t(e.exports,"default",function(){return s});var i=T("e13Ax");function r(e,t,n){Object.defineProperty(e,t,{get:function(){return e.path,e[n]},set:function(t){e[n]=t},enumerable:!0,configurable:!0})}function o(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(let e=0;e<t.length;e++)this.glyphs[e]=t[e];this.length=t&&t.length||0}o.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},o.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var s={GlyphSet:o,glyphLoader:function(e,t){return new(0,i.default)({index:t,font:e})},ttfGlyphLoader:function(e,t,n,o,s,a){return function(){let u=new(0,i.default)({index:t,font:e});return u.path=function(){n(u,o,s);let t=a(e.glyphs,u);return t.unitsPerEm=e.unitsPerEm,t},r(u,"xMin","_xMin"),r(u,"xMax","_xMax"),r(u,"yMin","_yMin"),r(u,"yMax","_yMax"),u}},cffGlyphLoader:function(e,t,n,r){return function(){let o=new(0,i.default)({index:t,font:e});return o.path=function(){let t=n(e,o,r);return t.unitsPerEm=e.unitsPerEm,t},o}}}}),F("e13Ax",function(e,n){t(e.exports,"default",function(){return a});var i=T("9wVTF"),r=T("43lmW"),o=T("knRc9");function s(e){this.bindConstructorValues(e)}s.prototype.bindConstructorValues=function(e){let t;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(t=e.path||new(0,o.default),{configurable:!0,get:function(){return"function"==typeof t&&(t=t()),t},set:function(e){t=e}}))},s.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},s.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},s.prototype.getPath=function(e,t,n,i,r){let s,a;e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72,i||(i={});let u=i.xScale,l=i.yScale;if(i.hinting&&r&&r.hinting&&(a=this.path&&r.hinting.exec(this,n)),a)s=r.hinting.getCommands(a),e=Math.round(e),t=Math.round(t),u=l=1;else{s=this.path.commands;let e=1/this.path.unitsPerEm*n;void 0===u&&(u=e),void 0===l&&(l=e)}let c=new(0,o.default);for(let n=0;n<s.length;n+=1){let i=s[n];"M"===i.type?c.moveTo(e+i.x*u,t+-i.y*l):"L"===i.type?c.lineTo(e+i.x*u,t+-i.y*l):"Q"===i.type?c.quadraticCurveTo(e+i.x1*u,t+-i.y1*l,e+i.x*u,t+-i.y*l):"C"===i.type?c.curveTo(e+i.x1*u,t+-i.y1*l,e+i.x2*u,t+-i.y2*l,e+i.x*u,t+-i.y*l):"Z"===i.type&&c.closePath()}return c},s.prototype.getContours=function(){if(void 0===this.points)return[];let e=[],t=[];for(let n=0;n<this.points.length;n+=1){let i=this.points[n];t.push(i),i.lastPointOfContour&&(e.push(t),t=[])}return i.default.argument(0===t.length,"There are still points left in the current contour."),e},s.prototype.getMetrics=function(){let e=this.path.commands,t=[],n=[];for(let i=0;i<e.length;i+=1){let r=e[i];"Z"!==r.type&&(t.push(r.x),n.push(r.y)),("Q"===r.type||"C"===r.type)&&(t.push(r.x1),n.push(r.y1)),"C"===r.type&&(t.push(r.x2),n.push(r.y2))}let i={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(i.xMin)||(i.xMin=0),isFinite(i.xMax)||(i.xMax=this.advanceWidth),isFinite(i.yMin)||(i.yMin=0),isFinite(i.yMax)||(i.yMax=0),i.rightSideBearing=this.advanceWidth-i.leftSideBearing-(i.xMax-i.xMin),i},s.prototype.draw=function(e,t,n,i,r){this.getPath(t,n,i,r).draw(e)},s.prototype.drawPoints=function(e,t,n,i){function r(t,n,i,r){let o=2*Math.PI;e.beginPath();for(let s=0;s<t.length;s+=1)e.moveTo(n+t[s].x*r,i+t[s].y*r),e.arc(n+t[s].x*r,i+t[s].y*r,2,0,o,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,i=void 0!==i?i:24;let o=1/this.path.unitsPerEm*i,s=[],a=[],u=this.path;for(let e=0;e<u.commands.length;e+=1){let t=u.commands[e];void 0!==t.x&&s.push({x:t.x,y:-t.y}),void 0!==t.x1&&a.push({x:t.x1,y:-t.y1}),void 0!==t.x2&&a.push({x:t.x2,y:-t.y2})}e.fillStyle="blue",r(s,t,n,o),e.fillStyle="red",r(a,t,n,o)},s.prototype.drawMetrics=function(e,t,n,i){let o;t=void 0!==t?t:0,n=void 0!==n?n:0,i=void 0!==i?i:24,o=1/this.path.unitsPerEm*i,e.lineWidth=1,e.strokeStyle="black",r.default.line(e,t,-1e4,t,1e4),r.default.line(e,-1e4,n,1e4,n);let s=this.xMin||0,a=this.yMin||0,u=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;e.strokeStyle="blue",r.default.line(e,t+s*o,-1e4,t+s*o,1e4),r.default.line(e,t+u*o,-1e4,t+u*o,1e4),r.default.line(e,-1e4,n+-a*o,1e4,n+-a*o),r.default.line(e,-1e4,n+-l*o,1e4,n+-l*o),e.strokeStyle="green",r.default.line(e,t+c*o,-1e4,t+c*o,1e4)};var a=s}),F("43lmW",function(e,n){t(e.exports,"default",function(){return i});var i={line:function(e,t,n,i,r){e.beginPath(),e.moveTo(t,n),e.lineTo(i,r),e.stroke()}}}),F("l4x1Q",function(e,n){t(e.exports,"default",function(){return s});var i=T("9wVTF"),r=T("8IoAa"),o=T("gtEVy"),s={parse:function(e,t){let n={},o=new r.default.Parser(e,t);return n.version=o.parseVersion(),n.fontRevision=Math.round(1e3*o.parseFixed())/1e3,n.checkSumAdjustment=o.parseULong(),n.magicNumber=o.parseULong(),i.default.argument(0x5f0f3cf5===n.magicNumber,"Font header has wrong magic number."),n.flags=o.parseUShort(),n.unitsPerEm=o.parseUShort(),n.created=o.parseLongDateTime(),n.modified=o.parseLongDateTime(),n.xMin=o.parseShort(),n.yMin=o.parseShort(),n.xMax=o.parseShort(),n.yMax=o.parseShort(),n.macStyle=o.parseUShort(),n.lowestRecPPEM=o.parseUShort(),n.fontDirectionHint=o.parseShort(),n.indexToLocFormat=o.parseShort(),n.glyphDataFormat=o.parseShort(),n},make:function(e){let t=Math.round(new Date().getTime()/1e3)+0x7c25b080,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+0x7c25b080),new o.default.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:0x5f0f3cf5},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}}}),F("kldBO",function(e,n){t(e.exports,"default",function(){return o});var i=T("8IoAa"),r=T("gtEVy"),o={parse:function(e,t){let n={},r=new i.default.Parser(e,t);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n},make:function(e){return new r.default.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}}}),F("l4q0r",function(e,n){t(e.exports,"default",function(){return o});var i=T("8IoAa"),r=T("gtEVy"),o={parse:function(e,t,n,r,o){let s,a,u=new i.default.Parser(e,t);for(let e=0;e<r;e+=1){e<n&&(s=u.parseUShort(),a=u.parseShort());let t=o.get(e);t.advanceWidth=s,t.leftSideBearing=a}},make:function(e){let t=new r.default.Table("hmtx",[]);for(let n=0;n<e.length;n+=1){let i=e.get(n),r=i.advanceWidth||0,o=i.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:r}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return t}}}),F("6csWz",function(e,n){t(e.exports,"default",function(){return s});var i=T("9wVTF"),r=T("8IoAa"),o=T("gtEVy"),s={make:function(e){let t=new o.default.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",i=12+4*e.length;for(let r=0;r<e.length;++r){let o=n.indexOf(e[r]);o<0&&(o=n.length,n+=e[r]),t.fields.push({name:"offset "+r,type:"USHORT",value:i+o}),t.fields.push({name:"length "+r,type:"USHORT",value:e[r].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t},parse:function(e,t){let n=new r.default.Parser(e,t),o=n.parseULong();i.default.argument(1===o,"Unsupported ltag table version."),n.skip("uLong",1);let s=n.parseULong(),a=[];for(let i=0;i<s;i++){let i="",r=t+n.parseUShort(),o=n.parseUShort();for(let t=r;t<r+o;++t)i+=String.fromCharCode(e.getInt8(t));a.push(i)}return a}}}),F("9aWhU",function(e,n){t(e.exports,"default",function(){return o});var i=T("8IoAa"),r=T("gtEVy"),o={parse:function(e,t){let n={},r=new i.default.Parser(e,t);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n},make:function(e){return new r.default.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}}}),F("ezcqC",function(e,n){t(e.exports,"default",function(){return y});var i=T("d7ayE"),r=T("8IoAa"),o=T("gtEVy");let s=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],a={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},u={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},l={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},c="utf-16",h={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},d={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function p(e,t,n){switch(e){case 0:return c;case 1:return d[n]||h[t];case 3:if(1===t||10===t)return c}}function f(e){let t={};for(let n in e)t[e[n]]=parseInt(n);return t}function m(e,t,n,i,r,s){return new o.default.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:i},{name:"length",type:"USHORT",value:r},{name:"offset",type:"USHORT",value:s}])}function g(e,t){let n=function(e,t){let n=e.length,i=t.length-n+1;n:for(let r=0;r<i;r++)for(;r<i;r++){for(let i=0;i<n;i++)if(t[r+i]!==e[i])continue n;return r}return -1}(e,t);if(n<0){n=t.length;let i=0,r=e.length;for(;i<r;++i)t.push(e[i])}return n}var y={parse:function(e,t,n){let o={},u=new r.default.Parser(e,t),h=u.parseUShort(),d=u.parseUShort(),f=u.offset+u.parseUShort();for(let t=0;t<d;t++){let t=u.parseUShort(),r=u.parseUShort(),h=u.parseUShort(),d=u.parseUShort(),m=s[d]||d,g=u.parseUShort(),y=u.parseUShort(),v=function(e,t,n){switch(e){case 0:if(65535===t)return"und";if(n)return n[t];break;case 1:return a[t];case 3:return l[t]}}(t,h,n),D=p(t,r,h);if(void 0!==D&&void 0!==v){let t;if(t=D===c?i.decode.UTF16(e,f+y,g):i.decode.MACSTRING(e,f+y,g,D)){let e=o[m];void 0===e&&(e=o[m]={}),e[v]=t}}}return 1===h&&u.parseUShort(),o},make:function(e,t){let n,r=[],c={},h=f(s);for(let t in e){let i=h[t];if(void 0===i&&(i=t),isNaN(n=parseInt(i)))throw Error('Name table entry "'+t+'" does not exist, see nameTableNames for complete list.');c[n]=e[t],r.push(n)}let d=f(a),y=f(l),v=[],D=[];for(let e=0;e<r.length;e++){let o=c[n=r[e]];for(let e in o){let r=o[e],s=1,a=d[e],l=u[a],c=p(s,l,a),h=i.encode.MACSTRING(r,c);void 0===h&&(s=0,(a=t.indexOf(e))<0&&(a=t.length,t.push(e)),l=4,h=i.encode.UTF16(r));let f=g(h,D);v.push(m(s,l,a,n,h.length,f));let b=y[e];if(void 0!==b){let e=i.encode.UTF16(r),t=g(e,D);v.push(m(3,1,b,n,e.length,t))}}}v.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID});let b=new o.default.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:v.length},{name:"stringOffset",type:"USHORT",value:6+12*v.length}]);for(let e=0;e<v.length;e++)b.fields.push({name:"record_"+e,type:"RECORD",value:v[e]});return b.fields.push({name:"strings",type:"LITERAL",value:D}),b}}}),F("iE1t3",function(e,n){t(e.exports,"default",function(){return s});var i=T("8IoAa"),r=T("gtEVy");let o=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var s={parse:function(e,t){let n={},r=new i.default.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(let e=0;e<10;e++)n.panose[e]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},make:function(e){return new r.default.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:o,getUnicodeRange:function(e){for(let t=0;t<o.length;t+=1){let n=o[t];if(e>=n.begin&&e<n.end)return t}return -1}}}),F("1Gujb",function(e,n){t(e.exports,"default",function(){return s});var i=T("gnC7u"),r=T("8IoAa"),o=T("gtEVy"),s={parse:function(e,t){let n={},o=new r.default.Parser(e,t);switch(n.version=o.parseVersion(),n.italicAngle=o.parseFixed(),n.underlinePosition=o.parseShort(),n.underlineThickness=o.parseShort(),n.isFixedPitch=o.parseULong(),n.minMemType42=o.parseULong(),n.maxMemType42=o.parseULong(),n.minMemType1=o.parseULong(),n.maxMemType1=o.parseULong(),n.version){case 1:n.names=i.standardNames.slice();break;case 2:n.numberOfGlyphs=o.parseUShort(),n.glyphNameIndex=Array(n.numberOfGlyphs);for(let e=0;e<n.numberOfGlyphs;e++)n.glyphNameIndex[e]=o.parseUShort();n.names=[];for(let e=0;e<n.numberOfGlyphs;e++)if(n.glyphNameIndex[e]>=i.standardNames.length){let e=o.parseChar();n.names.push(o.parseString(e))}break;case 2.5:n.numberOfGlyphs=o.parseUShort(),n.offset=Array(n.numberOfGlyphs);for(let e=0;e<n.numberOfGlyphs;e++)n.offset[e]=o.parseChar()}return n},make:function(){return new o.default.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}}}),F("3iPGr",function(e,n){t(e.exports,"default",function(){return l});var i=T("9wVTF"),r=T("8IoAa"),o=T("gtEVy");let s=Array(9);s[1]=function(){let e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(r.Parser.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(r.Parser.coverage),substitute:this.parseOffset16List()}:void i.default.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},s[2]=function(){let e=this.parseUShort();return i.default.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(r.Parser.coverage),sequences:this.parseListOfLists()}},s[3]=function(){let e=this.parseUShort();return i.default.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(r.Parser.coverage),alternateSets:this.parseListOfLists()}},s[4]=function(){let e=this.parseUShort();return i.default.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(r.Parser.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};let a={sequenceIndex:r.Parser.uShort,lookupListIndex:r.Parser.uShort};s[5]=function(){let e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(r.Parser.coverage),ruleSets:this.parseListOfLists(function(){let e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,a)}})};if(2===t)return{substFormat:t,coverage:this.parsePointer(r.Parser.coverage),classDef:this.parsePointer(r.Parser.classDef),classSets:this.parseListOfLists(function(){let e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,a)}})};if(3===t){let e=this.parseUShort(),n=this.parseUShort();return{substFormat:t,coverages:this.parseList(e,r.Parser.pointer(r.Parser.coverage)),lookupRecords:this.parseRecordList(n,a)}}i.default.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},s[6]=function(){let e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(r.Parser.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(a)}})}:2===t?{substFormat:2,coverage:this.parsePointer(r.Parser.coverage),backtrackClassDef:this.parsePointer(r.Parser.classDef),inputClassDef:this.parsePointer(r.Parser.classDef),lookaheadClassDef:this.parsePointer(r.Parser.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(a)}})}:3===t?{substFormat:3,backtrackCoverage:this.parseList(r.Parser.pointer(r.Parser.coverage)),inputCoverage:this.parseList(r.Parser.pointer(r.Parser.coverage)),lookaheadCoverage:this.parseList(r.Parser.pointer(r.Parser.coverage)),lookupRecords:this.parseRecordList(a)}:void i.default.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},s[7]=function(){let e=this.parseUShort();i.default.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");let t=this.parseUShort(),n=new(0,r.Parser)(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:s[t].call(n)}},s[8]=function(){let e=this.parseUShort();return i.default.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(r.Parser.coverage),backtrackCoverage:this.parseList(r.Parser.pointer(r.Parser.coverage)),lookaheadCoverage:this.parseList(r.Parser.pointer(r.Parser.coverage)),substitutes:this.parseUShortList()}};let u=Array(9);u[1]=function(e){return 1===e.substFormat?new o.default.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new o.default.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new o.default.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new o.default.Coverage(e.coverage)}].concat(o.default.ushortList("substitute",e.substitute)))},u[3]=function(e){return i.default.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new o.default.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new o.default.Coverage(e.coverage)}].concat(o.default.tableList("altSet",e.alternateSets,function(e){return new o.default.Table("alternateSetTable",o.default.ushortList("alternate",e))})))},u[4]=function(e){return i.default.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new o.default.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new o.default.Coverage(e.coverage)}].concat(o.default.tableList("ligSet",e.ligatureSets,function(e){return new o.default.Table("ligatureSetTable",o.default.tableList("ligature",e,function(e){return new o.default.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(o.default.ushortList("component",e.components,e.components.length+1)))}))})))};var l={parse:function(e,t){t=t||0;let n=new(0,r.Parser)(e,t),o=n.parseVersion(1);return(i.default.argument(1===o||1.1===o,"Unsupported GSUB table version."),1===o)?{version:o,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(s)}:{version:o,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(s),variations:n.parseFeatureVariationsList()}},make:function(e){return new o.default.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new o.default.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new o.default.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new o.default.LookupList(e.lookups,u)}])}}}),F("1eHX9",function(e,n){t(e.exports,"default",function(){return a});var i=T("9wVTF"),r=T("d7ayE"),o=T("8IoAa"),s=T("gtEVy"),a={parse:function(e,t){let n=new o.default.Parser(e,t),s=n.parseULong();i.default.argument(1===s,"Unsupported META table version."),n.parseULong(),n.parseULong();let a=n.parseULong(),u={};for(let i=0;i<a;i++){let i=n.parseTag(),o=n.parseULong(),s=n.parseULong(),a=r.decode.UTF8(e,t+o,s);u[i]=a}return u},make:function(e){let t=Object.keys(e).length,n="",i=16+12*t,r=new s.default.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:t}]);for(let t in e){let o=n.length;n+=e[t],r.fields.push({name:"tag "+t,type:"TAG",value:t}),r.fields.push({name:"offset "+t,type:"ULONG",value:i+o}),r.fields.push({name:"length "+t,type:"ULONG",value:e[t].length})}return r.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),r}}}),F("88afp",function(e,n){t(e.exports,"default",function(){return o});var i=T("ec0U0");function r(e){i.default.call(this,e,"gpos")}r.prototype=i.default.prototype,r.prototype.init=function(){let e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},r.prototype.getKerningValue=function(e,t,n){for(let i=0;i<e.length;i++){let r=e[i].subtables;for(let e=0;e<r.length;e++){let i=r[e],o=this.getCoverageIndex(i.coverage,t);if(!(o<0))switch(i.posFormat){case 1:let s=i.pairSets[o];for(let e=0;e<s.length;e++){let t=s[e];if(t.secondGlyph===n)return t.value1&&t.value1.xAdvance||0}break;case 2:let a=this.getGlyphClass(i.classDef1,t),u=this.getGlyphClass(i.classDef2,n),l=i.classRecords[a][u];return l.value1&&l.value1.xAdvance||0}}}return 0},r.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)};var o=r}),F("ec0U0",function(e,n){t(e.exports,"default",function(){return u});var i=T("9wVTF");function r(e,t){let n=0,i=e.length-1;for(;n<=i;){let r=n+i>>>1,o=e[r].tag;if(o===t)return r;o<t?n=r+1:i=r-1}return-n-1}function o(e,t){let n=0,i=e.length-1;for(;n<=i;){let r=n+i>>>1,o=e[r];if(o===t)return r;o<t?n=r+1:i=r-1}return-n-1}function s(e,t){let n,i=0,r=e.length-1;for(;i<=r;){let o=i+r>>>1,s=(n=e[o]).start;if(s===t)return n;s<t?i=o+1:r=o-1}if(i>0)return t>(n=e[i-1]).end?0:n}function a(e,t){this.font=e,this.tableName=t}a.prototype={searchTag:r,binSearch:o,getTable:function(e){let t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){let e=this.getTable();return e?e.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){let e=this.getTable();if(!e)return;let t=!1;for(let n=0;n<e.scripts.length;n++){let i=e.scripts[n].tag;if("DFLT"===i)return i;"latn"===i&&(t=!0)}if(t)return"latn"},getScriptTable:function(e,t){let n=this.getTable(t);if(n){e=e||"DFLT";let i=n.scripts,o=r(n.scripts,e);if(o>=0)return i[o].script;if(t){let t={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return i.splice(-1-o,0,t),t.script}}},getLangSysTable:function(e,t,n){let i=this.getScriptTable(e,n);if(i){if(!t||"dflt"===t||"DFLT"===t)return i.defaultLangSys;let e=r(i.langSysRecords,t);if(e>=0)return i.langSysRecords[e].langSys;if(n){let n={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return i.langSysRecords.splice(-1-e,0,n),n.langSys}}},getFeatureTable:function(e,t,n,r){let o=this.getLangSysTable(e,t,r);if(o){let e,t=o.featureIndexes,s=this.font.tables[this.tableName].features;for(let i=0;i<t.length;i++)if((e=s[t[i]]).tag===n)return e.feature;if(r){let r=s.length;return i.default.assert(0===r||n>=s[r-1].tag,"Features must be added in alphabetical order."),e={tag:n,feature:{params:0,lookupListIndexes:[]}},s.push(e),t.push(r),e.feature}}},getLookupTables:function(e,t,n,i,r){let o=this.getFeatureTable(e,t,n,r),s=[];if(o){let e,t=o.lookupListIndexes,n=this.font.tables[this.tableName].lookups;for(let r=0;r<t.length;r++)(e=n[t[r]]).lookupType===i&&s.push(e);if(0===s.length&&r){e={lookupType:i,lookupFlag:0,subtables:[],markFilteringSet:void 0};let r=n.length;return n.push(e),t.push(r),[e]}}return s},getGlyphClass:function(e,t){switch(e.format){case 1:if(e.startGlyph<=t&&t<e.startGlyph+e.classes.length)return e.classes[t-e.startGlyph];return 0;case 2:let n=s(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:let n=o(e.glyphs,t);return n>=0?n:-1;case 2:let i=s(e.ranges,t);return i?i.index+t-i.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;{let t=[],n=e.ranges;for(let e=0;e<n.length;e++){let i=n[e],r=i.start,o=i.end;for(let e=r;e<=o;e++)t.push(e)}return t}}};var u=a}),F("eYbUx",function(e,n){t(e.exports,"default",function(){return a});var i=T("9wVTF"),r=T("ec0U0");function o(e){r.default.call(this,e,"gsub")}function s(e,t,n){let i=e.subtables;for(let e=0;e<i.length;e++){let n=i[e];if(n.substFormat===t)return n}if(n)return i.push(n),n}o.prototype=r.default.prototype,o.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},o.prototype.getSingle=function(e,t,n){let i=[],r=this.getLookupTables(t,n,e,1);for(let e=0;e<r.length;e++){let t=r[e].subtables;for(let e=0;e<t.length;e++){let n,r=t[e],o=this.expandCoverage(r.coverage);if(1===r.substFormat){let e=r.deltaGlyphId;for(n=0;n<o.length;n++){let t=o[n];i.push({sub:t,by:t+e})}}else{let e=r.substitute;for(n=0;n<o.length;n++)i.push({sub:o[n],by:e[n]})}}}return i},o.prototype.getAlternates=function(e,t,n){let i=[],r=this.getLookupTables(t,n,e,3);for(let e=0;e<r.length;e++){let t=r[e].subtables;for(let e=0;e<t.length;e++){let n=t[e],r=this.expandCoverage(n.coverage),o=n.alternateSets;for(let e=0;e<r.length;e++)i.push({sub:r[e],by:o[e]})}}return i},o.prototype.getLigatures=function(e,t,n){let i=[],r=this.getLookupTables(t,n,e,4);for(let e=0;e<r.length;e++){let t=r[e].subtables;for(let e=0;e<t.length;e++){let n=t[e],r=this.expandCoverage(n.coverage),o=n.ligatureSets;for(let e=0;e<r.length;e++){let t=r[e],n=o[e];for(let e=0;e<n.length;e++){let r=n[e];i.push({sub:[t].concat(r.components),by:r.ligGlyph})}}}}return i},o.prototype.addSingle=function(e,t,n,r){let o=s(this.getLookupTables(n,r,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});i.default.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);let a=t.sub,u=this.binSearch(o.coverage.glyphs,a);u<0&&(u=-1-u,o.coverage.glyphs.splice(u,0,a),o.substitute.splice(u,0,0)),o.substitute[u]=t.by},o.prototype.addAlternate=function(e,t,n,r){let o=s(this.getLookupTables(n,r,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});i.default.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);let a=t.sub,u=this.binSearch(o.coverage.glyphs,a);u<0&&(u=-1-u,o.coverage.glyphs.splice(u,0,a),o.alternateSets.splice(u,0,0)),o.alternateSets[u]=t.by},o.prototype.addLigature=function(e,t,n,r){let o=this.getLookupTables(n,r,e,4,!0)[0],s=o.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},o.subtables[0]=s),i.default.assert(1===s.coverage.format,"Ligature: unable to modify coverage table format "+s.coverage.format);let a=t.sub[0],u=t.sub.slice(1),l={ligGlyph:t.by,components:u},c=this.binSearch(s.coverage.glyphs,a);if(c>=0){let e=s.ligatureSets[c];for(let t=0;t<e.length;t++)if(function(e,t){let n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}(e[t].components,u))return;e.push(l)}else c=-1-c,s.coverage.glyphs.splice(c,0,a),s.ligatureSets.splice(c,0,[l])},o.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n)}},o.prototype.add=function(e,t,n,i){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,i);switch(e){case"aalt":case"salt":if("number"==typeof t.by)return this.addSingle(e,t,n,i);return this.addAlternate(e,t,n,i);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,i)}};var a=o}),F("3Myi9",function(e,n){t(e.exports,"isBrowser",function(){return r}),t(e.exports,"nodeBufferToArrayBuffer",function(){return o}),t(e.exports,"arrayBufferToNodeBuffer",function(){return s}),t(e.exports,"checkArgument",function(){return a});var i=T("ihoyg").Buffer;function r(){return"undefined"!=typeof window}function o(e){let t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;++t)n[t]=e[t];return t}function s(e){let t=new i(e.byteLength),n=new Uint8Array(e);for(let e=0;e<t.length;++e)t[e]=n[e];return t}function a(e,t){if(!e)throw t}}),F("ihoyg",function(e,n){t(e.exports,"Buffer",function(){return i},function(e){return i=e}),t(e.exports,"INSPECT_MAX_BYTES",function(){return r},function(e){return r=e});var i,r,o=T("hqZtu"),s=T("5WQj6");let a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function u(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e){var i=e,r=t;if(("string"!=typeof r||""===r)&&(r="utf8"),!l.isEncoding(r))throw TypeError("Unknown encoding: "+r);let n=0|g(i,r),o=u(n),s=o.write(i,r);return s!==n&&(o=o.slice(0,s)),o}if(ArrayBuffer.isView(e)){var o=e;if(z(o,Uint8Array)){let e=new Uint8Array(o);return f(e.buffer,e.byteOffset,e.byteLength)}return p(o)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let s=e.valueOf&&e.valueOf();if(null!=s&&s!==e)return l.from(s,t,n);let a=function(e){if(l.isBuffer(e)){let t=0|m(e.length),n=u(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?u(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return h(e),u(e<0?0:0|m(e))}function p(e){let t=e.length<0?0:0|m(e.length),n=u(t);for(let i=0;i<t;i+=1)n[i]=255&e[i];return n}function f(e,t,n){let i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),l.prototype),i}function m(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;let r=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return i?-1:M(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);let r="";for(let i=t;i<n;++i)r+=j[e[i]];return r}(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return function(e,t,n){let i="";n=Math.min(e.length,n);for(let r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}(this,t,n);case"latin1":case"binary":return function(e,t,n){let i="";n=Math.min(e.length,n);for(let r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}(this,t,n);case"base64":var r,s,a;return r=this,s=t,a=n,0===s&&a===r.length?o.fromByteArray(r):o.fromByteArray(r.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let i=e.slice(t,n),r="";for(let e=0;e<i.length-1;e+=2)r+=String.fromCharCode(i[e]+256*i[e+1]);return r}(this,t,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function v(e,t,n){let i=e[t];e[t]=e[n],e[n]=i}function D(e,t,n,i,r){var o;if(0===e.length)return -1;if("string"==typeof n?(i=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(o=n*=1)!=o&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(r)return -1;else n=e.length-1;else if(n<0)if(!r)return -1;else n=0;if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,i,r);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(r)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return b(e,[t],n,i,r)}throw TypeError("val must be string, number or Buffer")}function b(e,t,n,i,r){let o,s=1,a=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){let i=-1;for(o=n;o<a;o++)if(l(e,o)===l(t,-1===i?0:o-i)){if(-1===i&&(i=o),o-i+1===u)return i*s}else -1!==i&&(o-=o-i),i=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let i=0;i<u;i++)if(l(e,o+i)!==l(t,i)){n=!1;break}if(n)return o}return -1}function E(e,t,n){n=Math.min(e.length,n);let i=[],r=t;for(;r<n;){let t=e[r],o=null,s=t>239?4:t>223?3:t>191?2:1;if(r+s<=n){let n,i,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:(192&(n=e[r+1]))==128&&(u=(31&t)<<6|63&n)>127&&(o=u);break;case 3:n=e[r+1],i=e[r+2],(192&n)==128&&(192&i)==128&&(u=(15&t)<<12|(63&n)<<6|63&i)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:n=e[r+1],i=e[r+2],a=e[r+3],(192&n)==128&&(192&i)==128&&(192&a)==128&&(u=(15&t)<<18|(63&n)<<12|(63&i)<<6|63&a)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),r+=s}var o=i;let s=o.length;if(s<=4096)return String.fromCharCode.apply(String,o);let a="",u=0;for(;u<s;)a+=String.fromCharCode.apply(String,o.slice(u,u+=4096));return a}function x(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function w(e,t,n,i,r,o){if(!l.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw RangeError('"value" argument is out of bounds');if(n+i>e.length)throw RangeError("Index out of range")}function S(e,t,n,i,r){O(t,i,r,e,n,7);let o=Number(t&BigInt(0xffffffff));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function C(e,t,n,i,r){O(t,i,r,e,n,7);let o=Number(t&BigInt(0xffffffff));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function F(e,t,n,i,r,o){if(n+i>e.length||n<0)throw RangeError("Index out of range")}function A(e,t,n,i,r){return t*=1,n>>>=0,r||F(e,t,n,4,34028234663852886e22,-34028234663852886e22),s.write(e,t,n,i,23,4),n+4}function k(e,t,n,i,r){return t*=1,n>>>=0,r||F(e,t,n,8,17976931348623157e292,-17976931348623157e292),s.write(e,t,n,i,52,8),n+8}i=l,r=50,l.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return(h(e),e<=0)?u(e):void 0!==t?"string"==typeof n?u(e).fill(t,n):u(e).fill(t):u(e)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:+(i<n)},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){let t=e[n];if(z(t,Uint8Array))r+t.length>i.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(i,r)):Uint8Array.prototype.set.call(i,t,r);else if(l.isBuffer(t))t.copy(i,r);else throw TypeError('"list" argument must be an Array of Buffers');r+=t.length}return i},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?E(this,0,e):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="",t=r;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(e,t,n,i,r){if(z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;let o=r-i,s=n-t,a=Math.min(o,s),u=this.slice(i,r),c=e.slice(t,n);for(let e=0;e<a;++e)if(u[e]!==c[e]){o=u[e],s=c[e];break}return o<s?-1:+(s<o)},l.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return D(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return D(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){var r,o,s,a,u,l,c,h;if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===n||n>d)&&(n=d),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let p=!1;for(;;)switch(i){case"hex":return function(e,t,n,i){let r;n=Number(n)||0;let o=e.length-n;i?(i=Number(i))>o&&(i=o):i=o;let s=t.length;for(i>s/2&&(i=s/2),r=0;r<i;++r){var a;let i=parseInt(t.substr(2*r,2),16);if((a=i)!=a)break;e[n+r]=i}return r}(this,e,t,n);case"utf8":case"utf-8":return r=t,o=n,U(M(e,this.length-r),this,r,o);case"ascii":case"latin1":case"binary":return s=t,a=n,U(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,s,a);case"base64":return u=t,l=n,U(B(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=n,U(function(e,t){let n,i,r=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,r.push(n%256),r.push(i);return r}(e,this.length-c),this,c,h);default:if(p)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),p=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,l.prototype),i},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let i=this[e],r=1,o=0;for(;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let i=this[e+--t],r=1;for(;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=V(function(e){R(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&I(e,this.length-8);let i=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],r=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*n;return BigInt(i)+(BigInt(r)<<BigInt(32))}),l.prototype.readBigUInt64BE=V(function(e){R(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&I(e,this.length-8);let i=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],r=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(i)<<BigInt(32))+BigInt(r)}),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let i=this[e],r=1,o=0;for(;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let i=t,r=1,o=this[e+--i];for(;i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return(e>>>=0,t||x(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=V(function(e){R(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&I(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),l.prototype.readBigInt64BE=V(function(e){R(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&I(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n)}),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),s.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),s.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),s.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),s.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,i){if(e*=1,t>>>=0,n>>>=0,!i){let i=Math.pow(2,8*n)-1;w(this,e,t,n,i,0)}let r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,i){if(e*=1,t>>>=0,n>>>=0,!i){let i=Math.pow(2,8*n)-1;w(this,e,t,n,i,0)}let r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=V(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=V(function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,t,n,i){if(e*=1,t>>>=0,!i){let i=Math.pow(2,8*n-1);w(this,e,t,n,i-1,-i)}let r=0,o=1,s=0;for(this[t]=255&e;++r<n&&(o*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/o|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e*=1,t>>>=0,!i){let i=Math.pow(2,8*n-1);w(this,e,t,n,i-1,-i)}let r=n-1,o=1,s=0;for(this[t+r]=255&e;--r>=0&&(o*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/o|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=V(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=V(function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(e,t,n){return A(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return A(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(!l.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let r=i-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),r},l.prototype.fill=function(e,t,n,i){let r;if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){let t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{let o=l.isBuffer(e)?e:l.from(e,i),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<n-t;++r)this[r+t]=o[r%s]}return this};let _={};function P(e,t,n){_[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function L(e){let t="",n=e.length,i=+("-"===e[0]);for(;n>=i+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function O(e,t,n,i,r,o){if(e>n||e<t){let i,r="bigint"==typeof t?"n":"";throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${(o+1)*8}${r}`:`>= -(2${r} ** ${(o+1)*8-1}${r}) and < 2 ** ${(o+1)*8-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new _.ERR_OUT_OF_RANGE("value",i,e)}R(r,"offset"),(void 0===i[r]||void 0===i[r+o])&&I(r,i.length-(o+1))}function R(e,t){if("number"!=typeof e)throw new _.ERR_INVALID_ARG_TYPE(t,"number",e)}function I(e,t,n){if(Math.floor(e)!==e)throw R(e,n),new _.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new _.ERR_BUFFER_OUT_OF_BOUNDS;throw new _.ERR_OUT_OF_RANGE(n||"offset",`>= ${+!!n} and <= ${t}`,e)}P("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),P("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),P("ERR_OUT_OF_RANGE",function(e,t,n){let i=`The value of "${e}" is out of range.`,r=n;return Number.isInteger(n)&&Math.abs(n)>0x100000000?r=L(String(n)):"bigint"==typeof n&&(r=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(r=L(r)),r+="n"),i+=` It must be ${t}. Received ${r}`},RangeError);let N=/[^+/0-9A-Za-z-_]/g;function M(e,t){let n;t=t||1/0;let i=e.length,r=null,o=[];for(let s=0;s<i;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319||s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function B(e){return o.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,i){let r;for(r=0;r<i&&!(r+n>=t.length)&&!(r>=e.length);++r)t[r+n]=e[r];return r}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let j=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let i=16*n;for(let r=0;r<16;++r)t[i+r]=e[n]+e[r]}return t}();function V(e){return"undefined"==typeof BigInt?G:e}function G(){throw Error("BigInt not supported")}}),F("hqZtu",function(e,n){t(e.exports,"toByteArray",function(){return i},function(e){return i=e}),t(e.exports,"fromByteArray",function(){return r},function(e){return r=e});for(var i=function(e){var t,n,i=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var i=n===t?0:4-n%4;return[n,i]}(e),r=i[0],o=i[1],u=new a((r+o)*3/4-o),l=0,c=o>0?r-4:r;for(n=0;n<c;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===o&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===o&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},r=function(e){for(var t,n=e.length,i=n%3,r=[],s=0,a=n-i;s<a;s+=16383)r.push(function(e,t,n){for(var i,r=[],s=t;s<n;s+=3)i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),r.push(o[i>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return r.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?r.push(o[(t=e[n-1])>>2]+o[t<<4&63]+"=="):2===i&&r.push(o[(t=(e[n-2]<<8)+e[n-1])>>10]+o[t>>4&63]+o[t<<2&63]+"="),r.join("")},o=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=u.length;l<c;++l)o[l]=u[l],s[u.charCodeAt(l)]=l;s[45]=62,s[95]=63}),F("5WQj6",function(e,n){var i,r;t(e.exports,"read",function(){return i},function(e){return i=e}),t(e.exports,"write",function(){return r},function(e){return r=e}),i=function(e,t,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+e[t+h],h+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=l}return(p?-1:1)*s*Math.pow(2,o-i)},r=function(e,t,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,d=5960464477539062e-23*(23===r),p=i?0:o-1,f=i?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?t+=d/u:t+=d*Math.pow(2,1-h),t*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*u-1)*Math.pow(2,r),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;e[n+p]=255&a,p+=f,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;e[n+p]=255&s,p+=f,s/=256,l-=8);e[n+p-f]|=128*m}}),F("6XuqH",function(e,n){let i,r,o,s;t(e.exports,"DEBUG",function(){return $510fdb7456b912bc$export$3f32c2013f0dcc1e},function(e){return $510fdb7456b912bc$export$3f32c2013f0dcc1e=e}),t(e.exports,"default",function(){return X});var a=T("caKfs");function u(e){this.font=e,this.getCommands=function(e){return a.default.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function l(e){return e}function c(e){return Math.sign(e)*Math.round(Math.abs(e))}function h(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function d(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function p(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function f(e){return Math.sign(e)*Math.floor(Math.abs(e))}let m=function(e){let t=this.srPeriod,n=this.srPhase,i=this.srThreshold,r=1;return(e<0&&(e=-e,r=-1),e+=i-n,(e=Math.trunc(e/t)*t+n)<0)?n*r:e*r},g={x:1,y:0,axis:"x",distance:function(e,t,n,i){return(n?e.xo:e.x)-(i?t.xo:t.x)},interpolate:function(e,t,n,i){let r,o,s,a,u,l,c;if(!i||i===this){if(r=e.xo-t.xo,o=e.xo-n.xo,u=t.x-t.xo,l=n.x-n.xo,0===(c=(s=Math.abs(r))+(a=Math.abs(o)))){e.x=e.xo+(u+l)/2;return}e.x=e.xo+(u*a+l*s)/c;return}if(r=i.distance(e,t,!0,!0),o=i.distance(e,n,!0,!0),u=i.distance(t,t,!1,!0),l=i.distance(n,n,!1,!0),0===(c=(s=Math.abs(r))+(a=Math.abs(o))))return void g.setRelative(e,e,(u+l)/2,i,!0);g.setRelative(e,e,(u*a+l*s)/c,i,!0)},normalSlope:-1/0,setRelative:function(e,t,n,i,r){if(!i||i===this){e.x=(r?t.xo:t.x)+n;return}let o=r?t.xo:t.x,s=r?t.yo:t.y,a=o+n*i.x,u=s+n*i.y;e.x=a+(e.y-u)/i.normalSlope},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},y={x:0,y:1,axis:"y",distance:function(e,t,n,i){return(n?e.yo:e.y)-(i?t.yo:t.y)},interpolate:function(e,t,n,i){let r,o,s,a,u,l,c;if(!i||i===this){if(r=e.yo-t.yo,o=e.yo-n.yo,u=t.y-t.yo,l=n.y-n.yo,0===(c=(s=Math.abs(r))+(a=Math.abs(o)))){e.y=e.yo+(u+l)/2;return}e.y=e.yo+(u*a+l*s)/c;return}if(r=i.distance(e,t,!0,!0),o=i.distance(e,n,!0,!0),u=i.distance(t,t,!1,!0),l=i.distance(n,n,!1,!0),0===(c=(s=Math.abs(r))+(a=Math.abs(o))))return void y.setRelative(e,e,(u+l)/2,i,!0);y.setRelative(e,e,(u*a+l*s)/c,i,!0)},normalSlope:0,setRelative:function(e,t,n,i,r){if(!i||i===this){e.y=(r?t.yo:t.y)+n;return}let o=r?t.xo:t.x,s=r?t.yo:t.y,a=o+n*i.x;e.y=s+n*i.y+i.normalSlope*(e.x-a)},slope:1/0,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function v(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function D(e,t){let n=Math.sqrt(e*e+t*t);return(e/=n,t/=n,1===e&&0===t)?g:0===e&&1===t?y:new v(e,t)}function b(e,t,n,i){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=n,this.onCurve=i,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(g),Object.freeze(y),v.prototype.distance=function(e,t,n,i){return this.x*g.distance(e,t,n,i)+this.y*y.distance(e,t,n,i)},v.prototype.interpolate=function(e,t,n,i){let r,o,s,a,u,l,c;if(s=i.distance(e,t,!0,!0),a=i.distance(e,n,!0,!0),r=i.distance(t,t,!1,!0),o=i.distance(n,n,!1,!0),0===(c=(u=Math.abs(s))+(l=Math.abs(a))))return void this.setRelative(e,e,(r+o)/2,i,!0);this.setRelative(e,e,(r*l+o*u)/c,i,!0)},v.prototype.setRelative=function(e,t,n,i,r){i=i||this;let o=r?t.xo:t.x,s=r?t.yo:t.y,a=o+n*i.x,u=s+n*i.y,l=i.normalSlope,c=this.slope,h=e.x,d=e.y;e.x=(c*h-l*a+u-d)/(c-l),e.y=c*(e.x-h)+d},v.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},b.prototype.nextTouched=function(e){let t=this.nextPointOnContour;for(;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},b.prototype.prevTouched=function(e){let t=this.prevPointOnContour;for(;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};let E=Object.freeze(new b(0,0)),x={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function w(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=g,this.round=c}}function S(e){let t=e.tZone=Array(e.gZone.length);for(let e=0;e<t.length;e++)t[e]=new b(0,0)}function C(e,t){let n,i=e.prog,r=e.ip,o=1;do if(88===(n=i[++r]))o++;else if(89===n)o--;else if(64===n)r+=i[r+1]+1;else if(65===n)r+=2*i[r+1]+1;else if(n>=176&&n<=183)r+=n-176+1;else if(n>=184&&n<=191)r+=(n-184+1)*2;else if(t&&1===o&&27===n)break;while(o>0)e.ip=r}function F(e,t){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function A(e,t){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function k(e,t){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function _(e,t){let n,i,r=t.stack,o=r.pop(),s=r.pop(),a=t.z2[o],u=t.z1[s];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log("SPVTL["+e+"]",o,s),e?(n=a.y-u.y,i=u.x-a.x):(n=u.x-a.x,i=u.y-a.y),t.pv=t.dpv=D(n,i)}function P(e,t){let n,i,r=t.stack,o=r.pop(),s=r.pop(),a=t.z2[o],u=t.z1[s];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log("SFVTL["+e+"]",o,s),e?(n=a.y-u.y,i=u.x-a.x):(n=u.x-a.x,i=u.y-a.y),t.fv=D(n,i)}function L(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"POP[]"),e.stack.pop()}function O(e,t){let n=t.stack.pop(),i=t.z0[n],r=t.fv,o=t.pv;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"MDAP["+e+"]",n);let s=o.distance(i,E);e&&(s=t.round(s)),r.setRelative(i,E,s,o),r.touch(i),t.rp0=t.rp1=n}function R(e,t){let n,i,r,o=t.z2,s=o.length-2;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"IUP["+e.axis+"]");for(let t=0;t<s;t++)n=o[t],e.touched(n)||(i=n.prevTouched(e))!==n&&(i===(r=n.nextTouched(e))&&e.setRelative(n,n,e.distance(i,i,!1,!0),e,!0),e.interpolate(n,i,r,e))}function I(e,t){let n=t.stack,i=e?t.rp1:t.rp2,r=(e?t.z0:t.z1)[i],o=t.fv,s=t.pv,a=t.loop,u=t.z2;for(;a--;){let i=n.pop(),l=u[i],c=s.distance(r,r,!1,!0);o.setRelative(l,l,c,s),o.touch(l),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,(t.loop>1?"loop "+(t.loop-a)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",i)}t.loop=1}function N(e,t){let n=t.stack,i=e?t.rp1:t.rp2,r=(e?t.z0:t.z1)[i],o=t.fv,s=t.pv,a=n.pop(),u=t.z2[t.contours[a]],l=u;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"SHC["+e+"]",a);let c=s.distance(r,r,!1,!0);do l!==r&&o.setRelative(l,l,c,s),l=l.nextPointOnContour;while(l!==u)}function M(e,t){let n,i,r=t.stack,o=e?t.rp1:t.rp2,s=(e?t.z0:t.z1)[o],a=t.fv,u=t.pv,l=r.pop();switch($510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"SHZ["+e+"]",l),l){case 0:n=t.tZone;break;case 1:n=t.gZone;break;default:throw Error("Invalid zone")}let c=u.distance(s,s,!1,!0),h=n.length-2;for(let e=0;e<h;e++)i=n[e],a.setRelative(i,i,c,u)}function B(e,t){let n=t.stack,i=n.pop()/64,r=n.pop(),o=t.z1[r],s=t.z0[t.rp0],a=t.fv,u=t.pv;a.setRelative(o,s,i,u),a.touch(o),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"MSIRP["+e+"]",i,r),t.rp1=t.rp0,t.rp2=r,e&&(t.rp0=r)}function U(e,t){let n=t.stack,i=n.pop(),r=n.pop(),o=t.z0[r],s=t.fv,a=t.pv,u=t.cvt[i];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"MIAP["+e+"]",i,"(",u,")",r);let l=a.distance(o,E);e&&(Math.abs(l-u)<t.cvCutIn&&(l=u),l=t.round(l)),s.setRelative(o,E,l,a),0===t.zp0&&(o.xo=o.x,o.yo=o.y),s.touch(o),t.rp0=t.rp1=r}function z(e,t){let n=t.stack,i=n.pop(),r=t.z2[i];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"GC["+e+"]",i),n.push(64*t.dpv.distance(r,E,e,!1))}function j(e,t){let n=t.stack,i=n.pop(),r=n.pop(),o=t.z1[i],s=t.z0[r],a=t.dpv.distance(s,o,e,e);$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"MD["+e+"]",i,r,"->",a),t.stack.push(Math.round(64*a))}function V(e,t){let n=t.stack,i=n.pop(),r=t.fv,o=t.pv,s=t.ppem,a=t.deltaBase+(e-1)*16,u=t.deltaShift,l=t.z0;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"DELTAP["+e+"]",i,n);for(let e=0;e<i;e++){let e=n.pop(),i=n.pop();if(a+((240&i)>>4)!==s)continue;let c=(15&i)-8;c>=0&&c++,$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"DELTAPFIX",e,"by",c*u);let h=l[e];r.setRelative(h,h,c*u,o)}}function G(e,t){let n=t.stack,i=n.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"ROUND[]"),n.push(64*t.round(i/64))}function $(e,t){let n=t.stack,i=n.pop(),r=t.ppem,o=t.deltaBase+(e-1)*16,s=t.deltaShift;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"DELTAC["+e+"]",i,n);for(let e=0;e<i;e++){let e=n.pop(),i=n.pop();if(o+((240&i)>>4)!==r)continue;let a=(15&i)-8;a>=0&&a++;let u=a*s;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"DELTACFIX",e,"by",u),t.cvt[e]+=u}}function H(e,t){let n,i,r=t.stack,o=r.pop(),s=r.pop(),a=t.z2[o],u=t.z1[s];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"SDPVTL["+e+"]",o,s),e?(n=a.y-u.y,i=u.x-a.x):(n=u.x-a.x,i=u.y-a.y),t.dpv=D(n,i)}function W(e,t){let n=t.stack,i=t.prog,r=t.ip;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.step,"PUSHB["+e+"]");for(let t=0;t<e;t++)n.push(i[++r]);t.ip=r}function q(e,t){let n=t.ip,i=t.prog,r=t.stack;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(t.ip,"PUSHW["+e+"]");for(let t=0;t<e;t++){let e=i[++n]<<8|i[++n];32768&e&&(e=-((65535^e)+1)),r.push(e)}t.ip=n}function Y(e,t,n,i,r,o){let s,a,u,l,c=o.stack,h=e&&c.pop(),d=c.pop(),p=o.rp0,f=o.z0[p],m=o.z1[d],g=o.minDis,y=o.fv,v=o.dpv;u=(a=s=v.distance(m,f,!0,!0))>=0?1:-1,a=Math.abs(a),e&&(l=o.cvt[h],i&&Math.abs(a-l)<o.cvCutIn&&(a=l)),n&&a<g&&(a=g),i&&(a=o.round(a)),y.setRelative(m,f,u*a,v),y.touch(m),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(o.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(n?">":"_")+(i?"R":"_")+(0===r?"Gr":1===r?"Bl":2===r?"Wh":"")+"]",e?h+"("+o.cvt[h]+","+l+")":"",d,"(d =",s,"->",u*a,")"),o.rp1=o.rp0,o.rp2=d,t&&(o.rp0=d)}u.prototype.exec=function(e,t){if("number"!=typeof t)throw Error("Point size is not a number!");if(this._errorState>2)return;let n=this.font,i=this._prepState;if(!i||i.ppem!==t){let e=this._fpgmState;if(!e){w.prototype=x,(e=this._fpgmState=new w("fpgm",n.tables.fpgm)).funcs=[],e.font=n,$510fdb7456b912bc$export$3f32c2013f0dcc1e&&(console.log("---EXEC FPGM---"),e.step=-1);try{r(e)}catch(e){console.log("Hinting error in FPGM:"+e),this._errorState=3;return}}w.prototype=e,(i=this._prepState=new w("prep",n.tables.prep)).ppem=t;let o=n.tables.cvt;if(o){let e=i.cvt=Array(o.length),r=t/n.unitsPerEm;for(let t=0;t<o.length;t++)e[t]=o[t]*r}else i.cvt=[];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&(console.log("---EXEC PREP---"),i.step=-1);try{r(i)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(this._errorState>1))try{return o(e,i)}catch(e){this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}},o=function(e,t){let n,i,o,a=t.ppem/t.font.unitsPerEm,u=e.components;if(w.prototype=t,u){let l=t.font;i=[],n=[];for(let e=0;e<u.length;e++){let t=u[e],r=l.glyphs.get(t.glyphIndex);o=new w("glyf",r.instructions),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&(console.log("---EXEC COMP "+e+"---"),o.step=-1),s(r,o,a,a);let c=Math.round(t.dx*a),h=Math.round(t.dy*a),d=o.gZone,p=o.contours;for(let e=0;e<d.length;e++){let t=d[e];t.xTouched=t.yTouched=!1,t.xo=t.x=t.x+c,t.yo=t.y=t.y+h}let f=i.length;i.push.apply(i,d);for(let e=0;e<p.length;e++)n.push(p[e]+f)}e.instructions&&!o.inhibitGridFit&&((o=new w("glyf",e.instructions)).gZone=o.z0=o.z1=o.z2=i,o.contours=n,i.push(new b(0,0),new b(Math.round(e.advanceWidth*a),0)),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&(console.log("---EXEC COMPOSITE---"),o.step=-1),r(o),i.length-=2)}else o=new w("glyf",e.instructions),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&(console.log("---EXEC GLYPH---"),o.step=-1),s(e,o,a,a),i=o.gZone;return i},s=function(e,t,n,i){let o,s,a,u=e.points||[],l=u.length,c=t.gZone=t.z0=t.z1=t.z2=[],h=t.contours=[];for(let e=0;e<l;e++)o=u[e],c[e]=new b(o.x*n,o.y*i,o.lastPointOfContour,o.onCurve);for(let e=0;e<l;e++)o=c[e],s||(s=o,h.push(e)),o.lastPointOfContour?(o.nextPointOnContour=s,s.prevPointOnContour=o,s=void 0):(a=c[e+1],o.nextPointOnContour=a,a.prevPointOnContour=o);if(!t.inhibitGridFit){if($510fdb7456b912bc$export$3f32c2013f0dcc1e){console.log("PROCESSING GLYPH",t.stack);for(let e=0;e<l;e++)console.log(e,c[e].x,c[e].y)}if(c.push(new b(0,0),new b(Math.round(e.advanceWidth*n),0)),r(t),c.length-=2,$510fdb7456b912bc$export$3f32c2013f0dcc1e){console.log("FINISHED GLYPH",t.stack);for(let e=0;e<l;e++)console.log(e,c[e].x,c[e].y)}}},r=function(e){let t,n=e.prog;if(!n)return;let r=n.length;for(e.ip=0;e.ip<r;e.ip++){if($510fdb7456b912bc$export$3f32c2013f0dcc1e&&e.step++,!(t=i[n[e.ip]]))throw Error("unknown instruction: 0x"+Number(n[e.ip]).toString(16));t(e)}},i=[F.bind(void 0,y),F.bind(void 0,g),A.bind(void 0,y),A.bind(void 0,g),k.bind(void 0,y),k.bind(void 0,g),_.bind(void 0,0),_.bind(void 0,1),P.bind(void 0,0),P.bind(void 0,1),function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SPVFS[]",n,i),e.pv=e.dpv=D(i,n)},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SPVFS[]",n,i),e.fv=D(i,n)},function(e){let t=e.stack,n=e.pv;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"GPV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){let t=e.stack,n=e.fv;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"GFV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){e.fv=e.pv,$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SFVTPV[]")},function(e){let t=e.stack,n=t.pop(),i=t.pop(),r=t.pop(),o=t.pop(),s=t.pop(),a=e.z0,u=e.z1,l=a[n],c=a[i],h=u[r],d=u[o],p=e.z2[s];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log("ISECT[], ",n,i,r,o,s);let f=l.x,m=l.y,g=c.x,y=c.y,v=h.x,D=h.y,b=d.x,E=d.y,x=(f-g)*(D-E)-(m-y)*(v-b),w=f*y-m*g,S=v*E-D*b;p.x=(w*(v-b)-S*(f-g))/x,p.y=(w*(D-E)-S*(m-y))/x},function(e){e.rp0=e.stack.pop(),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SRP2[]",e.rp2)},function(e){let t=e.stack.pop();switch($510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||S(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw Error("Invalid zone pointer")}},function(e){let t=e.stack.pop();switch($510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||S(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw Error("Invalid zone pointer")}},function(e){let t=e.stack.pop();switch($510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||S(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw Error("Invalid zone pointer")}},function(e){let t=e.stack.pop();switch($510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||S(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SLOOP[]",e.loop)},function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"RTG[]"),e.round=c},function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"RTHG[]"),e.round=d},function(e){let t=e.stack.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SMD[]",t),e.minDis=t/64},function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"ELSE[]"),C(e,!1)},function(e){let t=e.stack.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"JMPR[]",t),e.ip+=t-1},function(e){let t=e.stack.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64},void 0,void 0,function(e){let t=e.stack;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])},L,function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SWAP[]"),t.push(n),t.push(i)},function(e){let t=e.stack;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"DEPTH[]"),t.push(t.length)},function(e){let t=e.stack,n=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"CINDEX[]",n),t.push(t[t.length-n])},function(e){let t=e.stack,n=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"MINDEX[]",n),t.push(t.splice(t.length-n,1)[0])},void 0,void 0,void 0,function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"LOOPCALL[]",n,i);let o=e.ip,s=e.prog;e.prog=e.funcs[n];for(let t=0;t<i;t++)r(e),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(++e.step,t+1<i?"next loopcall":"done loopcall",t);e.ip=o,e.prog=s},function(e){let t=e.stack.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"CALL[]",t);let n=e.ip,i=e.prog;e.prog=e.funcs[t],r(e),e.ip=n,e.prog=i,$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(++e.step,"returning from",t)},function(e){if("fpgm"!==e.env)throw Error("FDEF not allowed here");let t=e.stack,n=e.prog,i=e.ip,r=t.pop(),o=i;for($510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"FDEF[]",r);45!==n[++i];);e.ip=i,e.funcs[r]=n.slice(o+1,i)},void 0,O.bind(void 0,0),O.bind(void 0,1),R.bind(void 0,y),R.bind(void 0,g),I.bind(void 0,0),I.bind(void 0,1),N.bind(void 0,0),N.bind(void 0,1),M.bind(void 0,0),M.bind(void 0,1),function(e){let t=e.stack,n=e.loop,i=e.fv,r=t.pop()/64,o=e.z2;for(;n--;){let s=t.pop(),a=o[s];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",s,r),i.setRelative(a,a,r),i.touch(a)}e.loop=1},function(e){let t=e.stack,n=e.rp1,i=e.rp2,r=e.loop,o=e.z0[n],s=e.z1[i],a=e.fv,u=e.dpv,l=e.z2;for(;r--;){let c=t.pop(),h=l[c];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,(e.loop>1?"loop "+(e.loop-r)+": ":"")+"IP[]",c,n,"<->",i),a.interpolate(h,o,s,u),a.touch(h)}e.loop=1},B.bind(void 0,0),B.bind(void 0,1),function(e){let t=e.stack,n=e.rp0,i=e.z0[n],r=e.loop,o=e.fv,s=e.pv,a=e.z1;for(;r--;){let n=t.pop(),u=a[n];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,(e.loop>1?"loop "+(e.loop-r)+": ":"")+"ALIGNRP[]",n),o.setRelative(u,i,0,s),o.touch(u)}e.loop=1},function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"RTDG[]"),e.round=h},U.bind(void 0,0),U.bind(void 0,1),function(e){let t=e.prog,n=e.ip,i=e.stack,r=t[++n];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"NPUSHB[]",r);for(let e=0;e<r;e++)i.push(t[++n]);e.ip=n},function(e){let t=e.ip,n=e.prog,i=e.stack,r=n[++t];$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"NPUSHW[]",r);for(let e=0;e<r;e++){let e=n[++t]<<8|n[++t];32768&e&&(e=-((65535^e)+1)),i.push(e)}e.ip=t},function(e){let t=e.stack,n=e.store;n||(n=e.store=[]);let i=t.pop(),r=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"WS",i,r),n[r]=i},function(e){let t=e.stack,n=e.store,i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"RS",i);let r=n&&n[i]||0;t.push(r)},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"WCVTP",n,i),e.cvt[i]=n/64},function(e){let t=e.stack,n=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"RCVT",n),t.push(64*e.cvt[n])},z.bind(void 0,0),z.bind(void 0,1),void 0,j.bind(void 0,0),j.bind(void 0,1),function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"LT[]",n,i),t.push(+(i<n))},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"LTEQ[]",n,i),t.push(+(i<=n))},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"GT[]",n,i),t.push(+(i>n))},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"GTEQ[]",n,i),t.push(+(i>=n))},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"EQ[]",n,i),t.push(+(n===i))},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"NEQ[]",n,i),t.push(+(n!==i))},function(e){let t=e.stack,n=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"ODD[]",n),t.push(Math.trunc(n)%2?1:0)},function(e){let t=e.stack,n=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"EVEN[]",n),t.push(Math.trunc(n)%2?0:1)},function(e){let t,n=e.stack.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"IF[]",n),!n&&(C(e,!0),$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,27===t?"ELSE[]":"EIF[]"))},function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"EIF[]")},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"AND[]",n,i),t.push(n&&i?1:0)},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"OR[]",n,i),t.push(n||i?1:0)},function(e){let t=e.stack,n=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"NOT[]",n),t.push(+!n)},V.bind(void 0,1),function(e){let t=e.stack.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SDB[]",t),e.deltaBase=t},function(e){let t=e.stack.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SDS[]",t),e.deltaShift=Math.pow(.5,t)},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"ADD[]",n,i),t.push(i+n)},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SUB[]",n,i),t.push(i-n)},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"DIV[]",n,i),t.push(64*i/n)},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"MUL[]",n,i),t.push(i*n/64)},function(e){let t=e.stack,n=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"ABS[]",n),t.push(Math.abs(n))},function(e){let t=e.stack,n=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"NEG[]",n),t.push(-n)},function(e){let t=e.stack,n=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"FLOOR[]",n),t.push(64*Math.floor(n/64))},function(e){let t=e.stack,n=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"CEILING[]",n),t.push(64*Math.ceil(n/64))},G.bind(void 0,0),G.bind(void 0,1),G.bind(void 0,2),G.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"WCVTF[]",n,i),e.cvt[i]=n*e.ppem/e.font.unitsPerEm},V.bind(void 0,2),V.bind(void 0,3),$.bind(void 0,1),$.bind(void 0,2),$.bind(void 0,3),function(e){let t,n=e.stack.pop();switch($510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SROUND[]",n),e.round=m,192&n){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw Error("invalid SROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw Error("invalid SROUND value")}0==(n&=15)?e.srThreshold=0:e.srThreshold=(n/8-.5)*t},function(e){let t,n=e.stack.pop();switch($510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"S45ROUND[]",n),e.round=m,192&n){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw Error("invalid S45ROUND value")}0==(n&=15)?e.srThreshold=0:e.srThreshold=(n/8-.5)*t},void 0,void 0,function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"ROFF[]"),e.round=l},void 0,function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"RUTG[]"),e.round=p},function(e){$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"RDTG[]"),e.round=f},L,L,void 0,void 0,void 0,void 0,void 0,function(e){let t=e.stack.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SCANCTRL[]",t)},H.bind(void 0,0),H.bind(void 0,1),function(e){let t=e.stack,n=t.pop(),i=0;$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"GETINFO[]",n),1&n&&(i=35),32&n&&(i|=4096),t.push(i)},void 0,function(e){let t=e.stack,n=t.pop(),i=t.pop(),r=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"ROLL[]"),t.push(i),t.push(n),t.push(r)},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"MAX[]",n,i),t.push(Math.max(i,n))},function(e){let t=e.stack,n=t.pop(),i=t.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"MIN[]",n,i),t.push(Math.min(i,n))},function(e){let t=e.stack.pop();$510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"SCANTYPE[]",t)},function(e){let t=e.stack.pop(),n=e.stack.pop();switch($510fdb7456b912bc$export$3f32c2013f0dcc1e&&console.log(e.step,"INSTCTRL[]",t,n),t){case 1:e.inhibitGridFit=!!n;return;case 2:e.ignoreCvt=!!n;return;default:throw Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,W.bind(void 0,1),W.bind(void 0,2),W.bind(void 0,3),W.bind(void 0,4),W.bind(void 0,5),W.bind(void 0,6),W.bind(void 0,7),W.bind(void 0,8),q.bind(void 0,1),q.bind(void 0,2),q.bind(void 0,3),q.bind(void 0,4),q.bind(void 0,5),q.bind(void 0,6),q.bind(void 0,7),q.bind(void 0,8),Y.bind(void 0,0,0,0,0,0),Y.bind(void 0,0,0,0,0,1),Y.bind(void 0,0,0,0,0,2),Y.bind(void 0,0,0,0,0,3),Y.bind(void 0,0,0,0,1,0),Y.bind(void 0,0,0,0,1,1),Y.bind(void 0,0,0,0,1,2),Y.bind(void 0,0,0,0,1,3),Y.bind(void 0,0,0,1,0,0),Y.bind(void 0,0,0,1,0,1),Y.bind(void 0,0,0,1,0,2),Y.bind(void 0,0,0,1,0,3),Y.bind(void 0,0,0,1,1,0),Y.bind(void 0,0,0,1,1,1),Y.bind(void 0,0,0,1,1,2),Y.bind(void 0,0,0,1,1,3),Y.bind(void 0,0,1,0,0,0),Y.bind(void 0,0,1,0,0,1),Y.bind(void 0,0,1,0,0,2),Y.bind(void 0,0,1,0,0,3),Y.bind(void 0,0,1,0,1,0),Y.bind(void 0,0,1,0,1,1),Y.bind(void 0,0,1,0,1,2),Y.bind(void 0,0,1,0,1,3),Y.bind(void 0,0,1,1,0,0),Y.bind(void 0,0,1,1,0,1),Y.bind(void 0,0,1,1,0,2),Y.bind(void 0,0,1,1,0,3),Y.bind(void 0,0,1,1,1,0),Y.bind(void 0,0,1,1,1,1),Y.bind(void 0,0,1,1,1,2),Y.bind(void 0,0,1,1,1,3),Y.bind(void 0,1,0,0,0,0),Y.bind(void 0,1,0,0,0,1),Y.bind(void 0,1,0,0,0,2),Y.bind(void 0,1,0,0,0,3),Y.bind(void 0,1,0,0,1,0),Y.bind(void 0,1,0,0,1,1),Y.bind(void 0,1,0,0,1,2),Y.bind(void 0,1,0,0,1,3),Y.bind(void 0,1,0,1,0,0),Y.bind(void 0,1,0,1,0,1),Y.bind(void 0,1,0,1,0,2),Y.bind(void 0,1,0,1,0,3),Y.bind(void 0,1,0,1,1,0),Y.bind(void 0,1,0,1,1,1),Y.bind(void 0,1,0,1,1,2),Y.bind(void 0,1,0,1,1,3),Y.bind(void 0,1,1,0,0,0),Y.bind(void 0,1,1,0,0,1),Y.bind(void 0,1,1,0,0,2),Y.bind(void 0,1,1,0,0,3),Y.bind(void 0,1,1,0,1,0),Y.bind(void 0,1,1,0,1,1),Y.bind(void 0,1,1,0,1,2),Y.bind(void 0,1,1,0,1,3),Y.bind(void 0,1,1,1,0,0),Y.bind(void 0,1,1,1,0,1),Y.bind(void 0,1,1,1,0,2),Y.bind(void 0,1,1,1,0,3),Y.bind(void 0,1,1,1,1,0),Y.bind(void 0,1,1,1,1,1),Y.bind(void 0,1,1,1,1,2),Y.bind(void 0,1,1,1,1,3)];var X=u}),F("caKfs",function(e,n){t(e.exports,"default",function(){return d});var i=T("9wVTF"),r=T("4UCwV"),o=T("8IoAa"),s=T("knRc9");function a(e,t,n,i,r){let o;return(t&i)>0?(o=e.parseByte(),(t&r)==0&&(o=-o),o=n+o):o=(t&r)>0?n:n+e.parseShort(),o}function u(e,t,n){let r,s,u=new o.default.Parser(t,n);if(e.numberOfContours=u.parseShort(),e._xMin=u.parseShort(),e._yMin=u.parseShort(),e._xMax=u.parseShort(),e._yMax=u.parseShort(),e.numberOfContours>0){let t=e.endPointIndices=[];for(let n=0;n<e.numberOfContours;n+=1)t.push(u.parseUShort());e.instructionLength=u.parseUShort(),e.instructions=[];for(let t=0;t<e.instructionLength;t+=1)e.instructions.push(u.parseByte());let n=t[t.length-1]+1;r=[];for(let e=0;e<n;e+=1)if(s=u.parseByte(),r.push(s),(8&s)>0){let t=u.parseByte();for(let n=0;n<t;n+=1)r.push(s),e+=1}if(i.default.argument(r.length===n,"Bad flags."),t.length>0){let i,o=[];if(n>0){for(let e=0;e<n;e+=1)s=r[e],(i={}).onCurve=!!(1&s),i.lastPointOfContour=t.indexOf(e)>=0,o.push(i);let e=0;for(let t=0;t<n;t+=1)s=r[t],(i=o[t]).x=a(u,s,e,2,16),e=i.x;let l=0;for(let e=0;e<n;e+=1)s=r[e],(i=o[e]).y=a(u,s,l,4,32),l=i.y}e.points=o}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];let t=!0;for(;t;){r=u.parseUShort();let n={glyphIndex:u.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&r)>0?(2&r)>0?(n.dx=u.parseShort(),n.dy=u.parseShort()):n.matchedPoints=[u.parseUShort(),u.parseUShort()]:(2&r)>0?(n.dx=u.parseChar(),n.dy=u.parseChar()):n.matchedPoints=[u.parseByte(),u.parseByte()],(8&r)>0?n.xScale=n.yScale=u.parseF2Dot14():(64&r)>0?(n.xScale=u.parseF2Dot14(),n.yScale=u.parseF2Dot14()):(128&r)>0&&(n.xScale=u.parseF2Dot14(),n.scale01=u.parseF2Dot14(),n.scale10=u.parseF2Dot14(),n.yScale=u.parseF2Dot14()),e.components.push(n),t=!!(32&r)}if(256&r){e.instructionLength=u.parseUShort(),e.instructions=[];for(let t=0;t<e.instructionLength;t+=1)e.instructions.push(u.parseByte())}}}function l(e,t){let n=[];for(let i=0;i<e.length;i+=1){let r=e[i],o={x:t.xScale*r.x+t.scale01*r.y+t.dx,y:t.scale10*r.x+t.yScale*r.y+t.dy,onCurve:r.onCurve,lastPointOfContour:r.lastPointOfContour};n.push(o)}return n}function c(e){let t=new(0,s.default);if(!e)return t;let n=function(e){let t=[],n=[];for(let i=0;i<e.length;i+=1){let r=e[i];n.push(r),r.lastPointOfContour&&(t.push(n),n=[])}return i.default.argument(0===n.length,"There are still points left in the current contour."),t}(e);for(let e=0;e<n.length;++e){let i=n[e],r=null,o=i[i.length-1],s=i[0];if(o.onCurve)t.moveTo(o.x,o.y);else if(s.onCurve)t.moveTo(s.x,s.y);else{let e={x:(o.x+s.x)*.5,y:(o.y+s.y)*.5};t.moveTo(e.x,e.y)}for(let e=0;e<i.length;++e)if(r=o,o=s,s=i[(e+1)%i.length],o.onCurve)t.lineTo(o.x,o.y);else{let e=s;r.onCurve||(o.x,r.x,o.y,r.y),s.onCurve||(e={x:(o.x+s.x)*.5,y:(o.y+s.y)*.5}),t.quadraticCurveTo(o.x,o.y,e.x,e.y)}t.closePath()}return t}function h(e,t){if(t.isComposite)for(let n=0;n<t.components.length;n+=1){let i=t.components[n],r=e.get(i.glyphIndex);if(r.getPath(),r.points){let e;if(void 0===i.matchedPoints)e=l(r.points,i);else{if(i.matchedPoints[0]>t.points.length-1||i.matchedPoints[1]>r.points.length-1)throw Error("Matched points out of range in "+t.name);let n=t.points[i.matchedPoints[0]],o=r.points[i.matchedPoints[1]],s={xScale:i.xScale,scale01:i.scale01,scale10:i.scale10,yScale:i.yScale,dx:0,dy:0};o=l([o],s)[0],s.dx=n.x-o.x,s.dy=n.y-o.y,e=l(r.points,s)}t.points=t.points.concat(e)}}return c(t.points)}var d={getPath:c,parse:function(e,t,n,i){let o=new r.default.GlyphSet(i);for(let s=0;s<n.length-1;s+=1){let a=n[s];a!==n[s+1]?o.push(s,r.default.ttfGlyphLoader(i,s,u,e,t+a,h)):o.push(s,r.default.glyphLoader(i,s))}return o}}}),F("8Q7lx",function(e,n){t(e.exports,"default",function(){return g});var i=T("4idMc"),r=T("23NqU"),o=T("7HomL"),s=T("9cVHQ"),a=T("3ik9R");function u(e){this.baseDir=e||"ltr",this.tokenizer=new(0,i.default),this.features=[]}function l(){let e=this.contextChecks.arabicWordCheck;return this.tokenizer.registerContextChecker("arabicWord",e.arabicWordStartCheck,e.arabicWordEndCheck)}function c(){let e=this.contextChecks.arabicSentenceCheck;return this.tokenizer.registerContextChecker("arabicSentence",e.arabicSentenceStartCheck,e.arabicSentenceEndCheck)}function h(){return l.call(this),c.call(this),this.tokenizer.tokenize(this.text)}function d(){this.tokenizer.getContextRanges("arabicSentence").forEach(e=>{let t=this.tokenizer.getRangeTokens(e);this.tokenizer.replaceRange(e.startIndex,e.endOffset,t.reverse())})}function p(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw Error("glyphIndex modifier is required to apply arabic presentation features.")}function f(){this.features.hasOwnProperty("arab")&&(p.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(e=>{s.default.call(this,e)}))}function m(){this.features.hasOwnProperty("arab")&&this.features.arab.hasOwnProperty("rlig")&&(p.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(e=>{a.default.call(this,e)}))}u.prototype.setText=function(e){this.text=e},u.prototype.contextChecks={arabicWordCheck:r.default,arabicSentenceCheck:o.default},u.prototype.subscribeArabicForms=function(e){this.tokenizer.events.contextEnd.subscribe((t,n)=>{if("arabicWord"===t)return s.default.call(this.tokenizer,n,e)})},u.prototype.applyFeatures=function(e){for(let t=0;t<e.length;t++){let n=e[t];if(n){let e=n.script;this.features[e]||(this.features[e]={}),this.features[e][n.tag]=n}}},u.prototype.registerModifier=function(e,t,n){this.tokenizer.registerModifier(e,t,n)},u.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),h.call(this),f.call(this),m.call(this),d.call(this))},u.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},u.prototype.getTextGlyphs=function(e){this.processText(e);let t=[];for(let e=0;e<this.tokenizer.tokens.length;e++){let n=this.tokenizer.tokens[e];if(n.state.deleted)continue;let i=n.activeState.value;t.push(Array.isArray(i)?i[0]:i)}return t};var g=u}),F("4idMc",function(e,n){function i(e){this.char=e,this.state={},this.activeState=null}function r(e,t,n){this.contextName=n,this.startIndex=e,this.endOffset=t}function o(e,t,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=n}function s(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function a(e){this.eventId=e,this.subscribers=[]}function u(e){let t=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];t.forEach(e=>{Object.defineProperty(this.events,e,{value:new a(e)})}),e&&t.forEach(t=>{let n=e[t];"function"==typeof n&&this.events[t].subscribe(n)}),["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach(e=>{this.events[e].subscribe(this.updateContextsRanges)})}function l(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],u.call(this,e)}t(e.exports,"ContextParams",function(){return s}),t(e.exports,"default",function(){return c}),i.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},i.prototype.getState=function(e){return this.state[e]||null},l.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length},l.prototype.composeRUD=function(e){let t=e.map(e=>this[e[0]].apply(this,e.slice(1).concat(!0))),n=e=>"object"==typeof e&&e.hasOwnProperty("FAIL");if(t.every(n))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:t.filter(n)};this.dispatch("composeRUD",[t.filter(e=>!n(e))])},l.prototype.replaceRange=function(e,t,n,r){t=null!==t?t:this.tokens.length;let o=n.every(e=>e instanceof i);if(!(!isNaN(e)&&this.inboundIndex(e))||!o)return{FAIL:"replaceRange: invalid tokens or startIndex."};{let i=this.tokens.splice.apply(this.tokens,[e,t].concat(n));return r||this.dispatch("replaceToken",[e,t,n]),[i,n]}},l.prototype.replaceToken=function(e,t,n){if(!(!isNaN(e)&&this.inboundIndex(e))||!(t instanceof i))return{FAIL:"replaceToken: invalid token or index."};{let i=this.tokens.splice(e,1,t);return n||this.dispatch("replaceToken",[e,t]),[i[0],t]}},l.prototype.removeRange=function(e,t,n){t=isNaN(t)?this.tokens.length:t;let i=this.tokens.splice(e,t);return n||this.dispatch("removeRange",[i,e,t]),i},l.prototype.removeToken=function(e,t){if(!(!isNaN(e)&&this.inboundIndex(e)))return{FAIL:"removeToken: invalid token index."};{let n=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[n,e]),n}},l.prototype.insertToken=function(e,t,n){return e.every(e=>e instanceof i)?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),n||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},l.prototype.registerModifier=function(e,t,n){this.events.newToken.subscribe(function(i,r){let o=[i,r],s=null===t||!0===t.apply(this,o),a=[i,r];if(s){let t=n.apply(this,a);i.setState(e,t)}}),this.registeredModifiers.push(e)},a.prototype.subscribe=function(e){return"function"==typeof e?this.subscribers.push(e)-1:{FAIL:`invalid '${this.eventId}' event handler`}},a.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},s.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},s.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case e>0&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},l.prototype.rangeToText=function(e){if(e instanceof r)return this.getRangeTokens(e).map(e=>e.char).join("")},l.prototype.getText=function(){return this.tokens.map(e=>e.char).join("")},l.prototype.getContext=function(e){return this.registeredContexts[e]||null},l.prototype.on=function(e,t){let n=this.events[e];return n?n.subscribe(t):null},l.prototype.dispatch=function(e,t){let n=this.events[e];n instanceof a&&n.subscribers.forEach(e=>{e.apply(this,t||[])})},l.prototype.registerContextChecker=function(e,t,n){if(this.getContext(e))return{FAIL:`context name '${e}' is already registered.`};if("function"!=typeof t)return{FAIL:"missing context start check."};if("function"!=typeof n)return{FAIL:"missing context end check."};let i=new o(e,t,n);return this.registeredContexts[e]=i,this.contextCheckers.push(i),i},l.prototype.getRangeTokens=function(e){let t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},l.prototype.getContextRanges=function(e){let t=this.getContext(e);return t?t.ranges:{FAIL:`context checker '${e}' is not registered.`}},l.prototype.resetContextsRanges=function(){let e=this.registeredContexts;for(let t in e)e.hasOwnProperty(t)&&(e[t].ranges=[])},l.prototype.updateContextsRanges=function(){this.resetContextsRanges();let e=this.tokens.map(e=>e.char);for(let t=0;t<e.length;t++){let n=new s(e,t);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])},l.prototype.setEndOffset=function(e,t){let n=new r(this.getContext(t).openRange.startIndex,e,t),i=this.getContext(t).ranges;return n.rangeId=`${t}.${i.length}`,i.push(n),this.getContext(t).openRange=null,n},l.prototype.runContextCheck=function(e){let t=e.index;this.contextCheckers.forEach(n=>{let i=n.contextName,o=this.getContext(i).openRange;if(!o&&n.checkStart(e)&&(o=new r(t,null,i),this.getContext(i).openRange=o,this.dispatch("contextStart",[i,t])),o&&n.checkEnd(e)){let e=t-o.startIndex+1,n=this.setEndOffset(e,i);this.dispatch("contextEnd",[i,n])}})},l.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();let t=Array.from(e);this.dispatch("start");for(let e=0;e<t.length;e++){let n=t[e],r=new s(t,e);this.dispatch("next",[r]),this.runContextCheck(r);let o=new i(n);this.tokens.push(o),this.dispatch("newToken",[o,r])}return this.dispatch("end",[this.tokens]),this.tokens};var c=l}),F("23NqU",function(e,n){t(e.exports,"default",function(){return r});var i=T("cMPIb"),r={arabicWordStartCheck:function(e){let t=e.current,n=e.get(-1);return null===n&&(0,i.isArabicChar)(t)||!(0,i.isArabicChar)(n)&&(0,i.isArabicChar)(t)},arabicWordEndCheck:function(e){let t=e.get(1);return null===t||!(0,i.isArabicChar)(t)}}}),F("cMPIb",function(e,n){function i(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function r(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function o(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function s(e){return/\s/.test(e)}t(e.exports,"isArabicChar",function(){return i}),t(e.exports,"isIsolatedArabicChar",function(){return r}),t(e.exports,"isTashkeelArabicChar",function(){return o}),t(e.exports,"isWhiteSpace",function(){return s})}),F("7HomL",function(e,n){t(e.exports,"default",function(){return r});var i=T("cMPIb"),r={arabicSentenceStartCheck:function(e){let t=e.current,n=e.get(-1);return((0,i.isArabicChar)(t)||(0,i.isTashkeelArabicChar)(t))&&!(0,i.isArabicChar)(n)},arabicSentenceEndCheck:function(e){let t=e.get(1);switch(!0){case null===t:return!0;case!(0,i.isArabicChar)(t)&&!(0,i.isTashkeelArabicChar)(t):let n=(0,i.isWhiteSpace)(t);if(!n)return!0;if(n&&!e.lookahead.some(e=>(0,i.isArabicChar)(e)||(0,i.isTashkeelArabicChar)(e)))return!0;break;default:return!1}}}}),F("9cVHQ",function(e,n){t(e.exports,"default",function(){return o});var i=T("4idMc"),r=T("cMPIb"),o=function(e){let t=this.features.arab,n=this.tokenizer.getRangeTokens(e);if(1===n.length)return;let o=(e,n,i)=>{let r;if(!t.hasOwnProperty(e))return;let o=(1===(r=t[e].lookup(i)||null).length&&12===r[0].id&&r[0].substitution)[0];if(o>=0)return n.setState(e,o)},s=new(0,i.ContextParams)(n,0),a=new(0,i.ContextParams)(n.map(e=>e.char),0);n.forEach((e,t)=>{if((0,r.isTashkeelArabicChar)(e.char))return;s.setCurrentIndex(t),a.setCurrentIndex(t);let n=0;switch(function(e){let t=[].concat(e.backtrack);for(let e=t.length-1;e>=0;e--){let n=t[e],i=(0,r.isIsolatedArabicChar)(n),o=(0,r.isTashkeelArabicChar)(n);if(!i&&!o)return!0;if(i)break}return!1}(a)&&(n|=1),function(e){if((0,r.isIsolatedArabicChar)(e.current))return!1;for(let t=0;t<e.lookahead.length;t++){let n=e.lookahead[t];if(!(0,r.isTashkeelArabicChar)(n))return!0}return!1}(a)&&(n|=2),n){case 0:return;case 1:o("fina",e,s);break;case 2:o("init",e,s);break;case 3:o("medi",e,s)}})}}),F("3ik9R",function(e,n){t(e.exports,"default",function(){return r});var i=T("4idMc"),r=function(e){let t=this.features.arab;if(!t.hasOwnProperty("rlig"))return;let n=this.tokenizer.getRangeTokens(e);for(let e=0;e<n.length;e++){let r=new(0,i.ContextParams)(n,e),o=t.rlig.lookup(r)||null,s=1===o.length&&63===o[0].id&&o[0].substitution,a=1===o.length&&41===o[0].id&&o[0].substitution[0],u=n[e];if(a){u.setState("rlig",[a.ligGlyph]);for(let e=0;e<a.components.length;e++){let t=a.components[e],n=r.get(e+1);n.activeState.value===t&&(n.state.deleted=!0)}}else if(s){let e=s&&1===s.length&&12===s[0].id&&s[0].substitution;e&&e>=0&&u.setState("rlig",e)}}}}),F("lbzA8",function(e,n){t(e.exports,"default",function(){return y});var i=T("4idMc"),r=T("cMPIb");let o="ltr";function s(e,t){this.font=e,this.features={},o=t||o}function a(e,t,n,i){this.tag=e,this.featureRef=t,this.lookups=n.lookups,this.script=i}function u(e){this.table=e}function l(e){this.ligatureSets=e}function c(e,t,n){this.lookups=e,this.subtable=n,this.lookupTable=t,n.hasOwnProperty("coverage")&&(this.coverage=new u(n.coverage)),n.hasOwnProperty("inputCoverage")&&(this.inputCoverage=n.inputCoverage.map(e=>new u(e))),n.hasOwnProperty("backtrackCoverage")&&(this.backtrackCoverage=n.backtrackCoverage.map(e=>new u(e))),n.hasOwnProperty("lookaheadCoverage")&&(this.lookaheadCoverage=n.lookaheadCoverage.map(e=>new u(e))),n.hasOwnProperty("ligatureSets")&&(this.ligatureSets=new l(n.ligatureSets))}function h(e,t){this.index=e,this.subtables=t[e].subtables.map(n=>new c(t,t[e],n))}function d(e,t){this.lookups=t.map(t=>new h(t,e))}function p(e){let t=e.current.activeState.value;t=Array.isArray(t)?t[0]:t;let n=this.coverage.lookup(t);return -1===n?[]:[this.subtable.substitute[n]]}function f(e,t){let n=[];for(let i=0;i<e.length;i++){let r=e[i],o=t.current.activeState.value;o=Array.isArray(o)?o[0]:o;let s=r.lookup(o);-1!==s&&n.push(s)}return n.length!==e.length?-1:n}function m(e){let t=this.inputCoverage.length+this.lookaheadCoverage.length+this.backtrackCoverage.length;if(e.context.length<t)return[];let n=f(this.inputCoverage,e);if(-1===n)return[];let o=this.inputCoverage.length-1;if(e.lookahead.length<this.lookaheadCoverage.length)return[];let s=e.lookahead.slice(o);for(;s.length&&(0,r.isTashkeelArabicChar)(s[0].char);)s.shift();let a=new(0,i.ContextParams)(s,0),u=f(this.lookaheadCoverage,a),l=[].concat(e.backtrack);for(l.reverse();l.length&&(0,r.isTashkeelArabicChar)(l[0].char);)l.shift();if(l.length<this.backtrackCoverage.length)return[];let c=new(0,i.ContextParams)(l,0),d=f(this.backtrackCoverage,c),p=n.length===this.inputCoverage.length&&u.length===this.lookaheadCoverage.length&&d.length===this.backtrackCoverage.length,m=[];if(p){let t=this.subtable.lookupRecords;for(let r=0;r<t.length;r++){let o=t[r];for(let t=0;t<n.length;t++){let n=new(0,i.ContextParams)([e.get(t)],0),r=new h(o.lookupListIndex,this.lookups).lookup(n);m=m.concat(r)}}}return m}function g(e){let t=e.current.activeState.value,n=this.coverage.lookup(t);if(-1===n)return[];let i=this.ligatureSets.lookup(e,n);return i?[i]:[]}l.prototype.lookup=function(e,t){let n=this.ligatureSets[t],i=(e,t)=>{if(e.length>t.length)return null;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};for(let t=0;t<n.length;t++){let r=n[t],s=e.lookahead.map(e=>e.activeState.value);if("rtl"===o&&s.reverse(),i(r.components,s))return r}return null},h.prototype.lookup=function(e){let t=[];for(let n=0;n<this.subtables.length;n++){let i=this.subtables[n].lookup(e);(null!==i||i.length)&&(t=t.concat(i))}return t},c.prototype.lookup=function(e){let t=[],n=this.lookupTable.lookupType,i=this.subtable.substFormat;if(1===n&&2===i){let n=p.call(this,e);n.length>0&&t.push({id:12,substitution:n})}if(6===n&&3===i){let n=m.call(this,e);n.length>0&&t.push({id:63,substitution:n})}if(4===n&&1===i){let n=g.call(this,e);n.length>0&&t.push({id:41,substitution:n})}return t},u.prototype.lookup=function(e){if(!e)return -1;switch(this.table.format){case 1:return this.table.glyphs.indexOf(e);case 2:let t=this.table.ranges;for(let n=0;n<t.length;n++){let i=t[n];if(e>=i.start&&e<=i.end){let t=e-i.start;return i.index+t}}}return -1},a.prototype.lookup=function(e){let t=[];for(let n=0;n<this.lookups.length;n++){let i=this.lookups[n].lookup(e);(null!==i||i.length)&&(t=t.concat(i))}return t},s.prototype.getScriptFeaturesIndexes=function(e){if(!e||!this.font.tables.gsub)return[];let t=this.font.tables.gsub.scripts;for(let n=0;n<t.length;n++){let i=t[n];if(i.tag===e)return i.script.defaultLangSys.featureIndexes;{let t=i.langSysRecords;if(t)for(let n=0;n<t.length;n++){let i=t[n];if(i.tag===e)return i.langSys.featureIndexes}}}return[]},s.prototype.mapTagsToFeatures=function(e,t){let n={};for(let i=0;i<e.length;i++){let r=e[i].feature,o=e[i].tag,s=new d(this.font.tables.gsub.lookups,r.lookupListIndexes);n[o]=new a(o,r,s,t)}this.features[t].tags=n},s.prototype.getScriptFeatures=function(e){let t=this.features[e];if(this.features.hasOwnProperty(e))return t;let n=this.getScriptFeaturesIndexes(e);if(!n)return null;let i=this.font.tables.gsub;return t=n.map(e=>i.features[e]),this.features[e]=t,this.mapTagsToFeatures(t,e),t},s.prototype.getFeature=function(e){return this.font?(this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script),this.features[e.script].tags[e.tag]||null):{FAIL:"No font was found"}};var y=s}),F("5Io6y",function(e,t){}),F("6AXWN",function(e,n){t(e.exports,"default",function(){return a});var i=T("9wVTF"),r=T("8IoAa"),o=T("gtEVy");function s(e,t){let n=JSON.stringify(e),i=256;for(let e in t){let r=parseInt(e);if(r&&!(r<256)){if(JSON.stringify(t[e])===n)return r;i<=r&&(i=r+1)}}return t[i]=e,i}var a={make:function(e,t){let n=new o.default.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);n.offsetToData=n.sizeOf();for(let i=0;i<e.axes.length;i++)n.fields=n.fields.concat(function(e,t,n){let i=s(t.name,n);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:i}]}(i,e.axes[i],t));for(let i=0;i<e.instances.length;i++)n.fields=n.fields.concat(function(e,t,n,i){let r=[{name:"nameID_"+e,type:"USHORT",value:s(t.name,i)},{name:"flags_"+e,type:"USHORT",value:0}];for(let i=0;i<n.length;++i){let o=n[i].tag;r.push({name:"axis_"+e+" "+o,type:"FIXED",value:t.coordinates[o]<<16})}return r}(i,e.instances[i],e.axes,t));return n},parse:function(e,t,n){let o=new r.default.Parser(e,t),s=o.parseULong();i.default.argument(65536===s,"Unsupported fvar table version.");let a=o.parseOffset16();o.skip("uShort",1);let u=o.parseUShort(),l=o.parseUShort(),c=o.parseUShort(),h=o.parseUShort(),d=[];for(let i=0;i<u;i++)d.push(function(e,t,n){let i={},o=new r.default.Parser(e,t);return i.tag=o.parseTag(),i.minValue=o.parseFixed(),i.defaultValue=o.parseFixed(),i.maxValue=o.parseFixed(),o.skip("uShort",1),i.name=n[o.parseUShort()]||{},i}(e,t+a+i*l,n));let p=[],f=t+a+u*l;for(let t=0;t<c;t++)p.push(function(e,t,n,i){let o={},s=new r.default.Parser(e,t);o.name=i[s.parseUShort()]||{},s.skip("uShort",1),o.coordinates={};for(let e=0;e<n.length;++e)o.coordinates[n[e].tag]=s.parseFixed();return o}(e,f+t*h,d,n));return{axes:d,instances:p}}}}),F("bJxXm",function(e,n){t(e.exports,"default",function(){return u});var i=T("9wVTF"),r=T("8IoAa"),o=T("gtEVy");let s=Array(10);s[1]=function(){let e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(r.Parser.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(r.Parser.coverage),values:this.parseValueRecordList()}:void i.default.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},s[2]=function(){let e=this.offset+this.relativeOffset,t=this.parseUShort();i.default.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");let n=this.parsePointer(r.Parser.coverage),o=this.parseUShort(),s=this.parseUShort();if(1===t)return{posFormat:t,coverage:n,valueFormat1:o,valueFormat2:s,pairSets:this.parseList(r.Parser.pointer(r.Parser.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(o),value2:this.parseValueRecord(s)}})))};if(2===t){let e=this.parsePointer(r.Parser.classDef),i=this.parsePointer(r.Parser.classDef),a=this.parseUShort(),u=this.parseUShort();return{posFormat:t,coverage:n,valueFormat1:o,valueFormat2:s,classDef1:e,classDef2:i,class1Count:a,class2Count:u,classRecords:this.parseList(a,r.Parser.list(u,function(){return{value1:this.parseValueRecord(o),value2:this.parseValueRecord(s)}}))}}},s[3]=function(){return{error:"GPOS Lookup 3 not supported"}},s[4]=function(){return{error:"GPOS Lookup 4 not supported"}},s[5]=function(){return{error:"GPOS Lookup 5 not supported"}},s[6]=function(){return{error:"GPOS Lookup 6 not supported"}},s[7]=function(){return{error:"GPOS Lookup 7 not supported"}},s[8]=function(){return{error:"GPOS Lookup 8 not supported"}},s[9]=function(){return{error:"GPOS Lookup 9 not supported"}};let a=Array(10);var u={parse:function(e,t){t=t||0;let n=new(0,r.Parser)(e,t),o=n.parseVersion(1);return(i.default.argument(1===o||1.1===o,"Unsupported GPOS table version "+o),1===o)?{version:o,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(s)}:{version:o,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(s),variations:n.parseFeatureVariationsList()}},make:function(e){return new o.default.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new o.default.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new o.default.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new o.default.LookupList(e.lookups,a)}])}}}),F("cl7Ud",function(e,n){t(e.exports,"default",function(){return o});var i=T("9wVTF"),r=T("8IoAa"),o={parse:function(e,t){let n=new r.default.Parser(e,t),o=n.parseUShort();if(0===o)return function(e){let t={};e.skip("uShort");let n=e.parseUShort();i.default.argument(0===n,"Unsupported kern sub-table version."),e.skip("uShort",2);let r=e.parseUShort();e.skip("uShort",3);for(let n=0;n<r;n+=1){let n=e.parseUShort(),i=e.parseUShort(),r=e.parseShort();t[n+","+i]=r}return t}(n);if(1===o)return function(e){let t={};e.skip("uShort"),e.parseULong()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");let n=e.parseUShort();if(e.skip("uShort"),0==(255&n)){let n=e.parseUShort();e.skip("uShort",3);for(let i=0;i<n;i+=1){let n=e.parseUShort(),i=e.parseUShort(),r=e.parseShort();t[n+","+i]=r}}return t}(n);throw Error("Unsupported kern table version ("+o+").")}}}),F("iqbBe",function(e,n){t(e.exports,"default",function(){return r});var i=T("8IoAa"),r={parse:function(e,t,n,r){let o=new i.default.Parser(e,t),s=r?o.parseUShort:o.parseULong,a=[];for(let e=0;e<n+1;e+=1){let e=s.call(o);r&&(e*=2),a.push(e)}return a}}}),F("1SgHS",function(e,t){var n=T("4TNnu");function i(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var n,i="",r=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else if(47===n)break;else n=47;if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(i.length<2||2!==r||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){var u=i.lastIndexOf("/");if(u!==i.length-1){-1===u?(i="",r=0):r=(i=i.slice(0,u)).length-1-i.lastIndexOf("/"),o=a,s=0;continue}}else if(2===i.length||1===i.length){i="",r=0,o=a,s=0;continue}}t&&(i.length>0?i+="/..":i="..",r=2)}else i.length>0?i+="/"+e.slice(o+1,a):i=e.slice(o+1,a),r=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return i}var o={resolve:function(){for(var e,t,o="",s=!1,a=arguments.length-1;a>=-1&&!s;a--)a>=0?t=arguments[a]:(void 0===e&&(e=n.cwd()),t=e),i(t),0!==t.length&&(o=t+"/"+o,s=47===t.charCodeAt(0));if(o=r(o,!s),s)if(o.length>0)return"/"+o;else return"/";return o.length>0?o:"."},normalize:function(e){if(i(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return(0!==(e=r(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t)?"/"+e:e},isAbsolute:function(e){return i(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];i(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":o.normalize(e)},relative:function(e,t){if(i(e),i(t),e===t||(e=o.resolve(e))===(t=o.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var r=e.length,s=r-n,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var u=t.length-a,l=s<u?s:u,c=-1,h=0;h<=l;++h){if(h===l){if(u>l){if(47===t.charCodeAt(a+h))return t.slice(a+h+1);else if(0===h)return t.slice(a+h)}else s>l&&(47===e.charCodeAt(n+h)?c=h:0===h&&(c=0));break}var d=e.charCodeAt(n+h);if(d!==t.charCodeAt(a+h))break;47===d&&(c=h)}var p="";for(h=n+c+1;h<=r;++h)(h===r||47===e.charCodeAt(h))&&(0===p.length?p+="..":p+="/..");return p.length>0?p+t.slice(a+c):(a+=c,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!o){r=s;break}}else o=!1;return -1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');i(e);var n,r=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,u=-1;for(n=e.length-1;n>=0;--n){var l=e.charCodeAt(n);if(47===l){if(!s){r=n+1;break}}else -1===u&&(s=!1,u=n+1),a>=0&&(l===t.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=u))}return r===o?o=u:-1===o&&(o=e.length),e.slice(r,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){r=n+1;break}}else -1===o&&(s=!1,o=n+1);return -1===o?"":e.slice(r,o)},extname:function(e){i(e);for(var t=-1,n=0,r=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47===u){if(!o){n=a+1;break}continue}-1===r&&(o=!1,r=a+1),46===u?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1)}return -1===t||-1===r||0===s||1===s&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){var t,n;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+n:t+"/"+n:n},parse:function(e){i(e);var t,n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r=e.charCodeAt(0),o=47===r;o?(n.root="/",t=1):t=0;for(var s=-1,a=0,u=-1,l=!0,c=e.length-1,h=0;c>=t;--c){if(47===(r=e.charCodeAt(c))){if(!l){a=c+1;break}continue}-1===u&&(l=!1,u=c+1),46===r?-1===s?s=c:1!==h&&(h=1):-1!==s&&(h=-1)}return -1===s||-1===u||0===h||1===h&&s===u-1&&s===a+1?-1!==u&&(0===a&&o?n.base=n.name=e.slice(1,u):n.base=n.name=e.slice(a,u)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,u)):(n.name=e.slice(a,s),n.base=e.slice(a,u)),n.ext=e.slice(s,u)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,e.exports=o}),F("4TNnu",function(e,t){var n,i,r,o=e.exports={};function s(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var l=[],c=!1,h=-1;function d(){c&&r&&(c=!1,r.length?l=r.concat(l):h=-1,l.length&&p())}function p(){if(!c){var e=u(d);c=!0;for(var t=l.length;t;){for(r=l,l=[];++h<t;)r&&r[h].run();h=-1,t=l.length}r=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||u(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}});var A=T("gBhAd"),k={};t(k,"popperGenerator",function(){return e1}),t(k,"detectOverflow",function(){return eH}),t(k,"createPopperBase",function(){return e2}),t(k,"createPopper",function(){return e3}),t(k,"createPopperLite",function(){return e6});var _={};t(_,"top",function(){return P}),t(_,"bottom",function(){return L}),t(_,"right",function(){return O}),t(_,"left",function(){return R}),t(_,"auto",function(){return I}),t(_,"basePlacements",function(){return N}),t(_,"start",function(){return M}),t(_,"end",function(){return B}),t(_,"clippingParents",function(){return U}),t(_,"viewport",function(){return z}),t(_,"popper",function(){return j}),t(_,"reference",function(){return V}),t(_,"variationPlacements",function(){return G}),t(_,"placements",function(){return $}),t(_,"beforeRead",function(){return H}),t(_,"read",function(){return W}),t(_,"afterRead",function(){return q}),t(_,"beforeMain",function(){return Y}),t(_,"main",function(){return X}),t(_,"afterMain",function(){return K}),t(_,"beforeWrite",function(){return J}),t(_,"write",function(){return Z}),t(_,"afterWrite",function(){return Q}),t(_,"modifierPhases",function(){return ee});var P="top",L="bottom",O="right",R="left",I="auto",N=[P,L,O,R],M="start",B="end",U="clippingParents",z="viewport",j="popper",V="reference",G=N.reduce(function(e,t){return e.concat([t+"-"+M,t+"-"+B])},[]),$=[].concat(N,[I]).reduce(function(e,t){return e.concat([t,t+"-"+M,t+"-"+B])},[]),H="beforeRead",W="read",q="afterRead",Y="beforeMain",X="main",K="afterMain",J="beforeWrite",Z="write",Q="afterWrite",ee=[H,W,q,Y,X,K,J,Z,Q],et={};function en(e){return e?(e.nodeName||"").toLowerCase():null}function ei(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function er(e){var t=ei(e).Element;return e instanceof t||e instanceof Element}function eo(e){var t=ei(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function es(e){if("undefined"==typeof ShadowRoot)return!1;var t=ei(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}t(et,"applyStyles",function(){return ea}),t(et,"arrow",function(){return eF}),t(et,"computeStyles",function(){return eP}),t(et,"eventListeners",function(){return eO}),t(et,"flip",function(){return eW}),t(et,"hide",function(){return eX}),t(et,"offset",function(){return eK}),t(et,"popperOffsets",function(){return eJ}),t(et,"preventOverflow",function(){return eZ});var ea={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];eo(r)&&en(r)&&(Object.assign(r.style,n),Object.keys(i).forEach(function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});eo(i)&&en(i)&&(Object.assign(i.style,o),Object.keys(r).forEach(function(e){i.removeAttribute(e)}))})}},requires:["computeStyles"]};function eu(e){return e.split("-")[0]}var el=Math.max,ec=Math.min,eh=Math.round;function ed(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ep(){return!/^((?!chrome|android).)*safari/i.test(ed())}function ef(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&eo(e)&&(r=e.offsetWidth>0&&eh(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&eh(i.height)/e.offsetHeight||1);var s=(er(e)?ei(e):window).visualViewport,a=!ep()&&n,u=(i.left+(a&&s?s.offsetLeft:0))/r,l=(i.top+(a&&s?s.offsetTop:0))/o,c=i.width/r,h=i.height/o;return{width:c,height:h,top:l,right:u+c,bottom:l+h,left:u,x:u,y:l}}function em(e){var t=ef(e),n=e.offsetWidth,i=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-i)&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function eg(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&es(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ey(e){return ei(e).getComputedStyle(e)}function ev(e){return((er(e)?e.ownerDocument:e.document)||window.document).documentElement}function eD(e){return"html"===en(e)?e:e.assignedSlot||e.parentNode||(es(e)?e.host:null)||ev(e)}function eb(e){return eo(e)&&"fixed"!==ey(e).position?e.offsetParent:null}function eE(e){for(var t=ei(e),n=eb(e);n&&["table","td","th"].indexOf(en(n))>=0&&"static"===ey(n).position;)n=eb(n);return n&&("html"===en(n)||"body"===en(n)&&"static"===ey(n).position)?t:n||function(e){var t=/firefox/i.test(ed());if(/Trident/i.test(ed())&&eo(e)&&"fixed"===ey(e).position)return null;var n=eD(e);for(es(n)&&(n=n.host);eo(n)&&0>["html","body"].indexOf(en(n));){var i=ey(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}function ex(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ew(e,t,n){return el(e,ec(t,n))}function eS(){return{top:0,right:0,bottom:0,left:0}}function eC(e){return Object.assign({},eS(),e)}function eT(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}var eF={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=eu(n.placement),u=ex(a),l=[R,O].indexOf(a)>=0?"height":"width";if(o&&s){var c,h=(c=r.padding,eC("number"!=typeof(c="function"==typeof c?c(Object.assign({},n.rects,{placement:n.placement})):c)?c:eT(c,N))),d=em(o),p="y"===u?P:R,f="y"===u?L:O,m=n.rects.reference[l]+n.rects.reference[u]-s[u]-n.rects.popper[l],g=s[u]-n.rects.reference[u],y=eE(o),v=y?"y"===u?y.clientHeight||0:y.clientWidth||0:0,D=h[p],b=v-d[l]-h[f],E=v/2-d[l]/2+(m/2-g/2),x=ew(D,E,b);n.modifiersData[i]=((t={})[u]=x,t.centerOffset=x-E,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;if(null!=i)("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&eg(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function eA(e){return e.split("-")[1]}var ek={top:"auto",right:"auto",bottom:"auto",left:"auto"};function e_(e){var t,n,i,r,o,s,a,u=e.popper,l=e.popperRect,c=e.placement,h=e.variation,d=e.offsets,p=e.position,f=e.gpuAcceleration,m=e.adaptive,g=e.roundOffsets,y=e.isFixed,v=d.x,D=void 0===v?0:v,b=d.y,E=void 0===b?0:b,x="function"==typeof g?g({x:D,y:E}):{x:D,y:E};D=x.x,E=x.y;var w=d.hasOwnProperty("x"),S=d.hasOwnProperty("y"),C=R,T=P,F=window;if(m){var A=eE(u),k="clientHeight",_="clientWidth";A===ei(u)&&"static"!==ey(A=ev(u)).position&&"absolute"===p&&(k="scrollHeight",_="scrollWidth"),(c===P||(c===R||c===O)&&h===B)&&(T=L,E-=(y&&A===F&&F.visualViewport?F.visualViewport.height:A[k])-l.height,E*=f?1:-1),(c===R||(c===P||c===L)&&h===B)&&(C=O,D-=(y&&A===F&&F.visualViewport?F.visualViewport.width:A[_])-l.width,D*=f?1:-1)}var I=Object.assign({position:p},m&&ek),N=!0===g?(t={x:D,y:E},n=ei(u),i=t.x,r=t.y,{x:eh(i*(o=n.devicePixelRatio||1))/o||0,y:eh(r*o)/o||0}):{x:D,y:E};return(D=N.x,E=N.y,f)?Object.assign({},I,((a={})[T]=S?"0":"",a[C]=w?"0":"",a.transform=1>=(F.devicePixelRatio||1)?"translate("+D+"px, "+E+"px)":"translate3d("+D+"px, "+E+"px, 0)",a)):Object.assign({},I,((s={})[T]=S?E+"px":"",s[C]=w?D+"px":"",s.transform="",s))}var eP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=n.adaptive,o=n.roundOffsets,s=void 0===o||o,a={placement:eu(t.placement),variation:eA(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===i||i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,e_(Object.assign({},a,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===r||r,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,e_(Object.assign({},a,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},eL={passive:!0},eO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,u=ei(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach(function(e){e.addEventListener("scroll",n.update,eL)}),a&&u.addEventListener("resize",n.update,eL),function(){o&&l.forEach(function(e){e.removeEventListener("scroll",n.update,eL)}),a&&u.removeEventListener("resize",n.update,eL)}},data:{}},eR={left:"right",right:"left",bottom:"top",top:"bottom"};function eI(e){return e.replace(/left|right|bottom|top/g,function(e){return eR[e]})}var eN={start:"end",end:"start"};function eM(e){return e.replace(/start|end/g,function(e){return eN[e]})}function eB(e){var t=ei(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function eU(e){return ef(ev(e)).left+eB(e).scrollLeft}function ez(e){var t=ey(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function ej(e,t){void 0===t&&(t=[]);var n,i=function e(t){return["html","body","#document"].indexOf(en(t))>=0?t.ownerDocument.body:eo(t)&&ez(t)?t:e(eD(t))}(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),o=ei(i),s=r?[o].concat(o.visualViewport||[],ez(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(ej(eD(s)))}function eV(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function eG(e,t,n){var i,r,o,s,a,u,l,c,h,d;return t===z?eV(function(e,t){var n=ei(e),i=ev(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,u=0;if(r){o=r.width,s=r.height;var l=ep();(l||!l&&"fixed"===t)&&(a=r.offsetLeft,u=r.offsetTop)}return{width:o,height:s,x:a+eU(e),y:u}}(e,n)):er(t)?((i=ef(t,!1,"fixed"===n)).top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i):eV((r=ev(e),s=ev(r),a=eB(r),u=null==(o=r.ownerDocument)?void 0:o.body,l=el(s.scrollWidth,s.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),c=el(s.scrollHeight,s.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),h=-a.scrollLeft+eU(r),d=-a.scrollTop,"rtl"===ey(u||s).direction&&(h+=el(s.clientWidth,u?u.clientWidth:0)-l),{width:l,height:c,x:h,y:d}))}function e$(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?eu(r):null,s=r?eA(r):null,a=n.x+n.width/2-i.width/2,u=n.y+n.height/2-i.height/2;switch(o){case P:t={x:a,y:n.y-i.height};break;case L:t={x:a,y:n.y+n.height};break;case O:t={x:n.x+n.width,y:u};break;case R:t={x:n.x-i.width,y:u};break;default:t={x:n.x,y:n.y}}var l=o?ex(o):null;if(null!=l){var c="y"===l?"height":"width";switch(s){case M:t[l]=t[l]-(n[c]/2-i[c]/2);break;case B:t[l]=t[l]+(n[c]/2-i[c]/2)}}return t}function eH(e,t){void 0===t&&(t={});var n,i,r,o,s,a,u,l,c=t,h=c.placement,d=void 0===h?e.placement:h,p=c.strategy,f=void 0===p?e.strategy:p,m=c.boundary,g=c.rootBoundary,y=c.elementContext,v=void 0===y?j:y,D=c.altBoundary,b=c.padding,E=void 0===b?0:b,x=eC("number"!=typeof E?E:eT(E,N)),w=e.rects.popper,S=e.elements[void 0!==D&&D?v===j?V:j:v],C=(n=er(S)?S:S.contextElement||ev(e.elements.popper),i=void 0===m?U:m,r=void 0===g?z:g,u=(a=[].concat("clippingParents"===i?(o=ej(eD(n)),!er(s=["absolute","fixed"].indexOf(ey(n).position)>=0&&eo(n)?eE(n):n)?[]:o.filter(function(e){return er(e)&&eg(e,s)&&"body"!==en(e)})):[].concat(i),[r]))[0],(l=a.reduce(function(e,t){var i=eG(n,t,f);return e.top=el(i.top,e.top),e.right=ec(i.right,e.right),e.bottom=ec(i.bottom,e.bottom),e.left=el(i.left,e.left),e},eG(n,u,f))).width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l),T=ef(e.elements.reference),F=e$({reference:T,element:w,strategy:"absolute",placement:d}),A=eV(Object.assign({},w,F)),k=v===j?A:T,_={top:C.top-k.top+x.top,bottom:k.bottom-C.bottom+x.bottom,left:C.left-k.left+x.left,right:k.right-C.right+x.right},R=e.modifiersData.offset;if(v===j&&R){var I=R[d];Object.keys(_).forEach(function(e){var t=[O,L].indexOf(e)>=0?1:-1,n=[P,L].indexOf(e)>=0?"y":"x";_[e]+=I[n]*t})}return _}var eW={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,u=n.fallbackPlacements,l=n.padding,c=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,y=eu(g)===g,v=u||(y||!f?[eI(g)]:function(e){if(eu(e)===I)return[];var t=eI(e);return[eM(e),t,eM(t)]}(g)),D=[g].concat(v).reduce(function(e,n){var i,r,o,s,a,u,d,p,g,y,v,D;return e.concat(eu(n)===I?(r=(i={placement:n,boundary:c,rootBoundary:h,padding:l,flipVariations:f,allowedAutoPlacements:m}).placement,o=i.boundary,s=i.rootBoundary,a=i.padding,u=i.flipVariations,p=void 0===(d=i.allowedAutoPlacements)?$:d,0===(v=(y=(g=eA(r))?u?G:G.filter(function(e){return eA(e)===g}):N).filter(function(e){return p.indexOf(e)>=0})).length&&(v=y),Object.keys(D=v.reduce(function(e,n){return e[n]=eH(t,{placement:n,boundary:o,rootBoundary:s,padding:a})[eu(n)],e},{})).sort(function(e,t){return D[e]-D[t]})):n)},[]),b=t.rects.reference,E=t.rects.popper,x=new Map,w=!0,S=D[0],C=0;C<D.length;C++){var T=D[C],F=eu(T),A=eA(T)===M,k=[P,L].indexOf(F)>=0,_=k?"width":"height",B=eH(t,{placement:T,boundary:c,rootBoundary:h,altBoundary:d,padding:l}),U=k?A?O:R:A?L:P;b[_]>E[_]&&(U=eI(U));var z=eI(U),j=[];if(o&&j.push(B[F]<=0),a&&j.push(B[U]<=0,B[z]<=0),j.every(function(e){return e})){S=T,w=!1;break}x.set(T,j)}if(w)for(var V=f?3:1,H=function(e){var t=D.find(function(t){var n=x.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return S=t,"break"},W=V;W>0&&"break"!==H(W);W--);t.placement!==S&&(t.modifiersData[i]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function eq(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function eY(e){return[P,O,L,R].some(function(t){return e[t]>=0})}var eX={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=eH(t,{elementContext:"reference"}),a=eH(t,{altBoundary:!0}),u=eq(s,i),l=eq(a,r,o),c=eY(u),h=eY(l);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}},eK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=$.reduce(function(e,n){var i,r,s,a,u,l;return e[n]=(i=t.rects,s=[R,P].indexOf(r=eu(n))>=0?-1:1,u=(a="function"==typeof o?o(Object.assign({},i,{placement:n})):o)[0],l=a[1],u=u||0,l=(l||0)*s,[R,O].indexOf(r)>=0?{x:l,y:u}:{x:u,y:l}),e},{}),a=s[t.placement],u=a.x,l=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[i]=s}},eJ={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=e$({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},eZ={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=n.altAxis,s=n.boundary,a=n.rootBoundary,u=n.altBoundary,l=n.padding,c=n.tether,h=void 0===c||c,d=n.tetherOffset,p=void 0===d?0:d,f=eH(t,{boundary:s,rootBoundary:a,padding:l,altBoundary:u}),m=eu(t.placement),g=eA(t.placement),y=!g,v=ex(m),D="x"===v?"y":"x",b=t.modifiersData.popperOffsets,E=t.rects.reference,x=t.rects.popper,w="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,S="number"==typeof w?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(b){if(void 0===r||r){var F,A="y"===v?P:R,k="y"===v?L:O,_="y"===v?"height":"width",I=b[v],N=I+f[A],B=I-f[k],U=h?-x[_]/2:0,z=g===M?E[_]:x[_],j=g===M?-x[_]:-E[_],V=t.elements.arrow,G=h&&V?em(V):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:eS(),H=$[A],W=$[k],q=ew(0,E[_],G[_]),Y=y?E[_]/2-U-q-H-S.mainAxis:z-q-H-S.mainAxis,X=y?-E[_]/2+U+q+W+S.mainAxis:j+q+W+S.mainAxis,K=t.elements.arrow&&eE(t.elements.arrow),J=K?"y"===v?K.clientTop||0:K.clientLeft||0:0,Z=null!=(F=null==C?void 0:C[v])?F:0,Q=ew(h?ec(N,I+Y-Z-J):N,I,h?el(B,I+X-Z):B);b[v]=Q,T[v]=Q-I}if(void 0!==o&&o){var ee,et,en="x"===v?P:R,ei="x"===v?L:O,er=b[D],eo="y"===D?"height":"width",es=er+f[en],ea=er-f[ei],eh=-1!==[P,R].indexOf(m),ed=null!=(et=null==C?void 0:C[D])?et:0,ep=eh?es:er-E[eo]-x[eo]-ed+S.altAxis,ef=eh?er+E[eo]+x[eo]-ed-S.altAxis:ea,eg=h&&eh?(ee=ew(ep,er,ef))>ef?ef:ee:ew(h?ep:es,er,h?ef:ea);b[D]=eg,T[D]=eg-er}t.modifiersData[i]=T}},requiresIfExists:["offset"]},eQ={placement:"bottom",modifiers:[],strategy:"absolute"};function e0(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function e1(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?eQ:r;return function(e,t,n){void 0===n&&(n=o);var r,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},eQ,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],l=!1,c={state:a,setOptions:function(n){var r,s,l,d,p,f,m="function"==typeof n?n(a.options):n;h(),a.options=Object.assign({},o,a.options,m),a.scrollParents={reference:er(e)?ej(e):e.contextElement?ej(e.contextElement):[],popper:ej(t)};var g=(s=Object.keys(r=[].concat(i,a.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return r[e]}),l=new Map,d=new Set,p=[],s.forEach(function(e){l.set(e.name,e)}),s.forEach(function(e){d.has(e.name)||function e(t){d.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!d.has(t)){var n=l.get(t);n&&e(n)}}),p.push(t)}(e)}),f=p,ee.reduce(function(e,t){return e.concat(f.filter(function(e){return e.phase===t}))},[]));return a.orderedModifiers=g.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,i=e.effect;if("function"==typeof i){var r=i({state:a,name:t,instance:c,options:void 0===n?{}:n});u.push(r||function(){})}}),c.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(e0(t,n)){a.rects={reference:(i=eE(n),r="fixed"===a.options.strategy,o=eo(i),d=eo(i)&&(u=eh((s=i.getBoundingClientRect()).width)/i.offsetWidth||1,h=eh(s.height)/i.offsetHeight||1,1!==u||1!==h),p=ev(i),f=ef(t,d,r),m={scrollLeft:0,scrollTop:0},g={x:0,y:0},(o||!o&&!r)&&(("body"!==en(i)||ez(p))&&(m=function(e){return e!==ei(e)&&eo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:eB(e)}(i)),eo(i)?(g=ef(i,!0),g.x+=i.clientLeft,g.y+=i.clientTop):p&&(g.x=eU(p))),{x:f.left+m.scrollLeft-g.x,y:f.top+m.scrollTop-g.y,width:f.width,height:f.height}),popper:em(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var i,r,o,s,u,h,d,p,f,m,g,y=0;y<a.orderedModifiers.length;y++){if(!0===a.reset){a.reset=!1,y=-1;continue}var v=a.orderedModifiers[y],D=v.fn,b=v.options,E=void 0===b?{}:b,x=v.name;"function"==typeof D&&(a=D({state:a,options:E,name:x,instance:c})||a)}}}},update:(r=function(){return new Promise(function(e){c.forceUpdate(),e(a)})},function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(r())})})),s}),destroy:function(){h(),l=!0}};if(!e0(e,t))return c;function h(){u.forEach(function(e){return e()}),u=[]}return c.setOptions(n).then(function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)}),c}}var e2=e1(),e3=e1({defaultModifiers:[eO,eJ,eP,ea,eK,eW,eZ,eF,eX]}),e6=e1({defaultModifiers:[eO,eJ,eP,ea]});i(k,_),i(k,et);const e8=new Map,e5={set(e,t,n){e8.has(e)||e8.set(e,new Map);let i=e8.get(e);if(!i.has(t)&&0!==i.size)return void console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);i.set(t,n)},get:(e,t)=>e8.has(e)&&e8.get(e).get(t)||null,remove(e,t){if(!e8.has(e))return;let n=e8.get(e);n.delete(t),0===n.size&&e8.delete(e)}},e4="transitionend",e7=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),e9=e=>null==e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),te=e=>{e.dispatchEvent(new Event(e4))},tt=e=>!!e&&"object"==typeof e&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),tn=e=>tt(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e7(e)):null,ti=e=>{if(!tt(e)||0===e.getClientRects().length)return!1;let t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){let t=e.closest("summary");if(t&&t.parentNode!==n||null===t)return!1}return t},tr=e=>!!(!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled"))||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),to=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?to(e.parentNode):null},ts=()=>{},ta=e=>{e.offsetHeight},tu=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,tl=[],tc=e=>{var t;t=()=>{let t=tu();if(t){let n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}},"loading"===document.readyState?(tl.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of tl)e()}),tl.push(t)):t()},th=(e,t=[],n=e)=>"function"==typeof e?e.call(...t):n,td=(e,t,n=!0)=>{if(!n)return void th(e);let i=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e),i=Number.parseFloat(t),r=Number.parseFloat(n);return i||r?(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*1e3):0})(t)+5,r=!1,o=({target:n})=>{n===t&&(r=!0,t.removeEventListener(e4,o),th(e))};t.addEventListener(e4,o),setTimeout(()=>{r||te(t)},i)},tp=(e,t,n,i)=>{let r=e.length,o=e.indexOf(t);return -1===o?!n&&i?e[r-1]:e[0]:(o+=n?1:-1,i&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))])},tf=/[^.]*(?=\..*)\.|.*/,tm=/\..*/,tg=/::\d+$/,ty={};let tv=1;const tD={mouseenter:"mouseover",mouseleave:"mouseout"},tb=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function tE(e,t){return t&&`${t}::${tv++}`||e.uidEvent||tv++}function tx(e){let t=tE(e);return e.uidEvent=t,ty[t]=ty[t]||{},ty[t]}function tw(e,t,n=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===n)}function tS(e,t,n){let i="string"==typeof t,r=tF(e);return tb.has(r)||(r=e),[i,i?n:t||n,r]}function tC(e,t,n,i,r){var o,s;if("string"!=typeof t||!e)return;let[a,u,l]=tS(t,n,i);if(t in tD){let e;e=u,u=function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}}let c=tx(e),h=c[l]||(c[l]={}),d=tw(h,u,a?n:null);if(d){d.oneOff=d.oneOff&&r;return}let p=tE(u,t.replace(tf,"")),f=a?(o=u,function t(i){let r=e.querySelectorAll(n);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a of r)if(a===s)return tk(i,{delegateTarget:s}),t.oneOff&&tA.off(e,i.type,n,o),o.apply(s,[i])}):(s=u,function t(n){return tk(n,{delegateTarget:e}),t.oneOff&&tA.off(e,n.type,s),s.apply(e,[n])});f.delegationSelector=a?n:null,f.callable=u,f.oneOff=r,f.uidEvent=p,h[p]=f,e.addEventListener(l,f,a)}function tT(e,t,n,i,r){let o=tw(t[n],i,r);o&&(e.removeEventListener(n,o,!!r),delete t[n][o.uidEvent])}function tF(e){return tD[e=e.replace(tm,"")]||e}const tA={on(e,t,n,i){tC(e,t,n,i,!1)},one(e,t,n,i){tC(e,t,n,i,!0)},off(e,t,n,i){if("string"!=typeof t||!e)return;let[r,o,s]=tS(t,n,i),a=s!==t,u=tx(e),l=u[s]||{},c=t.startsWith(".");if(void 0!==o){if(!Object.keys(l).length)return;tT(e,u,s,o,r?n:null);return}if(c)for(let n of Object.keys(u)){var h=t.slice(1);for(let[t,i]of Object.entries(u[n]||{}))t.includes(h)&&tT(e,u,n,i.callable,i.delegationSelector)}for(let[n,i]of Object.entries(l)){let r=n.replace(tg,"");(!a||t.includes(r))&&tT(e,u,s,i.callable,i.delegationSelector)}},trigger(e,t,n){if("string"!=typeof t||!e)return null;let i=tu(),r=tF(t),o=null,s=!0,a=!0,u=!1;t!==r&&i&&(o=i.Event(t,n),i(e).trigger(o),s=!o.isPropagationStopped(),a=!o.isImmediatePropagationStopped(),u=o.isDefaultPrevented());let l=tk(new Event(t,{bubbles:s,cancelable:!0}),n);return u&&l.preventDefault(),a&&e.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function tk(e,t={}){for(let[n,i]of Object.entries(t))try{e[n]=i}catch(t){Object.defineProperty(e,n,{configurable:!0,get:()=>i})}return e}function t_(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function tP(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const tL={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${tP(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${tP(t)}`)},getDataAttributes(e){if(!e)return{};let t={};for(let n of Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"))){let i=n.replace(/^bs/,"");t[i=i.charAt(0).toLowerCase()+i.slice(1)]=t_(e.dataset[n])}return t},getDataAttribute:(e,t)=>t_(e.getAttribute(`data-bs-${tP(t)}`))};class tO{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let n=tt(t)?tL.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...tt(t)?tL.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[n,i]of Object.entries(t)){let t=e[n],r=tt(t)?"element":e9(t);if(!new RegExp(i).test(r))throw TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${i}".`)}}}class tR extends tO{constructor(e,t){if(super(),!(e=tn(e)))return;this._element=e,this._config=this._getConfig(t),e5.set(this._element,this.constructor.DATA_KEY,this)}dispose(){for(let e of(e5.remove(this._element,this.constructor.DATA_KEY),tA.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[e]=null}_queueCallback(e,t,n=!0){td(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return e5.get(tn(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const tI=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t?t.split(",").map(e=>e7(e)).join(","):null},tN={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){let n=[],i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!tr(e)&&ti(e))},getSelectorFromElement(e){let t=tI(e);return t&&tN.findOne(t)?t:null},getElementFromSelector(e){let t=tI(e);return t?tN.findOne(t):null},getMultipleElementsFromSelector(e){let t=tI(e);return t?tN.find(t):[]}},tM=(e,t="hide")=>{let n=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;tA.on(document,n,`[data-bs-dismiss="${i}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),tr(this))return;let r=tN.getElementFromSelector(this)||this.closest(`.${i}`);e.getOrCreateInstance(r)[t]()})},tB=".bs.alert",tU=`close${tB}`,tz=`closed${tB}`;class tj extends tR{static get NAME(){return"alert"}close(){if(tA.trigger(this._element,tU).defaultPrevented)return;this._element.classList.remove("show");let e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),tA.trigger(this._element,tz),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=tj.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}tM(tj,"close"),tc(tj);const tV='[data-bs-toggle="button"]',tG="click.bs.button.data-api";class t$ extends tR{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){let t=t$.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}tA.on(document,tG,tV,e=>{e.preventDefault();let t=e.target.closest(tV);t$.getOrCreateInstance(t).toggle()}),tc(t$);const tH=".bs.swipe",tW=`touchstart${tH}`,tq=`touchmove${tH}`,tY=`touchend${tH}`,tX=`pointerdown${tH}`,tK=`pointerup${tH}`,tJ={endCallback:null,leftCallback:null,rightCallback:null},tZ={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class tQ extends tO{constructor(e,t){if(super(),this._element=e,!e||!tQ.isSupported())return;this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents()}static get Default(){return tJ}static get DefaultType(){return tZ}static get NAME(){return"swipe"}dispose(){tA.off(this._element,tH)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),th(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=40)return;let t=e/this._deltaX;this._deltaX=0,t&&th(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(tA.on(this._element,tX,e=>this._start(e)),tA.on(this._element,tK,e=>this._end(e)),this._element.classList.add("pointer-event")):(tA.on(this._element,tW,e=>this._start(e)),tA.on(this._element,tq,e=>this._move(e)),tA.on(this._element,tY,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const t0=".bs.carousel",t1=".data-api",t2="next",t3="prev",t6="left",t8="right",t5=`slide${t0}`,t4=`slid${t0}`,t7=`keydown${t0}`,t9=`mouseenter${t0}`,ne=`mouseleave${t0}`,nt=`dragstart${t0}`,nn=`load${t0}${t1}`,ni=`click${t0}${t1}`,nr="carousel",no="active",ns=".active",na=".carousel-item",nu=ns+na,nl={ArrowLeft:t8,ArrowRight:t6},nc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},nh={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class nd extends tR{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=tN.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===nr&&this.cycle()}static get Default(){return nc}static get DefaultType(){return nh}static get NAME(){return"carousel"}next(){this._slide(t2)}nextWhenVisible(){!document.hidden&&ti(this._element)&&this.next()}prev(){this._slide(t3)}pause(){this._isSliding&&te(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void tA.one(this._element,t4,()=>this.cycle());this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void tA.one(this._element,t4,()=>this.to(e));let n=this._getItemIndex(this._getActive());n!==e&&this._slide(e>n?t2:t3,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&tA.on(this._element,t7,e=>this._keydown(e)),"hover"===this._config.pause&&(tA.on(this._element,t9,()=>this.pause()),tA.on(this._element,ne,()=>this._maybeEnableCycle())),this._config.touch&&tQ.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let e of tN.find(".carousel-item img",this._element))tA.on(e,nt,e=>e.preventDefault());let e=()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))};this._swipeHelper=new tQ(this._element,{leftCallback:()=>this._slide(this._directionToOrder(t6)),rightCallback:()=>this._slide(this._directionToOrder(t8)),endCallback:e})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=nl[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=tN.findOne(ns,this._indicatorsElement);t.classList.remove(no),t.removeAttribute("aria-current");let n=tN.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(no),n.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let n=this._getActive(),i=e===t2,r=t||tp(this._getItems(),n,i,this._config.wrap);if(r===n)return;let o=this._getItemIndex(r),s=t=>tA.trigger(this._element,t,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o});if(s(t5).defaultPrevented||!n||!r)return;let a=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;let u=i?"carousel-item-start":"carousel-item-end",l=i?"carousel-item-next":"carousel-item-prev";r.classList.add(l),ta(r),n.classList.add(u),r.classList.add(u);let c=()=>{r.classList.remove(u,l),r.classList.add(no),n.classList.remove(no,l,u),this._isSliding=!1,s(t4)};this._queueCallback(c,n,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return tN.findOne(nu,this._element)}_getItems(){return tN.find(na,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return"rtl"===document.documentElement.dir?e===t6?t3:t2:e===t6?t2:t3}_orderToDirection(e){return"rtl"===document.documentElement.dir?e===t3?t6:t8:e===t3?t8:t6}static jQueryInterface(e){return this.each(function(){let t=nd.getOrCreateInstance(this,e);if("number"==typeof e)return void t.to(e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}tA.on(document,ni,"[data-bs-slide], [data-bs-slide-to]",function(e){let t=tN.getElementFromSelector(this);if(!t||!t.classList.contains(nr))return;e.preventDefault();let n=nd.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if("next"===tL.getDataAttribute(this,"slide")){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()}),tA.on(window,nn,()=>{for(let e of tN.find('[data-bs-ride="carousel"]'))nd.getOrCreateInstance(e)}),tc(nd);const np=".bs.collapse",nf=`show${np}`,nm=`shown${np}`,ng=`hide${np}`,ny=`hidden${np}`,nv=`click${np}.data-api`,nD="show",nb="collapse",nE="collapsing",nx=`:scope .${nb} .${nb}`,nw='[data-bs-toggle="collapse"]',nS={parent:null,toggle:!0},nC={parent:"(null|element)",toggle:"boolean"};class nT extends tR{constructor(e,t){for(let n of(super(e,t),this._isTransitioning=!1,this._triggerArray=[],tN.find(nw))){let e=tN.getSelectorFromElement(n),t=tN.find(e).filter(e=>e===this._element);null!==e&&t.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return nS}static get DefaultType(){return nC}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>nT.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning||tA.trigger(this._element,nf).defaultPrevented)return;for(let t of e)t.hide();let t=this._getDimension();this._element.classList.remove(nb),this._element.classList.add(nE),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let n=()=>{this._isTransitioning=!1,this._element.classList.remove(nE),this._element.classList.add(nb,nD),this._element.style[t]="",tA.trigger(this._element,nm)},i=t[0].toUpperCase()+t.slice(1),r=`scroll${i}`;this._queueCallback(n,this._element,!0),this._element.style[t]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||tA.trigger(this._element,ng).defaultPrevented)return;let e=this._getDimension();for(let t of(this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,ta(this._element),this._element.classList.add(nE),this._element.classList.remove(nb,nD),this._triggerArray)){let e=tN.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;let t=()=>{this._isTransitioning=!1,this._element.classList.remove(nE),this._element.classList.add(nb),tA.trigger(this._element,ny)};this._element.style[e]="",this._queueCallback(t,this._element,!0)}_isShown(e=this._element){return e.classList.contains(nD)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=tn(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent)for(let e of this._getFirstLevelChildren(nw)){let t=tN.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(e){let t=tN.find(nx,this._config.parent);return tN.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let n=nT.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw TypeError(`No method named "${e}"`);n[e]()}})}}tA.on(document,nv,nw,function(e){for(let t of(("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault(),tN.getMultipleElementsFromSelector(this)))nT.getOrCreateInstance(t,{toggle:!1}).toggle()}),tc(nT);const nF="dropdown",nA=".bs.dropdown",nk=".data-api",n_="ArrowDown",nP=`hide${nA}`,nL=`hidden${nA}`,nO=`show${nA}`,nR=`shown${nA}`,nI=`click${nA}${nk}`,nN=`keydown${nA}${nk}`,nM=`keyup${nA}${nk}`,nB="show",nU='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',nz=`${nU}.${nB}`,nj=".dropdown-menu",nV="rtl"===document.documentElement.dir?"top-end":"top-start",nG="rtl"===document.documentElement.dir?"top-start":"top-end",n$="rtl"===document.documentElement.dir?"bottom-end":"bottom-start",nH="rtl"===document.documentElement.dir?"bottom-start":"bottom-end",nW="rtl"===document.documentElement.dir?"left-start":"right-start",nq="rtl"===document.documentElement.dir?"right-start":"left-start",nY={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},nX={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class nK extends tR{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=tN.next(this._element,nj)[0]||tN.prev(this._element,nj)[0]||tN.findOne(nj,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return nY}static get DefaultType(){return nX}static get NAME(){return nF}toggle(){return this._isShown()?this.hide():this.show()}show(){if(tr(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!tA.trigger(this._element,nO,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let e of[].concat(...document.body.children))tA.on(e,"mouseover",ts);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(nB),this._element.classList.add(nB),tA.trigger(this._element,nR,e)}}hide(){if(tr(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!tA.trigger(this._element,nP,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tA.off(e,"mouseover",ts);this._popper&&this._popper.destroy(),this._menu.classList.remove(nB),this._element.classList.remove(nB),this._element.setAttribute("aria-expanded","false"),tL.removeDataAttribute(this._menu,"popper"),tA.trigger(this._element,nL,e),this._element.focus()}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!tt(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw TypeError(`${nF.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===k)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;"parent"===this._config.reference?e=this._parent:tt(this._config.reference)?e=tn(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=k.createPopper(e,this._menu,t)}_isShown(){return this._menu.classList.contains(nB)}_getPlacement(){let e=this._parent;if(e.classList.contains("dropend"))return nW;if(e.classList.contains("dropstart"))return nq;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";let t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?nG:nV:t?nH:n$}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(tL.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...th(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){let n=tN.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>ti(e));n.length&&tp(n,t,e===n_,!n.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=nK.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2!==e.button&&("keyup"!==e.type||"Tab"===e.key))for(let t of tN.find(nz)){let n=nK.getInstance(t);if(!n||!1===n._config.autoClose)continue;let i=e.composedPath(),r=i.includes(n._menu);if(i.includes(n._element)||"inside"===n._config.autoClose&&!r||"outside"===n._config.autoClose&&r||n._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let o={relatedTarget:n._element};"click"===e.type&&(o.clickEvent=e),n._completeHide(o)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,i=["ArrowUp",n_].includes(e.key);if(!i&&!n||t&&!n)return;e.preventDefault();let r=this.matches(nU)?this:tN.prev(this,nU)[0]||tN.next(this,nU)[0]||tN.findOne(nU,e.delegateTarget.parentNode),o=nK.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}tA.on(document,nN,nU,nK.dataApiKeydownHandler),tA.on(document,nN,nj,nK.dataApiKeydownHandler),tA.on(document,nI,nK.clearMenus),tA.on(document,nM,nK.clearMenus),tA.on(document,nI,nU,function(e){e.preventDefault(),nK.getOrCreateInstance(this).toggle()}),tc(nK);const nJ="backdrop",nZ="show",nQ=`mousedown.bs.${nJ}`,n0={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},n1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class n2 extends tO{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return n0}static get DefaultType(){return n1}static get NAME(){return nJ}show(e){if(!this._config.isVisible)return void th(e);this._append();let t=this._getElement();this._config.isAnimated&&ta(t),t.classList.add(nZ),this._emulateAnimation(()=>{th(e)})}hide(e){if(!this._config.isVisible)return void th(e);this._getElement().classList.remove(nZ),this._emulateAnimation(()=>{this.dispose(),th(e)})}dispose(){this._isAppended&&(tA.off(this._element,nQ),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=tn(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),tA.on(e,nQ,()=>{th(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){td(e,this._getElement(),this._config.isAnimated)}}const n3=".bs.focustrap",n6=`focusin${n3}`,n8=`keydown.tab${n3}`,n5="backward",n4={autofocus:!0,trapElement:null},n7={autofocus:"boolean",trapElement:"element"};class n9 extends tO{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return n4}static get DefaultType(){return n7}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),tA.off(document,n3),tA.on(document,n6,e=>this._handleFocusin(e)),tA.on(document,n8,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,tA.off(document,n3))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let n=tN.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===n5?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?n5:"forward")}}const ie=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",it=".sticky-top",ii="padding-right",ir="margin-right";class io{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ii,t=>t+e),this._setElementAttributes(ie,ii,t=>t+e),this._setElementAttributes(it,ir,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ii),this._resetElementAttributes(ie,ii),this._resetElementAttributes(it,ir)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){let i=this.getWidth(),r=e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+i)return;this._saveInitialAttribute(e,t);let r=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(r))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){let n=e.style.getPropertyValue(t);n&&tL.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{let n=tL.getDataAttribute(e,t);if(null===n)return void e.style.removeProperty(t);tL.removeDataAttribute(e,t),e.style.setProperty(t,n)})}_applyManipulationCallback(e,t){if(tt(e))return void t(e);for(let n of tN.find(e,this._element))t(n)}}const is=".bs.modal",ia=`hide${is}`,iu=`hidePrevented${is}`,il=`hidden${is}`,ic=`show${is}`,ih=`shown${is}`,id=`resize${is}`,ip=`click.dismiss${is}`,im=`mousedown.dismiss${is}`,ig=`keydown.dismiss${is}`,iy=`click${is}.data-api`,iv="modal-open",iD="show",ib="modal-static",iE={backdrop:!0,focus:!0,keyboard:!0},ix={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class iw extends tR{constructor(e,t){super(e,t),this._dialog=tN.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new io,this._addEventListeners()}static get Default(){return iE}static get DefaultType(){return ix}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||tA.trigger(this._element,ic,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(iv),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(tA.trigger(this._element,ia).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(iD),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){tA.off(window,is),tA.off(this._dialog,is),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new n2({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new n9({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=tN.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),ta(this._element),this._element.classList.add(iD);let n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,tA.trigger(this._element,ih,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){tA.on(this._element,ig,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),tA.on(window,id,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),tA.on(this._element,im,e=>{tA.one(this._element,ip,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(iv),this._resetAdjustments(),this._scrollBar.reset(),tA.trigger(this._element,il)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(tA.trigger(this._element,iu).defaultPrevented)return;let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(ib)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(ib),this._queueCallback(()=>{this._element.classList.remove(ib),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){let e="rtl"===document.documentElement.dir?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){let e="rtl"===document.documentElement.dir?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let n=iw.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw TypeError(`No method named "${e}"`);n[e](t)}})}}tA.on(document,iy,'[data-bs-toggle="modal"]',function(e){let t=tN.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),tA.one(t,ic,e=>{e.defaultPrevented||tA.one(t,il,()=>{ti(this)&&this.focus()})});let n=tN.findOne(".modal.show");n&&iw.getInstance(n).hide(),iw.getOrCreateInstance(t).toggle(this)}),tM(iw),tc(iw);const iS=".bs.offcanvas",iC=".data-api",iT=`load${iS}${iC}`,iF="show",iA="showing",ik="hiding",i_=".offcanvas.show",iP=`show${iS}`,iL=`shown${iS}`,iO=`hide${iS}`,iR=`hidePrevented${iS}`,iI=`hidden${iS}`,iN=`resize${iS}`,iM=`click${iS}${iC}`,iB=`keydown.dismiss${iS}`,iU={backdrop:!0,keyboard:!0,scroll:!1},iz={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ij extends tR{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return iU}static get DefaultType(){return iz}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||tA.trigger(this._element,iP,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new io().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(iA);let t=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(iF),this._element.classList.remove(iA),tA.trigger(this._element,iL,{relatedTarget:e})};this._queueCallback(t,this._element,!0)}hide(){if(!this._isShown||tA.trigger(this._element,iO).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ik),this._backdrop.hide();let e=()=>{this._element.classList.remove(iF,ik),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new io().reset(),tA.trigger(this._element,iI)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if("static"===this._config.backdrop)return void tA.trigger(this._element,iR);this.hide()},t=!!this._config.backdrop;return new n2({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new n9({trapElement:this._element})}_addEventListeners(){tA.on(this._element,iB,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();tA.trigger(this._element,iR)}})}static jQueryInterface(e){return this.each(function(){let t=ij.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}tA.on(document,iM,'[data-bs-toggle="offcanvas"]',function(e){let t=tN.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),tr(this))return;tA.one(t,iI,()=>{ti(this)&&this.focus()});let n=tN.findOne(i_);n&&n!==t&&ij.getInstance(n).hide(),ij.getOrCreateInstance(t).toggle(this)}),tA.on(window,iT,()=>{for(let e of tN.find(i_))ij.getOrCreateInstance(e).show()}),tA.on(window,iN,()=>{for(let e of tN.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&ij.getOrCreateInstance(e).hide()}),tM(ij),tc(ij);const iV={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},iG=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),i$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,iH=(e,t)=>{let n=e.nodeName.toLowerCase();return t.includes(n)?!iG.has(n)||!!i$.test(e.nodeValue):t.filter(e=>e instanceof RegExp).some(e=>e.test(n))},iW={allowList:iV,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},iq={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},iY={entry:"(string|element|function|null)",selector:"(string|element)"};class iX extends tO{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return iW}static get DefaultType(){return iq}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");for(let[t,n]of(e.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(e,n,t);let t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},iY)}_setContent(e,t,n){let i=tN.findOne(n,e);if(i){if(!(t=this._resolvePossibleFunction(t)))return void i.remove();if(tt(t))return void this._putElementInTemplate(tn(t),i);if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);let i=new window.DOMParser().parseFromString(e,"text/html");for(let e of[].concat(...i.body.querySelectorAll("*"))){let n=e.nodeName.toLowerCase();if(!Object.keys(t).includes(n)){e.remove();continue}let i=[].concat(...e.attributes),r=[].concat(t["*"]||[],t[n]||[]);for(let t of i)iH(t,r)||e.removeAttribute(t.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return th(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const iK=new Set(["sanitize","allowList","sanitizeFn"]),iJ="fade",iZ="show",iQ=".modal",i0="hide.bs.modal",i1="hover",i2="focus",i3="click",i6={AUTO:"auto",TOP:"top",RIGHT:"rtl"===document.documentElement.dir?"left":"right",BOTTOM:"bottom",LEFT:"rtl"===document.documentElement.dir?"right":"left"},i8={allowList:iV,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},i5={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class i4 extends tR{constructor(e,t){if(void 0===k)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return i8}static get DefaultType(){return i5}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),tA.off(this._element.closest(iQ),i0,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=tA.trigger(this._element,this.constructor.eventName("show")),t=(to(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();let n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));let{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(n),tA.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(iZ),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tA.on(e,"mouseover",ts);let r=()=>{tA.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1};this._queueCallback(r,this.tip,this._isAnimated())}hide(){if(!this._isShown()||tA.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(iZ),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))tA.off(e,"mouseover",ts);this._activeTrigger[i3]=!1,this._activeTrigger[i2]=!1,this._activeTrigger[i1]=!1,this._isHovered=null;let e=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),tA.trigger(this._element,this.constructor.eventName("hidden")))};this._queueCallback(e,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(iJ,iZ),t.classList.add(`bs-${this.constructor.NAME}-auto`);let n=(e=>{do e+=Math.floor(1e6*Math.random());while(document.getElementById(e))return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(iJ),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new iX({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(iJ)}_isShown(){return this.tip&&this.tip.classList.contains(iZ)}_createPopper(e){let t=i6[th(this._config.placement,[this,e,this._element]).toUpperCase()];return k.createPopper(this._element,e,this._getPopperConfig(t))}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return th(e,[this._element,this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...th(this._config.popperConfig,[void 0,t])}}_setListeners(){for(let e of this._config.trigger.split(" "))if("click"===e)tA.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger[i3]=!(t._isShown()&&t._activeTrigger[i3]),t.toggle()});else if("manual"!==e){let t=e===i1?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=e===i1?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");tA.on(this._element,t,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?i2:i1]=!0,t._enter()}),tA.on(this._element,n,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?i2:i1]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},tA.on(this._element.closest(iQ),i0,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=tL.getDataAttributes(this._element);for(let e of Object.keys(t))iK.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:tn(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=i4.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}tc(i4);const i7={...i4.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},i9={...i4.DefaultType,content:"(null|string|element|function)"};class re extends i4{static get Default(){return i7}static get DefaultType(){return i9}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=re.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}tc(re);const rt=".bs.scrollspy",rn=`activate${rt}`,ri=`click${rt}`,rr=`load${rt}.data-api`,ro="active",rs="[href]",ra=".nav-link",ru=`${ra}, .nav-item > ${ra}, .list-group-item`,rl={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rc={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class rh extends tR{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return rl}static get DefaultType(){return rc}static get NAME(){return"scrollspy"}refresh(){for(let e of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=tn(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(tA.off(this._config.target,ri),tA.on(this._config.target,ri,rs,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let n=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:i,behavior:"smooth"});n.scrollTop=i}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){let t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;for(let o of(this._previousScrollData.parentScrollTop=i,e)){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}let e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&e){if(n(o),!i)return;continue}r||e||n(o)}}_initializeTargetsAndObservables(){for(let e of(this._targetLinks=new Map,this._observableSections=new Map,tN.find(rs,this._config.target))){if(!e.hash||tr(e))continue;let t=tN.findOne(decodeURI(e.hash),this._element);ti(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ro),this._activateParents(e),tA.trigger(this._element,rn,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))return void tN.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(ro);for(let t of tN.parents(e,".nav, .list-group"))for(let e of tN.prev(t,ru))e.classList.add(ro)}_clearActiveClass(e){for(let t of(e.classList.remove(ro),tN.find(`${rs}.${ro}`,e)))t.classList.remove(ro)}static jQueryInterface(e){return this.each(function(){let t=rh.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}tA.on(window,rr,()=>{for(let e of tN.find('[data-bs-spy="scroll"]'))rh.getOrCreateInstance(e)}),tc(rh);const rd=".bs.tab",rp=`hide${rd}`,rf=`hidden${rd}`,rm=`show${rd}`,rg=`shown${rd}`,ry=`click${rd}`,rv=`keydown${rd}`,rD=`load${rd}`,rb="ArrowRight",rE="ArrowDown",rx="Home",rw="active",rS="fade",rC="show",rT=".dropdown-toggle",rF=`:not(${rT})`,rA=`.nav-link${rF}, .list-group-item${rF}, [role="tab"]${rF}`,rk='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',r_=`${rA}, ${rk}`,rP=`.${rw}[data-bs-toggle="tab"], .${rw}[data-bs-toggle="pill"], .${rw}[data-bs-toggle="list"]`;class rL extends tR{constructor(e){if(super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),!this._parent)return;this._setInitialAttributes(this._parent,this._getChildren()),tA.on(this._element,rv,e=>this._keydown(e))}static get NAME(){return"tab"}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),n=t?tA.trigger(t,rp,{relatedTarget:e}):null;tA.trigger(e,rm,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(rw),this._activate(tN.getElementFromSelector(e));let n=()=>{if("tab"!==e.getAttribute("role"))return void e.classList.add(rC);e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),tA.trigger(e,rg,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(rS))}_deactivate(e,t){if(!e)return;e.classList.remove(rw),e.blur(),this._deactivate(tN.getElementFromSelector(e));let n=()=>{if("tab"!==e.getAttribute("role"))return void e.classList.remove(rC);e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),tA.trigger(e,rf,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(rS))}_keydown(e){let t;if(!["ArrowLeft",rb,"ArrowUp",rE,rx,"End"].includes(e.key))return;e.stopPropagation(),e.preventDefault();let n=this._getChildren().filter(e=>!tr(e));if([rx,"End"].includes(e.key))t=n[e.key===rx?0:n.length-1];else{let i=[rb,rE].includes(e.key);t=tp(n,e.target,i,!0)}t&&(t.focus({preventScroll:!0}),rL.getOrCreateInstance(t).show())}_getChildren(){return tN.find(r_,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){for(let n of(this._setAttributeIfNotExists(e,"role","tablist"),t))this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=tN.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;let i=(e,i)=>{let r=tN.findOne(e,n);r&&r.classList.toggle(i,t)};i(rT,rw),i(".dropdown-menu",rC),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(rw)}_getInnerElement(e){return e.matches(r_)?e:tN.findOne(r_,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){let t=rL.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}tA.on(document,ry,rk,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),tr(this)||rL.getOrCreateInstance(this).show()}),tA.on(window,rD,()=>{for(let e of tN.find(rP))rL.getOrCreateInstance(e)}),tc(rL);const rO=".bs.toast",rR=`mouseover${rO}`,rI=`mouseout${rO}`,rN=`focusin${rO}`,rM=`focusout${rO}`,rB=`hide${rO}`,rU=`hidden${rO}`,rz=`show${rO}`,rj=`shown${rO}`,rV="hide",rG="show",r$="showing",rH={animation:"boolean",autohide:"boolean",delay:"number"},rW={animation:!0,autohide:!0,delay:5e3};class rq extends tR{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return rW}static get DefaultType(){return rH}static get NAME(){return"toast"}show(){if(tA.trigger(this._element,rz).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");let e=()=>{this._element.classList.remove(r$),tA.trigger(this._element,rj),this._maybeScheduleHide()};this._element.classList.remove(rV),ta(this._element),this._element.classList.add(rG,r$),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||tA.trigger(this._element,rB).defaultPrevented)return;let e=()=>{this._element.classList.add(rV),this._element.classList.remove(r$,rG),tA.trigger(this._element,rU)};this._element.classList.add(r$),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(rG),super.dispose()}isShown(){return this._element.classList.contains(rG)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();let n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){tA.on(this._element,rR,e=>this._onInteraction(e,!0)),tA.on(this._element,rI,e=>this._onInteraction(e,!1)),tA.on(this._element,rN,e=>this._onInteraction(e,!0)),tA.on(this._element,rM,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=rq.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e](this)}})}}tM(rq),tc(rq);var A=(T("gBhAd"),T("gBhAd"));const rY="var(--bs-red)";function rX(){let e=ow.instance.canvas.group();return e.add(ow.instance.canvas.rect(10,10).fill("transparent").stroke("none")),e.add(ow.instance.canvas.rect(5,5).fill("var(--bs-cyan)").stroke("none").move(2.5,2.5)),e}function rK(e){return e.toLocaleString("en",{maximumFractionDigits:3,notation:"standard"})}function rJ(e,t){let n=[[t.x,t.y],[t.x2,t.y],[t.x2,t.y2],[t.x,t.y2],[t.x,t.y]];for(let t=0;t<n.length-1;t++)if(function(e,t){let n=e instanceof A.Line?e.array():e,i=t instanceof A.Line?t.array():t,r=(n[0][0]-n[1][0])*(i[0][1]-i[1][1])-(n[0][1]-n[1][1])*(i[0][0]-i[1][0]);if(0==r)return!1;let o=((n[0][0]-i[0][0])*(i[0][1]-i[1][1])-(n[0][1]-i[0][1])*(i[0][0]-i[1][0]))/r,s=-((n[0][0]-n[1][0])*(n[0][1]-i[0][1])-(n[0][1]-n[1][1])*(n[0][0]-i[0][0]))/r;return o>=0&&o<=1&&s>=0&&s<=1}(e,[n[t],n[t+1]]))return!0;return!!rQ(e instanceof A.Line?new A.Point(e.cx(),e.cy()):e[0],t)}function rZ(e,t,n=0){if(0==n){let n=new A.Point(e.x,e.y),i=new A.Point(e.x2,e.y2),r=new A.Point(t.x,t.y),o=new A.Point(t.x2,t.y2);return!(n.x>o.x)&&!(r.x>i.x)&&!(i.y<r.y)&&!(o.y<n.y)}let i=new A.Point(e.cx,e.cy);if(rQ(new A.Point(t.cx,t.cy).rotate(-n,i),e))return!0;let r=[[e.x,e.y],[e.x2,e.y],[e.x2,e.y2],[e.x,e.y2]].map(e=>new A.Point(e[0],e[1]).rotate(n,i));for(let e=0;e<r.length-1;e++){let n=r[e],i=r[(e+1)%r.length];if(rJ([[n.x,n.y],[i.x,i.y]],t))return!0}}function rQ(e,t){let n=e instanceof A.Point?[e.x,e.y]:e;return n[0]>=t.x&&n[0]<=t.x2&&n[1]>=t.y&&n[1]<=t.y2}const r0={px:{px:1,in:1/96,cm:127/4800,mm:127/480,pt:3/4,pc:1/16},in:{px:96,in:1,cm:2.54,mm:25.4,pt:72,pc:6},cm:{px:4800/127,in:50/127,cm:1,mm:10,pt:3600/127,pc:300/127},mm:{px:480/127,in:5/127,cm:.1,mm:1,pt:360/127,pc:30/127},pt:{px:4/3,in:1/72,cm:127/3600,mm:127/360,pt:1,pc:1/12},pc:{px:16,in:1/6,cm:127/300,mm:127/30,pt:12,pc:1}},r1=["px","in","pt","pc","cm","mm"];function r2(e,t){let n,i=e.unit||"px",r=t instanceof A.Number&&t.unit||"px",o=new A.Number(e);if(t instanceof A.Number)if(i!==r){let e=r1.indexOf(i),s=r1.indexOf(r);n=new A.Number(t),e<s?n=n.convertToUnit(i):o=o.convertToUnit(r)}else n=new A.Number(t);else n=new A.Number(t,i);return[o,n]}function r3(e){if(e instanceof A.Number)return e.convertToUnit("px").value;let t=Number(e);return Number.isNaN(t)?"string"==typeof e?new A.Number(e).convertToUnit("px").value:"number"==typeof e?new A.Number(e).convertToUnit("px").value:(e.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),e.value):t}async function r6(e=document,t="interactive"){let n="complete"==t?["complete"]:["interactive","complete"];return n.includes(e.readyState)?e:new Promise(t=>{let i=r=>{n.includes(r.target.readyState)&&(e.removeEventListener("readystatechange",i),t(r.target))};e.addEventListener("readystatechange",i)})}async function r8(e,t=document){let n;if(e instanceof HTMLElement)n=e;else if(!(n=(t=await r6(t,"interactive")).getElementById(e)))return n;if(n instanceof HTMLScriptElement)return r6(t,"complete").then(()=>n);let i=["inactive","complete"],r="image/svg+xml";return!(n instanceof HTMLImageElement||n instanceof HTMLObjectElement)||n instanceof HTMLImageElement&&n.complete||n instanceof HTMLObjectElement&&(!n.data||n.type===r&&i.includes(n.getSVGDocument?.()?.readyState??"")||n.type!==r&&i.includes(n.contentDocument?.readyState??""))?n:new Promise(e=>n.addEventListener("load",()=>e(n),{once:!0}))}A.extend(A.Number,{convertToUnit(e){let t=r0[this.unit||"px"]||null,n=t?.[e]??null;if(null!==n)return new A.Number(this.value*n,e);throw Error("Invalid unit")},divide(e){let[t,n]=r2(this,e);return t.value/=n.value,t},minus(e){let[t,n]=r2(this,e);return t.value-=n.value,t},plus(e){let[t,n]=r2(this,e);return t.value+=n.value,t},times(e){let[t,n]=r2(this,e);return t.value*=n.value,t},pow(e){let t=new A.Number(this);return t.value**=e,t},mod(e){let t=new A.Number(this);return t.value%=e,t},gt(e){let[t,n]=r2(this,e);return t.value>n.value},gte(e){let[t,n]=r2(this,e);return t.value>=n.value},lt(e){let[t,n]=r2(this,e);return t.value<n.value},lte(e){let[t,n]=r2(this,e);return t.value<=n.value},eq(e){let[t,n]=r2(this,e);return t.value==n.value}}),A.extend(A.Point,{distanceSquared(e){return(this.x-e.x)**2+(this.y-e.y)**2},distance(e){return Math.sqrt((this.x-e.x)**2+(this.y-e.y)**2)},absSquared(){return this.x**2+this.y**2},abs(){return Math.sqrt(this.x**2+this.y**2)},sub(e){return e instanceof A.Point?new A.Point(this.x-e.x,this.y-e.y):new A.Point(this.x-e,this.y-e)},add(e){return e instanceof A.Point?new A.Point(this.x+e.x,this.y+e.y):new A.Point(this.x+e,this.y+e)},mul(e){return e instanceof A.Point?new A.Point(this.x*e.x,this.y*e.y):new A.Point(this.x*e,this.y*e)},div(e){return e instanceof A.Point?new A.Point(this.x/e.x,this.y/e.y):new A.Point(this.x/e,this.y/e)},dot(e){return this.x*e.x+this.y*e.y},rotate(e,t,n=!1){let i=t?this.sub(t):this.clone(),r=i.x,o=i.y,s=n?e:Math.PI/180*e,a=Math.cos(s),u=Math.sin(s);return i.x=a*r+u*o,i.y=-u*r+a*o,t&&(i.x+=t.x,i.y+=t.y),i},eq(e,t=1e-7){return!!(this.x>e.x-t)&&!!(this.x<e.x+t)&&!!(this.y>e.y-t)&&!!(this.y<e.y+t)},toTikzString(e=!1){return e?`${rK(this.x*r0.px.cm)}, ${rK(-this.y*r0.px.cm)}`:`(${rK(this.x*r0.px.cm)}, ${rK(-this.y*r0.px.cm)})`},toSVGPathString(){return this.x+" "+this.y},simplifyForJson(e=3){let t=10**e;return new A.Point(Math.round(this.x*t)/t,Math.round(this.y*t)/t)}}),A.extend(A.Color,{toTikzString(){let e=this.rgb();return`{rgb,255:red,${e.r.toFixed(0)};green,${e.g.toFixed(0)};blue,${e.b.toFixed(0)}}`}});const r5="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function r4(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on".concat(t),n)}function r7(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on".concat(t),n)}function r9(e,t){let n=t.slice(0,t.length-1);for(let t=0;t<n.length;t++)n[t]=e[n[t].toLowerCase()];return n}function oe(e){"string"!=typeof e&&(e="");let t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}const ot={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,arrowup:38,arrowdown:40,arrowleft:37,arrowright:39,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":r5?173:189,"=":r5?61:187,";":r5?59:186,"'":222,"{":219,"}":221,"[":219,"]":221,"\\":220},on={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,meta:91,command:91},oi={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},or={16:!1,18:!1,17:!1,91:!1},oo={};for(let e=1;e<20;e++)ot["f".concat(e)]=111+e;let os=[],oa=null,ou="all";const ol=new Map,oc=e=>ot[e.toLowerCase()]||on[e.toLowerCase()]||e.toUpperCase().charCodeAt(0);function oh(e){ou=e||"all"}function od(){return ou||"all"}function op(e){if(void 0===e)Object.keys(oo).forEach(e=>{Array.isArray(oo[e])&&oo[e].forEach(e=>of(e)),delete oo[e]}),ov(null);else if(Array.isArray(e))e.forEach(e=>{e.key&&of(e)});else if("object"==typeof e)e.key&&of(e);else if("string"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let[r,o]=n;"function"==typeof r&&(o=r,r=""),of({key:e,scope:r,method:o,splitKey:"+"})}}const of=e=>{let{key:t,scope:n,method:i,splitKey:r="+"}=e;oe(t).forEach(e=>{let t=e.split(r),o=t.length,s=t[o-1],a="*"===s?"*":oc(s);if(!oo[a])return;n||(n=od());let u=o>1?r9(on,t):[],l=[];oo[a]=oo[a].filter(e=>{let t=(!i||e.method===i)&&e.scope===n&&function(e,t){let n=e.length>=t.length?e:t,i=e.length>=t.length?t:e,r=!0;for(let e=0;e<n.length;e++)-1===i.indexOf(n[e])&&(r=!1);return r}(e.mods,u);return t&&l.push(e.element),!t}),l.forEach(e=>ov(e))})};function om(e,t,n,i){let r;if(t.element===i&&(t.scope===n||"all"===t.scope)){for(let e in r=t.mods.length>0,or)Object.prototype.hasOwnProperty.call(or,e)&&(!or[e]&&t.mods.indexOf(+e)>-1||or[e]&&-1===t.mods.indexOf(+e))&&(r=!1);(0!==t.mods.length||or[16]||or[18]||or[17]||or[91])&&!r&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(os),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function og(e,t){let n=oo["*"],i=e.keyCode||e.which||e.charCode;if(e.key&&"capslock"===e.key.toLowerCase()||!oy.filter.call(this,e))return;if((93===i||224===i)&&(i=91),-1===os.indexOf(i)&&229!==i&&os.push(i),["metaKey","ctrlKey","altKey","shiftKey"].forEach(t=>{let n=oi[t];e[t]&&-1===os.indexOf(n)?os.push(n):!e[t]&&os.indexOf(n)>-1?os.splice(os.indexOf(n),1):"metaKey"===t&&e[t]&&(os=os.filter(e=>e in oi||e===i))}),i in or){for(let t in or[i]=!0,on)if(Object.prototype.hasOwnProperty.call(on,t)){let n=oi[on[t]];oy[t]=e[n]}if(!n)return}for(let t in or)Object.prototype.hasOwnProperty.call(or,t)&&(or[t]=e[oi[t]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===os.indexOf(17)&&os.push(17),-1===os.indexOf(18)&&os.push(18),or[17]=!0,or[18]=!0);let r=od();if(n)for(let i=0;i<n.length;i++)n[i].scope===r&&("keydown"===e.type&&n[i].keydown||"keyup"===e.type&&n[i].keyup)&&om(e,n[i],r,t);if(!(i in oo))return;let o=oo[i],s=o.length;for(let n=0;n<s;n++)if(("keydown"===e.type&&o[n].keydown||"keyup"===e.type&&o[n].keyup)&&o[n].key){let i=o[n],{splitKey:s}=i,a=i.key.split(s),u=[];for(let e=0;e<a.length;e++)u.push(oc(a[e]));u.sort().join("")===os.sort().join("")&&om(e,i,r,t)}}function oy(e,t,n){os=[];let i=oe(e),r=[],o="all",s=document,a=0,u=!1,l=!0,c="+",h=!1,d=!1;for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(s=t.element),t.keyup&&(u=t.keyup),void 0!==t.keydown&&(l=t.keydown),void 0!==t.capture&&(h=t.capture),"string"==typeof t.splitKey&&(c=t.splitKey),!0===t.single&&(d=!0)),"string"==typeof t&&(o=t),d&&op(e,o);a<i.length;a++)e=i[a].split(c),r=[],e.length>1&&(r=r9(on,e)),(e="*"===(e=e[e.length-1])?"*":oc(e))in oo||(oo[e]=[]),oo[e].push({keyup:u,keydown:l,scope:o,mods:r,shortcut:i[a],method:n,key:i[a],splitKey:c,element:s});if(void 0!==s&&window){if(!ol.has(s)){let e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;return og(e,s)},t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;og(e,s);let t=e.keyCode||e.which||e.charCode;e.key&&"capslock"===e.key.toLowerCase()&&(t=oc(e.key));let n=os.indexOf(t);if(n>=0&&os.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&os.splice(0,os.length),(93===t||224===t)&&(t=91),t in or)for(let e in or[t]=!1,on)on[e]===t&&(oy[e]=!1)};ol.set(s,{keydownListener:e,keyupListenr:t,capture:h}),r4(s,"keydown",e,h),r4(s,"keyup",t,h)}if(!oa){let e=()=>{os=[]};oa={listener:e,capture:h},r4(window,"focus",e,h)}}}function ov(e){let t=Object.values(oo).flat();if(0>t.findIndex(t=>{let{element:n}=t;return n===e})){let{keydownListener:t,keyupListenr:n,capture:i}=ol.get(e)||{};t&&n&&(r7(e,"keyup",n,i),r7(e,"keydown",t,i),ol.delete(e))}if((t.length<=0||ol.size<=0)&&(Object.keys(ol).forEach(e=>{let{keydownListener:t,keyupListenr:n,capture:i}=ol.get(e)||{};t&&n&&(r7(e,"keyup",n,i),r7(e,"keydown",t,i),ol.delete(e))}),ol.clear(),Object.keys(oo).forEach(e=>delete oo[e]),oa)){let{listener:e,capture:t}=oa;r7(window,"focus",e,t),oa=null}}const oD={getPressedKeyString:function(){return os.map(e=>Object.keys(ot).find(t=>ot[t]===e)||Object.keys(on).find(t=>on[t]===e)||String.fromCharCode(e))},setScope:oh,getScope:od,deleteScope:function(e,t){let n,i;for(let t in e||(e=od()),oo)if(Object.prototype.hasOwnProperty.call(oo,t))for(i=0,n=oo[t];i<n.length;)n[i].scope===e?n.splice(i,1).forEach(e=>{let{element:t}=e;return ov(t)}):i++;od()===e&&oh(t||"all")},getPressedKeyCodes:function(){return os.slice(0)},getAllKeyCodes:function(){let e=[];return Object.keys(oo).forEach(t=>{oo[t].forEach(t=>{let{key:n,scope:i,mods:r,shortcut:o}=t;e.push({scope:i,shortcut:o,mods:r,keys:n.split("+").map(e=>oc(e))})})}),e},isPressed:function(e){return"string"==typeof e&&(e=oc(e)),-1!==os.indexOf(e)},filter:function(e){let t=e.target||e.srcElement,{tagName:n}=t,i=!0,r="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(r||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(i=!1),i},trigger:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(oo).forEach(n=>{oo[n].filter(n=>n.scope===t&&n.shortcut===e).forEach(e=>{e&&e.method&&e.method()})})},unbind:op,keyMap:ot,modifier:on,modifierMap:oi};for(const e in oD)Object.prototype.hasOwnProperty.call(oD,e)&&(oy[e]=oD[e]);if("undefined"!=typeof window){let e=window.hotkeys;oy.noConflict=t=>(t&&window.hotkeys===oy&&(window.hotkeys=e),oy),window.hotkeys=oy}var ob={};ob=JSON.parse('{"name":"circutikz-designer","version":"0.7.8","private":"true","description":"An interactive, visual, online editor for creating electrical circuit diagrams for LaTeX/CircuiTikZ with ease.","license":"GPL-3.0-only","author":"Manuel Kirzinger","contributors":[{"name":"Philipp Wiedemann","email":"jan.p.wiedemann@fau.de"},{"name":"Christof Pfannenmller","email":"christof.pfannenmueller@fau.de"}],"source":"src/pages/index.html","main":"src/scripts/main.js","targets":{"main":false},"scripts":{"build":"parcel build --public-url ./","update":"npx npm-check-updates -u","prepack":"npm run build","start":"parcel serve --lazy","postversion":"git push && git push origin tag $(git describe --tags --abbrev=0)","standalone":"electron-forge start","electron":"npm run build && electron .","package":"electron-forge package","make":"electron-forge make"},"browserslist":"> 0.5%, last 2 versions, not dead","dependencies":{"@prettier/plugin-xml":"^3.4.2","@svgdotjs/svg.draggable.js":"^3.0.6","@svgdotjs/svg.js":"^3.2.4","@svgdotjs/svg.panzoom.js":"^2.1.2","bootstrap":"^5.3.7","electron-squirrel-startup":"^1.0.1","file-saver":"^2.0.5","hotkeys-js":"^3.13.15","prettier":"^3.6.2","text-to-svg":"^3.1.5"},"devDependencies":{"@electron-forge/cli":"^7.8.2","@electron-forge/maker-deb":"^7.8.2","@electron-forge/maker-rpm":"^7.8.2","@electron-forge/maker-squirrel":"^7.8.2","@electron-forge/maker-wix":"^7.8.2","@electron-forge/maker-zip":"^7.8.2","@electron-forge/plugin-auto-unpack-natives":"^7.8.2","@electron-forge/plugin-fuses":"^7.8.2","@electron/fuses":"^2.0.0","@parcel/config-default":"^2.15.4","@parcel/packager-raw-url":"^2.15.4","@parcel/plugin":"^2.15.4","@parcel/transformer-css":"^2.15.4","@parcel/transformer-html":"^2.15.4","@parcel/transformer-js":"^2.15.4","@parcel/transformer-posthtml":"^2.15.4","@parcel/transformer-sass":"^2.15.4","@parcel/transformer-svg":"^2.15.4","@parcel/transformer-typescript-tsc":"^2.15.4","@parcel/transformer-webmanifest":"^2.15.4","@parcel/transformer-xml":"^2.15.4","@types/bootstrap":"^5.2.10","@types/file-saver":"^2.0.7","@types/text-to-svg":"^3.1.4","buffer":"^6.0.3","electron":"^37.2.5","parcel":"^2.15.4","path-browserify":"^1.0.1","posthtml-include":"^2.0.1","process":"^0.11.10","sass":"^1.89.2","typescript":"^5.9.2"}}'),(r=m||(m={}))[r.DRAG_PAN=0]="DRAG_PAN",r[r.COMPONENT=1]="COMPONENT",r[r.ERASE=2]="ERASE";class oE{static _instance;static get instance(){return oE._instance||(oE._instance=new oE),oE._instance}canvasController;symbolsSVG;symbols;darkMode=!0;darkModeLast=!0;currentTheme="dark";tabID=-1;mode=m.DRAG_PAN;modeSwitchButtons={modeDragPan:null,modeDrawLine:null,modeEraser:null};initPromise;isInitDone=!1;circuitComponents=[];static appVersion="0.0.0";isMac=!1;selectionController;broadcastChannel;designName;db;constructor(){oE._instance=this,this.isMac=window.navigator.userAgent.toUpperCase().indexOf("MAC")>=0,this.broadcastChannel=new BroadcastChannel("circuitikz-designer");let t=document.documentElement,i=document.getElementById("darkModeSwitch"),r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";this.currentTheme=localStorage.getItem("circuitikz-designer-theme")||r,t.setAttribute("data-bs-theme",this.currentTheme),this.darkModeLast=!1,this.darkMode="dark"===this.currentTheme,i.checked=this.darkMode;let o=this.loadMathJax(),s=this.initCanvas(),a=this.initSymbolDB(),u=Promise.all([document.fonts.load("1em Computer Modern Serif"),new Promise(t=>{n(aO).load("https://cdn.jsdelivr.net/gh/dreampulse/computer-modern-web-font@master/font/Serif/cmunrm.woff",(n,i)=>{e=i,t()})})]);oE.appVersion=ob.version,document.addEventListener("DOMContentLoaded",()=>{for(let e of document.getElementsByClassName("version"))e.textContent="v"+ob.version});let l=document.getElementById("exportModalFileBasename");this.designName=new sU("Design Name",""),this.designName.addChangeListener(()=>{document.title=this.designName.value+(this.designName.value?" - ":"")+"CircuiTikZ Designer",l.placeholder=oE.instance.designName.value.replace(/[^a-z0-9]/gi,"_")||"Circuit";let e=oE.instance.db.transaction("tabs","readwrite").objectStore("tabs");e.get(this.tabID).onsuccess=function(t){let n=t.target.result;n.designName=oE.instance.designName.value,e.put(n),oE.instance.sendBroadcastMessage("update")}}),this.initModeButtons(),this.updateTooltips(),sT.instance,document.getElementById("exportCircuiTikZButton").addEventListener("click",sT.instance.exportCircuiTikZ.bind(sT.instance),{passive:!0}),document.getElementById("exportSVGButton").addEventListener("click",sT.instance.exportSVG.bind(sT.instance),{passive:!0}),document.getElementById("exportImageButton").addEventListener("click",sT.instance.exportImage.bind(sT.instance),{passive:!0}),sk.instance,document.getElementById("saveButton").addEventListener("click",sk.instance.save.bind(sk.instance),{passive:!0}),document.getElementById("loadButton").addEventListener("click",sk.instance.load.bind(sk.instance),{passive:!0}),s.then(()=>{oS.instance,s_.instance,sR.instance,ac.instance}),this.initPromise=Promise.all([s,a,o,u]).then(()=>{for(let e of(document.getElementById("loadingSpinner")?.classList.add("d-none"),this.initAddComponentOffcanvas(),this.initShortcuts(),document.getElementById("canvas").addEventListener("contextmenu",e=>e.preventDefault(),{passive:!1}),this.addSaveStateManagement(),this.symbolsSVG.defs().node.querySelectorAll("symbol>g")))this.preprocessSymbolColors(e);let e=document.documentElement,t=document.getElementById("darkModeSwitch");t.addEventListener("change",function(){(oE.instance.darkMode=t.checked)?(e.setAttribute("data-bs-theme","dark"),localStorage.setItem("circuitikz-designer-theme","dark")):(e.setAttribute("data-bs-theme","light"),localStorage.setItem("circuitikz-designer-theme","light")),oE.instance.updateTheme()}),oE.instance.updateTheme(),sR.instance.update(),this.isInitDone=!0})}allTooltips=[];updateTooltips(){var e=window.matchMedia("only screen and (max-width: 760px)").matches;let t=document.querySelectorAll('[data-bs-toggle="tooltip"],[data-bs-toggle-second="tooltip"]');for(let e of this.allTooltips)e.dispose();e?this.allTooltips=[...t].map(e=>new i4(e,{fallbackPlacements:[],trigger:"manual"})):this.allTooltips=[...t].map(e=>new i4(e,{fallbackPlacements:[],delay:{show:1e3,hide:0}}))}async loadMathJax(){return new Promise(e=>{"MathJax"in window||(window.MathJax={tex:{inlineMath:{"[+]":[["$","$"]]}}});var t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js",document.head.appendChild(t),t.addEventListener("load",function(){e("")},!1)})}addSaveStateManagement(){localStorage.removeItem("currentProgress"),localStorage.removeItem("circuit2tikz-designer-grid"),localStorage.removeItem("circuitikz-designer-grid"),localStorage.removeItem("circuitikz-designer-saveState"),sessionStorage.removeItem("circuitikz-designer-tabID");let e={},t=indexedDB.open("circuitikz-designer-db",1);t.onerror=function(e){console.error("IndexedDB error"),console.error(e)},t.onupgradeneeded=function(e){oE.instance.db=e.target.result,oE.instance.db.objectStoreNames.contains("tabs")||oE.instance.db.createObjectStore("tabs",{keyPath:"id"}).createIndex("open","open",{unique:!1})},t.onsuccess=function(t){oE.instance.db=t.target.result,window.addEventListener("visibilitychange",e=>{"hidden"==document.visibilityState&&oE.instance.saveCurrentState(!1)}),window.addEventListener("beforeunload",e=>{oE.instance.saveCurrentState()});let n=oE.instance.db.transaction("tabs","readwrite").objectStore("tabs");var i=parseInt(new URL(window.location.href).searchParams.get("tabID"));n.getAll().onsuccess=function(t){let r=t.target.result;if(Number.isNaN(i)&&(i=r.findIndex(e=>"false"==e.open))<0)for(i=0;r.find(e=>e.id==i);)i++;let o=r.find(e=>e.id==i);if(o)o.open="true",oE.instance.tabID=o.id,oE.instance.designName.updateValue(o.designName??"",!0,!0),ow.instance.setSettings(o.settings),sk.instance.loadFromJSON(o.data),n.put(o).onsuccess=e=>{oE.instance.sendBroadcastMessage("update")};else{let t={id:i,open:"true",data:sA,settings:e};oE.instance.tabID=i,n.add(t).onsuccess=e=>{oE.instance.sendBroadcastMessage("update")}}}};let n=document.getElementById("settingsModal"),i=document.getElementById("settingsTableBody");n.addEventListener("show.bs.modal",e=>{this.saveCurrentState(!1),oE.instance.db.transaction("tabs").objectStore("tabs").getAll().onsuccess=function(e){i.innerHTML="";let t=e.target.result,r=0;for(let e=0;e<t.length;e++){let o=t[e],s=i.appendChild(document.createElement("tr"));s.classList.add("text-end");let a=s.appendChild(document.createElement("td"));a.innerText=o.designName||""+e;let l=s.appendChild(document.createElement("td"));l.innerText=function e(t){let n=0;for(let i of t)"group"==i.type&&(n+=e(i.components)),n++;return n}(o.data.components)+"";let c=s.appendChild(document.createElement("td")),h=function(e){var t=0;return function e(n){if(null!=n)switch(typeof n){case"number":t+=8;break;case"string":t+=2*n.length;break;case"boolean":t+=4;break;case"object":var i=Object.prototype.toString.call(n).slice(8,-1);if("Object"===i||"Array"===i)for(var r in n)n.hasOwnProperty(r)&&e(n[r]);else t+=2*n.toString().length}return t}(e)}(o.data);r+=h,c.innerText=u(h);let d=s.appendChild(document.createElement("td"));if("false"==o.open){let e=d.appendChild(document.createElement("button"));e.classList.add("btn","btn-primary","me-2"),e.innerText="Open",e.addEventListener("click",()=>{let e=!0;for(let n=0;n<o.id;n++){let i=t.find(e=>e.id==n);e=!!i&&e&&"true"==i.open}e?window.open(".","_blank"):window.open(".?tabID="+o.id,"_blank")});let i=d.appendChild(document.createElement("button"));i.classList.add("btn","btn-danger","material-symbols-outlined"),i.innerText="delete",i.addEventListener("click",()=>{oE.instance.db.transaction("tabs","readwrite").objectStore("tabs").delete(o.id).onsuccess=function(){n.dispatchEvent(new Event("show.bs.modal")),oE.instance.sendBroadcastMessage("update")}})}else if(o.id==oE.instance.tabID){let e=d.appendChild(document.createElement("button"));e.classList.add("btn"),e.innerText="This tab",e.disabled=!0,[a,l,c,d].forEach(e=>{e.classList.add("bg-primary")})}else{let e=d.appendChild(document.createElement("button"));e.classList.add("btn","btn-primary"),e.innerText="Highlight tab",e.addEventListener("click",()=>{oE.instance.sendBroadcastMessage("show",o.id)})}}let o=i.appendChild(document.createElement("tr")).appendChild(document.createElement("td"));o.colSpan=4,o.classList.add("text-center");let s=o.appendChild(document.createElement("button"));s.classList.add("btn","btn-primary"),s.innerText="New tab",s.addEventListener("click",()=>{let e=0,n=!0;for(;;){let i=t.find(t=>t.id==e);if(i)e++,n=n&&"true"==i.open;else break}n?window.open(".","_blank"):window.open(".?tabID="+e,"_blank")}),document.getElementById("storageUsed").innerHTML=u(r)}}),document.getElementById("probeRefresh").addEventListener("click",()=>{let e=oE.instance.db.transaction("tabs","readwrite").objectStore("tabs");e.getAll().onsuccess=function(t){let n=t.target.result,i=[];for(let t of n)t.id!=oE.instance.tabID&&"true"==t.open&&(t.open="false",t.data.components.length>0?i.push(e.put(t)):i.push(e.delete(t.id)));Promise.all(i.map(e=>new Promise((t,n)=>{e.onsuccess=()=>t(!0),e.onerror=()=>n()}))).then(()=>{oE.instance.sendBroadcastMessage("probe")})}});let r=document.getElementById("favicon"),o=r.href,s=document.getElementById("faviconAlternate"),a=s.href;function u(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":e<0x40000000?(e/1048576).toFixed(2)+" MB":(e/0x40000000).toFixed(2)+" GB"}s.href=" ",s.disabled=!0,this.broadcastChannel.onmessage=e=>{let t=e.data;if("show"==t.type){if(parseInt(t.payload)==oE.instance.tabID){let e=document.title,t=!0,n=()=>{t?(r.href=a,document.title="Click here!"):(r.href=o,document.title=e),t=!t},i=setInterval(n,1100);n(),document.addEventListener("visibilitychange",()=>{document.hidden||(clearInterval(i),t=!1,n())})}}else if("update"==t.type)n.classList.contains("show")&&n.dispatchEvent(new Event("show.bs.modal"));else if("clipboard"==t.type)sL.setClipboard(t.payload);else if("probe"==t.type)this.sendBroadcastMessage("probe-response",t.from);else if("probe-response"==t.type){if(t.payload!=this.tabID)return;let e=oE.instance.db.transaction("tabs","readwrite").objectStore("tabs");e.get(t.from).onsuccess=function(t){let n=t.target.result;n&&(n.open="true",e.put(n).onsuccess=function(){oE.instance.sendBroadcastMessage("update")})}}return!1}}sendBroadcastMessage(e,t){let n={type:e,from:this.tabID};void 0!=t&&(n.payload=t),this.broadcastChannel.postMessage(n)}saveCurrentState(e=!0){sP.addState();let t=oE.instance.db.transaction("tabs","readwrite").objectStore("tabs");t.get(this.tabID).onsuccess=function(n){let i=n.target.result;e&&(i.open="false"),i.data.components=sP.getCurrentState(),i.data.version=sF,i.data.components.length>0?(i.settings.gridVisible=ow.instance.gridVisible,i.settings.majorGridSizecm=ow.instance.majorGridSizecm,i.settings.majorGridSubdivisions=ow.instance.majorGridSubdivisions,i.settings.viewBox=ow.instance.canvas.viewbox(),i.settings.viewZoom=ow.instance.currentZoom,i.designName=oE.instance.designName.value||void 0,t.put(i).onsuccess=function(){oE.instance.sendBroadcastMessage("update")}):e&&(t.delete(oE.instance.tabID).onsuccess=function(){oE.instance.sendBroadcastMessage("update")})}}initShortcuts(){for(let{shortcut:e,component:t}of(oy("ctrl+r,command+r",()=>!1),oy("ctrl+r,command+r",()=>(this.mode==m.COMPONENT?ac.instance.placeRotate(-90):s_.instance.hasSelection()&&(s_.instance.rotateSelection(-90),sP.addState()),!1)),oy("ctrl+shift+r,command+shift+r",()=>(this.mode==m.COMPONENT?ac.instance.placeRotate(90):s_.instance.hasSelection()&&(s_.instance.rotateSelection(90),sP.addState()),!1)),oy("shift+x",()=>(this.mode==m.COMPONENT?ac.instance.placeFlip(!0):s_.instance.hasSelection()&&(s_.instance.flipSelection(!0),sP.addState()),!1)),oy("shift+y",()=>(this.mode==m.COMPONENT?ac.instance.placeFlip(!1):s_.instance.hasSelection()&&(s_.instance.flipSelection(!1),sP.addState()),!1)),oy("ctrl+a,command+a",()=>(s_.instance.selectAll(),!1)),oy("ctrl+z,command+z",()=>(sP.undo(),!1)),oy("ctrl+y,command+y",()=>(sP.redo(),!1)),document.getElementById("undoButton").addEventListener("click",()=>sP.undo()),document.getElementById("redoButton").addEventListener("click",()=>sP.redo()),oy("ctrl+c,command+c",()=>(sL.copy(),!1)),oy("ctrl+v,command+v",()=>(sL.paste(),!1)),oy("ctrl+x,command+x",()=>(sL.cut(),!1)),oy("ctrl+s,command+s",()=>(sk.instance.save(),!1)),oy("ctrl+o,command+o",()=>(sk.instance.load(),!1)),oy("ctrl+e,command+e",()=>(sT.instance.exportCircuiTikZ(),!1)),oy("ctrl+shift+e,command+shift+e",()=>(sT.instance.exportSVG(),!1)),oy("ctrl+shift+i,command+shift+i",()=>(sT.instance.exportImage(),!1)),oy("q",()=>(document.getElementById("addComponentButton").dispatchEvent(new MouseEvent("click")),!1)),oy("esc",()=>(this.switchMode(m.DRAG_PAN),!1)),oy("w",()=>(this.switchMode(m.DRAG_PAN),ac.instance.placeComponent(new aE),!1)),oy("del, backspace",()=>(s_.instance.hasSelection()?(s_.instance.removeSelection(),sP.addState()):this.switchMode(m.ERASE),!1)),oy("t",()=>(this.switchMode(m.DRAG_PAN),ac.instance.placeComponent(new aT(!0)),!1)),[{shortcut:"g",component:"Ground"},{shortcut:"alt+g,option+g",component:"Ground (tailless)"},{shortcut:"r",component:"Resistor (american)"},{shortcut:"c",component:"Capacitor"},{shortcut:"alt+c,option+c",component:"Curved (polarized) capacitor"},{shortcut:"l",component:"Inductor (cute)"},{shortcut:"alt+l,option+l",component:"Inductor (american)"},{shortcut:"d",component:"Empty diode"},{shortcut:"b",component:"NPN"},{shortcut:"alt+b,option+b",component:"PNP"},{shortcut:"n",component:"NMOS"},{shortcut:"alt+n,option+n",component:"PMOS"},{shortcut:"x",component:"Plain style crossing node"},{shortcut:"alt+x,option+x",component:"Jumper-style crossing node"},{shortcut:".",component:"Connected terminal"},{shortcut:"alt+.,option+.",component:"Unconnected terminal"}]))oy(e,()=>{this.switchMode(m.DRAG_PAN);var e=document.querySelector('[title="'+t+'"]'),n=new MouseEvent("mouseup",{view:window,bubbles:!0,cancelable:!0});e?.dispatchEvent(n)})}async initCanvas(){let e=await r8("canvas");e&&(this.canvasController=new ow(new A.Svg(e)))}async initSymbolDB(){let e=await r8("symbolDBlink"),t=await fetch(e.href,{method:"GET",mode:"cors",credentials:"same-origin"}),n=await t.text(),i=new DOMParser().parseFromString(n,"image/svg+xml"),r=document.adoptNode(i.firstElementChild);r.style.display="none",r.setAttribute("id","symbolDB"),document.body.appendChild(r),this.symbolsSVG=new A.Svg(r);let o=Array.from(this.symbolsSVG.node.getElementsByTagName("component"));this.symbols=o.flatMap(e=>new ah(e))}initModeButtons(){this.modeSwitchButtons.modeDragPan=document.getElementById("modeDragPan"),this.modeSwitchButtons.modeDrawLine=document.getElementById("modeDrawLine"),this.modeSwitchButtons.modeEraser=document.getElementById("modeEraser"),this.modeSwitchButtons.modeDragPan.addEventListener("click",()=>this.switchMode(m.DRAG_PAN),{passive:!1}),this.modeSwitchButtons.modeDrawLine.addEventListener("click",()=>{this.switchMode(m.DRAG_PAN),this.modeSwitchButtons.modeDrawLine.classList.add("selected"),ac.instance.placeComponent(new aE)},{passive:!1}),this.modeSwitchButtons.modeEraser.addEventListener("click",()=>this.switchMode(m.ERASE),{passive:!1})}addShapeComponentsToOffcanvas(e,t){let n="Basic",i="collapseGroup-"+n.replace(/[^\d\w\-\_]+/gi,"-"),r=e.appendChild(document.createElement("div"));r.classList.add("accordion-item");let o=r.appendChild(document.createElement("h2"));o.classList.add("accordion-header");let s=o.appendChild(document.createElement("button"));s.classList.add("accordion-button"),s.innerText=n,s.setAttribute("aria-controls",i),s.setAttribute("aria-expanded","true"),s.setAttribute("data-bs-target","#"+i),s.setAttribute("data-bs-toggle","collapse"),s.type="button";let a=r.appendChild(document.createElement("div"));a.classList.add("accordion-collapse","collapse","show"),a.id=i,a.setAttribute("data-bs-parent","#leftOffcanvasAccordion");let u=a.appendChild(document.createElement("div"));u.classList.add("accordion-body","iconLibAccordionBody");{let e=u.appendChild(document.createElement("div"));e.classList.add("libComponent"),e.setAttribute("searchData","text node"),e.ariaRoleDescription="button",e.title="Text";let n=e=>{e.preventDefault(),this.switchMode(m.DRAG_PAN);let n=new aT(!0);ac.instance.placeComponent(n),t.hide()};e.addEventListener("mouseup",n),e.addEventListener("touchstart",n,{passive:!1});let i=A.SVG().addTo(e);i.viewbox(-1,-14,30,15),i.text(e=>{e.tspan("Text").fill({color:aB})})}{let e=u.appendChild(document.createElement("div"));e.classList.add("libComponent"),e.setAttribute("searchData","rect rectangle node"),e.ariaRoleDescription="button",e.title="Rectangle/Text";let n=e=>{e.preventDefault(),this.switchMode(m.DRAG_PAN);let n=new aT(!1);ac.instance.placeComponent(n),t.hide()};e.addEventListener("mouseup",n),e.addEventListener("touchstart",n,{passive:!1});let i=A.SVG().addTo(e);i.viewbox(0,0,17,12),i.rect(15,10).move(1,1).fill("none").stroke({color:aB,width:1})}{let e=u.appendChild(document.createElement("div"));e.classList.add("libComponent"),e.setAttribute("searchData","ellipse circle node"),e.ariaRoleDescription="button",e.title="Ellipse";let n=e=>{e.preventDefault(),this.switchMode(m.COMPONENT),ac.instance.component&&ac.instance.placeCancel();let n=new aF;ac.instance.placeComponent(n),t.hide()};e.addEventListener("mouseup",n),e.addEventListener("touchstart",n,{passive:!1});let i=A.SVG().addTo(e);i.viewbox(0,0,17,12),i.ellipse(15,10).move(1,1).fill("none").stroke({color:aB,width:1})}{let e=u.appendChild(document.createElement("div"));e.classList.add("libComponent"),e.setAttribute("searchData","polygon path"),e.ariaRoleDescription="button",e.title="Polygon";let n=e=>{e.preventDefault(),this.switchMode(m.COMPONENT),ac.instance.component&&ac.instance.placeCancel();let n=new aA;ac.instance.placeComponent(n),t.hide()};e.addEventListener("mouseup",n),e.addEventListener("touchstart",n,{passive:!1});let i=A.SVG().addTo(e);i.viewbox(0,0,17,12),i.polygon([[1,1],[16,1],[15,11],[11,9],[5,11]]).fill("none").stroke({color:aB,width:1})}{let e=u.appendChild(document.createElement("div"));e.classList.add("libComponent"),e.setAttribute("searchData","straight line path"),e.ariaRoleDescription="button",e.title="Straight line";let n=e=>{e.preventDefault(),this.switchMode(m.DRAG_PAN);let n=new aE(!0);ac.instance.placeComponent(n),t.hide()};e.addEventListener("mouseup",n),e.addEventListener("touchstart",n,{passive:!1});let i=A.SVG().addTo(e);i.viewbox(0,0,17,12),i.line(2,10,15,2).stroke({color:aB,width:1,opacity:1})}{let e=u.appendChild(document.createElement("div"));e.classList.add("libComponent"),e.setAttribute("searchData","straight arrow path"),e.ariaRoleDescription="button",e.title="Straight arrow";let n=e=>{e.preventDefault(),this.switchMode(m.DRAG_PAN);let n=new aE(!0,!0);ac.instance.placeComponent(n),t.hide()};e.addEventListener("mouseup",n),e.addEventListener("touchstart",n,{passive:!1});let i=A.SVG().addTo(e);i.viewbox(-1,-1,12,6),i.polygon([[6,0],[10,2],[6,4],[6,2.2],[0,2.2],[0,1.8],[6,1.8]]).rotate(-30,5,2).fill({color:aB})}{let e=u.appendChild(document.createElement("div"));e.classList.add("libComponent"),e.setAttribute("searchData","arrow path"),e.ariaRoleDescription="button",e.title="Arrow";let n=e=>{e.preventDefault(),this.switchMode(m.DRAG_PAN);let n=new aE(!1,!0);ac.instance.placeComponent(n),t.hide()};e.addEventListener("mouseup",n),e.addEventListener("touchstart",n,{passive:!1});let i=A.SVG().addTo(e);i.viewbox(-1,-2,12,8),i.polyline([[0,5],[5,5],[5,0],[9.1,0]]).stroke({color:aB,width:.5}).fill("none"),i.polygon([[9,-1],[10.5,0],[9,1]]).fill({color:aB})}}async initAddComponentOffcanvas(){let e=document.getElementById("leftOffcanvas"),t=new ij(e);document.getElementById("componentFilterInput").addEventListener("input",this.filterComponents),document.getElementById("filterRegexButton").addEventListener("click",this.filterComponents),document.getElementById("addComponentButton").addEventListener("click",(n=>{if(this.switchMode(m.DRAG_PAN),t.toggle(),e.classList.contains("showing")&&"touch"!==n.pointerType){let t=document.getElementById("componentFilterInput"),n=()=>{t.focus(),e.removeEventListener("shown.bs.offcanvas",n)};n(),e.addEventListener("shown.bs.offcanvas",n)}}).bind(this),{passive:!0});let n=document.getElementById("leftOffcanvasAccordion"),i=this.symbols.reduce((e,t)=>{let n=t.groupName||"Unsorted components",i=e.get(n);return i?i.push(t):e.set(n,[t]),e},new Map);for(let[e,r]of(this.addShapeComponentsToOffcanvas(n,t),i.entries())){let i="collapseGroup-"+e.replace(/[^\d\w\-\_]+/gi,"-"),o=n.appendChild(document.createElement("div"));o.classList.add("accordion-item");let s=o.appendChild(document.createElement("h2"));s.classList.add("accordion-header");let a=s.appendChild(document.createElement("button"));a.classList.add("accordion-button","collapsed"),a.innerText=e,a.setAttribute("aria-controls",i),a.setAttribute("aria-expanded","false"),a.setAttribute("data-bs-target","#"+i),a.setAttribute("data-bs-toggle","collapse"),a.type="button";let u=o.appendChild(document.createElement("div"));u.classList.add("accordion-collapse","collapse"),u.id=i,u.setAttribute("data-bs-parent","#leftOffcanvasAccordion");let l=u.appendChild(document.createElement("div"));for(let e of(l.classList.add("accordion-body","iconLibAccordionBody"),r)){let n=l.appendChild(document.createElement("div"));n.classList.add("libComponent"),n.setAttribute("searchData",[e.tikzName,e.isNodeSymbol?"node":"path"].concat(e.possibleOptions.map(e=>e.displayName??e.name).concat(e.possibleEnumOptions.flatMap(e=>e.options.map(e=>e.displayName??e.name)))).join(" ")),n.ariaRoleDescription="button",n.title=e.displayName||e.tikzName;let i=n=>{let i;n.preventDefault(),this.switchMode(m.COMPONENT),ac.instance.component&&ac.instance.placeCancel(),i=e.isNodeSymbol?new ad(e):new ap(e),ac.instance.placeComponent(i),t.hide()};n.addEventListener("mouseup",i),n.addEventListener("touchstart",i,{passive:!1});let r=A.SVG().addTo(n),o=new A.Box(e._mapping.values().toArray()[0].viewBox);o.width+=e.maxStroke,o.height+=e.maxStroke,o.x-=e.maxStroke/2,o.y-=e.maxStroke/2,r.viewbox(o).width(o.width).height(o.height);let s=r.use(e.symbolElement.id());s.width(e.viewBox.width).height(e.viewBox.height),s.stroke(aB).fill(aU).node.style.color=aB}}}filterComponents(e){e.preventDefault(),e.stopPropagation();let t=document.getElementById("componentFilterInput"),n=document.getElementById("invalid-feedback-text"),i=document.getElementById("filterRegexButton").classList.contains("active"),r=t.value,o=null;if(i)o=RegExp(r,"i"),t.classList.remove("is-invalid"),n.classList.add("d-none");else try{o=RegExp(".*"+r.split("").join(".*")+".*","i"),t.classList.remove("is-invalid"),n.classList.add("d-none")}catch(e){o=RegExp(r="","i"),t.classList.add("is-invalid"),n.classList.remove("d-none")}let s=document.getElementById("leftOffcanvasAccordion").getElementsByClassName("accordion-item");Array.prototype.forEach.call(s,(e,t)=>{let n=e.getElementsByClassName("libComponent"),i=0;Array.prototype.forEach.call(n,e=>{if(r&&!(o.test(e.title)||o.test(e.getAttribute("searchData"))))return void e.classList.add("d-none");e.classList.remove("d-none"),i++}),0===i?e.classList.add("d-none"):e.classList.remove("d-none"),r?(e.children[0]?.children[0]?.classList.remove("collapsed"),e.children[1]?.classList.add("show")):(e.children[0]?.children[0]?.classList.add("collapsed"),e.children[1]?.classList.remove("show")),0===t&&(e.children[0]?.children[0]?.classList.remove("collapsed"),e.children[1]?.classList.add("show"))})}switchMode(e){if(e==this.mode)return;let t=this.mode;switch(this.mode=e,t){case m.DRAG_PAN:this.modeSwitchButtons.modeDragPan.classList.remove("selected"),ow.instance.deactivatePanning(),s_.instance.deactivateSelection();break;case m.ERASE:this.modeSwitchButtons.modeEraser.classList.remove("selected"),oS.instance.deactivate();break;case m.COMPONENT:this.modeSwitchButtons.modeDragPan.classList.remove("selected"),this.modeSwitchButtons.modeDrawLine.classList.remove("selected"),ac.instance.placeCancel(),ow.instance.deactivatePanning()}switch(e){case m.DRAG_PAN:this.modeSwitchButtons.modeDragPan.classList.add("selected"),ow.instance.activatePanning(),s_.instance.activateSelection();break;case m.ERASE:this.modeSwitchButtons.modeEraser.classList.add("selected"),oS.instance.activate();break;case m.COMPONENT:this.modeSwitchButtons.modeDragPan.classList.add("selected"),ow.instance.activatePanning()}}updateTheme(){if(this.darkModeLast!=this.darkMode){for(let e of this.circuitComponents)e.updateTheme();this.darkModeLast=this.darkMode}}preprocessSymbolColors(e){let t=e.querySelectorAll("[fill]"),n=e.querySelectorAll("[stroke]");for(let n of("#fff"==e.getAttribute("fill")&&e.setAttribute("fill","currentFill"),"#000"==e.getAttribute("stroke")&&e.setAttribute("stroke","currentStroke"),t))"#fff"==n.getAttribute("fill")&&n.setAttribute("fill","currentFill");for(let e of n)"#000"==e.getAttribute("stroke")&&e.setAttribute("stroke","currentStroke");this.addFill(e)}addFill(e){if(null===e.getAttribute("fill"))for(let t of e.children)"g"===t.nodeName?this.addFill(t):t.getAttribute("fill")||t.setAttribute("fill","currentColor")}addComponent(e){this.circuitComponents.push(e)}removeComponent(e){let t=this.circuitComponents.indexOf(e);t>-1&&(this.circuitComponents.splice(t,1),e.remove())}}var A=(T("gBhAd"),T("gBhAd")),ox=function(e){return e.touches||[{clientX:e.clientX,clientY:e.clientY}]};(0,A.extend)(A.Svg,{panZoom:function(e){var t,n,i,r,o,s,a,u,l,c,h,d,p,f,m=this;if(this.off(".panZoom"),!1===e)return this;var g=null!=(r=(e=null!=(i=e)?i:{}).zoomFactor)?r:2,y=null!=(o=e.zoomMin)?o:5e-324,v=null!=(s=e.zoomMax)?s:Number.MAX_VALUE,D=null==(a=e.wheelZoom)||a,b=null==(u=e.pinchZoom)||u,E=null==(l=e.panning)||l,x=null!=(c=e.panButton)?c:0,w=null!=(h=e.oneFingerPan)&&h,S=null!=(d=e.margins)&&d,C=null!=(p=e.wheelZoomDeltaModeLinePixels)?p:17,T=null!=(f=e.wheelZoomDeltaModeScreenPixels)?f:53,F=!1,k=this.viewbox(),_=function(e){if(!S)return e;var t=S.top,n=S.left,i=S.bottom,r=S.right,o=m.attr(["width","height"]),s=o.width,a=o.height,u=m.node.preserveAspectRatio.baseVal,l=0,c=0,h=0,d=0;if(u.align!==u.SVG_PRESERVEASPECTRATIO_NONE){var p=s/a,f=k.width/k.height;if(f!==p){var g=u.meetOrSlice!==u.SVG_MEETORSLICE_SLICE,y=p>f?"width":"height",v="width"===y,D=g&&v||!g&&!v,b=e[y]-e[y]*(D?p/f:f/p);D?u.align===u.SVG_PRESERVEASPECTRATIO_XMIDYMIN||u.align===u.SVG_PRESERVEASPECTRATIO_XMIDYMID||u.align===u.SVG_PRESERVEASPECTRATIO_XMIDYMAX?(l=b/2,c=-b/2):u.align===u.SVG_PRESERVEASPECTRATIO_XMINYMIN||u.align===u.SVG_PRESERVEASPECTRATIO_XMINYMID||u.align===u.SVG_PRESERVEASPECTRATIO_XMINYMAX?c=-b:(u.align===u.SVG_PRESERVEASPECTRATIO_XMAXYMIN||u.align===u.SVG_PRESERVEASPECTRATIO_XMAXYMID||u.align===u.SVG_PRESERVEASPECTRATIO_XMAXYMAX)&&(l=b):u.align===u.SVG_PRESERVEASPECTRATIO_XMINYMID||u.align===u.SVG_PRESERVEASPECTRATIO_XMIDYMID||u.align===u.SVG_PRESERVEASPECTRATIO_XMAXYMID?(h=b/2,d=-b/2):u.align===u.SVG_PRESERVEASPECTRATIO_XMINYMIN||u.align===u.SVG_PRESERVEASPECTRATIO_XMIDYMIN||u.align===u.SVG_PRESERVEASPECTRATIO_XMAXYMIN?d=-b:(u.align===u.SVG_PRESERVEASPECTRATIO_XMINYMAX||u.align===u.SVG_PRESERVEASPECTRATIO_XMIDYMAX||u.align===u.SVG_PRESERVEASPECTRATIO_XMAXYMAX)&&(h=b)}}var E=k.width+k.x-n-l,x=k.x+r-e.width-c,w=k.height+k.y-t-h,C=k.y+i-e.height-d;return e.x=Math.min(E,Math.max(x,e.x)),e.y=Math.min(w,Math.max(C,e.y)),e},P=function e(t){if((n=ox(t)).length<2){E&&w&&R.call(this,t);return}E&&w&&I.call(this,t),t.preventDefault(),this.dispatch("pinchZoomStart",{event:t}).defaultPrevented||(this.off("touchstart.panZoom",e),F=!0,(0,A.on)(document,"touchmove.panZoom",O,this,{passive:!1}),(0,A.on)(document,"touchend.panZoom",L,this,{passive:!1}))},L=function e(t){t.preventDefault();var n=ox(t);!(n.length>1)&&(F=!1,this.dispatch("pinchZoomEnd",{event:t}),(0,A.off)(document,"touchmove.panZoom",O),(0,A.off)(document,"touchend.panZoom",e),this.on("touchstart.panZoom",P),n.length&&E&&w&&R.call(this,t))},O=function(e){e.preventDefault();var t=ox(e),i=this.zoom(),r=Math.sqrt(Math.pow(n[0].clientX-n[1].clientX,2)+Math.pow(n[0].clientY-n[1].clientY,2))/Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2));(i<y&&r>1||i>v&&r<1)&&(r=1);var o={x:t[0].clientX+.5*(t[1].clientX-t[0].clientX),y:t[0].clientY+.5*(t[1].clientY-t[0].clientY)},s={x:n[0].clientX+.5*(n[1].clientX-n[0].clientX),y:n[0].clientY+.5*(n[1].clientY-n[0].clientY)},a=this.point(o.x,o.y),u=this.point(2*o.x-s.x,2*o.y-s.y),l=new(0,A.Box)(this.viewbox()).transform(new(0,A.Matrix)().translate(-u.x,-u.y).scale(r,0,0).translate(a.x,a.y));_(l),this.viewbox(l),n=t,this.dispatch("zoom",{box:l,focus:u})},R=function e(i){(!(i.type.indexOf("mouse")>-1)||i.button===x||i.which===x+1)&&(i.preventDefault(),this.off("mousedown.panZoom",e),n=ox(i),F||(this.dispatch("panStart",{event:i}),t={x:n[0].clientX,y:n[0].clientY},(0,A.on)(document,"touchmove.panZoom mousemove.panZoom",N,this,{passive:!1}),(0,A.on)(document,"touchend.panZoom mouseup.panZoom",I,this,{passive:!1})))},I=function e(t){t.preventDefault(),(0,A.off)(document,"touchmove.panZoom mousemove.panZoom",N),(0,A.off)(document,"touchend.panZoom mouseup.panZoom",e),this.on("mousedown.panZoom",R),this.dispatch("panEnd",{event:t})},N=function(e){e.preventDefault();var n=ox(e),i={x:n[0].clientX,y:n[0].clientY},r=this.point(i.x,i.y),o=this.point(t.x,t.y),s=[o.x-r.x,o.y-r.y];if(s[0]||s[1]){var a=new(0,A.Box)(this.viewbox()).transform(new(0,A.Matrix)().translate(s[0],s[1]));t=i,_(a),this.dispatch("panning",{box:a,event:e}).defaultPrevented||this.viewbox(a)}};return D&&this.on("wheel.panZoom",function(e){switch(e.preventDefault(),e.deltaMode){case 1:t=e.deltaY*C;break;case 2:t=e.deltaY*T;break;default:t=e.deltaY}var t,n=Math.pow(1+g,-1*t/100)*this.zoom(),i=this.point(e.clientX,e.clientY);if(n>v&&(n=v),n<y&&(n=y),this.dispatch("zoom",{level:n,focus:i}).defaultPrevented)return this;if(this.zoom(n,i),S){var r=_(this.viewbox());this.viewbox(r)}},this,{passive:!1}),b&&this.on("touchstart.panZoom",P,this,{passive:!1}),E&&this.on("mousedown.panZoom",R,this,{passive:!1}),this}});class ow{static instance;canvas;paper;xAxis;yAxis;majorGridSizecm=1;majorGridSubdivisions=4;gridVisible=!0;canvasBounds=null;invScreenCTM=null;zoomFactor=.1;zoomMin=.25;zoomMax=10;zoomCurrent=2;get currentZoom(){return this.zoomCurrent}lastCanvasPoint=new A.Point(0,0);draggingFromInput=null;constructor(e){if(ow.instance)return;localStorage.removeItem("circuitikz-designer-view"),ow.instance=this,this.canvas=e,this.paper=A.SVG("#grid"),this.xAxis=A.SVG("#xAxis"),this.yAxis=A.SVG("#yAxis"),document.addEventListener("mouseup",e=>{ow.instance.draggingFromInput=null});let t=document.getElementsByTagName("body")[0];document.addEventListener("keydown",e=>{if(e.key&&e.key.startsWith("Arrow")&&e.target==t){let t=new A.Point;if(t.x="ArrowRight"==e.key?1:"ArrowLeft"==e.key?-1:0,t.y="ArrowUp"==e.key?-1:+("ArrowDown"==e.key),s_.instance.hasSelection())s_.instance.moveSelectionRel(t.mul(1/this.zoomCurrent));else{let e=this.canvas.viewbox(),n=new A.Point(e.x,e.y).add(t.mul(20/this.zoomCurrent));this.canvas.viewbox(n.x,n.y,e.w,e.h),this.movePaper({detail:{}})}}}),this.onResizeCanvas(),this.resetView(),new ResizeObserver(this.onResizeCanvas.bind(this)).observe(this.canvas.node),this.activatePanning(),e.on("panning",this.movePaper,this,{passive:!1}),e.on("zoom",this.movePaper,this,{passive:!0}),e.on("mousemove",e=>{this.lastCanvasPoint=ow.eventToPoint(e,!1)}),e.on("touchmove",e=>{this.lastCanvasPoint=ow.eventToPoint(e,!1)});let n=this.canvas.viewbox;this.canvas.viewbox=(...e)=>(arguments.length>0&&(this.invScreenCTM=null),n.apply(this.canvas,e));let i=this.canvas.zoom;this.canvas.zoom=(...e)=>(arguments.length>0&&(this.invScreenCTM=null),i.apply(this.canvas,e));let r=document.getElementById("gridVisible");r.addEventListener("change",e=>{this.gridVisible=r.checked,this.gridVisible?this.paper.hasClass("d-none")&&this.paper.removeClass("d-none"):this.paper.addClass("d-none")})}setSettings(e){this.majorGridSizecm=e.majorGridSizecm||this.majorGridSizecm,this.majorGridSubdivisions=e.majorGridSubdivisions||this.majorGridSubdivisions,sR.instance.setSliderValues(this.majorGridSizecm,this.majorGridSubdivisions),this.gridVisible=e.gridVisible||this.gridVisible,document.getElementById("gridVisible").checked=this.gridVisible,this.gridVisible||this.paper.addClass("d-none"),e.viewBox&&(this.canvas.viewbox(e.viewBox),this.canvas.zoom(e.viewZoom,new A.Point),this.zoomCurrent=e.viewZoom,this.onResizeCanvas())}resetView(){let e=this.canvas.viewbox();e.x=0,e.y=0,e.y-=e.h;let t=Math.max(.05*Math.min(e.w,e.h),10);e.x-=t,e.y+=t,this.canvas.viewbox(e),this.zoomCurrent=2,this.canvas.zoom(this.zoomCurrent,new A.Point),this.onResizeCanvas()}fitView(){let e=null;for(let t of oE.instance.circuitComponents){let n=t.visualization.bbox();e=e?e.merge(n):n}if(e){let t=this.canvas.viewbox(),n=.98*Math.min(t.w/e.w,t.h/e.h);n*this.zoomCurrent>this.zoomMax?n=this.zoomMax/this.zoomCurrent:n*this.zoomCurrent<this.zoomMin&&(n=this.zoomMin/this.zoomCurrent);let i=new A.Point(t.w,t.h).mul(n);t=new A.Box(e.cx-i.x/2,e.cy-i.y/2,i.x,i.y),this.canvas.viewbox(t),this.zoomCurrent*=n,this.canvas.zoom(this.zoomCurrent,new A.Point(e.cx,e.cy)),this.onResizeCanvas()}else this.resetView()}moveComponentsForward(e){if(oE.instance.circuitComponents.length<2||0==e.length)return;let t=e.map(e=>({idx:oE.instance.circuitComponents.findIndex(t=>t===e),component:e}));t.sort((e,t)=>e.idx-t.idx).reverse();let n=oE.instance.circuitComponents.length,i=!1;for(let e of t)if(e.idx!==n-1){let t=oE.instance.circuitComponents[e.idx+1];e.component.visualization.insertAfter(t.visualization),oE.instance.circuitComponents[e.idx]=t,oE.instance.circuitComponents[e.idx+1]=e.component,n=e.idx+1,i=!0}else n=e.idx;i&&sP.addState()}moveComponentsBackward(e){if(oE.instance.circuitComponents.length<2||0==e.length)return;let t=e.map(e=>({idx:oE.instance.circuitComponents.findIndex(t=>t===e),component:e}));t.sort((e,t)=>e.idx-t.idx);let n=-1,i=!1;for(let e of t)if(e.idx!==n+1){let t=oE.instance.circuitComponents[e.idx-1];e.component.visualization.insertBefore(t.visualization),oE.instance.circuitComponents[e.idx]=t,oE.instance.circuitComponents[e.idx-1]=e.component,n=e.idx-1,i=!0}else n=e.idx;i&&sP.addState()}componentsToForeground(e){if(oE.instance.circuitComponents.length<2||0==e.length)return;let t=e.map(e=>({idx:oE.instance.circuitComponents.findIndex(t=>t===e),component:e}));if(t.sort((e,t)=>e.idx-t.idx),e.length<oE.instance.circuitComponents.length-t[0].idx){for(let e of t)e.component.visualization.insertAfter(oE.instance.circuitComponents.at(-1).visualization),oE.instance.circuitComponents.push(...oE.instance.circuitComponents.splice(e.idx,1));sP.addState()}}componentsToBackground(e){if(oE.instance.circuitComponents.length<2||0==e.length)return;let t=e.map(e=>({idx:oE.instance.circuitComponents.findIndex(t=>t===e),component:e}));if(t.sort((e,t)=>e.idx-t.idx).reverse(),e.length<=t[0].idx){let e=0;for(let n of t)n.component.visualization.insertBefore(oE.instance.circuitComponents[0].visualization),oE.instance.circuitComponents=oE.instance.circuitComponents.splice(n.idx+e,1).concat(oE.instance.circuitComponents),e++;sP.addState()}}deactivatePanning(){this.canvas.off("wheel.panZoom",this.movePaper),this.canvas.panZoom({panning:!1,pinchZoom:!0,wheelZoom:!0,panButton:99,oneFingerPan:!1,zoomFactor:this.zoomFactor,zoomMin:this.zoomMin,zoomMax:this.zoomMax}),this.canvas.on("wheel.panZoom",this.movePaper,this,{passive:!0})}activatePanning(){this.canvas.off("wheel.panZoom",this.movePaper),this.canvas.panZoom({panning:!0,pinchZoom:!0,wheelZoom:!0,panButton:2,oneFingerPan:!1,zoomFactor:this.zoomFactor,zoomMin:this.zoomMin,zoomMax:this.zoomMax}),this.canvas.on("wheel.panZoom",this.movePaper,this,{passive:!0})}static eventToPoint(e,t=!0){let n;if(window.TouchEvent&&e instanceof TouchEvent){let t=e.touches.item(0)??e.changedTouches.item(0);n=new A.Point(t.clientX,t.clientY)}else n=new A.Point(e.clientX,e.clientY);ow.instance.invScreenCTM||(ow.instance.invScreenCTM=ow.instance.canvas.screenCTM().inverseO());let i=new A.Point(n.x,n.y).transformO(ow.instance.invScreenCTM);return e instanceof MouseEvent&&e.shiftKey||!t?i:a_.instance.snapPoint(i,void 0)}changeGrid(e,t){this.majorGridSubdivisions=t,this.majorGridSizecm=e;let n=e/t,i=new A.Number(n,"cm").toString(),r=new A.Number(n,"cm").convertToUnit("px").value,o=new A.Number(e,"cm").toString(),s=new A.Number(e,"cm").convertToUnit("px").value,a=document.getElementById("smallGridPattern");a.setAttribute("width",i),a.setAttribute("height",i),a.children[0]?.setAttribute("d",`M ${r} 0 L 0 0 0 ${r}`);let u=document.getElementById("gridPattern");u.setAttribute("width",o),u.setAttribute("height",o),u.children[0]?.setAttribute("width",o),u.children[0]?.setAttribute("height",o),u.children[1]?.setAttribute("d",`M ${s} 0 L 0 0 0 ${s}`)}onResizeCanvas(){let e=this.canvas.node.getBoundingClientRect(),t=this.canvas.viewbox()||new A.Box,n=this.canvasBounds?Math.max(.25,Math.min(10,this.canvasBounds.width/t.width,this.canvasBounds.height/t.height)):1,i=new A.Box(t.x,t.y,e.width/n,e.height/n);this.canvas.viewbox(i);let r=new CustomEvent("",{detail:{box:i,event:null}});this.movePaper(r),this.canvasBounds=e}movePaper(e){e.detail instanceof Object&&"level"in e.detail&&(this.zoomCurrent=e.detail.level);let t=this.canvas.viewbox();this.paper.move(t.x,t.y),this.xAxis.attr({x1:t.x,x2:t.x2}),this.yAxis.attr({y1:t.y,y2:t.y2})}}var A=T("gBhAd");class oS{static _instance;constructor(){this.moveStart=this.moveStart.bind(this),this.moveListener=this.moveListener.bind(this),this.addUndo=this.addUndo.bind(this)}static get instance(){return oS._instance||(oS._instance=new oS),oS._instance}dragging=!1;didErase=!1;deactivate(){ow.instance.canvas.node.classList.remove("eraseCursor"),ow.instance.canvas.off("mousedown",this.moveStart),ow.instance.canvas.off("touchdown",this.moveStart),ow.instance.canvas.off("mousemove",this.moveListener),ow.instance.canvas.off("touchmove",this.moveListener),ow.instance.canvas.off("mouseup",this.addUndo),ow.instance.canvas.off("touchend",this.addUndo)}activate(){ow.instance.canvas.node.classList.add("eraseCursor"),ow.instance.canvas.on("mousedown",this.moveStart),ow.instance.canvas.on("touchstart",this.moveStart),ow.instance.canvas.on("mousemove",this.moveListener),ow.instance.canvas.on("touchmove",this.moveListener),ow.instance.canvas.on("mouseup",this.addUndo),ow.instance.canvas.on("touchend",this.addUndo)}moveStart(e){(!(e instanceof MouseEvent)||0===e.button)&&(window.TouchEvent&&e instanceof TouchEvent&&1!==e.touches.length||(this.dragging=!0))}moveListener(e){this.dragging&&(e instanceof MouseEvent&&(1&e.buttons||"mousemove"!==e.type&&0===e.button)||window.TouchEvent&&e instanceof TouchEvent&&window.TouchEvent&&1===e.touches.length)&&this.findAndErase(ow.eventToPoint(e,!1))}addUndo(e){(!(e instanceof MouseEvent)||0===e.button)&&(window.TouchEvent&&e instanceof TouchEvent&&0!==e.touches.length||(this.didErase&&(sP.addState(),this.didErase=!1),this.dragging=!1))}findAndErase(e){let t=new A.Box(e.x-5,e.y-5,10,10);for(let e of oE.instance.circuitComponents)if(e.isInsideSelectionRectangle(t)){oE.instance.removeComponent(e),this.didErase=!0;break}}}var oC={};o=function(){function e(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){o(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function t(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof w&&w.global===w?w:void 0,r=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(r,o,s){var a=i.URL||i.webkitURL,u=document.createElement("a");u.download=o=o||r.name||"download",u.rel="noopener","string"==typeof r?(u.href=r,u.origin===location.origin?n(u):t(u.href)?e(r,o,s):n(u,u.target="_blank")):(u.href=a.createObjectURL(r),setTimeout(function(){a.revokeObjectURL(u.href)},4e4),setTimeout(function(){n(u)},0))}:"msSaveOrOpenBlob"in navigator?function(i,r,o){if(r=r||i.name||"download","string"!=typeof i){var s;navigator.msSaveOrOpenBlob((void 0===(s=o)?s={autoBom:!1}:"object"!=typeof s&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i),r)}else if(t(i))e(i,r,o);else{var a=document.createElement("a");a.href=i,a.target="_blank",setTimeout(function(){n(a)})}}:function(t,n,o,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var a="application/octet-stream"===t.type,u=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&u||r)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=e:location=e,s=null},c.readAsDataURL(t)}else{var h=i.URL||i.webkitURL,d=h.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});i.saveAs=o.saveAs=o,oC=o},"function"==typeof define&&define.amd?define([],o):o();var oT={};oT=(s=function(){let e,t,n;var i,r=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,u=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},h=(e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})},d=(e,t,n,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of a(t))l.call(e,r)||r===n||o(e,r,{get:()=>t[r],enumerable:!(i=s(t,r))||i.enumerable});return e},p=(e,t,n)=>(t.has(e)||c("Cannot access private method"),n),f=(e=e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=/\r\n|[\n\r\u2028\u2029]/;e.codeFrameColumns=function(e,n,i={}){let r=new Proxy({},{get:()=>e=>e}),{start:o,end:s,markerLines:a}=function(e,t,n){let i=Object.assign({column:0,line:-1},e.start),r=Object.assign({},i,e.end),{linesAbove:o=2,linesBelow:s=3}=n||{},a=i.line,u=i.column,l=r.line,c=r.column,h=Math.max(a-(o+1),0),d=Math.min(t.length,l+s);-1===a&&(h=0),-1===l&&(d=t.length);let p=l-a,f={};if(p)for(let e=0;e<=p;e++){let n=e+a;if(u)if(0===e){let e=t[n-1].length;f[n]=[u,e-u+1]}else if(e===p)f[n]=[0,c];else{let i=t[n-e].length;f[n]=[0,i]}else f[n]=!0}else u===c?u?f[a]=[u,0]:f[a]=!0:f[a]=[u,c-u];return{start:h,end:d,markerLines:f}}(n,e.split(t),i),u=n.start&&"number"==typeof n.start.column,l=String(s).length,c=e.split(t,s).slice(o,s).map((e,t)=>{let n=o+1+t,s=` ${` ${n}`.slice(-l)} |`,u=a[n],c=!a[n+1];if(!u)return` ${r.gutter(s)}${e.length>0?` ${e}`:""}`;{let t="";if(Array.isArray(u)){let n=e.slice(0,Math.max(u[0]-1,0)).replace(/[^\t]/g," "),o=u[1]||1;t=`
 `+r.gutter(s.replace(/\d/g," "))+" "+n+r.marker("^").repeat(o),c&&i.message&&(t+=" "+r.message(i.message))}return[r.marker(">"),r.gutter(s),e.length>0?` ${e}`:"",t].join("")}}).join(`
`);return i.message&&!u&&(c=`${" ".repeat(l+1)}${i.message}
${c}`),c}},()=>(t||e((t={exports:{}}).exports,t),t.exports)),m={};h(m,{__debug:()=>nO,check:()=>nP,doc:()=>nu,format:()=>n_,formatWithCursor:()=>nk,getSupportInfo:()=>nL,util:()=>np,version:()=>nd});var g=(e,t,n,i)=>{if(!(e&&null==t))return t.replaceAll?t.replaceAll(n,i):n.global?t.replace(n,i):t.split(n).join(i)},y=class{diff(e,t,n={}){let i;"function"==typeof n?(i=n,n={}):"callback"in n&&(i=n.callback);let r=this.castInput(e,n),o=this.castInput(t,n),s=this.removeEmpty(this.tokenize(r,n)),a=this.removeEmpty(this.tokenize(o,n));return this.diffWithOptionsObj(s,a,n,i)}diffWithOptionsObj(e,t,n,i){var r;let o=e=>(e=this.postProcess(e,n),i)?void setTimeout(function(){i(e)},0):e,s=t.length,a=e.length,u=1,l=s+a;null!=n.maxEditLength&&(l=Math.min(l,n.maxEditLength));let c=null!=(r=n.timeout)?r:1/0,h=Date.now()+c,d=[{oldPos:-1,lastComponent:void 0}],p=this.extractCommon(d[0],t,e,0,n);if(d[0].oldPos+1>=a&&p+1>=s)return o(this.buildValues(d[0].lastComponent,t,e));let f=-1/0,m=1/0,g=()=>{for(let i=Math.max(f,-u);i<=Math.min(m,u);i+=2){let r,u=d[i-1],l=d[i+1];u&&(d[i-1]=void 0);let c=!1;if(l){let e=l.oldPos-i;c=l&&0<=e&&e<s}let h=u&&u.oldPos+1<a;if(!c&&!h){d[i]=void 0;continue}if(r=!h||c&&u.oldPos<l.oldPos?this.addToPath(l,!0,!1,0,n):this.addToPath(u,!1,!0,1,n),p=this.extractCommon(r,t,e,i,n),r.oldPos+1>=a&&p+1>=s)return o(this.buildValues(r.lastComponent,t,e))||!0;d[i]=r,r.oldPos+1>=a&&(m=Math.min(m,i-1)),p+1>=s&&(f=Math.max(f,i+1))}u++};if(i)!function e(){setTimeout(function(){if(u>l||Date.now()>h)return i(void 0);g()||e()},0)}();else for(;u<=l&&Date.now()<=h;){let e=g();if(e)return e}}addToPath(e,t,n,i,r){let o=e.lastComponent;return o&&!r.oneChangePerToken&&o.added===t&&o.removed===n?{oldPos:e.oldPos+i,lastComponent:{count:o.count+1,added:t,removed:n,previousComponent:o.previousComponent}}:{oldPos:e.oldPos+i,lastComponent:{count:1,added:t,removed:n,previousComponent:o}}}extractCommon(e,t,n,i,r){let o=t.length,s=n.length,a=e.oldPos,u=a-i,l=0;for(;u+1<o&&a+1<s&&this.equals(n[a+1],t[u+1],r);)u++,a++,l++,r.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return l&&!r.oneChangePerToken&&(e.lastComponent={count:l,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=a,u}equals(e,t,n){return n.comparator?n.comparator(e,t):e===t||!!n.ignoreCase&&e.toLowerCase()===t.toLowerCase()}removeEmpty(e){let t=[];for(let n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}castInput(e,t){return e}tokenize(e,t){return Array.from(e)}join(e){return e.join("")}postProcess(e,t){return e}get useLongestToken(){return!1}buildValues(e,t,n){let i=[],r;for(;e;)i.push(e),r=e.previousComponent,delete e.previousComponent,e=r;i.reverse();let o=i.length,s=0,a=0,u=0;for(;s<o;s++){let e=i[s];if(e.removed)e.value=this.join(n.slice(u,u+e.count)),u+=e.count;else{if(!e.added&&this.useLongestToken){let i=t.slice(a,a+e.count);i=i.map(function(e,t){let i=n[u+t];return i.length>e.length?i:e}),e.value=this.join(i)}else e.value=this.join(t.slice(a,a+e.count));a+=e.count,e.added||(u+=e.count)}}return i}},v=new class extends y{tokenize(e){return e.slice()}join(e){return e}removeEmpty(e){return e}};function D(e){switch(e){case"cr":return"\r";case"crlf":return`\r
`;default:return`
`}}function b(e,t){let n;switch(t){case`
`:n=/\n/gu;break;case"\r":n=/\r/gu;break;case`\r
`:n=/\r\n/gu;break;default:throw Error(`Unexpected "eol" ${JSON.stringify(t)}.`)}let i=e.match(n);return i?i.length:0}var E="string",x="array",w="cursor",S="indent",C="align",T="trim",F="group",A="fill",k="if-break",_="indent-if-break",P="line-suffix",L="line-suffix-boundary",O="line",R="label",I="break-parent",N=new Set([w,S,C,T,F,A,k,_,P,L,O,R,I]),M=(e,t,n)=>{if(!(e&&null==t))return Array.isArray(t)||"string"==typeof t?t[n<0?t.length+n:n]:t.at(n)},B=function(e){if("string"==typeof e)return E;if(Array.isArray(e))return x;if(!e)return;let{type:t}=e;if(N.has(t))return t},U=class extends Error{name="InvalidDocError";constructor(e){super(function(e){let t,n=null===e?"null":typeof e;if("string"!==n&&"object"!==n)return`Unexpected doc '${n}', 
Expected it to be 'string' or 'object'.`;if(B(e))throw Error("doc is valid.");let i=Object.prototype.toString.call(e);if("[object Object]"!==i)return`Unexpected doc '${i}'.`;let r=(t=[...N].map(e=>`'${e}'`),new Intl.ListFormat("en-US",{type:"disjunction"}).format(t));return`Unexpected doc.type '${e.type}'.
Expected it to be ${r}.`}(e)),this.doc=e}},z={},j=function(e,t,n,i){let r=[e];for(;r.length>0;){let e=r.pop();if(e===z){n(r.pop());continue}n&&r.push(e,z);let o=B(e);if(!o)throw new U(e);if((null==t?void 0:t(e))!==!1)switch(o){case x:case A:{let t=o===x?e:e.parts;for(let e=t.length,n=e-1;n>=0;--n)r.push(t[n]);break}case k:r.push(e.flatContents,e.breakContents);break;case F:if(i&&e.expandedStates)for(let t=e.expandedStates.length,n=t-1;n>=0;--n)r.push(e.expandedStates[n]);else r.push(e.contents);break;case C:case S:case _:case R:case P:r.push(e.contents);break;case E:case w:case T:case L:case O:case I:break;default:throw new U(e)}}};function V(e,t){if("string"==typeof e)return t(e);let n=new Map;return function e(i){if(n.has(i))return n.get(i);let r=function(n){switch(B(n)){case x:return t(n.map(e));case A:return t({...n,parts:n.parts.map(e)});case k:return t({...n,breakContents:e(n.breakContents),flatContents:e(n.flatContents)});case F:{let{expandedStates:i,contents:r}=n;return r=i?(i=i.map(e))[0]:e(r),t({...n,contents:r,expandedStates:i})}case C:case S:case _:case R:case P:return t({...n,contents:e(n.contents)});case E:case w:case T:case L:case O:case I:return t(n);default:throw new U(n)}}(i);return n.set(i,r),r}(e)}function G(e,t,n){let i=n,r=!1;return j(e,function(e){if(r)return!1;let n=t(e);void 0!==n&&(r=!0,i=n)}),i}function $(e){if(e.type===F&&e.break||e.type===O&&e.hard||e.type===I)return!0}function H(e){if(e.length>0){let t=M(!1,e,-1);t.expandedStates||t.break||(t.break="propagated")}return null}function W(e){return e.type!==O||e.hard?e.type===k?e.flatContents:e:e.soft?"":" "}function q(e){for(e=[...e];e.length>=2&&M(!1,e,-2).type===O&&M(!1,e,-1).type===I;)e.length-=2;if(e.length>0){let t=Y(M(!1,e,-1));e[e.length-1]=t}return e}function Y(e){switch(B(e)){case S:case _:case F:case P:case R:{let t=Y(e.contents);return{...e,contents:t}}case k:return{...e,breakContents:Y(e.breakContents),flatContents:Y(e.flatContents)};case A:return{...e,parts:q(e.parts)};case x:return q(e);case E:let t=e.length;for(;t>0&&("\r"===e[t-1]||e[t-1]===`
`);)t--;return t<e.length?e.slice(0,t):e;case C:case w:case T:case L:case O:case I:break;default:throw new U(e)}return e}function X(e){return Y(V(e,e=>(function(e){switch(B(e)){case A:if(e.parts.every(e=>""===e))return"";break;case F:if(!e.contents&&!e.id&&!e.break&&!e.expandedStates)return"";if(e.contents.type===F&&e.contents.id===e.id&&e.contents.break===e.break&&e.contents.expandedStates===e.expandedStates)return e.contents;break;case C:case S:case _:case P:if(!e.contents)return"";break;case k:if(!e.flatContents&&!e.breakContents)return"";break;case x:{let t=[];for(let n of e){if(!n)continue;let[e,...i]=Array.isArray(n)?n:[n];"string"==typeof e&&"string"==typeof M(!1,t,-1)?t[t.length-1]+=e:t.push(e),t.push(...i)}return 0===t.length?"":1===t.length?t[0]:t}case E:case w:case T:case L:case O:case R:case I:break;default:throw new U(e)}return e})(e)))}function K(e){if(e.type===O)return!0}function J(e,t){return e.type===R?{...e,contents:t(e.contents)}:t(e)}var Z=()=>{};function Q(e){return Z(e),{type:S,contents:e}}function ee(e,t){return Z(t),{type:C,contents:t,n:e}}function et(e,t={}){return Z(e),Z(t.expandedStates,!0),{type:F,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function en(e){return Z(e),{type:P,contents:e}}var ei={type:I},er={type:O,hard:!0},eo={type:O,hard:!0,literal:!0},es={type:O},ea=[er,ei],eu=[eo,ei],el={type:w};function ec(e,t){Z(e),Z(t);let n=[];for(let i=0;i<t.length;i++)0!==i&&n.push(e),n.push(t[i]);return n}function eh(e,t,n){Z(e);let i=e;if(t>0){for(let e=0;e<Math.floor(t/n);++e)i=Q(i);i=ee(t%n,i),i=ee(-1/0,i)}return i}var ed=e=>{var t;return!(12288===e||e>=65281&&e<=65376||e>=65504&&e<=65510||(t=e)>=4352&&t<=4447||8986===t||8987===t||9001===t||9002===t||t>=9193&&t<=9196||9200===t||9203===t||9725===t||9726===t||9748===t||9749===t||t>=9776&&t<=9783||t>=9800&&t<=9811||9855===t||t>=9866&&t<=9871||9875===t||9889===t||9898===t||9899===t||9917===t||9918===t||9924===t||9925===t||9934===t||9940===t||9962===t||9970===t||9971===t||9973===t||9978===t||9981===t||9989===t||9994===t||9995===t||10024===t||10060===t||10062===t||t>=10067&&t<=10069||10071===t||t>=10133&&t<=10135||10160===t||10175===t||11035===t||11036===t||11088===t||11093===t||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12287||t>=12289&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12591||t>=12593&&t<=12686||t>=12688&&t<=12773||t>=12783&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=94176&&t<=94180||94192===t||94193===t||t>=94208&&t<=100343||t>=100352&&t<=101589||t>=101631&&t<=101640||t>=110576&&t<=110579||t>=110581&&t<=110587||110589===t||110590===t||t>=110592&&t<=110882||110898===t||t>=110928&&t<=110930||110933===t||t>=110948&&t<=110951||t>=110960&&t<=111355||t>=119552&&t<=119638||t>=119648&&t<=119670||126980===t||127183===t||127374===t||t>=127377&&t<=127386||t>=127488&&t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||127568===t||127569===t||t>=127584&&t<=127589||t>=127744&&t<=127776||t>=127789&&t<=127797||t>=127799&&t<=127868||t>=127870&&t<=127891||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||127988===t||t>=127992&&t<=128062||128064===t||t>=128066&&t<=128252||t>=128255&&t<=128317||t>=128331&&t<=128334||t>=128336&&t<=128359||128378===t||128405===t||128406===t||128420===t||t>=128507&&t<=128591||t>=128640&&t<=128709||128716===t||t>=128720&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128735||128747===t||128748===t||t>=128756&&t<=128764||t>=128992&&t<=129003||129008===t||t>=129292&&t<=129338||t>=129340&&t<=129349||t>=129351&&t<=129535||t>=129648&&t<=129660||t>=129664&&t<=129673||t>=129679&&t<=129734||t>=129742&&t<=129756||t>=129759&&t<=129769||t>=129776&&t<=129784||t>=131072&&t<=196605||t>=196608&&t<=262141)},ep=/[^\x20-\x7F]/u,ef=function(e){if(!e)return 0;if(!ep.test(e))return e.length;e=e.replace(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,"  ");let t=0;for(let n of e){let e=n.codePointAt(0);e<=31||e>=127&&e<=159||e>=768&&e<=879||(t+=ed(e)?1:2)}return t},em=Symbol("MODE_BREAK"),eg=Symbol("MODE_FLAT"),ey=Symbol("cursor"),ev=Symbol("DOC_FILL_PRINTED_LENGTH");function eD(){return{value:"",length:0,queue:[]}}function eb(e,t,n){let i="dedent"===t.type?e.queue.slice(0,-1):[...e.queue,t],r="",o=0,s=0,a=0;for(let e of i)switch(e.type){case"indent":c(),n.useTabs?u(1):l(n.tabWidth);break;case"stringAlign":c(),r+=e.n,o+=e.n.length;break;case"numberAlign":s+=1,a+=e.n;break;default:throw Error(`Unexpected type '${e.type}'`)}return h(),{...e,value:r,length:o,queue:i};function u(e){r+="	".repeat(e),o+=n.tabWidth*e}function l(e){r+=" ".repeat(e),o+=e}function c(){n.useTabs?(s>0&&u(s),s=0,a=0):h()}function h(){a>0&&l(a),s=0,a=0}}function eE(e){let t=0,n=0,i=e.length;i:for(;i--;){let r=e[i];if(r===ey){n++;continue}for(let n=r.length-1;n>=0;n--){let o=r[n];if(" "===o||"	"===o)t++;else{e[i]=r.slice(0,n+1);break i}}}if(t>0||n>0)for(e.length=i+1;n-- >0;)e.push(ey);return t}function ex(e,t,n,i,r,o){if(n===1/0)return!0;let s=t.length,a=[e],u=[];for(;n>=0;){if(0===a.length){if(0===s)return!0;a.push(t[--s]);continue}let{mode:e,doc:l}=a.pop(),c=B(l);switch(c){case E:u.push(l),n-=ef(l);break;case x:case A:{let t=c===x?l:l.parts,n=l[ev]??0;for(let i=t.length-1;i>=n;i--)a.push({mode:e,doc:t[i]});break}case S:case C:case _:case R:a.push({mode:e,doc:l.contents});break;case T:n+=eE(u);break;case F:{if(o&&l.break)return!1;let t=l.break?em:e,n=l.expandedStates&&t===em?M(!1,l.expandedStates,-1):l.contents;a.push({mode:t,doc:n});break}case k:{let t=(l.groupId?r[l.groupId]||eg:e)===em?l.breakContents:l.flatContents;t&&a.push({mode:e,doc:t});break}case O:if(e===em||l.hard)return!0;l.soft||(u.push(" "),n--);break;case P:i=!0;break;case L:if(i)return!1}}return!1}function ew(e,t){var n;let i,r,o={},s=t.printWidth,a=D(t.endOfLine),u=0,l=[{ind:eD(),mode:em,doc:e}],c=[],h=!1,d=[],p=0;for(i=new Set,r=[],j(e,function(e){if(e.type===I&&H(r),e.type===F){if(r.push(e),i.has(e))return!1;i.add(e)}},function(e){e.type===F&&r.pop().break&&H(r)},!0);l.length>0;){let{ind:e,mode:i,doc:r}=l.pop();switch(B(r)){case E:{let e=a!==`
`?g(!1,r,`
`,a):r;c.push(e),l.length>0&&(u+=ef(e));break}case x:for(let t=r.length-1;t>=0;t--)l.push({ind:e,mode:i,doc:r[t]});break;case w:if(p>=2)throw Error("There are too many 'cursor' in doc.");c.push(ey),p++;break;case S:l.push({ind:eb(e,{type:"indent"},t),mode:i,doc:r.contents});break;case C:l.push({ind:(n=r.n,n===-1/0?e.root||eD():n<0?eb(e,{type:"dedent"},t):n?"root"===n.type?{...e,root:e}:eb(e,{type:"string"==typeof n?"stringAlign":"numberAlign",n:n},t):e),mode:i,doc:r.contents});break;case T:u-=eE(c);break;case F:switch(i){case eg:if(!h){l.push({ind:e,mode:r.break?em:eg,doc:r.contents});break}case em:{h=!1;let t={ind:e,mode:eg,doc:r.contents},n=s-u,i=d.length>0;if(!r.break&&ex(t,l,n,i,o))l.push(t);else if(r.expandedStates){let t=M(!1,r.expandedStates,-1);if(r.break)l.push({ind:e,mode:em,doc:t});else for(let s=1;s<r.expandedStates.length+1;s++)if(s>=r.expandedStates.length){l.push({ind:e,mode:em,doc:t});break}else{let t={ind:e,mode:eg,doc:r.expandedStates[s]};if(ex(t,l,n,i,o)){l.push(t);break}}}else l.push({ind:e,mode:em,doc:r.contents})}}r.id&&(o[r.id]=M(!1,l,-1).mode);break;case A:{let t=s-u,n=r[ev]??0,{parts:a}=r,c=a.length-n;if(0===c)break;let h=a[n+0],p=a[n+1],f={ind:e,mode:eg,doc:h},m={ind:e,mode:em,doc:h},g=ex(f,[],t,d.length>0,o,!0);if(1===c){g?l.push(f):l.push(m);break}let y={ind:e,mode:eg,doc:p},v={ind:e,mode:em,doc:p};if(2===c){g?l.push(y,f):l.push(v,m);break}let D=a[n+2],b={ind:e,mode:i,doc:{...r,[ev]:n+2}};ex({ind:e,mode:eg,doc:[h,p,D]},[],t,d.length>0,o,!0)?l.push(b,y,f):g?l.push(b,v,f):l.push(b,v,m);break}case k:case _:{let t=r.groupId?o[r.groupId]:i;if(t===em){let t=r.type===k?r.breakContents:r.negate?r.contents:Q(r.contents);t&&l.push({ind:e,mode:i,doc:t})}if(t===eg){let t=r.type===k?r.flatContents:r.negate?Q(r.contents):r.contents;t&&l.push({ind:e,mode:i,doc:t})}break}case P:d.push({ind:e,mode:i,doc:r.contents});break;case L:d.length>0&&l.push({ind:e,mode:i,doc:er});break;case O:switch(i){case eg:if(r.hard)h=!0;else{r.soft||(c.push(" "),u+=1);break}case em:if(d.length>0){l.push({ind:e,mode:i,doc:r},...d.reverse()),d.length=0;break}r.literal?e.root?(c.push(a,e.root.value),u=e.root.length):(c.push(a),u=0):(u-=eE(c),c.push(a+e.value),u=e.length)}break;case R:l.push({ind:e,mode:i,doc:r.contents});break;case I:break;default:throw new U(r)}0===l.length&&d.length>0&&(l.push(...d.reverse()),d.length=0)}let f=c.indexOf(ey);if(-1!==f){let e=c.indexOf(ey,f+1);if(-1===e)return{formatted:c.filter(e=>e!==ey).join("")};let t=c.slice(0,f).join(""),n=c.slice(f+1,e).join("");return{formatted:t+n+c.slice(e+1).join(""),cursorNodeStart:t.length,cursorNodeText:n}}return{formatted:c.join("")}}var eS,eC,eT,eF=function(e,t,n=0){let i=0;for(let r=n;r<e.length;++r)"	"===e[r]?i=i+t-i%t:i++;return i},eA=class{constructor(e){let t,n;(t=eS).has(this)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(this):t.set(this,n),this.stack=[e]}get key(){let{stack:e,siblings:t}=this;return M(!1,e,null===t?-2:-4)??null}get index(){return null===this.siblings?null:M(!1,this.stack,-2)}get node(){return M(!1,this.stack,-1)}get parent(){return this.getNode(1)}get grandparent(){return this.getNode(2)}get isInArray(){return null!==this.siblings}get siblings(){let{stack:e}=this,t=M(!1,e,-3);return Array.isArray(t)?t:null}get next(){let{siblings:e}=this;return null===e?null:e[this.index+1]}get previous(){let{siblings:e}=this;return null===e?null:e[this.index-1]}get isFirst(){return 0===this.index}get isLast(){let{siblings:e,index:t}=this;return null!==e&&t===e.length-1}get isRoot(){return 1===this.stack.length}get root(){return this.stack[0]}get ancestors(){return[...p(this,eS,eT).call(this)]}getName(){let{stack:e}=this,{length:t}=e;return t>1?M(!1,e,-2):null}getValue(){return M(!1,this.stack,-1)}getNode(e=0){let t=p(this,eS,eC).call(this,e);return -1===t?null:this.stack[t]}getParentNode(e=0){return this.getNode(e+1)}call(e,...t){let{stack:n}=this,{length:i}=n,r=M(!1,n,-1);for(let e of t)r=r[e],n.push(e,r);try{return e(this)}finally{n.length=i}}callParent(e,t=0){let n=p(this,eS,eC).call(this,t+1),i=this.stack.splice(n+1);try{return e(this)}finally{this.stack.push(...i)}}each(e,...t){let{stack:n}=this,{length:i}=n,r=M(!1,n,-1);for(let e of t)r=r[e],n.push(e,r);try{for(let t=0;t<r.length;++t)n.push(t,r[t]),e(this,t,r),n.length-=2}finally{n.length=i}}map(e,...t){let n=[];return this.each((t,i,r)=>{n[i]=e(t,i,r)},...t),n}match(...e){let t=this.stack.length-1,n=null,i=this.stack[t--];for(let r of e){if(void 0===i)return!1;let e=null;if("number"==typeof n&&(e=n,n=this.stack[t--],i=this.stack[t--]),r&&!r(i,n,e))return!1;n=this.stack[t--],i=this.stack[t--]}return!0}findAncestor(e){for(let t of p(this,eS,eT).call(this))if(e(t))return t}hasAncestor(e){for(let t of p(this,eS,eT).call(this))if(e(t))return!0;return!1}};eS=new WeakSet,eC=function(e){let{stack:t}=this;for(let n=t.length-1;n>=0;n-=2)if(!Array.isArray(t[n])&&--e<0)return n;return -1},eT=function*(){let{stack:e}=this;for(let t=e.length-3;t>=0;t-=2){let n=e[t];Array.isArray(n)||(yield n)}};var ek=new Proxy(()=>{},{get:()=>ek});function*e_(e,t){let{getVisitorKeys:n,filter:i=()=>!0}=t,r=e=>null!==e&&"object"==typeof e&&i(e);for(let t of n(e)){let n=e[t];if(Array.isArray(n))for(let e of n)r(e)&&(yield e);else r(n)&&(yield n)}}function eP(e){return(t,n,i)=>{let r=!!(null!=i&&i.backwards);if(!1===n)return!1;let{length:o}=t,s=n;for(;s>=0&&s<o;){let n=t.charAt(s);if(e instanceof RegExp){if(!e.test(n))return s}else if(!e.includes(n))return s;r?s--:s++}return(-1===s||s===o)&&s}}var eL=eP(/\s/u),eO=eP(" 	"),eR=eP(",; 	"),eI=eP(/[^\n\r]/u),eN=function(e,t,n){let i=!!(null!=n&&n.backwards);if(!1===t)return!1;let r=e.charAt(t);if(i){if("\r"===e.charAt(t-1)&&r===`
`)return t-2;if(r===`
`||"\r"===r||"\u2028"===r||"\u2029"===r)return t-1}else{if("\r"===r&&e.charAt(t+1)===`
`)return t+2;if(r===`
`||"\r"===r||"\u2028"===r||"\u2029"===r)return t+1}return t},eM=function(e,t,n={}){let i=eO(e,n.backwards?t-1:t,n),r=eN(e,i,n);return i!==r},eB=new Set(["tokens","comments","parent","enclosingNode","precedingNode","followingNode"]),eU=e=>Object.keys(e).filter(e=>!eB.has(e)),ez=function(e){return e?t=>e(t,eB):eU};function ej(e,t){let n,i;(e.comments??(e.comments=[])).push(t),t.printed=!1,n=e.type||e.kind||"(unknown type)",(i=String(e.name||e.id&&("object"==typeof e.id?e.id.name:e.id)||e.key&&("object"==typeof e.key?e.key.name:e.key)||e.value&&("object"==typeof e.value?"":String(e.value))||e.operator||"")).length>20&&(i=i.slice(0,19)+""),t.nodeDescription=n+(i?" "+i:"")}function eV(e,t){t.leading=!0,t.trailing=!1,ej(e,t)}function eG(e,t,n){t.leading=!1,t.trailing=!1,n&&(t.marker=n),ej(e,t)}function e$(e,t){t.leading=!1,t.trailing=!0,ej(e,t)}var eH=new WeakMap;function eW(e,t){if(eH.has(e))return eH.get(e);let{printer:{getCommentChildNodes:n,canAttachComment:i,getVisitorKeys:r},locStart:o,locEnd:s}=t;if(!i)return[];let a=((null==n?void 0:n(e,t))??[...e_(e,{getVisitorKeys:ez(r)})]).flatMap(e=>i(e)?[e]:eW(e,t));return a.sort((e,t)=>o(e)-o(t)||s(e)-s(t)),eH.set(e,a),a}var eq=()=>!1,eY=e=>!/[\S\n\u2028\u2029]/u.test(e);function eX(e,t){var n,i;let r=e.length;if(0===r)return;let{precedingNode:o,followingNode:s}=e[0],a=t.locStart(s),u;for(u=r;u>0;--u){let{comment:r,precedingNode:l,followingNode:c}=e[u-1];ek.strictEqual(l,o),ek.strictEqual(c,s);let h=t.originalText.slice(t.locEnd(r),a);if((null==(i=(n=t.printer).isGap)?void 0:i.call(n,h,t))??/^[\s(]*$/u.test(h))a=t.locStart(r);else break}for(let[t,{comment:n}]of e.entries())t<u?e$(o,n):eV(s,n);for(let e of[o,s])e.comments&&e.comments.length>1&&e.comments.sort((e,n)=>t.locStart(e)-t.locStart(n));e.length=0}function eK(e,t,n){let i=n.locStart(t)-1;for(let t=1;t<e.length;++t)if(i<n.locStart(e[t]))return t-1;return 0}var eJ=function(e,t){let n=t-1;n=eO(e,n,{backwards:!0}),n=eN(e,n,{backwards:!0}),n=eO(e,n,{backwards:!0});let i=eN(e,n,{backwards:!0});return n!==i};function eZ(e,t){return e.node.printed=!0,t.printer.printComment(e,t)}var eQ=class extends Error{name="ConfigError"},e0=class extends Error{name="UndefinedParserError"},e1={checkIgnorePragma:{category:"Special",type:"boolean",default:!1,description:"Check whether the file's first docblock comment contains '@noprettier' or '@noformat' to determine if it should be formatted.",cliCategory:"Other"},cursorOffset:{category:"Special",type:"int",default:-1,range:{start:-1,end:1/0,step:1},description:"Print (to stderr) where a cursor at the given position would move to after formatting.",cliCategory:"Editor"},endOfLine:{category:"Global",type:"choice",default:"lf",description:"Which end of line characters to apply.",choices:[{value:"lf",description:"Line Feed only (\\n), common on Linux and macOS as well as inside git repos"},{value:"crlf",description:"Carriage Return + Line Feed characters (\\r\\n), common on Windows"},{value:"cr",description:"Carriage Return character only (\\r), used very rarely"},{value:"auto",description:`Maintain existing
(mixed values within one file are normalised by looking at what's used after the first line)`}]},filepath:{category:"Special",type:"path",description:"Specify the input filepath. This will be used to do parser inference.",cliName:"stdin-filepath",cliCategory:"Other",cliDescription:"Path to the file to pretend that stdin comes from."},insertPragma:{category:"Special",type:"boolean",default:!1,description:"Insert @format pragma into file's first docblock comment.",cliCategory:"Other"},parser:{category:"Global",type:"choice",default:void 0,description:"Which parser to use.",exception:e=>"string"==typeof e||"function"==typeof e,choices:[{value:"flow",description:"Flow"},{value:"babel",description:"JavaScript"},{value:"babel-flow",description:"Flow"},{value:"babel-ts",description:"TypeScript"},{value:"typescript",description:"TypeScript"},{value:"acorn",description:"JavaScript"},{value:"espree",description:"JavaScript"},{value:"meriyah",description:"JavaScript"},{value:"css",description:"CSS"},{value:"less",description:"Less"},{value:"scss",description:"SCSS"},{value:"json",description:"JSON"},{value:"json5",description:"JSON5"},{value:"jsonc",description:"JSON with Comments"},{value:"json-stringify",description:"JSON.stringify"},{value:"graphql",description:"GraphQL"},{value:"markdown",description:"Markdown"},{value:"mdx",description:"MDX"},{value:"vue",description:"Vue"},{value:"yaml",description:"YAML"},{value:"glimmer",description:"Ember / Handlebars"},{value:"html",description:"HTML"},{value:"angular",description:"Angular"},{value:"lwc",description:"Lightning Web Components"},{value:"mjml",description:"MJML"}]},plugins:{type:"path",array:!0,default:[{value:[]}],category:"Global",description:"Add a plugin. Multiple plugins can be passed as separate `--plugin`s.",exception:e=>"string"==typeof e||"object"==typeof e,cliName:"plugin",cliCategory:"Config"},printWidth:{category:"Global",type:"int",default:80,description:"The line length where Prettier will try wrap.",range:{start:0,end:1/0,step:1}},rangeEnd:{category:"Special",type:"int",default:1/0,range:{start:0,end:1/0,step:1},description:`Format code ending at a given character offset (exclusive).
The range will extend forwards to the end of the selected statement.`,cliCategory:"Editor"},rangeStart:{category:"Special",type:"int",default:0,range:{start:0,end:1/0,step:1},description:`Format code starting at a given character offset.
The range will extend backwards to the start of the first line containing the selected statement.`,cliCategory:"Editor"},requirePragma:{category:"Special",type:"boolean",default:!1,description:"Require either '@prettier' or '@format' to be present in the file's first docblock comment in order for it to be formatted.",cliCategory:"Other"},tabWidth:{type:"int",category:"Global",default:2,description:"Number of spaces per indentation level.",range:{start:0,end:1/0,step:1}},useTabs:{category:"Global",type:"boolean",default:!1,description:"Indent with tabs instead of spaces."},embeddedLanguageFormatting:{category:"Global",type:"choice",default:"auto",description:"Control how Prettier formats quoted code embedded in the file.",choices:[{value:"auto",description:"Format embedded code if Prettier can automatically identify it."},{value:"off",description:"Never automatically format embedded code."}]}};function e2({plugins:e=[],showDeprecated:t=!1}={}){let n=e.flatMap(e=>e.languages??[]),i=[];for(let r of function(e){let t=[];for(let[n,i]of Object.entries(e)){let e={name:n,...i};Array.isArray(e.default)&&(e.default=M(!1,e.default,-1).value),t.push(e)}return t}(Object.assign({},...e.map(({options:e})=>e),e1)))!t&&r.deprecated||(Array.isArray(r.choices)&&(t||(r.choices=r.choices.filter(e=>!e.deprecated)),"parser"===r.name&&(r.choices=[...r.choices,...function*(e,t,n){let i=new Set(e.map(e=>e.value));for(let e of t)if(e.parsers){for(let t of e.parsers)if(!i.has(t)){i.add(t);let r=n.find(e=>e.parsers&&Object.prototype.hasOwnProperty.call(e.parsers,t)),o=e.name;null!=r&&r.name&&(o+=` (plugin: ${r.name})`),yield{value:t,description:o}}}}(r.choices,n,e)])),r.pluginDefaults=Object.fromEntries(e.filter(e=>{var t;return(null==(t=e.defaultOptions)?void 0:t[r.name])!==void 0}).map(e=>[e.name,e.defaultOptions[r.name]])),i.push(r));return{languages:n,options:i}}var e3,e6,e8,e5,e4,e7=(null==(e3=globalThis.Deno)?void 0:e3.build.os)==="windows"||(null==(e8=null==(e6=globalThis.navigator)?void 0:e6.platform)?void 0:e8.startsWith("Win"))||(null==(e4=null==(e5=globalThis.process)?void 0:e5.platform)?void 0:e4.startsWith("win"))||!1;function e9(e){if("file:"!==(e=e instanceof URL?e:new URL(e)).protocol)throw TypeError(`URL must be a file URL: received "${e.protocol}"`);return e}var te=function(e){var t;let n;return e7?(n=decodeURIComponent((t=e9(t=e)).pathname.replace(/\//g,"\\").replace(/%(?![0-9A-Fa-f]{2})/g,"%25")).replace(/^\\*([A-Za-z]:)(\\|$)/,"$1\\"),""!==t.hostname&&(n=`\\\\${t.hostname}${n}`),n):decodeURIComponent(e9(e).pathname.replace(/%(?![0-9A-Fa-f]{2})/g,"%25"))};function tt(e,t){if(!t)return;let n=String(t).split(/[/\\]/u).pop().toLowerCase();return e.find(({filenames:e})=>null==e?void 0:e.some(e=>e.toLowerCase()===n))??e.find(({extensions:e})=>null==e?void 0:e.some(e=>n.endsWith(e)))}function tn(e,t){if(t){if(String(t).startsWith("file:"))try{t=te(t)}catch{return}if("string"==typeof t)return e.find(({isSupported:e})=>null==e?void 0:e({filepath:t}))}}var ti=function(e,t){let n=((e,t)=>{if(!(e&&null==t))return t.toReversed||!Array.isArray(t)?t.toReversed():[...t].reverse()})(!1,e.plugins).flatMap(e=>e.languages??[]),i=function(e,t){if(t)return e.find(({name:e})=>e.toLowerCase()===t)??e.find(({aliases:e})=>null==e?void 0:e.includes(t))??e.find(({extensions:e})=>null==e?void 0:e.includes(`.${t}`))}(n,t.language)??tt(n,t.physicalFile)??tt(n,t.file)??tn(n,t.physicalFile)??tn(n,t.file)??void t.physicalFile;return null==i?void 0:i.parsers[0]},tr={key:e=>/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?e:JSON.stringify(e),value(e){if(null===e||"object"!=typeof e)return JSON.stringify(e);if(Array.isArray(e))return`[${e.map(e=>tr.value(e)).join(", ")}]`;let t=Object.keys(e);return 0===t.length?"{}":`{ ${t.map(t=>`${tr.key(t)}: ${tr.value(e[t])}`).join(", ")} }`},pair:({key:e,value:t})=>tr.value({[e]:t})},to=new Proxy(String,{get:()=>to}),ts=Symbol.for("vnopts.VALUE_NOT_EXIST"),ta=Symbol.for("vnopts.VALUE_UNCHANGED"),tu=" ".repeat(2);function tl(e,t,n,i){return`Invalid ${to.red(i.key(e))} value. Expected ${to.blue(n)}, but received ${t===ts?to.gray("nothing"):to.red(i.value(t))}.`}function tc(e,t){if(1===e.length)return e[0];let[n,i]=e,[r,o]=e.map(e=>e.split(`
`,1)[0].length);return r>t&&r>o?i:n}var th=[],td=[],tp=(e,t,{descriptor:n,logger:i,schemas:r})=>{let o=[`Ignored unknown option ${to.yellow(n.pair({key:e,value:t}))}.`],s=Object.keys(r).sort().find(t=>3>function(e,t){if(e===t)return 0;let n=e;e.length>t.length&&(e=t,t=n);let i=e.length,r=t.length;for(;i>0&&e.charCodeAt(~-i)===t.charCodeAt(~-r);)i--,r--;let o=0;for(;o<i&&e.charCodeAt(o)===t.charCodeAt(o);)o++;if(i-=o,r-=o,0===i)return r;let s,a,u,l,c=0,h=0;for(;c<i;)td[c]=e.charCodeAt(o+c),th[c]=++c;for(;h<r;)for(s=t.charCodeAt(o+h),u=h++,a=h,c=0;c<i;c++)l=s===td[c]?u:u+1,u=th[c],a=th[c]=u>a?l>a?a+1:l:l>u?u+1:l;return a}(e,t));s&&o.push(`Did you mean ${to.blue(n.key(s))}?`),i.warn(o.join(" "))},tf=["default","expected","validate","deprecated","forward","redirect","overlap","preprocess","postprocess"],tm=class{static create(e){let t=new this(e),n=Object.create(t);for(let i of tf)i in e&&(n[i]=function(e,t,n){return"function"==typeof e?(...i)=>e(...i.slice(0,n-1),t,...i.slice(n-1)):()=>e}(e[i],t,tm.prototype[i].length));return n}constructor(e){this.name=e.name}default(e){}expected(e){return"nothing"}validate(e,t){return!1}deprecated(e,t){return!1}forward(e,t){}redirect(e,t){}overlap(e,t,n){return e}preprocess(e,t){return e}postprocess(e,t){return ta}},tg=class extends tm{constructor(e){super(e),this._sourceName=e.sourceName}expected(e){return e.schemas[this._sourceName].expected(e)}validate(e,t){return t.schemas[this._sourceName].validate(e,t)}redirect(e,t){return this._sourceName}},ty=class extends tm{expected(){return"anything"}validate(){return!0}},tv=class extends tm{constructor({valueSchema:e,name:t=e.name,...n}){super({...n,name:t}),this._valueSchema=e}expected(e){let{text:t,list:n}=e.normalizeExpectedResult(this._valueSchema.expected(e));return{text:t&&`an array of ${t}`,list:n&&{title:"an array of the following values",values:[{list:n}]}}}validate(e,t){if(!Array.isArray(e))return!1;let n=[];for(let i of e){let e=t.normalizeValidateResult(this._valueSchema.validate(i,t),i);!0!==e&&n.push(e.value)}return 0===n.length||{value:n}}deprecated(e,t){let n=[];for(let i of e){let e=t.normalizeDeprecatedResult(this._valueSchema.deprecated(i,t),i);!1!==e&&n.push(...e.map(({value:e})=>({value:[e]})))}return n}forward(e,t){let n=[];for(let i of e){let e=t.normalizeForwardResult(this._valueSchema.forward(i,t),i);n.push(...e.map(tD))}return n}redirect(e,t){let n=[],i=[];for(let r of e){let e=t.normalizeRedirectResult(this._valueSchema.redirect(r,t),r);"remain"in e&&n.push(e.remain),i.push(...e.redirect.map(tD))}return 0===n.length?{redirect:i}:{redirect:i,remain:n}}overlap(e,t){return e.concat(t)}};function tD({from:e,to:t}){return{from:[e],to:t}}var tb=class extends tm{expected(){return"true or false"}validate(e){return"boolean"==typeof e}};function tE(e,t){if(e===t)return 0;let n=typeof e,i=typeof t,r=["undefined","object","boolean","number","string"];return n!==i?r.indexOf(n)-r.indexOf(i):"string"!==n?Number(e)-Number(t):e.localeCompare(t)}function tx(e){return void 0===e?{}:e}function tw(e){if("string"==typeof e)return{text:e};let{text:t,list:n}=e;return function(e,t){if(!e)throw Error(t)}((t||n)!==void 0,"Unexpected `expected` result, there should be at least one field."),n?{text:t,list:{title:n.title,values:n.values.map(tw)}}:{text:t}}function tS(e,t){return!0===e||(!1===e?{value:t}:e)}function tC(e,t,n=!1){return!1!==e&&(!0===e?!!n||[{value:t}]:"value"in e?[e]:0!==e.length&&e)}function tT(e,t){return"string"==typeof e||"key"in e?{from:t,to:e}:"from"in e?{from:e.from,to:e.to}:{from:t,to:e.to}}function tF(e,t){return void 0===e?[]:Array.isArray(e)?e.map(e=>tT(e,t)):[tT(e,t)]}function tA(e,t){let n=tF("object"==typeof e&&"redirect"in e?e.redirect:e,t);return 0===n.length?{remain:t,redirect:n}:"object"==typeof e&&"remain"in e?{remain:e.remain,redirect:n}:{redirect:n}}var tk=class extends tm{constructor(e){super(e),this._choices=function(e,t){let n=new Map;for(let i of e){let e=i[t];if(n.has(e))throw Error(`Duplicate ${t} ${JSON.stringify(e)}`);n.set(e,i)}return n}(e.choices.map(e=>e&&"object"==typeof e?e:{value:e}),"value")}expected({descriptor:e}){let t=Array.from(this._choices.keys()).map(e=>this._choices.get(e)).filter(({hidden:e})=>!e).map(e=>e.value).sort(tE).map(e.value),n=t.slice(0,-2),i=t.slice(-2);return{text:n.concat(i.join(" or ")).join(", "),list:{title:"one of the following values",values:t}}}validate(e){return this._choices.has(e)}deprecated(e){let t=this._choices.get(e);return!!t&&!!t.deprecated&&{value:e}}forward(e){let t=this._choices.get(e);return t?t.forward:void 0}redirect(e){let t=this._choices.get(e);return t?t.redirect:void 0}},t_=class extends tm{expected(){return"a number"}validate(e,t){return"number"==typeof e}},tP=class extends t_{expected(){return"an integer"}validate(e,t){return!0===t.normalizeValidateResult(super.validate(e,t),e)&&e===Math.floor(e)}},tL=class extends tm{expected(){return"a string"}validate(e){return"string"==typeof e}},tO=(e,t,n)=>{let{text:i,list:r}=n.normalizeExpectedResult(n.schemas[e].expected(n)),o=[];return i&&o.push(tl(e,t,i,n.descriptor)),r&&o.push([tl(e,t,r.title,n.descriptor)].concat(r.values.map(e=>(function e({text:t,list:n},i){let r=[];return t&&r.push(`- ${to.blue(t)}`),n&&r.push([`- ${to.blue(n.title)}:`].concat(n.values.map(t=>e(t,i-tu.length).replace(/^|\n/g,`$&${tu}`))).join(`
`)),tc(r,i)})(e,n.loggerPrintWidth))).join(`
`)),tc(o,n.loggerPrintWidth)},tR=(e,t,{descriptor:n})=>{let i=[`${to.yellow("string"==typeof e?n.key(e):n.pair(e))} is deprecated`];return t&&i.push(`we now treat it as ${to.blue("string"==typeof t?n.key(t):n.pair(t))}`),i.join("; ")+"."},tI=class{constructor(e,t){let{logger:n=console,loggerPrintWidth:i=80,descriptor:r=tr,unknown:o=tp,invalid:s=tO,deprecated:a=tR,missing:u=()=>!1,required:l=()=>!1,preprocess:c=e=>e,postprocess:h=()=>ta}=t||{};this._utils={descriptor:r,logger:n||{warn:()=>{}},loggerPrintWidth:i,schemas:function(e,t){let n=Object.create(null);for(let i of e){let e=i[t];if(n[e])throw Error(`Duplicate ${t} ${JSON.stringify(e)}`);n[e]=i}return n}(e,"name"),normalizeDefaultResult:tx,normalizeExpectedResult:tw,normalizeDeprecatedResult:tC,normalizeForwardResult:tF,normalizeRedirectResult:tA,normalizeValidateResult:tS},this._unknownHandler=o,this._invalidHandler=(...e)=>{let t=s(...e);return"string"==typeof t?Error(t):t},this._deprecatedHandler=a,this._identifyMissing=(e,t)=>!(e in t)||u(e,t),this._identifyRequired=l,this._preprocess=c,this._postprocess=h,this.cleanHistory()}cleanHistory(){let e;this._hasDeprecationWarned=(e=Object.create(null),t=>{let n=JSON.stringify(t);return!!e[n]||(e[n]=!0,!1)})}normalize(e){let t={},n=[this._preprocess(e,this._utils)],i=()=>{for(;0!==n.length;){let e=n.shift(),i=this._applyNormalization(e,t);n.push(...i)}};for(let e of(i(),Object.keys(this._utils.schemas))){let i=this._utils.schemas[e];if(!(e in t)){let t=tx(i.default(this._utils));"value"in t&&n.push({[e]:t.value})}}for(let e of(i(),Object.keys(this._utils.schemas))){if(!(e in t))continue;let n=this._utils.schemas[e],i=t[e],r=n.postprocess(i,this._utils);r!==ta&&(this._applyValidation(r,e,n),t[e]=r)}return this._applyPostprocess(t),this._applyRequiredCheck(t),t}_applyNormalization(e,t){let n=[],{knownKeys:i,unknownKeys:r}=this._partitionOptionKeys(e);for(let r of i){let i=this._utils.schemas[r],o=i.preprocess(e[r],this._utils);this._applyValidation(o,r,i);let s=({from:e,to:t})=>{n.push("string"==typeof t?{[t]:e}:{[t.key]:t.value})},a=({value:e,redirectTo:t})=>{let n=tC(i.deprecated(e,this._utils),o,!0);if(!1!==n)if(!0===n)this._hasDeprecationWarned(r)||this._utils.logger.warn(this._deprecatedHandler(r,t,this._utils));else for(let{value:e}of n){let n={key:r,value:e};if(!this._hasDeprecationWarned(n)){let i="string"==typeof t?{key:t,value:e}:t;this._utils.logger.warn(this._deprecatedHandler(n,i,this._utils))}}};tF(i.forward(o,this._utils),o).forEach(s);let u=tA(i.redirect(o,this._utils),o);if(u.redirect.forEach(s),"remain"in u){let e=u.remain;t[r]=r in t?i.overlap(t[r],e,this._utils):e,a({value:e})}for(let{from:e,to:t}of u.redirect)a({value:e,redirectTo:t})}for(let i of r){let r=e[i];this._applyUnknownHandler(i,r,t,(e,t)=>{n.push({[e]:t})})}return n}_applyRequiredCheck(e){for(let t of Object.keys(this._utils.schemas))if(this._identifyMissing(t,e)&&this._identifyRequired(t))throw this._invalidHandler(t,ts,this._utils)}_partitionOptionKeys(e){let[t,n]=function(e,t){let n=[],i=[];for(let r of e)t(r)?n.push(r):i.push(r);return[n,i]}(Object.keys(e).filter(t=>!this._identifyMissing(t,e)),e=>e in this._utils.schemas);return{knownKeys:t,unknownKeys:n}}_applyValidation(e,t,n){let i=tS(n.validate(e,this._utils),e);if(!0!==i)throw this._invalidHandler(t,i.value,this._utils)}_applyUnknownHandler(e,t,n,i){let r=this._unknownHandler(e,t,this._utils);if(r)for(let e of Object.keys(r)){if(this._identifyMissing(e,r))continue;let t=r[e];e in this._utils.schemas?i(e,t):n[e]=t}}_applyPostprocess(e){let t=this._postprocess(e,this._utils);if(t!==ta){if(t.delete)for(let n of t.delete)delete e[n];if(t.override){let{knownKeys:n,unknownKeys:i}=this._partitionOptionKeys(t.override);for(let i of n){let n=t.override[i];this._applyValidation(n,i,this._utils.schemas[i]),e[i]=n}for(let n of i){let i=t.override[n];this._applyUnknownHandler(n,i,e,(t,n)=>{let i=this._utils.schemas[t];this._applyValidation(n,t,i),e[t]=n})}}}}},tN=function(e,t,{logger:n=!1,isCLI:r=!1,passThrough:o=!1,FlagSchema:s,descriptor:a}={}){if(r){if(!s)throw Error("'FlagSchema' option is required.");if(!a)throw Error("'descriptor' option is required.")}else a=tr;let u=o?Array.isArray(o)?(e,t)=>o.includes(e)?{[e]:t}:void 0:(e,t)=>({[e]:t}):(e,t,n)=>{let{_:i,...r}=n.schemas;return tp(e,t,{...n,schemas:r})},l=new tI(function(e,{isCLI:t,FlagSchema:n}){let i=[];for(let r of(t&&i.push(ty.create({name:"_"})),e))i.push(function(e,{isCLI:t,optionInfos:n,FlagSchema:i}){let{name:r}=e,o={name:r},s,a={};switch(e.type){case"int":s=tP,t&&(o.preprocess=Number);break;case"string":case"path":s=tL;break;case"choice":s=tk,o.choices=e.choices.map(t=>null!=t&&t.redirect?{...t,redirect:{to:{key:e.name,value:t.redirect}}}:t);break;case"boolean":s=tb;break;case"flag":s=i,o.flags=n.flatMap(e=>[e.alias,e.description&&e.name,e.oppositeDescription&&`no-${e.name}`].filter(Boolean));break;default:throw Error(`Unexpected type ${e.type}`)}if(e.exception?o.validate=(t,n,i)=>e.exception(t)||n.validate(t,i):o.validate=(e,t,n)=>void 0===e||t.validate(e,n),e.redirect&&(a.redirect=t=>t?{to:"string"==typeof e.redirect?e.redirect:{key:e.redirect.option,value:e.redirect.value}}:void 0),e.deprecated&&(a.deprecated=!0),t&&!e.array){let e=o.preprocess||(e=>e);o.preprocess=(t,n,i)=>n.preprocess(e(Array.isArray(t)?M(!1,t,-1):t),i)}return e.array?tv.create({...t?{preprocess:e=>Array.isArray(e)?e:[e]}:{},...a,valueSchema:s.create(o)}):s.create({...o,...a})}(r,{isCLI:t,optionInfos:e,FlagSchema:n})),r.alias&&t&&i.push(tg.create({name:r.alias,sourceName:r.name}));return i}(t,{isCLI:r,FlagSchema:s}),{logger:n,unknown:u,descriptor:a}),c=!1!==n;c&&i&&(l._hasDeprecationWarned=i);let h=l.normalize(e);return c&&(i=l._hasDeprecationWarned),h},tM=(e,t,n)=>{if(!(e&&null==t)){if(t.findLast)return t.findLast(n);for(let e=t.length-1;e>=0;e--){let i=t[e];if(n(i,e,t))return i}}};function tB(e,t){if(!t)throw Error("parserName is required.");let n=tM(!1,e,e=>e.parsers&&Object.prototype.hasOwnProperty.call(e.parsers,t));if(n)return n;let i=`Couldn't resolve parser "${t}".`;throw new eQ(i+=" Plugins must be explicitly added to the standalone bundle.")}function tU({plugins:e,parser:t}){return tz(tB(e,t),t)}function tz(e,t){let n=e.parsers[t];return"function"==typeof n?n():n}var tj={astFormat:"estree",printer:{},originalText:void 0,locStart:null,locEnd:null};async function tV(e,t={}){var n,i;let r,o={...e};if(!o.parser)if(o.filepath){if(o.parser=ti(o,{physicalFile:o.filepath}),!o.parser)throw new e0(`No parser could be inferred for file "${o.filepath}".`)}else throw new e0("No parser and no file path given, couldn't infer a parser.");let s=e2({plugins:e.plugins,showDeprecated:!0}).options,a={...tj,...Object.fromEntries(s.filter(e=>void 0!==e.default).map(e=>[e.name,e.default]))},u=tB(o.plugins,o.parser),l=await tz(u,o.parser);o.astFormat=l.astFormat,o.locEnd=l.locEnd,o.locStart=l.locStart;let c=null!=(n=u.printers)&&n[l.astFormat]?u:function(e,t){if(!t)throw Error("astFormat is required.");let n=tM(!1,e,e=>e.printers&&Object.prototype.hasOwnProperty.call(e.printers,t));if(n)return n;let i=`Couldn't find plugin for AST format "${t}".`;throw new eQ(i+=" Plugins must be explicitly added to the standalone bundle.")}(o.plugins,l.astFormat);o.printer=await (i=l.astFormat,"function"==typeof(r=c.printers[i])?r():r);let h=c.defaultOptions?Object.fromEntries(Object.entries(c.defaultOptions).filter(([,e])=>void 0!==e)):{};for(let[e,t]of Object.entries({...a,...h}))(null===o[e]||void 0===o[e])&&(o[e]=t);return"json"===o.parser&&(o.trailingComma="none"),tN(o,s,{passThrough:Object.keys(tj),...t})}var tG=d(o(null!=(n=f())?r(u(n)):{},"default",{value:n,enumerable:!0}),n);async function t$(e,t){let n,i=await tU(t),r=i.preprocess?i.preprocess(e,t):e;t.originalText=r;try{n=await i.parse(r,t,t)}catch(t){!function(e,t){let{loc:n}=e;if(n){let i=(0,tG.codeFrameColumns)(t,n,{highlightCode:!0});throw e.message+=`
`+i,e.codeFrame=i,e}throw e}(t,e)}return{text:r,ast:n}}async function tH(e,t,n,i,r){let{embeddedLanguageFormatting:o,printer:{embed:s,hasPrettierIgnore:a=()=>!1,getVisitorKeys:u}}=n;if(!s||"auto"!==o)return;if(s.length>2)throw Error("printer.embed has too many parameters. The API changed in Prettier v3. Please update your plugin. See https://prettier.io/docs/plugins#optional-embed");let l=ez(s.getVisitorKeys??u),c=[];!function t(){let{node:i}=e;if(null===i||"object"!=typeof i||a(e))return;for(let n of l(i))Array.isArray(i[n])?e.each(t,n):e.call(t,n);let o=s(e,n);if(o){if("function"==typeof o)return void c.push({print:o,node:i,pathStack:[...e.stack]});r.set(i,o)}}();let h=e.stack;for(let{print:i,node:o,pathStack:s}of c)try{e.stack=s;let a=await i(d,t,e,n);a&&r.set(o,a)}catch(e){if(globalThis.PRETTIER_DEBUG)throw e}function d(e,t){return tW(e,t,n,i)}e.stack=h}async function tW(e,t,n,i){let r=await tV({...n,...t,parentParser:n.parser,originalText:e,cursorOffset:void 0,rangeStart:void 0,rangeEnd:void 0},{passThrough:!0}),{ast:o}=await t$(e,r);return X(await i(o,r))}var tq=function(e,t){let{originalText:n,[Symbol.for("comments")]:i,locStart:r,locEnd:o,[Symbol.for("printedComments")]:s}=t,{node:a}=e,u=r(a),l=o(a);for(let e of i)r(e)>=u&&o(e)<=l&&s.add(e);return n.slice(u,l)};async function tY(e,t){({ast:e}=await tK(e,t));let n=new Map,i=new eA(e),r=()=>{},o=new Map;await tH(i,a,t,tY,o);let s=await tX(i,t,a,void 0,o);if(function(e){let{[Symbol.for("comments")]:t,[Symbol.for("printedComments")]:n}=e;for(let e of t){if(!e.printed&&!n.has(e))throw Error('Comment "'+e.value.trim()+'" was not printed. Please report this error!');delete e.printed}}(t),t.cursorOffset>=0){if(t.nodeAfterCursor&&!t.nodeBeforeCursor)return[el,s];if(t.nodeBeforeCursor&&!t.nodeAfterCursor)return[s,el]}return s;function a(e,t){return void 0===e||e===i?u(t):Array.isArray(e)?i.call(()=>u(t),...e):i.call(()=>u(t),e)}function u(e){r(i);let s=i.node;if(null==s)return"";let u=s&&"object"==typeof s&&void 0===e;if(u&&n.has(s))return n.get(s);let l=tX(i,t,a,e,o);return u&&n.set(s,l),l}}function tX(e,t,n,i,r){var o;let{node:s}=e,{printer:a}=t,u;switch(u=null!=(o=a.hasPrettierIgnore)&&o.call(a,e)?tq(e,t):r.has(s)?r.get(s):a.print(e,t,n,i),s){case t.cursorNode:u=J(u,e=>[el,e,el]);break;case t.nodeBeforeCursor:u=J(u,e=>[e,el]);break;case t.nodeAfterCursor:u=J(u,e=>[el,e])}return!a.printComment||a.willPrintOwnComments&&a.willPrintOwnComments(e,t)||(u=function(e,t,n){let{leading:i,trailing:r}=function(e,t){let n=e.node;if(!n)return{};let i=t[Symbol.for("printedComments")];if(0===(n.comments||[]).filter(e=>!i.has(e)).length)return{leading:"",trailing:""};let r=[],o=[],s;return e.each(()=>{let n=e.node;if(null!=i&&i.has(n))return;let{leading:a,trailing:u}=n;a?r.push(function(e,t){var n;let i=e.node,r=[eZ(e,t)],{printer:o,originalText:s,locStart:a,locEnd:u}=t;if(null==(n=o.isBlockComment)?void 0:n.call(o,i)){let e=eM(s,u(i))?eM(s,a(i),{backwards:!0})?ea:es:" ";r.push(e)}else r.push(ea);let l=eN(s,eO(s,u(i)));return!1!==l&&eM(s,l)&&r.push(ea),r}(e,t)):u&&(s=function(e,t,n){var i;let r=e.node,o=eZ(e,t),{printer:s,originalText:a,locStart:u}=t,l=null==(i=s.isBlockComment)?void 0:i.call(s,r);return null!=n&&n.hasLineSuffix&&!(null!=n&&n.isBlock)||eM(a,u(r),{backwards:!0})?{doc:en([ea,eJ(a,u(r))?ea:"",o]),isBlock:l,hasLineSuffix:!0}:!l||null!=n&&n.hasLineSuffix?{doc:[en([" ",o]),ei],isBlock:l,hasLineSuffix:!0}:{doc:[" ",o],isBlock:l,hasLineSuffix:!1}}(e,t,s),o.push(s.doc))},"comments"),{leading:r,trailing:o}}(e,n);return i||r?J(t,e=>[i,e,r]):t}(e,u,t)),u}async function tK(e,t){let n=e.comments??[];t[Symbol.for("comments")]=n,t[Symbol.for("printedComments")]=new Set,function(e,t){let{comments:n}=e;if(delete e.comments,!(Array.isArray(n)&&n.length>0)||!t.printer.canAttachComment)return;let i=[],{printer:{experimentalFeatures:{avoidAstMutation:r=!1}={},handleComments:o={}},originalText:s}=t,{ownLine:a=eq,endOfLine:u=eq,remaining:l=eq}=o,c=n.map((i,r)=>({...function e(t,n,i,r){let{locStart:o,locEnd:s}=i,a=o(n),u=s(n),l=eW(t,i),c,h,d=0,p=l.length;for(;d<p;){let t=d+p>>1,r=l[t],f=o(r),m=s(r);if(f<=a&&u<=m)return e(r,n,i,r);if(m<=a){c=r,d=t+1;continue}if(u<=f){h=r,p=t;continue}throw Error("Comment location overlaps with node location")}if((null==r?void 0:r.type)==="TemplateLiteral"){let{quasis:e}=r,t=eK(e,n,i);c&&eK(e,c,i)!==t&&(c=null),h&&eK(e,h,i)!==t&&(h=null)}return{enclosingNode:r,precedingNode:c,followingNode:h}}(e,i,t),comment:i,text:s,options:t,ast:e,isLastComment:n.length-1===r}));for(let[e,t]of c.entries()){let{comment:n,precedingNode:o,enclosingNode:s,followingNode:h,text:d,options:p,ast:f,isLastComment:m}=t,g;if(r?g=[t]:(n.enclosingNode=s,n.precedingNode=o,n.followingNode=h,g=[n,d,p,f,m]),function(e,t,n,i){let{comment:r,precedingNode:o}=n[i],{locStart:s,locEnd:a}=t,u=s(r);if(o)for(let t=i-1;t>=0;t--){let{comment:i,precedingNode:r}=n[t];if(r!==o||!eY(e.slice(a(i),u)))break;u=s(i)}return eM(e,u,{backwards:!0})}(d,p,c,e))n.placement="ownLine",a(...g)||(h?eV(h,n):o?e$(o,n):s?eG(s,n):eG(f,n));else if(function(e,t,n,i){let{comment:r,followingNode:o}=n[i],{locStart:s,locEnd:a}=t,u=a(r);if(o)for(let t=i+1;t<n.length;t++){let{comment:i,followingNode:r}=n[t];if(r!==o||!eY(e.slice(u,s(i))))break;u=a(i)}return eM(e,u)}(d,p,c,e))n.placement="endOfLine",u(...g)||(o?e$(o,n):h?eV(h,n):s?eG(s,n):eG(f,n));else if(n.placement="remaining",!l(...g))if(o&&h){let e=i.length;e>0&&i[e-1].followingNode!==h&&eX(i,p),i.push(t)}else o?e$(o,n):h?eV(h,n):s?eG(s,n):eG(f,n)}if(eX(i,t),!r)for(let e of n)delete e.precedingNode,delete e.enclosingNode,delete e.followingNode}(e,t);let{printer:{preprocess:i}}=t;return{ast:e=i?await i(e,t):e,comments:n}}var tJ=function(e,t){let{cursorOffset:n,locStart:i,locEnd:r}=t,o=ez(t.printer.getVisitorKeys),s=e,a=[e];for(let t of function*(e,t){let n=[e];for(let e=0;e<n.length;e++)for(let i of e_(n[e],t))yield i,n.push(i)}(e,{getVisitorKeys:o,filter:e=>i(e)<=n&&r(e)>=n}))a.push(t),s=t;if(e_(s,{getVisitorKeys:o}).next().done)return{cursorNode:s};let u,l,c=-1,h=1/0;for(;a.length>0&&(void 0===u||void 0===l);){s=a.pop();let e=void 0!==u,t=void 0!==l;for(let a of e_(s,{getVisitorKeys:o})){if(!e){let e=r(a);e<=n&&e>c&&(u=a,c=e)}if(!t){let e=i(a);e>=n&&e<h&&(l=a,h=e)}}}return{nodeBeforeCursor:u,nodeAfterCursor:l}},tZ=function(e,t){let{printer:{massageAstNode:n,getVisitorKeys:i}}=t;if(!n)return e;let r=ez(i),o=n.ignoredProperties??new Set;return function e(t,i){if(null===t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(t=>e(t,i)).filter(Boolean);let s={},a=new Set(r(t));for(let n in t)!Object.prototype.hasOwnProperty.call(t,n)||o.has(n)||(a.has(n)?s[n]=e(t[n],t):s[n]=t[n]);let u=n(t,s,i);if(null!==u)return u??s}(e)};function tQ(e){let t=((e,t,n)=>{if(!(e&&null==t)){if(t.findLastIndex)return t.findLastIndex(n);for(let e=t.length-1;e>=0;e--)if(n(t[e],e,t))return e;return -1}})(!1,e,e=>"Program"!==e.type&&"File"!==e.type);return -1===t?e:e.slice(0,t+1)}function t0(e,t,n,i,r=[],o){let{locStart:s,locEnd:a}=n,u=s(e),l=a(e);if(!(t>l||t<u||"rangeEnd"===o&&t===u||"rangeStart"===o&&t===l)){for(let s of eW(e,n)){let a=t0(s,t,n,i,[e,...r],o);if(a)return a}if(!i||i(e,r[0]))return{node:e,parentNodes:r}}}var t1=new Set(["JsonRoot","ObjectExpression","ArrayExpression","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","UnaryExpression","TemplateLiteral"]),t2=new Set(["OperationDefinition","FragmentDefinition","VariableDefinition","TypeExtensionDefinition","ObjectTypeDefinition","FieldDefinition","DirectiveDefinition","EnumTypeDefinition","EnumValueDefinition","InputValueDefinition","InputObjectTypeDefinition","SchemaDefinition","OperationTypeDefinition","InterfaceTypeDefinition","UnionTypeDefinition","ScalarTypeDefinition"]);function t3(e,t,n){if(!t)return!1;switch(e.parser){case"flow":case"hermes":case"babel":case"babel-flow":case"babel-ts":case"typescript":case"acorn":case"espree":case"meriyah":case"oxc":case"oxc-ts":case"__babel_estree":var i;return i=t.type,"DeclareExportDeclaration"!==(null==n?void 0:n.type)&&"TypeParameterDeclaration"!==i&&("Directive"===i||"TypeAlias"===i||"TSExportAssignment"===i||i.startsWith("Declare")||i.startsWith("TSDeclare")||i.endsWith("Statement")||i.endsWith("Declaration"));case"json":case"json5":case"jsonc":case"json-stringify":return t1.has(t.type);case"graphql":return t2.has(t.kind);case"vue":return"root"!==t.tag}return!1}var t6=Symbol("cursor");async function t8(e,t,n=0){if(!e||0===e.trim().length)return{formatted:"",cursorOffset:-1,comments:[]};let{ast:i,text:r}=await t$(e,t);t.cursorOffset>=0&&(t={...t,...tJ(i,t)});let o=await tY(i,t,n);n>0&&(o=eh([ea,o],n,t.tabWidth));let s=ew(o,t);if(n>0){let e=s.formatted.trim();void 0!==s.cursorNodeStart&&(s.cursorNodeStart-=s.formatted.indexOf(e),s.cursorNodeStart<0&&(s.cursorNodeStart=0,s.cursorNodeText=s.cursorNodeText.trimStart()),s.cursorNodeStart+s.cursorNodeText.length>e.length&&(s.cursorNodeText=s.cursorNodeText.trimEnd())),s.formatted=e+D(t.endOfLine)}let a=t[Symbol.for("comments")];if(t.cursorOffset>=0){let e,n,i,o;if((t.cursorNode||t.nodeBeforeCursor||t.nodeAfterCursor)&&s.cursorNodeText)if(i=s.cursorNodeStart,o=s.cursorNodeText,t.cursorNode)e=t.locStart(t.cursorNode),n=r.slice(e,t.locEnd(t.cursorNode));else{if(!t.nodeBeforeCursor&&!t.nodeAfterCursor)throw Error("Cursor location must contain at least one of cursorNode, nodeBeforeCursor, nodeAfterCursor");e=t.nodeBeforeCursor?t.locEnd(t.nodeBeforeCursor):0;let i=t.nodeAfterCursor?t.locStart(t.nodeAfterCursor):r.length;n=r.slice(e,i)}else e=0,n=r,i=0,o=s.formatted;let u=t.cursorOffset-e;if(n===o)return{formatted:s.formatted,cursorOffset:i+u,comments:a};let l=n.split("");l.splice(u,0,t6);let c=o.split(""),h=v.diff(l,c,void 0),d=i;for(let e of h)if(e.removed){if(e.value.includes(t6))break}else d+=e.count;return{formatted:s.formatted,cursorOffset:d,comments:a}}return{formatted:s.formatted,cursorOffset:-1,comments:a}}async function t5(e,t){let{ast:n,text:i}=await t$(e,t),{rangeStart:r,rangeEnd:o}=function(e,t,n){let i,r,{rangeStart:o,rangeEnd:s,locStart:a,locEnd:u}=t;ek.ok(s>o);let l=e.slice(o,s).search(/\S/u),c=-1===l;if(!c)for(o+=l;s>o&&!/\S/u.test(e[s-1]);--s);let h=t0(n,o,t,(e,n)=>t3(t,e,n),[],"rangeStart"),d=c?h:t0(n,s,t,e=>t3(t,e),[],"rangeEnd");if(!h||!d)return{rangeStart:0,rangeEnd:0};if((({parser:e})=>"json"===e||"json5"===e||"jsonc"===e||"json-stringify"===e)(t)){let e,t,n=(e=[h.node,...h.parentNodes],t=new Set([d.node,...d.parentNodes]),e.find(e=>t1.has(e.type)&&t.has(e)));i=n,r=n}else({startNode:i,endNode:r}=function(e,t,{locStart:n,locEnd:i}){let r=e.node,o=t.node;if(r===o)return{startNode:r,endNode:o};let s=n(e.node);for(let e of tQ(t.parentNodes))if(n(e)>=s)o=e;else break;let a=i(t.node);for(let t of tQ(e.parentNodes)){if(i(t)<=a)r=t;else break;if(r===o)break}return{startNode:r,endNode:o}}(h,d,t));return{rangeStart:Math.min(a(i),a(r)),rangeEnd:Math.max(u(i),u(r))}}(i,t,n),s=i.slice(r,o),a=Math.min(r,i.lastIndexOf(`
`,r)+1),u=eF(i.slice(a,r).match(/^\s*/u)[0],t.tabWidth),l=await t8(s,{...t,rangeStart:0,rangeEnd:1/0,cursorOffset:t.cursorOffset>r&&t.cursorOffset<=o?t.cursorOffset-r:-1,endOfLine:"lf"},u),c=l.formatted.trimEnd(),{cursorOffset:h}=t;h>o?h+=c.length-s.length:l.cursorOffset>=0&&(h=l.cursorOffset+r);let d=i.slice(0,r)+c+i.slice(o);if("lf"!==t.endOfLine){let e=D(t.endOfLine);h>=0&&e===`\r
`&&(h+=b(d.slice(0,h),`
`)),d=g(!1,d,`
`,e)}return{formatted:d,cursorOffset:h,comments:l.comments}}function t4(e,t,n){return"number"!=typeof t||Number.isNaN(t)||t<0||t>e.length?n:t}function t7(e,t){let{cursorOffset:n,rangeStart:i,rangeEnd:r}=t;return n=t4(e,n,-1),i=t4(e,i,0),r=t4(e,r,e.length),{...t,cursorOffset:n,rangeStart:i,rangeEnd:r}}function t9(e,t){var n;let i,{cursorOffset:r,rangeStart:o,rangeEnd:s,endOfLine:a}=t7(e,t),u="\uFEFF"===e.charAt(0);if(u&&(e=e.slice(1),r--,o--,s--),"auto"===a&&(a=-1!==(i=(n=e).indexOf("\r"))?n.charAt(i+1)===`
`?"crlf":"cr":"lf"),e.includes("\r")){let t=t=>b(e.slice(0,Math.max(t,0)),`\r
`);r-=t(r),o-=t(o),s-=t(s),e=g(!1,e,/\r\n?/gu,`
`)}return{hasBOM:u,text:e,options:t7(e,{...t,cursorOffset:r,rangeStart:o,rangeEnd:s,endOfLine:a})}}async function ne(e,t){let n=await tU(t);return!n.hasPragma||n.hasPragma(e)}async function nt(e,t){var n;let i=await tU(t);return null==(n=i.hasIgnorePragma)?void 0:n.call(i,e)}async function nn(e,t){let n,{hasBOM:i,text:r,options:o}=t9(e,await tV(t));return o.rangeStart>=o.rangeEnd&&""!==r||o.requirePragma&&!await ne(r,o)||o.checkIgnorePragma&&await nt(r,o)?{formatted:e,cursorOffset:t.cursorOffset,comments:[]}:(o.rangeStart>0||o.rangeEnd<r.length?n=await t5(r,o):(!o.requirePragma&&o.insertPragma&&o.printer.insertPragma&&!await ne(r,o)&&(r=o.printer.insertPragma(r)),n=await t8(r,o)),i&&(n.formatted="\uFEFF"+n.formatted,n.cursorOffset>=0&&n.cursorOffset++),n)}async function ni(e,t,n){let{text:i,options:r}=t9(e,await tV(t)),o=await t$(i,r);return n&&(n.preprocessForPrint&&(o.ast=await tK(o.ast,r)),n.massage&&(o.ast=tZ(o.ast,r))),o}async function nr(e,t){return t=await tV(t),ew(await tY(e,t),t)}async function no(e,t){let n=function(e){let t=Object.create(null),n=new Set;return function e(t,n,r){var o,s;if("string"==typeof t)return JSON.stringify(t);if(Array.isArray(t)){let n=t.map(e).filter(Boolean);return 1===n.length?n[0]:`[${n.join(", ")}]`}if(t.type===O){let e=(null==(o=null==r?void 0:r[n+1])?void 0:o.type)===I;return t.literal?e?"literalline":"literallineWithoutBreakParent":t.hard?e?"hardline":"hardlineWithoutBreakParent":t.soft?"softline":"line"}if(t.type===I)return(null==(s=null==r?void 0:r[n-1])?void 0:s.type)===O&&r[n-1].hard?void 0:"breakParent";if(t.type===T)return"trim";if(t.type===S)return"indent("+e(t.contents)+")";if(t.type===C)return t.n===-1/0?"dedentToRoot("+e(t.contents)+")":t.n<0?"dedent("+e(t.contents)+")":"root"===t.n.type?"markAsRoot("+e(t.contents)+")":"align("+JSON.stringify(t.n)+", "+e(t.contents)+")";if(t.type===k)return"ifBreak("+e(t.breakContents)+(t.flatContents?", "+e(t.flatContents):"")+(t.groupId?(t.flatContents?"":', ""')+`, { groupId: ${i(t.groupId)} }`:"")+")";if(t.type===_){let n=[];t.negate&&n.push("negate: true"),t.groupId&&n.push(`groupId: ${i(t.groupId)}`);let r=n.length>0?`, { ${n.join(", ")} }`:"";return`indentIfBreak(${e(t.contents)}${r})`}if(t.type===F){let n=[];t.break&&"propagated"!==t.break&&n.push("shouldBreak: true"),t.id&&n.push(`id: ${i(t.id)}`);let r=n.length>0?`, { ${n.join(", ")} }`:"";return t.expandedStates?`conditionalGroup([${t.expandedStates.map(t=>e(t)).join(",")}]${r})`:`group(${e(t.contents)}${r})`}if(t.type===A)return`fill([${t.parts.map(t=>e(t)).join(", ")}])`;if(t.type===P)return"lineSuffix("+e(t.contents)+")";if(t.type===L)return"lineSuffixBoundary";if(t.type===R)return`label(${JSON.stringify(t.label)}, ${e(t.contents)})`;if(t.type===w)return"cursor";throw Error("Unknown doc type "+t.type)}(function e(t){var n;if(!t)return"";if(Array.isArray(t)){let n=[];for(let i of t)if(Array.isArray(i))n.push(...e(i));else{let t=e(i);""!==t&&n.push(t)}return n}return t.type===k?{...t,breakContents:e(t.breakContents),flatContents:e(t.flatContents)}:t.type===F?{...t,contents:e(t.contents),expandedStates:null==(n=t.expandedStates)?void 0:n.map(e)}:t.type===A?{type:"fill",parts:t.parts.map(e)}:t.contents?{...t,contents:e(t.contents)}:t}(e));function i(e){if("symbol"!=typeof e)return JSON.stringify(String(e));if(e in t)return t[e];let i=e.description||"symbol";for(let r=0;;r++){let o=i+(r>0?` #${r}`:"");if(!n.has(o))return n.add(o),t[e]=`Symbol.for(${JSON.stringify(o)})`}}}(e),{formatted:i}=await nn(n,{...t,parser:"__js_expression"});return i}async function ns(e,t){t=await tV(t);let{ast:n}=await t$(e,t);return t.cursorOffset>=0&&(t={...t,...tJ(n,t)}),tY(n,t)}async function na(e,t){return ew(e,await tV(t))}var nu={};h(nu,{builders:()=>nl,printer:()=>nc,utils:()=>nh});var nl={join:ec,line:es,softline:{type:O,soft:!0},hardline:ea,literalline:eu,group:et,conditionalGroup:function(e,t){return et(e[0],{...t,expandedStates:e})},fill:function(e){return Z(e),{type:A,parts:e}},lineSuffix:en,lineSuffixBoundary:{type:L},cursor:el,breakParent:ei,ifBreak:function(e,t="",n={}){return Z(e),""!==t&&Z(t),{type:k,breakContents:e,flatContents:t,groupId:n.groupId}},trim:{type:T},indent:Q,indentIfBreak:function(e,t){return Z(e),{type:_,contents:e,groupId:t.groupId,negate:t.negate}},align:ee,addAlignmentToDoc:eh,markAsRoot:function(e){return ee({type:"root"},e)},dedentToRoot:function(e){return ee(-1/0,e)},dedent:function(e){return ee(-1,e)},hardlineWithoutBreakParent:er,literallineWithoutBreakParent:eo,label:function(e,t){return Z(t),e?{type:R,label:e,contents:t}:t},concat:e=>e},nc={printDocToString:ew},nh={willBreak:function(e){return G(e,$,!1)},traverseDoc:j,findInDoc:G,mapDoc:V,removeLines:function(e){return V(e,W)},stripTrailingHardline:X,replaceEndOfLine:function(e,t=eu){return V(e,e=>"string"==typeof e?ec(t,e.split(`
`)):e)},canBreak:function(e){return G(e,K,!1)}},nd="3.6.2",np={};h(np,{addDanglingComment:()=>eG,addLeadingComment:()=>eV,addTrailingComment:()=>e$,getAlignmentSize:()=>eF,getIndentSize:()=>nv,getMaxContinuousCount:()=>nD,getNextNonSpaceNonCommentCharacter:()=>nb,getNextNonSpaceNonCommentCharacterIndex:()=>nC,getPreferredQuote:()=>nE,getStringWidth:()=>ef,hasNewline:()=>eM,hasNewlineInRange:()=>nx,hasSpaces:()=>nw,isNextLineEmpty:()=>nF,isNextLineEmptyAfterIndex:()=>ny,isPreviousLineEmpty:()=>nT,makeString:()=>nS,skip:()=>eP,skipEverythingButNewLine:()=>eI,skipInlineComment:()=>nf,skipNewline:()=>eN,skipSpaces:()=>eO,skipToLineEnd:()=>eR,skipTrailingComment:()=>nm,skipWhitespace:()=>eL});var nf=function(e,t){if(!1===t)return!1;if("/"===e.charAt(t)&&"*"===e.charAt(t+1)){for(let n=t+2;n<e.length;++n)if("*"===e.charAt(n)&&"/"===e.charAt(n+1))return n+2}return t},nm=function(e,t){return!1!==t&&("/"===e.charAt(t)&&"/"===e.charAt(t+1)?eI(e,t):t)},ng=function(e,t){let n=null,i=t;for(;i!==n;)n=i,i=eO(e,i),i=nf(e,i),i=nm(e,i),i=eN(e,i);return i},ny=function(e,t){let n=null,i=t;for(;i!==n;)n=i,i=eR(e,i),i=nf(e,i),i=eO(e,i);return i=nm(e,i),!1!==(i=eN(e,i))&&eM(e,i)},nv=function(e,t){let n=e.lastIndexOf(`
`);return -1===n?0:eF(e.slice(n+1).match(/^[\t ]*/u)[0],t)},nD=function(e,t){let n=e.match(RegExp(`(${function(e){if("string"!=typeof e)throw TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(t)})+`,"gu"));return null===n?0:n.reduce((e,n)=>Math.max(e,n.length/t.length),0)},nb=function(e,t){let n=ng(e,t);return!1===n?"":e.charAt(n)},nE=function(e,t){let n=!0===t||"'"===t?"'":'"',i="'"===n?'"':"'",r=0,o=0;for(let t of e)t===n?r++:t===i&&o++;return r>o?i:n},nx=function(e,t,n){for(let i=t;i<n;++i)if(e.charAt(i)===`
`)return!0;return!1},nw=function(e,t,n={}){return eO(e,n.backwards?t-1:t,n)!==t},nS=function(e,t,n){let i='"'===t?"'":'"',r=g(!1,e,/\\(.)|(["'])/gsu,(e,r,o)=>r===i?r:o===t?"\\"+o:o||(n&&/^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/u.test(r)?r:"\\"+r));return t+r+t};function nC(e,t){return 2==arguments.length||"number"==typeof t?ng(e,t):function(e,t,n){return ng(e,n(t))}(...arguments)}function nT(e,t){return 2==arguments.length||"number"==typeof t?eJ(e,t):function(e,t,n){return eJ(e,n(t))}(...arguments)}function nF(e,t){return 2==arguments.length||"number"==typeof t?ny(e,t):function(e,t,n){return ny(e,n(t))}(...arguments)}function nA(e,t=1){return async(...n)=>{let i=n[t]??{},r=i.plugins??[];return n[t]={...i,plugins:Array.isArray(r)?r:Object.values(r)},e(...n)}}var nk=nA(nn);async function n_(e,t){let{formatted:n}=await nk(e,{...t,cursorOffset:-1});return n}async function nP(e,t){return await n_(e,t)===e}var nL=nA(e2,0),nO={parse:nA(ni),formatAST:nA(nr),formatDoc:nA(no),printToDoc:nA(ns),printDocToString:nA(na)};return d(o({},"__esModule",{value:!0}),m)}()).default||s;var A=T("gBhAd"),oF={},oA={};T("33Mmf");var ok=T("hvAWv"),o_=T("eSJX3"),oP=ok.createToken,oL=o_.Lexer;const oO={};function oR(e,t){oO[e]="string"==typeof t?t:t.source}function oI(e,...t){let n="";for(let i=0;i<e.length;i++)if(n+=e[i],i<t.length){let e=t[i];n+=`(?:${e})`}return new RegExp(n)}const oN=[],oM={};function oB(e){let t=oP(e);return oN.push(t),oM[e.name]=t,t}oR("NameStartChar","(:|[a-zA-Z]|_|\\u2070-\\u218F|\\u2C00-\\u2FEF|\\u3001-\\uD7FF|\\uF900-\\uFDCF|\\uFDF0-\\uFFFD)"),oR("NameChar",oI`${oO.NameStartChar}|-|\\.|\\d|\\u00B7||[\\u0300-\\u036F]|[\\u203F-\\u2040]`),oR("Name",oI`${oO.NameStartChar}(${oO.NameChar})*`);const oU=oB({name:"Comment",pattern:/<!--(.|\r?\n)*?-->/,line_breaks:!0}),oz=oB({name:"CData",pattern:/<!\[CDATA\[(.|\r?\n)*?]]>/,line_breaks:!0}),oj=oB({name:"DocType",pattern:/<!DOCTYPE/,push_mode:"INSIDE"}),oV=oB({name:"DTD",pattern:/<!.*?>/,group:oL.SKIPPED}),oG=oB({name:"EntityRef",pattern:oI`&${oO.Name};`}),o$=oB({name:"CharRef",pattern:/&#\d+;|&#x[a-fA-F0-9]/}),oH=oB({name:"SEA_WS",pattern:/( |\t|\n|\r\n)+/}),oW=oB({name:"XMLDeclOpen",pattern:/<\?xml[ \t\r\n]/,push_mode:"INSIDE"}),oq=oB({name:"SLASH_OPEN",pattern:/<\//,push_mode:"INSIDE"}),oY=oB({name:"INVALID_SLASH_OPEN",pattern:/<\//,categories:[oq]}),oX=oB({name:"PROCESSING_INSTRUCTION",pattern:oI`<\\?${oO.Name}.*\\?>`}),oK=oB({name:"OPEN",pattern:/</,push_mode:"INSIDE"}),oJ=oB({name:"INVALID_OPEN_INSIDE",pattern:/</,categories:[oK]}),oZ=oB({name:"TEXT",pattern:/[^<&]+/}),oQ=oB({name:"CLOSE",pattern:/>/,pop_mode:!0}),o0=oB({name:"SPECIAL_CLOSE",pattern:/\?>/,pop_mode:!0}),o1=oB({name:"SLASH_CLOSE",pattern:/\/>/,pop_mode:!0}),o2=oB({name:"SLASH",pattern:/\//}),o3=oB({name:"STRING",pattern:/"[^<"]*"|'[^<']*'/}),o6=oB({name:"EQUALS",pattern:/=/}),o8=oB({name:"Name",pattern:oI`${oO.Name}`}),o5=oB({name:"S",pattern:/[ \t\r\n]/,group:oL.SKIPPED});var o4=(oA={xmlLexer:new oL({defaultMode:"OUTSIDE",modes:{OUTSIDE:[oU,oz,oj,oV,oG,o$,oH,oW,oq,oX,oK,oZ],INSIDE:[oU,oY,oJ,oQ,o0,o1,o2,o6,o3,o8,o5]}},{positionTracking:"full",ensureOptimizations:!1,lineTerminatorCharacters:["\n"],lineTerminatorsPattern:/\n|\r\n/g}),tokensDictionary:oM}).xmlLexer;T("33Mmf");var o7=T("5qjkp"),ok=T("hvAWv"),o9=o7.CstParser,se=ok.tokenMatcher,st=oA.tokensDictionary,sn={xmlParser:new class extends o9{constructor(){super(st,{maxLookahead:1,recoveryEnabled:!0,nodeLocationTracking:"full"}),this.deletionRecoveryEnabled=!0;let e=this;e.RULE("document",()=>{e.OPTION(()=>{e.SUBRULE(e.prolog)}),e.MANY(()=>{e.SUBRULE(e.misc)}),e.OPTION2(()=>{e.SUBRULE(e.docTypeDecl)}),e.MANY2(()=>{e.SUBRULE2(e.misc)}),e.SUBRULE(e.element),e.MANY3(()=>{e.SUBRULE3(e.misc)})}),e.RULE("prolog",()=>{e.CONSUME(st.XMLDeclOpen),e.MANY(()=>{e.SUBRULE(e.attribute)}),e.CONSUME(st.SPECIAL_CLOSE)}),e.RULE("docTypeDecl",()=>{e.CONSUME(st.DocType),e.CONSUME(st.Name),e.OPTION(()=>{e.SUBRULE(e.externalID)}),e.CONSUME(st.CLOSE)}),e.RULE("externalID",()=>{e.OR([{GATE:()=>"SYSTEM"===e.LA(1).image,ALT:()=>{e.CONSUME2(st.Name,{LABEL:"System"}),e.CONSUME(st.STRING,{LABEL:"SystemLiteral"})}},{GATE:()=>"PUBLIC"===e.LA(1).image,ALT:()=>{e.CONSUME3(st.Name,{LABEL:"Public"}),e.CONSUME2(st.STRING,{LABEL:"PubIDLiteral"}),e.CONSUME3(st.STRING,{LABEL:"SystemLiteral"})}}])}),e.RULE("content",()=>{e.MANY(()=>{e.OR([{ALT:()=>e.SUBRULE(e.element)},{ALT:()=>e.SUBRULE(e.chardata)},{ALT:()=>e.SUBRULE(e.reference)},{ALT:()=>e.CONSUME(st.CData)},{ALT:()=>e.CONSUME(st.PROCESSING_INSTRUCTION)},{ALT:()=>e.CONSUME(st.Comment)}])})}),e.RULE("element",()=>{e.CONSUME(st.OPEN);try{this.deletionRecoveryEnabled=!1,e.CONSUME(st.Name)}finally{this.deletionRecoveryEnabled=!0}e.MANY(()=>{e.SUBRULE(e.attribute)}),e.OR([{ALT:()=>{e.CONSUME(st.CLOSE,{LABEL:"START_CLOSE"}),e.SUBRULE(e.content),e.CONSUME(st.SLASH_OPEN),e.CONSUME2(st.Name,{LABEL:"END_NAME"}),e.CONSUME2(st.CLOSE,{LABEL:"END"})}},{ALT:()=>{e.CONSUME(st.SLASH_CLOSE)}}])}),e.RULE("reference",()=>{e.OR([{ALT:()=>e.CONSUME(st.EntityRef)},{ALT:()=>e.CONSUME(st.CharRef)}])}),e.RULE("attribute",()=>{e.CONSUME(st.Name);try{this.deletionRecoveryEnabled=!1,e.CONSUME(st.EQUALS),e.CONSUME(st.STRING)}finally{this.deletionRecoveryEnabled=!0}}),e.RULE("chardata",()=>{e.OR([{ALT:()=>e.CONSUME(st.TEXT)},{ALT:()=>e.CONSUME(st.SEA_WS)}])}),e.RULE("misc",()=>{e.OR([{ALT:()=>e.CONSUME(st.Comment)},{ALT:()=>e.CONSUME(st.PROCESSING_INSTRUCTION)},{ALT:()=>e.CONSUME(st.SEA_WS)}])}),this.performSelfAnalysis()}canRecoverWithSingleTokenDeletion(e){return!1!==this.deletionRecoveryEnabled&&super.canRecoverWithSingleTokenDeletion(e)}findReSyncTokenType(){let e=this.flattenFollowSet(),t=this.LA(1),n=2;for(;;){let i=e.find(e=>se(t,e));if(void 0!==i)return i;t=this.LA(n),n++}}}}.xmlParser;function si(e,t){return Object.assign(SyntaxError(e+" ("+t.loc.start.line+":"+t.loc.start.column+")"),t)}oF={parse:function(e){let t=o4.tokenize(e);return sn.input=t.tokens,{cst:sn.document(),tokenVector:t.tokens,lexErrors:t.errors,parseErrors:sn.errors}},BaseXmlCstVisitor:sn.getBaseCstVisitorConstructor()};var sr={};const{dedentToRoot:so,group:ss,hardline:sa,indent:su,join:sl,line:sc,literalline:sh,softline:sd}=(sr=(a=function(){var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,r={},o={builders:()=>er,printer:()=>eo,utils:()=>es};for(var s in o)e(r,s,{get:o[s],enumerable:!0});var a="string",u="array",l="cursor",c="indent",h="align",d="trim",p="group",f="fill",m="if-break",g="indent-if-break",y="line-suffix",v="line-suffix-boundary",D="line",b="label",E="break-parent",x=new Set([l,c,h,d,p,f,m,g,y,v,D,b,E]),w=(e,t,n)=>{if(!e||null!=t)return Array.isArray(t)||"string"==typeof t?t[n<0?t.length+n:n]:t.at(n)},S=function(e){if("string"==typeof e)return a;if(Array.isArray(e))return u;if(!e)return;let{type:t}=e;if(x.has(t))return t},C=class extends Error{name="InvalidDocError";constructor(e){super(function(e){let t,n=null===e?"null":typeof e;if("string"!==n&&"object"!==n)return`Unexpected doc '${n}', 
Expected it to be 'string' or 'object'.`;if(S(e))throw Error("doc is valid.");let i=Object.prototype.toString.call(e);if("[object Object]"!==i)return`Unexpected doc '${i}'.`;let r=(t=[...x].map(e=>`'${e}'`),new Intl.ListFormat("en-US",{type:"disjunction"}).format(t));return`Unexpected doc.type '${e.type}'.
Expected it to be ${r}.`}(e)),this.doc=e}},T={},F=function(e,t,n,i){let r=[e];for(;r.length>0;){let e=r.pop();if(e===T){n(r.pop());continue}n&&r.push(e,T);let o=S(e);if(!o)throw new C(e);if((null==t?void 0:t(e))!==!1)switch(o){case u:case f:{let t=o===u?e:e.parts;for(let e=t.length,n=e-1;n>=0;--n)r.push(t[n]);break}case m:r.push(e.flatContents,e.breakContents);break;case p:if(i&&e.expandedStates)for(let t=e.expandedStates.length,n=t-1;n>=0;--n)r.push(e.expandedStates[n]);else r.push(e.contents);break;case h:case c:case g:case b:case y:r.push(e.contents);break;case a:case l:case d:case v:case D:case E:break;default:throw new C(e)}}};function A(e,t){if("string"==typeof e)return t(e);let n=new Map;return function e(i){if(n.has(i))return n.get(i);let r=function(n){switch(S(n)){case u:return t(n.map(e));case f:return t({...n,parts:n.parts.map(e)});case m:return t({...n,breakContents:e(n.breakContents),flatContents:e(n.flatContents)});case p:{let{expandedStates:i,contents:r}=n;return r=i?(i=i.map(e))[0]:e(r),t({...n,contents:r,expandedStates:i})}case h:case c:case g:case b:case y:return t({...n,contents:e(n.contents)});case a:case l:case d:case v:case D:case E:return t(n);default:throw new C(n)}}(i);return n.set(i,r),r}(e)}function k(e,t,n){let i=n,r=!1;return F(e,function(e){if(r)return!1;let n=t(e);void 0!==n&&(r=!0,i=n)}),i}function _(e){if(e.type===p&&e.break||e.type===D&&e.hard||e.type===E)return!0}function P(e){if(e.length>0){let t=w(!1,e,-1);t.expandedStates||t.break||(t.break="propagated")}return null}function L(e){return e.type!==D||e.hard?e.type===m?e.flatContents:e:e.soft?"":" "}function O(e){for(e=[...e];e.length>=2&&w(!1,e,-2).type===D&&w(!1,e,-1).type===E;)e.length-=2;if(e.length>0){let t=R(w(!1,e,-1));e[e.length-1]=t}return e}function R(e){switch(S(e)){case c:case g:case p:case y:case b:{let t=R(e.contents);return{...e,contents:t}}case m:return{...e,breakContents:R(e.breakContents),flatContents:R(e.flatContents)};case f:return{...e,parts:O(e.parts)};case u:return O(e);case a:let t=e.length;for(;t>0&&("\r"===e[t-1]||"\n"===e[t-1]);)t--;return t<e.length?e.slice(0,t):e;case h:case l:case d:case v:case D:case E:break;default:throw new C(e)}return e}function I(e){if(e.type===D)return!0}var N=()=>{};function M(e){return N(e),{type:c,contents:e}}function B(e,t){return N(t),{type:h,contents:t,n:e}}function U(e,t={}){return N(e),N(t.expandedStates,!0),{type:p,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}var z={type:E},j={type:D,hard:!0},V={type:D,hard:!0,literal:!0},G=[j,z],$=[V,z];function H(e,t){N(e),N(t);let n=[];for(let i=0;i<t.length;i++)0!==i&&n.push(e),n.push(t[i]);return n}var W=(e,t,n,i)=>{if(!e||null!=t)return t.replaceAll?t.replaceAll(n,i):n.global?t.replace(n,i):t.split(n).join(i)},q=e=>{var t;return!(12288===e||e>=65281&&e<=65376||e>=65504&&e<=65510||(t=e)>=4352&&t<=4447||8986===t||8987===t||9001===t||9002===t||t>=9193&&t<=9196||9200===t||9203===t||9725===t||9726===t||9748===t||9749===t||t>=9776&&t<=9783||t>=9800&&t<=9811||9855===t||t>=9866&&t<=9871||9875===t||9889===t||9898===t||9899===t||9917===t||9918===t||9924===t||9925===t||9934===t||9940===t||9962===t||9970===t||9971===t||9973===t||9978===t||9981===t||9989===t||9994===t||9995===t||10024===t||10060===t||10062===t||t>=10067&&t<=10069||10071===t||t>=10133&&t<=10135||10160===t||10175===t||11035===t||11036===t||11088===t||11093===t||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12287||t>=12289&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12591||t>=12593&&t<=12686||t>=12688&&t<=12773||t>=12783&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=94176&&t<=94180||94192===t||94193===t||t>=94208&&t<=100343||t>=100352&&t<=101589||t>=101631&&t<=101640||t>=110576&&t<=110579||t>=110581&&t<=110587||110589===t||110590===t||t>=110592&&t<=110882||110898===t||t>=110928&&t<=110930||110933===t||t>=110948&&t<=110951||t>=110960&&t<=111355||t>=119552&&t<=119638||t>=119648&&t<=119670||126980===t||127183===t||127374===t||t>=127377&&t<=127386||t>=127488&&t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||127568===t||127569===t||t>=127584&&t<=127589||t>=127744&&t<=127776||t>=127789&&t<=127797||t>=127799&&t<=127868||t>=127870&&t<=127891||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||127988===t||t>=127992&&t<=128062||128064===t||t>=128066&&t<=128252||t>=128255&&t<=128317||t>=128331&&t<=128334||t>=128336&&t<=128359||128378===t||128405===t||128406===t||128420===t||t>=128507&&t<=128591||t>=128640&&t<=128709||128716===t||t>=128720&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128735||128747===t||128748===t||t>=128756&&t<=128764||t>=128992&&t<=129003||129008===t||t>=129292&&t<=129338||t>=129340&&t<=129349||t>=129351&&t<=129535||t>=129648&&t<=129660||t>=129664&&t<=129673||t>=129679&&t<=129734||t>=129742&&t<=129756||t>=129759&&t<=129769||t>=129776&&t<=129784||t>=131072&&t<=196605||t>=196608&&t<=262141)},Y=/[^\x20-\x7F]/u,X=function(e){if(!e)return 0;if(!Y.test(e))return e.length;e=e.replace(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,"  ");let t=0;for(let n of e){let e=n.codePointAt(0);e<=31||e>=127&&e<=159||e>=768&&e<=879||(t+=q(e)?1:2)}return t},K=Symbol("MODE_BREAK"),J=Symbol("MODE_FLAT"),Z=Symbol("cursor"),Q=Symbol("DOC_FILL_PRINTED_LENGTH");function ee(){return{value:"",length:0,queue:[]}}function et(e,t,n){let i="dedent"===t.type?e.queue.slice(0,-1):[...e.queue,t],r="",o=0,s=0,a=0;for(let e of i)switch(e.type){case"indent":c(),n.useTabs?u(1):l(n.tabWidth);break;case"stringAlign":c(),r+=e.n,o+=e.n.length;break;case"numberAlign":s+=1,a+=e.n;break;default:throw Error(`Unexpected type '${e.type}'`)}return h(),{...e,value:r,length:o,queue:i};function u(e){r+="	".repeat(e),o+=n.tabWidth*e}function l(e){r+=" ".repeat(e),o+=e}function c(){n.useTabs?(s>0&&u(s),s=0,a=0):h()}function h(){a>0&&l(a),s=0,a=0}}function en(e){let t=0,n=0,i=e.length;r:for(;i--;){let r=e[i];if(r===Z){n++;continue}for(let n=r.length-1;n>=0;n--){let o=r[n];if(" "===o||"	"===o)t++;else{e[i]=r.slice(0,n+1);break r}}}if(t>0||n>0)for(e.length=i+1;n-- >0;)e.push(Z);return t}function ei(e,t,n,i,r,o){if(n===1/0)return!0;let s=t.length,l=[e],E=[];for(;n>=0;){if(0===l.length){if(0===s)return!0;l.push(t[--s]);continue}let{mode:e,doc:x}=l.pop(),C=S(x);switch(C){case a:E.push(x),n-=X(x);break;case u:case f:{let t=C===u?x:x.parts,n=x[Q]??0;for(let i=t.length-1;i>=n;i--)l.push({mode:e,doc:t[i]});break}case c:case h:case g:case b:l.push({mode:e,doc:x.contents});break;case d:n+=en(E);break;case p:{if(o&&x.break)return!1;let t=x.break?K:e,n=x.expandedStates&&t===K?w(!1,x.expandedStates,-1):x.contents;l.push({mode:t,doc:n});break}case m:{let t=(x.groupId?r[x.groupId]||J:e)===K?x.breakContents:x.flatContents;t&&l.push({mode:e,doc:t});break}case D:if(e===K||x.hard)return!0;!x.soft&&(E.push(" "),n--);break;case y:i=!0;break;case v:if(i)return!1}}return!1}var er={join:H,line:{type:D},softline:{type:D,soft:!0},hardline:G,literalline:$,group:U,conditionalGroup:function(e,t){return U(e[0],{...t,expandedStates:e})},fill:function(e){return N(e),{type:f,parts:e}},lineSuffix:function(e){return N(e),{type:y,contents:e}},lineSuffixBoundary:{type:v},cursor:{type:l},breakParent:z,ifBreak:function(e,t="",n={}){return N(e),""!==t&&N(t),{type:m,breakContents:e,flatContents:t,groupId:n.groupId}},trim:{type:d},indent:M,indentIfBreak:function(e,t){return N(e),{type:g,contents:e,groupId:t.groupId,negate:t.negate}},align:B,addAlignmentToDoc:function(e,t,n){N(e);let i=e;if(t>0){for(let e=0;e<Math.floor(t/n);++e)i=M(i);i=B(t%n,i),i=B(-1/0,i)}return i},markAsRoot:function(e){return B({type:"root"},e)},dedentToRoot:function(e){return B(-1/0,e)},dedent:function(e){return B(-1,e)},hardlineWithoutBreakParent:j,literallineWithoutBreakParent:V,label:function(e,t){return N(t),e?{type:b,label:e,contents:t}:t},concat:e=>e},eo={printDocToString:function(e,t){var n;let i={},r=t.printWidth,o=function(e){switch(e){case"cr":return"\r";case"crlf":return"\r\n";default:return"\n"}}(t.endOfLine),s=0,x=[{ind:ee(),mode:K,doc:e}],T=[],A=!1,k=[],_=0,L=new Set,O=[];for(F(e,function(e){if(e.type===E&&P(O),e.type===p){if(O.push(e),L.has(e))return!1;L.add(e)}},function(e){e.type===p&&O.pop().break&&P(O)},!0);x.length>0;){let{ind:e,mode:F,doc:P}=x.pop();switch(S(P)){case a:{let e="\n"!==o?W(!1,P,"\n",o):P;T.push(e),x.length>0&&(s+=X(e));break}case u:for(let t=P.length-1;t>=0;t--)x.push({ind:e,mode:F,doc:P[t]});break;case l:if(_>=2)throw Error("There are too many 'cursor' in doc.");T.push(Z),_++;break;case c:x.push({ind:et(e,{type:"indent"},t),mode:F,doc:P.contents});break;case h:x.push({ind:(n=P.n,n===-1/0?e.root||ee():n<0?et(e,{type:"dedent"},t):n?"root"===n.type?{...e,root:e}:et(e,{type:"string"==typeof n?"stringAlign":"numberAlign",n:n},t):e),mode:F,doc:P.contents});break;case d:s-=en(T);break;case p:switch(F){case J:if(!A){x.push({ind:e,mode:P.break?K:J,doc:P.contents});break}case K:{A=!1;let t={ind:e,mode:J,doc:P.contents},n=r-s,o=k.length>0;if(!P.break&&ei(t,x,n,o,i))x.push(t);else if(P.expandedStates){let t=w(!1,P.expandedStates,-1);if(P.break)x.push({ind:e,mode:K,doc:t});else for(let r=1;r<P.expandedStates.length+1;r++)if(r>=P.expandedStates.length){x.push({ind:e,mode:K,doc:t});break}else{let t={ind:e,mode:J,doc:P.expandedStates[r]};if(ei(t,x,n,o,i)){x.push(t);break}}}else x.push({ind:e,mode:K,doc:P.contents})}}P.id&&(i[P.id]=w(!1,x,-1).mode);break;case f:{let t=r-s,n=P[Q]??0,{parts:o}=P,a=o.length-n;if(0===a)break;let u=o[n+0],l=o[n+1],c={ind:e,mode:J,doc:u},h={ind:e,mode:K,doc:u},d=ei(c,[],t,k.length>0,i,!0);if(1===a){d?x.push(c):x.push(h);break}let p={ind:e,mode:J,doc:l},f={ind:e,mode:K,doc:l};if(2===a){d?x.push(p,c):x.push(f,h);break}let m=o[n+2],g={ind:e,mode:F,doc:{...P,[Q]:n+2}};ei({ind:e,mode:J,doc:[u,l,m]},[],t,k.length>0,i,!0)?x.push(g,p,c):d?x.push(g,f,c):x.push(g,f,h);break}case m:case g:{let t=P.groupId?i[P.groupId]:F;if(t===K){let t=P.type===m?P.breakContents:P.negate?P.contents:M(P.contents);t&&x.push({ind:e,mode:F,doc:t})}if(t===J){let t=P.type===m?P.flatContents:P.negate?M(P.contents):P.contents;t&&x.push({ind:e,mode:F,doc:t})}break}case y:k.push({ind:e,mode:F,doc:P.contents});break;case v:k.length>0&&x.push({ind:e,mode:F,doc:j});break;case D:switch(F){case J:if(P.hard)A=!0;else{P.soft||(T.push(" "),s+=1);break}case K:if(k.length>0){x.push({ind:e,mode:F,doc:P},...k.reverse()),k.length=0;break}P.literal?e.root?(T.push(o,e.root.value),s=e.root.length):(T.push(o),s=0):(s-=en(T),T.push(o+e.value),s=e.length)}break;case b:x.push({ind:e,mode:F,doc:P.contents});break;case E:break;default:throw new C(P)}0===x.length&&k.length>0&&(x.push(...k.reverse()),k.length=0)}let R=T.indexOf(Z);if(-1!==R){let e=T.indexOf(Z,R+1);if(-1===e)return{formatted:T.filter(e=>e!==Z).join("")};let t=T.slice(0,R).join(""),n=T.slice(R+1,e).join("");return{formatted:t+n+T.slice(e+1).join(""),cursorNodeStart:t.length,cursorNodeText:n}}return{formatted:T.join("")}}},es={willBreak:function(e){return k(e,_,!1)},traverseDoc:F,findInDoc:k,mapDoc:A,removeLines:function(e){return A(e,L)},stripTrailingHardline:function(e){return R(A(e,e=>(function(e){switch(S(e)){case f:if(e.parts.every(e=>""===e))return"";break;case p:if(!e.contents&&!e.id&&!e.break&&!e.expandedStates)return"";if(e.contents.type===p&&e.contents.id===e.id&&e.contents.break===e.break&&e.contents.expandedStates===e.expandedStates)return e.contents;break;case h:case c:case g:case y:if(!e.contents)return"";break;case m:if(!e.flatContents&&!e.breakContents)return"";break;case u:{let t=[];for(let n of e){if(!n)continue;let[e,...i]=Array.isArray(n)?n:[n];"string"==typeof e&&"string"==typeof w(!1,t,-1)?t[t.length-1]+=e:t.push(e),t.push(...i)}if(0===t.length)return"";if(1===t.length)return t[0];return t}case a:case l:case d:case v:case D:case b:case E:break;default:throw new C(e)}return e})(e)))},replaceEndOfLine:function(e,t=$){return A(e,e=>"string"==typeof e?H(t,e.split("\n")):e)},canBreak:function(e){return k(e,I,!1)}};return((r,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let u of n(o))i.call(r,u)||u===s||e(r,u,{get:()=>o[u],enumerable:!(a=t(o,u))||a.enumerable});return r})(e({},"__esModule",{value:!0}),r)}()).default||a).builders,{fill:sp,group:sf,hardline:sm,indent:sg,join:sy,line:sv,literalline:sD,softline:sb}=sr.builders,sE="\x3c!-- prettier-ignore-start --\x3e",sx="\x3c!-- prettier-ignore-end --\x3e";function sw(e){if(0===e.length)return!1;e.sort((e,t)=>e.startOffset-t.startOffset);let t=!1;for(let n=0;n<e.length;n+=1)if(e[n].image===sE)t=!0;else if(t&&e[n].image===sx)return!0;return!1}function sS(e){let t=e.getValue();return{offset:t.startOffset,startLine:t.startLine,endLine:t.endLine,printed:t.image}}var sC={languages:[{name:"Ant Build System",tmScope:"text.xml.ant",codemirrorMode:"xml",codemirrorMimeType:"application/xml",filenames:["ant.xml","build.xml"],since:"0.1.0",parsers:["xml"],linguistLanguageId:15,vscodeLanguageIds:["xml"]},{name:"COLLADA",extensions:[".dae"],tmScope:"text.xml",codemirrorMode:"xml",codemirrorMimeType:"text/xml",since:"0.1.0",parsers:["xml"],linguistLanguageId:49,vscodeLanguageIds:["xml"]},{name:"Eagle",extensions:[".sch",".brd"],tmScope:"text.xml",codemirrorMode:"xml",codemirrorMimeType:"text/xml",since:"0.1.0",parsers:["xml"],linguistLanguageId:97,vscodeLanguageIds:["xml"]},{name:"Genshi",extensions:[".kid"],tmScope:"text.xml.genshi",aliases:["xml+genshi","xml+kid"],codemirrorMode:"xml",codemirrorMimeType:"text/xml",since:"0.1.0",parsers:["xml"],linguistLanguageId:126,vscodeLanguageIds:["xml"]},{name:"JetBrains MPS",extensions:[".mps",".mpl",".msd"],tmScope:"none",aliases:["mps"],codemirrorMode:"xml",codemirrorMimeType:"text/xml",since:"0.1.0",parsers:["xml"],linguistLanguageId:0x1bb9dc10,vscodeLanguageIds:["xml"]},{name:"LabVIEW",extensions:[".lvproj",".lvclass",".lvlib"],tmScope:"text.xml",codemirrorMode:"xml",codemirrorMimeType:"text/xml",since:"0.1.0",parsers:["xml"],linguistLanguageId:194,vscodeLanguageIds:["xml"]},{name:"Maven POM",tmScope:"text.xml.pom",codemirrorMode:"xml",codemirrorMimeType:"text/xml",group:"XML",filenames:["pom.xml"],since:"0.1.0",parsers:["xml"],linguistLanguageId:226,vscodeLanguageIds:["xml"]},{name:"SVG",extensions:[".svg"],tmScope:"text.xml.svg",codemirrorMode:"xml",codemirrorMimeType:"text/xml",since:"0.1.0",parsers:["xml"],linguistLanguageId:337,vscodeLanguageIds:["xml"]},{name:"Web Ontology Language",extensions:[".owl"],tmScope:"text.xml",since:"0.1.0",parsers:["xml"],linguistLanguageId:394,vscodeLanguageIds:["xml"]},{name:"XML",extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".inx",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mm",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".qhelp",".rdf",".res",".resx",".rs",".rss",".runsettings",".sch",".scxml",".sfproj",".shproj",".slnx",".srdf",".storyboard",".sublime-snippet",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],tmScope:"text.xml",aliases:["rss","xsd","wsdl"],codemirrorMode:"xml",codemirrorMimeType:"text/xml",filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"],since:"0.1.0",parsers:["xml"],linguistLanguageId:399,vscodeLanguageIds:["xml"]},{name:"XML Property List",extensions:[".plist",".stTheme",".tmCommand",".tmLanguage",".tmPreferences",".tmSnippet",".tmTheme"],tmScope:"text.xml.plist",codemirrorMode:"xml",codemirrorMimeType:"text/xml",group:"XML",since:"0.1.0",parsers:["xml"],linguistLanguageId:0x481e9d7,vscodeLanguageIds:["xml"]},{name:"XPages",extensions:[".xsp-config",".xsp.metadata"],tmScope:"text.xml",codemirrorMode:"xml",codemirrorMimeType:"text/xml",since:"0.1.0",parsers:["xml"],linguistLanguageId:400,vscodeLanguageIds:["xml"]},{name:"XProc",extensions:[".xpl",".xproc"],tmScope:"text.xml",codemirrorMode:"xml",codemirrorMimeType:"text/xml",since:"0.1.0",parsers:["xml"],linguistLanguageId:401,vscodeLanguageIds:["xml"]},{name:"XSLT",extensions:[".xslt",".xsl"],tmScope:"text.xml.xsl",aliases:["xsl"],codemirrorMode:"xml",codemirrorMimeType:"text/xml",since:"0.1.0",parsers:["xml"],linguistLanguageId:404,vscodeLanguageIds:["xml"]}],parsers:{xml:{parse(e){let{lexErrors:t,parseErrors:n,cst:i}=(0,oF.parse)(e);if(t.length>0){let e=t[0];throw si(e.message,{loc:{start:{line:e.line,column:e.column},end:{line:e.line,column:e.column+e.length}}})}if(n.length>0){let e=n[0];throw si(e.message,{loc:{start:{line:e.token.startLine,column:e.token.startColumn},end:{line:e.token.endLine,column:e.token.endColumn}}})}return function e(t){switch(t.name){case"attribute":{let{Name:e,EQUALS:n,STRING:i}=t.children;return{name:"attribute",Name:e[0].image,EQUALS:n[0].image,STRING:i[0].image,location:t.location}}case"chardata":{let{SEA_WS:e,TEXT:n}=t.children;return{name:"chardata",SEA_WS:e?e[0].image:null,TEXT:n?n[0].image:null,location:t.location}}case"content":{let{CData:n,Comment:i,chardata:r,element:o,PROCESSING_INSTRUCTION:s,reference:a}=t.children;return{name:"content",CData:n||[],Comment:i||[],chardata:(r||[]).map(e),element:(o||[]).map(e),PROCESSING_INSTRUCTION:s||[],reference:(a||[]).map(e),location:t.location}}case"docTypeDecl":{let{DocType:n,Name:i,externalID:r,CLOSE:o}=t.children;return{name:"docTypeDecl",DocType:n[0].image,Name:i[0].image,externalID:r?e(r[0]):null,CLOSE:o[0].image,location:t.location}}case"document":{let{docTypeDecl:n,element:i,misc:r,prolog:o}=t.children;return{name:"document",docTypeDecl:n?e(n[0]):null,element:i?e(i[0]):null,misc:(r||[]).filter(e=>!e.children.SEA_WS).map(e),prolog:o?e(o[0]):null,location:t.location}}case"element":{let{OPEN:n,Name:i,attribute:r,START_CLOSE:o,content:s,SLASH_OPEN:a,END_NAME:u,END:l,SLASH_CLOSE:c}=t.children;return{name:"element",OPEN:n[0].image,Name:i[0].image,attribute:(r||[]).map(e),START_CLOSE:o?o[0].image:null,content:s?e(s[0]):null,SLASH_OPEN:a?a[0].image:null,END_NAME:u?u[0].image:null,END:l?l[0].image:null,SLASH_CLOSE:c?c[0].image:null,location:t.location}}case"externalID":{let{Public:e,PubIDLiteral:n,System:i,SystemLiteral:r}=t.children;return{name:"externalID",Public:e?e[0].image:null,PubIDLiteral:n?n[0].image:null,System:i?i[0].image:null,SystemLiteral:r?r[0].image:null,location:t.location}}case"misc":{let{Comment:e,PROCESSING_INSTRUCTION:n,SEA_WS:i}=t.children;return{name:"misc",Comment:e?e[0].image:null,PROCESSING_INSTRUCTION:n?n[0].image:null,SEA_WS:i?i[0].image:null,location:t.location}}case"prolog":{let{XMLDeclOpen:n,attribute:i,SPECIAL_CLOSE:r}=t.children;return{name:"prolog",XMLDeclOpen:n[0].image,attribute:(i||[]).map(e),SPECIAL_CLOSE:r[0].image,location:t.location}}case"reference":{let{CharRef:e,EntityRef:n}=t.children;return{name:"reference",CharRef:e?e[0].image:null,EntityRef:n?n[0].image:null,location:t.location}}default:throw Error(`Unknown node type: ${t.name}`)}}(i)},astFormat:"xml",locStart:e=>e.location.startOffset,locEnd:e=>e.location.endOffset}},printers:{xml:{getVisitorKeys:(e,t)=>Object.keys(e).filter(e=>"location"!==e&&"tokenType"!==e),embed:function(e,t){let n=e.getValue();if("element"!==n.name)return;let i=function(e,t){let{Name:n,attribute:i}=e,r=n.toLowerCase();return"xml"===r?null:(("style"===r||"script"===r)&&i.length>0&&(r=function(e){for(let t of e)if("type"===t.Name){let e=t.STRING;if(e.startsWith('"text/')&&e.endsWith('"'))return e.slice(6,-1)}return null}(i)),"javascript"===r&&(r="babel"),t.plugins.some(e=>"string"!=typeof e&&e.parsers&&Object.prototype.hasOwnProperty.call(e.parsers,r)))?r:null}(n,t);if(!i||!n.content)return;let r=n.content;if(0!==r.chardata.length&&!(r.CData.length>0)&&!(r.Comment.length>0)&&!(r.element.length>0)&&!(r.PROCESSING_INSTRUCTION.length>0)&&!(r.reference.length>0))return async function(n,o){let{openTag:s,closeTag:a}=function(e,t,n){let{OPEN:i,Name:r,attribute:o,START_CLOSE:s,SLASH_OPEN:a,END_NAME:u,END:l}=e.getValue(),c=[i,r];return o.length>0&&c.push(su([sc,sl(sc,e.map(n,"attribute"))])),t.bracketSameLine||c.push(sd),{openTag:ss([...c,s]),closeTag:ss([a,u,l])}}(e,t,o),u=await n(r.chardata.map(e=>{let{SEA_WS:t,TEXT:n}=e;return{offset:e.location.startOffset,printed:t||n}}).sort(({offset:e})=>e).map(({printed:e})=>e).join(""),{parser:i});return ss([s,sh,so(sr.utils.replaceEndOfLine(u)),sa,a])}},print(e,t,n){let i=e.getValue();switch(i.name){case"attribute":let r,{Name:o,EQUALS:s,STRING:a}=e.getValue();if("double"===t.xmlQuoteAttributes){let e=a.slice(1,-1).replaceAll('"',"&quot;");r=`"${e}"`}else if("single"===t.xmlQuoteAttributes){let e=a.slice(1,-1).replaceAll("'","&apos;");r=`'${e}'`}else r=a;return[o,s,r];case"chardata":let{SEA_WS:u,TEXT:l}=e.getValue();return(u||l).split(/(\n)/g).map((e,t)=>t%2==0?e:sD);case"content":return function(e,t,n){let i=[...e.map(sS,"CData"),...e.map(sS,"Comment"),...e.map(e=>({offset:e.getValue().location.startOffset,printed:n(e)}),"chardata"),...e.map(e=>({offset:e.getValue().location.startOffset,printed:n(e)}),"element"),...e.map(sS,"PROCESSING_INSTRUCTION"),...e.map(e=>({offset:e.getValue().location.startOffset,printed:n(e)}),"reference")],{Comment:r}=e.getValue();if(sw(r)){r.sort((e,t)=>e.startOffset-t.startOffset);let e=[],n=null;r.forEach(t=>{t.image===sE?n=t:n&&t.image===sx&&(e.push({start:n.startOffset,end:t.endOffset}),n=null)}),i=i.filter(t=>e.every(({start:e,end:n})=>t.offset<e||t.offset>n)),e.forEach(({start:e,end:n})=>{let r=t.originalText.slice(e,n+1);i.push({offset:e,printed:sr.utils.replaceEndOfLine(r)})})}return i.sort((e,t)=>e.offset-t.offset),sf(i.map(({printed:e})=>e))}(e,t,n);case"docTypeDecl":let{DocType:c,Name:h,externalID:d,CLOSE:p}=e.getValue(),f=[c," ",h];return d&&f.push(" ",e.call(n,"externalID")),sf([...f,p]);case"document":let{docTypeDecl:m,element:g,misc:y,prolog:v}=e.getValue(),D=[];return m&&D.push({offset:m.location.startOffset,printed:e.call(n,"docTypeDecl")}),v&&D.push({offset:v.location.startOffset,printed:e.call(n,"prolog")}),e.each(e=>{let t=e.getValue();D.push({offset:t.location.startOffset,printed:n(e)})},"misc"),g&&D.push({offset:g.location.startOffset,printed:e.call(n,"element")}),D.sort((e,t)=>e.offset-t.offset),[sy(sm,D.map(({printed:e})=>e)),sm];case"element":return function(e,t,n){let i,{OPEN:r,Name:o,attribute:s,START_CLOSE:a,content:u,SLASH_OPEN:l,END_NAME:c,END:h,SLASH_CLOSE:d}=e.getValue(),p=[r,o];if(s.length>0){let i=e.map(e=>({node:e.getValue(),printed:n(e)}),"attribute");t.xmlSortAttributesByKey&&i.sort((e,t)=>{let n=e.node.Name,i=t.node.Name;if("xmlns"===n)return -1;if("xmlns"===i)return 1;if(n.includes(":")&&i.includes(":")){let[e,t]=n.split(":"),[r,o]=i.split(":");return e===r?t.localeCompare(o):"xmlns"===e?-1:"xmlns"===r?1:e.localeCompare(r)}return n.includes(":")?-1:i.includes(":")?1:n.localeCompare(i)});let r=t.singleAttributePerLine?sm:sv;p.push(sg([sv,sy(r,i.map(({printed:e})=>e))]))}if(i=t.bracketSameLine?t.xmlSelfClosingSpace?" ":"":t.xmlSelfClosingSpace?sv:sb,d)return sf([...p,i,d]);if(0===u.chardata.length&&0===u.CData.length&&0===u.Comment.length&&0===u.element.length&&0===u.PROCESSING_INSTRUCTION.length&&0===u.reference.length)return sf([...p,i,"/>"]);let f=sf([...p,t.bracketSameLine?"":sb,a]),m=sf([l,c,h]);if(!("strict"===t.xmlWhitespaceSensitivity||"xsl:text"===o||s.some(e=>e&&"xml:space"===e.Name&&"preserve"===e.STRING.slice(1,-1))||u.CData.length>0||sw(u.Comment))&&1){let r=e.call(e=>(function(e,t,n){let i=e.getValue(),r=[];return r=r.concat(e.map(sS,"Comment")),i.chardata.length>0&&(r=i.chardata.some(e=>!!e.TEXT)&&"preserve"===t.xmlWhitespaceSensitivity?r.concat(function(e,t){let n,i=[];return e.each(e=>{let r=e.getValue().location,o=t(e);if(n&&r.startColumn&&n.endColumn&&r.startLine===n.endLine&&r.startColumn===n.endColumn+1){let e=i[i.length-1];e.endLine=r.endLine,e.printed=sf([e.printed,o])}else i.push({offset:r.startOffset,startLine:r.startLine,endLine:r.endLine,printed:o,whitespace:!0});n=r},"chardata"),i}(e,n)):r.concat(function(e){let t=[];return e.each(e=>{let n=e.getValue();if(!n.TEXT)return;let i=sf(n.TEXT.replaceAll(/^[\t\n\r\s]+|[\t\n\r\s]+$/g,"").split(/(\n)/g).map(e=>"\n"===e?sD:sp(e.split(/\b( +)\b/g).map((e,t)=>t%2==0?e:sv)))),r=n.location;t.push({offset:r.startOffset,startLine:r.startLine,endLine:r.endLine,printed:i})},"chardata"),t}(e,n))),r=(r=(r=r.concat(e.map(e=>{let t=e.getValue().location;return{offset:t.startOffset,startLine:t.startLine,endLine:t.endLine,printed:n(e)}},"element"))).concat(e.map(sS,"PROCESSING_INSTRUCTION"))).concat(e.map(e=>{let t=e.getValue();return{type:"reference",offset:t.location.startOffset,startLine:t.location.startLine,endLine:t.location.endLine,printed:n(e)}},"reference"))})(e,t,n),"content");if(r.sort((e,t)=>e.offset-t.offset),"preserve"===t.xmlWhitespaceSensitivity&&r.some(({whitespace:e})=>e))return sf([f,r.map(({printed:e})=>e),m]);if(0===r.length)return sf([...p,i,"/>"]);if(1===r.length&&1===u.chardata.filter(e=>e.TEXT).length)return sf([f,sg([sb,r[0].printed]),sb,m]);let o=sm;r.length===u.chardata.filter(e=>e.TEXT).length+u.reference.length&&(o=" ");let s=[sm],a=r[0].startLine;return r.forEach((e,t)=>{0!==t&&(e.startLine-a>=2?s.push(sm,sm):s.push(o)),s.push(e.printed),a=e.endLine}),sf([f,sg(s),sm,m])}return sf([f,sg(e.call(n,"content")),m])}(e,t,n);case"externalID":let{Public:b,PubIDLiteral:E,System:x,SystemLiteral:w}=e.getValue();return x?sf([x,sg([sv,w])]):sf([sf([b,sg([sv,E])]),sg([sv,w])]);case"misc":let{Comment:S,PROCESSING_INSTRUCTION:C,SEA_WS:T}=e.getValue();return S||C||T;case"prolog":let{XMLDeclOpen:F,attribute:A,SPECIAL_CLOSE:k}=e.getValue(),_=[F];return A&&_.push(sg([sb,sy(sv,e.map(n,"attribute"))])),sf([..._,t.xmlSelfClosingSpace?sv:sb,k]);case"reference":let{CharRef:P,EntityRef:L}=e.getValue();return P||L;default:throw Error(`Unknown node type: ${i.name}`)}}}},options:{xmlSelfClosingSpace:{type:"boolean",category:"XML",default:!0,description:"Adds a space before self-closing tags.",since:"1.1.0"},xmlWhitespaceSensitivity:{type:"choice",category:"XML",default:"strict",description:"How to handle whitespaces in XML.",choices:[{value:"strict",description:"Whitespaces are considered sensitive in all elements."},{value:"preserve",description:"Whitespaces within text nodes in XML elements and attributes are considered sensitive."},{value:"ignore",description:"Whitespaces are considered insensitive in all elements."}],since:"0.6.0"},xmlSortAttributesByKey:{type:"boolean",category:"XML",default:!1,description:"Orders XML attributes by key alphabetically while prioritizing xmlns attributes."},xmlQuoteAttributes:{type:"choice",category:"XML",default:"preserve",description:"How to handle whitespaces in XML.",choices:[{value:"preserve",description:"Quotes in attribute values will be preserved as written."},{value:"single",description:"Quotes in attribute values will be converted to consistent single quotes and other quotes in the string will be escaped."},{value:"double",description:"Quotes in attribute values will be converted to consistent double quotes and other quotes in the string will be escaped."}]}},defaultOptions:{printWidth:80,tabWidth:2}};class sT{static _instance;static get instance(){return sT._instance||(sT._instance=new sT),sT._instance}modalElement;modal;heading;exportedContent;fileBasename;fileExtension;fileExtensionDropdown;copyButton;saveButton;imagePreview;imagePreviewCanvas;copyTooltip;defaultDisplay;exportImageCanvas=null;usedIDs;createExportID(e="N"){let t;for(this.usedIDs.has(e)?(t=this.usedIDs.get(e),t++):t=1;this.isIDUsed(e+t);)t++;return this.usedIDs.set(e,t),e+t}isIDUsed(e){for(let t of oE.instance.circuitComponents)if("name"in t&&t.name.value==e)return!0;return!1}constructor(){this.modalElement=document.getElementById("exportModal"),this.modal=new iw(this.modalElement),this.heading=document.getElementById("exportModalLabel"),this.exportedContent=document.getElementById("exportedContent"),this.fileBasename=document.getElementById("exportModalFileBasename"),this.fileExtension=document.getElementById("exportModalFileExtension"),this.fileExtensionDropdown=document.getElementById("exportModalFileExtensionDropdown"),this.copyButton=document.getElementById("copyExportedContent"),this.saveButton=document.getElementById("exportModalSave"),this.imagePreview=document.getElementById("exportImagePreview"),this.imagePreviewCanvas=document.getElementById("exportImagePreviewCanvas"),this.defaultDisplay=this.exportedContent.parentElement.style.display;let e="Copy to clipboard!";this.copyButton.addEventListener("hidden.bs.tooltip",t=>{this.copyButton.setAttribute("data-bs-title",e),this.copyTooltip.dispose(),this.copyTooltip=new i4(this.copyButton)}),this.copyButton.setAttribute("data-bs-toggle","tooltip"),this.copyButton.setAttribute("data-bs-title",e),this.copyTooltip=new i4(this.copyButton),this.usedIDs=new Map}exportJSON(e){this.heading.textContent="Save JSON",this.exportedContent.rows=Math.max(e.split("\n").length,2),this.exportedContent.value=e,this.export([".json",".txt"])}exportCircuiTikZ(){this.heading.innerHTML="Export CircuiTi<i>k</i>Z code",this.exportedContent.parentElement.style.display=this.defaultDisplay;{let e=[],t=new Set;for(let n of oE.instance.circuitComponents)n.requiredTikzLibraries().forEach(e=>t.add(e)),e.push("	"+n.toTikzString());let n=t.size>0?"\\usetikzlibrary{"+t.values().toArray().join(", ")+"}":"",i=["\\begin{tikzpicture}","	% Paths, nodes and wires:",...e,"\\end{tikzpicture}"];n&&(i=[n].concat(i)),this.exportedContent.rows=i.length,this.exportedContent.value=i.join("\n")}this.usedIDs.clear(),this.export([".tikz",".tex",".pgf"])}exportSVG(){this.heading.textContent="Export SVG",this.exportedContent.parentElement.style.display=this.defaultDisplay,s_.instance.selectAll(),s_.instance.deactivateSelection();let e=oE.instance.darkMode;oE.instance.darkMode=!1,oE.instance.updateTheme();let t=new A.Svg;t.node.style.fontSize="10pt",t.node.style.overflow="visible";let n=new Map,i=[];for(let e of oE.instance.circuitComponents)i.push(e.toSVG(n));if(n.size>0){let e=new A.Defs;for(let t of n)e.add(t[1]);t.add(e)}for(let e of i)t.add(e);for(let e of t.find(':is([fill-opacity="0"],[fill="none"],[fill="transparent"]):is([stroke-opacity="0"],[stroke="none"],[stroke-width="0"],[stroke="transparent"])'))e.remove();for(let e of t.find(".draggable"))e.removeClass("draggable");let r=t.bbox();r&&(r.x-=2,r.y-=2,r.width+=4,r.height+=4,t.viewbox(r));let o=document.createElement("div");o.appendChild(t.node),o.innerHTML=o.innerHTML.replaceAll(aB,"#000").replaceAll(aU,"#fff"),oT.format(o.innerHTML.replaceAll("<br>","<br/>"),{parser:"xml",plugins:[sC],tabWidth:4,singleAttributePerLine:!0,xmlWhitespaceSensitivity:"preserve"}).then(e=>{this.exportedContent.rows=e.split("\n").length,this.exportedContent.value=e,this.export([".svg",".txt"]),s_.instance.activateSelection(),o.remove()}),oE.instance.darkMode=e,oE.instance.updateTheme()}exportImage(){this.heading.textContent="Export Image",this.exportedContent.parentElement.style.display="none",this.imagePreview.style.display="block",s_.instance.selectAll(),s_.instance.deactivateSelection();let e=oE.instance.darkMode;oE.instance.darkMode=!1,oE.instance.updateTheme();let t=new A.Svg;t.node.style.fontSize="10pt",t.node.style.overflow="visible";let n=new Map,i=[];for(let e of oE.instance.circuitComponents)i.push(e.toSVG(n));if(n.size>0){let e=new A.Defs;for(let t of n)e.add(t[1]);t.add(e)}for(let e of i)t.add(e);for(let e of t.find(':is([fill-opacity="0"],[fill="none"],[fill="transparent"]):is([stroke-opacity="0"],[stroke="none"],[stroke-width="0"],[stroke="transparent"])'))e.remove();for(let e of t.find(".draggable"))e.removeClass("draggable");let r=t.bbox();r&&0!==r.width&&0!==r.height?(r.x-=2,r.y-=2,r.width+=4,r.height+=4):r={x:0,y:0,width:800,height:600},t.viewbox(r);let o=document.createElement("div");o.appendChild(t.node);let s=o.innerHTML.replaceAll(aB,"#000").replaceAll(aU,"#fff");s.includes('xmlns="http://www.w3.org/2000/svg"')||(s=s.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"')),console.log("SVG String length:",s.length),console.log("SVG preview:",s.substring(0,200));let a=new Image;a.crossOrigin="anonymous";let u=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),l=URL.createObjectURL(u);console.log("Blob URL created:",l),a.onload=()=>{try{console.log("Image loaded successfully, bbox:",r);let t=document.createElement("canvas");t.width=2*r.width,t.height=2*r.height;let n=t.getContext("2d");if(!n)return void console.error("Failed to get canvas context");console.log("Canvas created:",t.width,"x",t.height),n.fillStyle="#ffffff",n.fillRect(0,0,t.width,t.height),n.drawImage(a,0,0,t.width,t.height),console.log("Image drawn to canvas"),this.exportedContent.value="",this.exportImageCanvas=t;let i=this.imagePreviewCanvas.getContext("2d");this.imagePreviewCanvas.width=t.width,this.imagePreviewCanvas.height=t.height,i&&i.drawImage(t,0,0),this.export([".png",".jpg"]),URL.revokeObjectURL(l),s_.instance.activateSelection(),o.remove(),oE.instance.darkMode=e,oE.instance.updateTheme()}catch(t){console.error("Error creating image:",t),URL.revokeObjectURL(l),s_.instance.activateSelection(),o.remove(),oE.instance.darkMode=e,oE.instance.updateTheme()}},a.onerror=t=>{console.error("Error loading SVG image:",t),URL.revokeObjectURL(l),s_.instance.activateSelection(),o.remove(),oE.instance.darkMode=e,oE.instance.updateTheme()},a.src=l}export(e){let t=null!==this.exportImageCanvas,i=()=>{t||navigator.clipboard.writeText(this.exportedContent.value).then(()=>{this.copyButton.setAttribute("data-bs-title","Copied!"),this.copyTooltip.dispose(),this.copyTooltip=new i4(this.copyButton),this.copyTooltip.show()})},r=(()=>{let e=(this.fileBasename.value.trim()||oE.instance.designName.value).replace(/[^a-z0-9]/gi,"_")||"Circuit";t&&this.exportImageCanvas?this.exportImageCanvas.toBlob(t=>{t&&n(oC).saveAs(t,e+this.fileExtension.value)},".png"===this.fileExtension.value?"image/png":"image/jpeg",.95):n(oC).saveAs(new Blob([this.exportedContent.value],{type:"text/x-tex;charset=utf-8"}),e+this.fileExtension.value)}).bind(this),o=(()=>{this.exportedContent.value="",this.exportImageCanvas=null,this.imagePreview.style.display="none",this.exportedContent.parentElement.style.display=this.defaultDisplay,this.copyButton.removeEventListener("click",i),this.saveButton.removeEventListener("click",r),this.fileExtensionDropdown.replaceChildren(),this.modalElement.removeEventListener("hidden.bs.modal",o)}).bind(this);this.modalElement.addEventListener("hidden.bs.modal",o,{passive:!0,once:!0}),this.fileExtension.value=e[0],this.fileExtensionDropdown.replaceChildren(...e.map(e=>{let t=document.createElement("a");t.textContent=e,t.classList.add("dropdown-item"),t.addEventListener("click",()=>this.fileExtension.value=e,{passive:!0});let n=document.createElement("li");return n.appendChild(t),n})),t?this.copyButton.style.display="none":this.copyButton.style.display="",this.copyButton.addEventListener("click",i,{passive:!0}),this.saveButton.addEventListener("click",r,{passive:!0}),this.modal.show()}}let sF="0.1",sA={version:sF,components:[]};class sk{static _instance;static get instance(){return sk._instance||(sk._instance=new sk),sk._instance}loadModal;modalElement;loadInput;loadMessage;loadButton;loadArea;loadAreaBackground;currentlyLoadedSaveVersion=sF;constructor(){this.modalElement=document.getElementById("loadModal"),this.loadModal=new iw(this.modalElement),this.loadInput=document.getElementById("file-input"),this.loadMessage=document.getElementById("load-message"),this.loadButton=document.getElementById("loadJSONButton"),this.loadArea=document.getElementById("dragdroparea"),this.loadAreaBackground=document.getElementById("dragdropbackground");let e=()=>{this.loadAreaBackground.style.opacity="0"};this.loadArea.addEventListener("dragenter",e=>{this.loadAreaBackground.style.opacity="0.3"}),this.loadArea.addEventListener("dragleave",e),this.loadArea.addEventListener("drop",e)}save(){let e=[];for(let t of oE.instance.circuitComponents)e.push(t.toJson());sT.instance.exportJSON(JSON.stringify({version:sF,components:e},null,4))}load(){this.loadModal.show();let e=(()=>{this.loadInput.files[0]?this.loadMessage.textContent=this.loadInput.value.split("\\").pop():this.loadMessage.textContent="No file selected"}).bind(this),t=(()=>{let e=this.loadInput.files[0];if(e){var t=new FileReader;t.readAsText(e,"UTF-8"),t.onload=e=>{let t=JSON.parse(e.target.result instanceof ArrayBuffer?"":e.target.result);"version"in t||alert("You are using an old version of the json save file format. Please override all files exported from Circuitikz Designer version 0.6 and older by reexporting your circuit to json to update them to the newest json save file format version (currently: "+sF+" for Circuitikz Designer version "+ob.version+"). Old versions might be deprecated at any time and therefore might not properly load."),this.loadFromJSON(t,!0),this.loadModal.hide()},t.onerror=e=>{this.loadMessage.textContent="error reading file"}}}).bind(this);this.loadInput.addEventListener("change",e),this.loadButton.addEventListener("click",t);let n=(()=>{this.loadInput.removeEventListener("change",e),this.loadButton.removeEventListener("click",t),this.modalElement.removeEventListener("hidden.bs.modal",n)}).bind(this);this.modalElement.addEventListener("hidden.bs.modal",n,{passive:!0,once:!0})}loadFromJSON(e,t=!1){document.getElementById("loadCheckRemove").checked&&(s_.instance.selectAll(),s_.instance.removeSelection());let n=[];if("version"in e)for(let t of(this.currentlyLoadedSaveVersion=e.version,e.components)){let e=sk.fromJson(t);e&&n.push(e)}else for(let t of(this.currentlyLoadedSaveVersion="",e)){let e=sk.fromJson(t);e&&n.push(e)}t&&(s_.instance.deactivateSelection(),s_.instance.activateSelection(),s_.instance.selectComponents(n,g.RESET)),sP.addState(),this.currentlyLoadedSaveVersion=sF}static fromJson(e){return ao.fromJson(e)}}var A=T("gBhAd");(u=g||(g={}))[u.RESET=0]="RESET",u[u.ADD=1]="ADD",u[u.SUB=2]="SUB",(l=y||(y={}))[l.START=-1]="START",l[l.CENTER=0]="CENTER",l[l.END=1]="END",(c=v||(v={}))[c.CENTER=0]="CENTER",c[c.SPACE=1]="SPACE";class s_{static _instance;selectionMode;selectionStartPosition;selectionRectangle;currentlyDragging;currentlySelectedComponents=[];selectionEnabled;referenceComponent;constructor(){this.selectionStartPosition=new A.Point,this.selectionRectangle=ow.instance.canvas.rect(0,0).move(0,0),this.selectionRectangle.stroke({width:.5,color:aB}).fill("none").id("selectionRectangle"),this.selectionRectangle.addClass("pointerNone"),this.selectionEnabled=!0,this.currentlyDragging=!1,this.selectionMode=g.RESET,this.selectionStart=this.selectionStart.bind(this),this.selectionMove=this.selectionMove.bind(this),this.selectionEnd=this.selectionEnd.bind(this),ow.instance.canvas.on("mousedown",this.selectionStart),ow.instance.canvas.on("touchstart",this.selectionStart),ow.instance.canvas.on("mousemove",this.selectionMove),ow.instance.canvas.on("touchmove",this.selectionMove),ow.instance.canvas.on("mouseup",this.selectionEnd),ow.instance.canvas.on("touchend",this.selectionEnd)}selectionStart(e){if(!this.selectionEnabled||this.currentlyDragging||e instanceof MouseEvent&&0!==e.button)return;e.preventDefault();let t=e.shiftKey,n=e.ctrlKey||oE.instance.isMac&&e.metaKey||oE.instance.isMac&&e.metaKey;t?n?this.selectionMode=g.RESET:this.selectionMode=g.ADD:n?this.selectionMode=g.SUB:this.selectionMode=g.RESET,this.currentlyDragging=!0,this.selectionStartPosition=ow.eventToPoint(e,!1),ow.instance.canvas.put(this.selectionRectangle),this.selectionRectangle.move(this.selectionStartPosition.x,this.selectionStartPosition.y)}selectionMove(e){if(!this.selectionEnabled||!this.currentlyDragging||e instanceof MouseEvent&&0!==e.button)return;if(window.TouchEvent&&e instanceof TouchEvent&&e.touches.length>1){this.currentlyDragging=!1,this.selectionRectangle.size(0,0).move(0,0),this.viewSelection(!0);return}let t=ow.eventToPoint(e,!1),n=t.x-this.selectionStartPosition.x,i=t.y-this.selectionStartPosition.y,r=this.selectionStartPosition.x,o=this.selectionStartPosition.y;n<0&&(r+=n,n=-n),i<0&&(o+=i,i=-i),this.selectionRectangle.move(r,o),this.selectionRectangle.attr("width",n),this.selectionRectangle.attr("height",i),this.previewSelection()}selectionEnd(e){if(ow.instance.draggingFromInput){e.preventDefault(),ow.instance.draggingFromInput.focus();return}if(!this.selectionEnabled||e instanceof MouseEvent&&0!==e.button||window.TouchEvent&&e instanceof TouchEvent&&e.touches.length>0)return;this.currentlyDragging&&(this.updateSelectionWithRectangle(),this.currentlyDragging=!1,this.selectionRectangle.size(0,0));let t=ow.eventToPoint(e,!1);t.x==this.selectionStartPosition.x&&t.y==this.selectionStartPosition.y&&(this.selectionRectangle.move(t.x,t.y).size(0,0),this.updateSelectionWithRectangle()),sR.instance.update()}static get instance(){return s_._instance||(s_._instance=new s_),s_._instance}updateSelectionWithRectangle(){let e=this.selectionRectangle.bbox(),t=oE.instance.circuitComponents.filter(t=>t.isInsideSelectionRectangle(e));this.selectComponents(t,this.selectionMode)}previewSelection(){let e=this.selectionRectangle.bbox();if(this.selectionMode==g.RESET)for(let t of oE.instance.circuitComponents)t.viewSelected(t.isInsideSelectionRectangle(e));else if(this.selectionMode==g.ADD)for(let t of oE.instance.circuitComponents)t.viewSelected(t.isSelected||t.isInsideSelectionRectangle(e));else if(this.selectionMode==g.SUB)for(let t of oE.instance.circuitComponents)t.viewSelected(t.isSelected&&!t.isInsideSelectionRectangle(e))}activateSelection(){for(let e of(this.selectionEnabled=!0,oE.instance.circuitComponents))e.draggable(!0)}deactivateSelection(){for(let e of(this.selectionEnabled=!1,this.selectionRectangle.attr("width",0),this.selectionRectangle.attr("height",0),this.selectionMode=g.RESET,oE.instance.circuitComponents))e.isSelected=!1,e.isHovered=!1,e.viewSelected(!1),e.draggable(!1)}viewSelection(e=!0){for(let t of oE.instance.circuitComponents)t.viewSelected(e&&t.isSelected)}selectComponents(e,t){if(t==g.RESET){for(let e of oE.instance.circuitComponents)e.isSelected=!1;for(let t of e)t.isSelected=!0}else if(t==g.ADD)for(let t of e)t.isSelected=!0;else if(t==g.SUB)for(let t of e)t.isSelected=!1;this.currentlySelectedComponents.splice(0),this.currentlySelectedComponents.push(...oE.instance.circuitComponents.filter(e=>e.isSelected)),this.viewSelection(),sR.instance.update()}selectAll(){for(let e of(this.currentlySelectedComponents.splice(0),this.currentlySelectedComponents.push(...oE.instance.circuitComponents),oE.instance.circuitComponents))e.isSelected=!0;this.viewSelection(),sR.instance.update()}getOverallBoundingBox(){let e=null;for(let t of this.currentlySelectedComponents)t.isSelected&&(e=null==e?t.bbox:e.merge(t.bbox));return e}rotateSelection(e){if(!this.hasSelection())return;let t=this.getOverallBoundingBox(),n=new A.Point(t.cx,t.cy);for(let t of this.currentlySelectedComponents){t.rotate(e);let i=t.position.rotate(e,n,!1);t.moveTo(i),t.recalculateSnappingPoints()}}flipSelection(e){if(!this.hasSelection())return;let t=this.getOverallBoundingBox(),n=new A.Point(t.cx,t.cy),i=e?0:-2,r=e?-2:0;for(let t of this.currentlySelectedComponents){let o=t.position.sub(n);t.flip(e),t.moveRel(new A.Point(o.x*i,o.y*r))}}moveSelectionRel(e){for(let t of this.currentlySelectedComponents)t.moveRel(e)}moveSelectionTo(e){let t=this.getOverallBoundingBox(),n=new A.Point(t.cx,t.cy);this.moveSelectionRel(e.sub(n))}removeSelection(){for(let e of this.currentlySelectedComponents)oE.instance.removeComponent(e);this.currentlySelectedComponents=[],sR.instance.update()}hasSelection(){return this.currentlySelectedComponents.length>0}setReference(e){e==this.referenceComponent?(e.isSelected=!1,e.isSelected=!0,e.viewSelected(!0)):(e.setAsSelectionReference(),this.referenceComponent=e)}alignSelection(e,t){let n,i=this.getOverallBoundingBox(),r=new A.Point(i.cx,i.cy),o=new A.Point(i.w/2,i.h/2),s=t?new A.Point(1,0):new A.Point(0,1);if(this.referenceComponent){let t=this.referenceComponent.bbox,i=new A.Point(t.w/2,t.h/2);n=new A.Point(t.cx,t.cy).add(i.mul(s).mul(e))}else n=r.add(o.mul(s).mul(e));for(let t of this.currentlySelectedComponents){let i=t.bbox,r=new A.Point(i.w/2,i.h/2),o=new A.Point(i.cx,i.cy).add(r.mul(s).mul(e)),a=n.sub(o).mul(s);t.moveRel(a)}sP.addState()}distributeSelection(e,t){let n;if(this.currentlySelectedComponents.length<2)return;let i=t?new A.Point(1,0):new A.Point(0,1),r=this.currentlySelectedComponents.map(e=>{let t=e.bbox;return e==this.referenceComponent&&(n=e.position),{box:t,component:e}});r.sort((e,n)=>{let i=new A.Point(e.box.cx-n.box.cx,e.box.cy-n.box.cy);return t?i.x:i.y});let o=!1,s=new A.Point;if(e==v.CENTER){let e=new A.Point(r.at(-1).box.cx-r[0].box.cx,r.at(-1).box.cy-r[0].box.cy),t=new A.Point(r[0].box.cx,r[0].box.cy),n=e.div(this.currentlySelectedComponents.length-1);for(let e=1;e<r.length-1;e++){let a=r[e],u=t.add(n.mul(e)).sub(new A.Point(a.box.cx,a.box.cy)).mul(i);o||u.eq(s)||(o=!0),a.component.moveRel(u)}}else{let e=this.getOverallBoundingBox(),t=new A.Point(e.w,e.h);r.forEach(e=>{t.x-=e.box.w,t.y-=e.box.h}),t.x=t.x<0?0:t.x,t.y=t.y<0?0:t.y,t=t.div(this.currentlySelectedComponents.length-1);let n=new A.Point(r[0].box.x2,r[0].box.y2);for(let e=1;e<r.length;e++){let a=r[e],u=(n=n.add(t).add(new A.Point(a.box.w,a.box.h))).sub(new A.Point(a.box.x2,a.box.y2)).mul(i);o||u.eq(s)||(o=!0),a.component.moveRel(u)}}if(n){let e=n.sub(this.referenceComponent.position);for(let t of this.currentlySelectedComponents)t.moveRel(e);o||e.eq(s)||(o=!0)}o&&sP.addState()}}class sP{static states=[];static currentIndex=-1;static addState(){let e=[];for(let t of oE.instance.circuitComponents){let n=t.toJson();n.selected=t.isSelected,e.push(n)}let t=!0;sP.states.length>0&&JSON.stringify(sP.states.at(sP.currentIndex))==JSON.stringify(e)&&(t=!1),t&&(sP.states=sP.states.slice(0,sP.currentIndex+1),sP.states.push(e),sP.currentIndex=sP.states.length-1)}static getCurrentState(){return sP.states[sP.currentIndex]}static undo(){if(sP.currentIndex-=1,sP.currentIndex<0){sP.currentIndex=0;return}sP.loadState()}static redo(){if(sP.currentIndex+=1,sP.currentIndex>=sP.states.length){sP.currentIndex=sP.states.length-1;return}sP.loadState()}static loadState(){for(;oE.instance.circuitComponents.length>0;)oE.instance.removeComponent(oE.instance.circuitComponents[0]);let e=sP.states[sP.currentIndex],t=[];for(let n of e){let e=sk.fromJson(n);n.selected&&e&&t.push(e)}t.length>0&&s_.instance.selectComponents(t,g.RESET)}}var A=T("gBhAd");class sL{static clipboard=null;static copy(){if(s_.instance.hasSelection()){let e=[];for(let t of s_.instance.currentlySelectedComponents){let n=t.toJson();"name"in n&&(n.name=""),e.push(n)}let t=s_.instance.getOverallBoundingBox();sL.clipboard={components:e,selectionPos:new(0,A.Point)(t.cx,t.cy)},oE.instance.sendBroadcastMessage("clipboard",sL.clipboard)}}static setClipboard(e){this.clipboard=e}static paste(){if(sL.clipboard&&0===Object.keys(sL.clipboard).length||!sL.clipboard)return;s_.instance.deactivateSelection(),s_.instance.activateSelection();let e=[];for(let t of sL.clipboard.components)e.push(sk.fromJson(t));e.length>0&&s_.instance.selectComponents(e,g.RESET),s_.instance.moveSelectionTo(new(0,A.Point)(sL.clipboard.selectionPos).add(new(0,A.Point)(20,20))),sP.addState()}static cut(){if(s_.instance.hasSelection()){for(let e of(sL.copy(),s_.instance.currentlySelectedComponents))oE.instance.removeComponent(e);sP.addState()}}}(h=D||(D={}))[h.manipulation=0]="manipulation",h[h.ordering=1]="ordering",h[h.options=2]="options",h[h.fill=3]="fill",h[h.stroke=4]="stroke",h[h.label=5]="label",h[h.voltage=6]="voltage",h[h.current=7]="current",h[h.text=8]="text",h[h.info=9]="info";class sO extends Map{add(e,t){this.has(e)?this.get(e).push(t):this.set(e,[t])}sorted(){let e=[],t=Object.keys(D)[0];for(let n in D[t],D)if(isNaN(Number(n))){let t=D[n];this.has(t)&&e.push(...this.get(t))}return e}}class sR{static _instance;static get instance(){return sR._instance||(sR._instance=new sR),sR._instance}viewProperties;propertiesEntries;propertiesTitle;multies=[];constructor(){this.propertiesTitle=document.getElementById("propertiesTitle"),this.viewProperties=document.getElementById("view-properties"),this.viewProperties.firstElementChild.prepend(oE.instance.designName.getHTMLElement()),this.propertiesEntries=document.getElementById("propertiesEntries"),document.getElementById("resetViewButton").addEventListener("click",e=>{ow.instance.resetView()}),document.getElementById("fitViewButton").addEventListener("click",e=>{ow.instance.fitView()})}update(){let e=s_.instance.currentlySelectedComponents;this.clearForm(),e.length>1?this.setMultiForm(e):1===e.length?this.setForm(e[0]):this.setFormView(),oE.instance.updateTooltips()}setMultiForm(e){this.propertiesEntries.classList.remove("d-none"),this.propertiesTitle.innerText="Selection";let t=[],n=new sV(2,[["Rotate 90 CW","rotate_right"],["Rotate 90 CCW","rotate_left"],["Rotate 45 CW","rotate_right"],["Rotate 45 CCW","rotate_left"],["Flip vertically",["flip","rotateText"]],["Flip horizontally","flip"]],[e=>{s_.instance.rotateSelection(-90),sP.addState()},e=>{s_.instance.rotateSelection(90),sP.addState()},e=>{s_.instance.rotateSelection(-45),sP.addState()},e=>{s_.instance.rotateSelection(45),sP.addState()},e=>{s_.instance.flipSelection(!0),sP.addState()},e=>{s_.instance.flipSelection(!1),sP.addState()}],!1,["Rotate the components 90 degrees clockwise","Rotate the components 90 degrees counter clockwise","Rotate the components 45 degrees clockwise","Rotate the components 45 degrees counter clockwise","Flip the components around its x-axis","Flip the components around its y-axis"]);t.push(n.buildHTML()),t.push(new sH("Ordering").buildHTML());let i=new sV(2,[["Foreground",""],["Background",""],["Forward",""],["Backward",""]],[e=>ow.instance.componentsToForeground(s_.instance.currentlySelectedComponents),e=>ow.instance.componentsToBackground(s_.instance.currentlySelectedComponents),e=>ow.instance.moveComponentsForward(s_.instance.currentlySelectedComponents),e=>ow.instance.moveComponentsBackward(s_.instance.currentlySelectedComponents)],!1,["Bring the components to the foreground","Move the components to the background","Move the components one step towards the foreground","Move the components one step towards the background"]);t.push(i.buildHTML()),t.push(new sH("Grouping").buildHTML());let r=new sV(1,[["Group",""]],[e=>ak.group(s_.instance.currentlySelectedComponents)]);t.push(r.buildHTML()),t.push(new sH("Align").buildHTML());let o=new sV(3,[["","align_horizontal_left"],["","align_horizontal_center"],["","align_horizontal_right"],["","align_vertical_top"],["","align_vertical_center"],["","align_vertical_bottom"]],[e=>s_.instance.alignSelection(y.START,!0),e=>s_.instance.alignSelection(y.CENTER,!0),e=>s_.instance.alignSelection(y.END,!0),e=>s_.instance.alignSelection(y.START,!1),e=>s_.instance.alignSelection(y.CENTER,!1),e=>s_.instance.alignSelection(y.END,!1)]);t.push(o.buildHTML()),t.push(new sH("Distribute").buildHTML());let s=new sV(2,[["Center","horizontal_distribute"],["Spacing","align_justify_space_even"],["Center","vertical_distribute"],["Spacing","align_space_even"]],[e=>s_.instance.distributeSelection(v.CENTER,!0),e=>s_.instance.distributeSelection(v.SPACE,!0),e=>s_.instance.distributeSelection(v.CENTER,!1),e=>s_.instance.distributeSelection(v.SPACE,!1)]);t.push(s.buildHTML()),this.propertiesEntries.append(...t);let a=new sO;this.multies=[];let u=Object.keys(D)[0];for(let t in D[u],D){if(!isNaN(Number(t)))continue;let n=D[t],i=new Map;for(let t of e){let e=t.properties.get(n);if(void 0!=e)for(let t of e)""!=t.id&&(i.has(t.id)?i.get(t.id).push(t):i.set(t.id,[t]))}let r=[];for(let t of i.keys()){let n=i.get(t);if(n.length<e.length)i.set(t,[]);else{let e=n[0].getMultiEditVersion(n);this.multies.push(e),r.push(e)}}a.set(n,r)}this.propertiesEntries.append(...a.sorted().map(e=>e.getHTMLElement()))}setForm(e){this.propertiesEntries.classList.remove("d-none"),this.propertiesTitle.innerText=e.displayName,this.propertiesEntries.append(...e.properties.sorted().map(e=>e.getHTMLElement()))}setFormView(){this.viewProperties.classList.remove("d-none"),this.propertiesTitle.innerText="General settings";let e=document.getElementById("minorSliderInput");e.value=ow.instance.majorGridSubdivisions.toString();let t=document.getElementById("majorSliderInput");t.value=ow.instance.majorGridSizecm.toString(),e.addEventListener("input",t=>{this.changeGrid(ow.instance.majorGridSizecm,Number.parseFloat(e.value))}),t.addEventListener("input",e=>{this.changeGrid(Number.parseFloat(t.value),ow.instance.majorGridSubdivisions)}),this.changeGrid(ow.instance.majorGridSizecm,ow.instance.majorGridSubdivisions)}setSliderValues(e,t){document.getElementById("minorSliderInput").value=t.toString(),document.getElementById("majorSliderInput").value=e.toString(),this.changeGrid(e,t)}changeGrid(e,t){ow.instance.changeGrid(e,t),document.getElementById("majorLabel").innerText=e+" cm",document.getElementById("minorLabel").innerText=t.toString(),document.getElementById("gridInfo").innerText=(e/t).toLocaleString(void 0,{maximumFractionDigits:2})+" cm"}clearForm(){for(let e of this.multies)e.remove();for(this.propertiesTitle.innerText="Properties",this.viewProperties.classList.add("d-none"),this.propertiesEntries.classList.add("d-none"),this.propertiesEntries.innerText="";this.propertiesEntries.lastElementChild;)this.propertiesEntries.removeChild(this.propertiesEntries.lastElementChild)}}class sI{tooltip;element;_disabled;get disabled(){return this._disabled}set disabled(e){this.getHTMLElement(),this._disabled=e,this.disable(e)}_id;get id(){return this._id}_value;get value(){return this._value}set value(e){this._value=e,this.element||(this.element=this.buildHTML()),this.updateHTML()}changeListeners;constructor(e,t="",n=""){this.changeListeners=[e=>{oE.instance.switchMode(m.DRAG_PAN)}],void 0!==e&&(this._value=e),this._id=n,this.tooltip=t}equivalent(e){if(e.length<2)return!0;let t=e[0];for(let n of e.slice(1))if(!this.eq(t.value,n.value))return!1;return!0}getHTMLElement(){return!this.element&&(this.element=this.buildHTML(),this.tooltip&&this.element&&(this.element.setAttribute("data-bs-title",this.tooltip),this.element.setAttribute("data-bs-toggle","tooltip"))),this.element}removeHTMLElement(){this.element&&(this.element.remove(),this.element=null)}getRow(){let e=document.createElement("div");return e.classList.add("row","g-2","my-2"),e}addChangeListener(e){this.changeListeners.push(e)}removeChangeListener(e){let t=this.changeListeners.findIndex(t=>t==e);return t>=0&&(this.changeListeners.splice(t,1),!0)}updateValue(e,t=!1,n=!0){if(this.eq(e,this.value))return;let i=this.value;this._value=e;let r={previousValue:i,value:this._value};if(t&&(this.element||(this.element=this.buildHTML()),this.updateHTML()),n)for(let e of this.changeListeners)e(r)}remove(){for(let e of this.changeListeners)this.removeChangeListener(e);this.element?.remove()}}class sN extends sI{checkBox;label;constructor(e,t,n="",i=""){super(t,n,i),this.label=e}eq(e,t){return null!=e&&null!=t&&e==t}buildHTML(){let e=this.getRow(),t=document.createElement("div");t.classList.add("col-12","input-group","my-0");{let e=document.createElement("label");e.classList.add("input-group-text","flex-grow-1"),e.innerHTML=this.label||"CheckBox",t.appendChild(e);let n=document.createElement("div");n.classList.add("input-group-text","form-switch"),this.checkBox=document.createElement("input"),this.checkBox.classList.add("form-check-input","m-0"),this.checkBox.setAttribute("type","checkbox"),this.checkBox.setAttribute("role","switch"),null!=this.value?this.checkBox.checked=this.value:this.checkBox.indeterminate=!0,this.checkBox.addEventListener("change",e=>{this.updateValue(this.checkBox.checked),sP.addState()}),n.appendChild(this.checkBox),t.appendChild(n)}return e.appendChild(t),e}disable(e=!0){this.checkBox.disabled=e}updateHTML(){this.checkBox&&(this.checkBox.checked=this.value)}getMultiEditVersion(e){let t=this.equivalent(e),n=new sN(this.label,t?this.value:null,this.tooltip,this.id);return n.addChangeListener(t=>{for(let n of e)n.updateValue(t.value,!0,!0)}),n.getHTMLElement(),n}}const sM={key:"undetermined",name:"choose one"};class sB extends sI{label;selectElement;choiceOptions;get entries(){return this.choiceOptions}constructor(e,t,n,i="",r=""){super(n,i,r),this.label=e,this.choiceOptions=t}eq(e,t){return e.key==t.key}buildHTML(){let e=this.getRow(),t=document.createElement("div");t.classList.add("col-12","input-group","my-0");{let e=document.createElement("label");e.classList.add("input-group-text"),e.innerHTML=this.label,t.appendChild(e),this.selectElement=document.createElement("select"),this.selectElement.classList.add("form-select"),this.selectElement.name="anchor";for(let e=0;e<this.choiceOptions.length;e++){let t=this.choiceOptions[e].key,n=this.choiceOptions[e].name,i=document.createElement("option");i.value=t,i.innerHTML=n,i.selected=!!this.value&&t==this.value.key,this.selectElement.appendChild(i)}this.selectElement.addEventListener("change",e=>{this.updateValue(this.choiceOptions.find(e=>e.key==this.selectElement.value)),sP.addState()}),t.appendChild(this.selectElement)}return e.appendChild(t),e}disable(e=!0){this.selectElement.disabled=e}updateHTML(){if(this.selectElement)for(let e of this.selectElement.children)e.selected=e.value==this.value.key}getMultiEditVersion(e){let t=this.equivalent(e);(t?[sM]:[]).push(...this.choiceOptions);let n=new sB(this.label,this.choiceOptions,t?e[0].value:sM,this.tooltip,this.id),i=!1;return n.addChangeListener(t=>{for(let n of(i||"undetermined"!=t.previousValue.key||(i=!0,this.selectElement.removeChild(this.selectElement.firstChild)),e))n.updateValue(t.value,!0,!0)}),n.getHTMLElement(),n}}class sU extends sI{input;invalidDiv;label;validator=e=>"";constructor(e,t,n="",i=e=>"",r=""){super(t,n,r),this.label=e,this.validator=i}buildHTML(){let e=this.getRow(),t=document.createElement("div");t.classList.add("col","col-md-12","my-0","input-group","has-validation");{let e=document.createElement("span");e.classList.add("input-group-text"),e.innerHTML=this.label??"",t.appendChild(e),this.input=document.createElement("input"),this.input.classList.add("form-control"),this.input.setAttribute("type","text"),this.input.value=this.value??"",t.appendChild(this.input),this.invalidDiv=document.createElement("div"),this.invalidDiv.classList.add("col-12","invalid-feedback","d-none"),t.appendChild(this.invalidDiv)}e.appendChild(t),this.input.addEventListener("mousedown",e=>{ow.instance.draggingFromInput=this.input});let n="";return this.input.addEventListener("focusin",e=>{n=this.value??""}),this.input.addEventListener("input",e=>{let t=this.validator(this.input.value);this.changeInvalidStatus(t),""==t&&this.updateValue(this.input.value)}),this.input.addEventListener("focusout",e=>{this.updateHTML(),this.changeInvalidStatus(""),this.value&&n!==this.value&&sP.addState()}),e}disable(e=!0){this.input.disabled=e}changeInvalidStatus(e){this.invalidDiv&&(""===e?(this.input.classList.remove("is-invalid"),this.invalidDiv.classList.add("d-none"),this.invalidDiv.innerHTML=""):(this.input.classList.add("is-invalid"),this.input.classList.add("is-invalid"),this.invalidDiv.classList.remove("d-none"),this.invalidDiv.innerHTML="Invalid! "+e))}updateHTML(){this.input&&(this.input.value=this.value)}eq(e,t){return e==t}getMultiEditVersion(e){let t=this.equivalent(e),n=new sU(this.label,t?this.value:"*",this.tooltip,this.validator,this.id);return n.addChangeListener(t=>{let i=!1;for(let n of e)n.updateValue(t.value,!0,!0),i||""==n.validator(t.value)||(i=!0);i&&n.changeInvalidStatus("Multi-edit with invalid values! Adjust individual component fields.")}),n}}class sz extends sI{input;constructor(e,t="",n=""){super(e,t,n)}buildHTML(){let e,t=this.getRow(),n=document.createElement("div");return n.classList.add("col-12","mt-0"),this.input=document.createElement("textArea"),this.input.classList.add("form-control"),this.input.value=this.value??"",this.input.placeholder="text component",n.appendChild(this.input),t.appendChild(n),this.input.addEventListener("focusin",t=>{e=this.value}),this.input.addEventListener("input",e=>{this.updateValue(this.input.value)}),this.input.addEventListener("focusout",t=>{this.value&&e!==this.value&&sP.addState()}),this.input.addEventListener("mousedown",e=>{ow.instance.draggingFromInput=this.input}),t}disable(e=!0){this.input.disabled=e}updateHTML(){this.input&&(this.input.value=this.value)}eq(e,t){return e==t}getMultiEditVersion(e){let t=new sz(this.equivalent(e)?this.value:"*",this.tooltip,this.id);return t.addChangeListener(t=>{for(let n of e)n.updateValue(t.value,!0,!0)}),t}}class sj extends sI{valueElement;labelElement;labelString;constructor(e,t,n="",i=""){super(t,n,i),this.labelString=e}buildHTML(){let e=document.createElement("div");return e.classList.add("row","mx-0","my-2","border","border-info-subtle","bg-info-subtle","text-info-emphasis","rounded"),this.labelElement=document.createElement("span"),this.labelElement.classList.add("text-start","col-auto","me-3"),this.labelElement.innerHTML=this.labelString||"Label",e.appendChild(this.labelElement),this.valueElement=document.createElement("span"),this.valueElement.classList.add("text-end","col"),this.valueElement.innerHTML=this.value||"",e.appendChild(this.valueElement),e}disable(e){}eq(e,t){return e==t}updateHTML(){this.valueElement&&(this.valueElement.innerHTML=this.value??"")}getMultiEditVersion(e){let t=new sj(this.labelString,e[0].value,this.tooltip,this.id);return t.addChangeListener(t=>{for(let n of e)n.updateValue(t.value,!0,!0)}),t.getHTMLElement(),t}}class sV extends sI{buttonsPerRow;labels;callbacks;materialSymbols;tooltips;buttons;constructor(e,t,n,i=!1,r=[],o=""){if(super(void 0,"",o),t.length!==n.length)throw Error("every button has to have a callback and a label");this.buttonsPerRow=e,this.labels=t,this.callbacks=n,this.materialSymbols=i,this.tooltips=r,this.buttons=[]}eq(e,t){return!1}buildHTML(){let e=this.getRow();for(let t=0;t<this.labels.length;t++){let n,i=this.labels[t],r=this.callbacks[t],o=document.createElement("div");o.classList.add("col-"+Math.round(12/this.buttonsPerRow).toFixed(0));let s=document.createElement("button");s.classList.add("w-100","btn","btn-primary","d-flex","align-items-center","justify-content-center","gap-1"),this.tooltips[t]&&(s.setAttribute("data-bs-title",this.tooltips[t]),s.setAttribute("data-bs-toggle","tooltip")),this.materialSymbols&&s.classList.add("material-symbols-outlined");let a="string"==typeof i[1]?i[1]:i[1][0];if("string"==typeof i[1]?(a=i[1],n=[]):(a=i[1][0],n=i[1][1].split(",")),a){let e=document.createElement("span");n.length>0?e.classList.add("material-symbols-outlined",...n):e.classList.add("material-symbols-outlined"),e.innerHTML=a,s.appendChild(e)}if(i[0]){let e=document.createElement("span");e.innerHTML=i[0],s.appendChild(e)}s.addEventListener("click",r),this.buttons.push(s),o.appendChild(s),e.appendChild(o)}return e}disable(e=!0){this.buttons.forEach(t=>t.disabled=e)}updateHTML(){}getMultiEditVersion(e){let t=new sV(this.buttonsPerRow,this.labels,this.callbacks,this.materialSymbols,this.tooltips,this.id);return t.addChangeListener(t=>{for(let n of e)n.updateValue(t.value,!0,!0)}),t.getHTMLElement(),t}}class sG extends sI{input;constructor(e,t="",n=""){super(e??"",t,n)}eq(e,t){return e==t}buildHTML(){let e=this.getRow(),t=document.createElement("div");t.classList.add("col","col-md-12","col-xxl","my-0","input-group");{let e=document.createElement("span");e.classList.add("input-group-text"),e.innerHTML="$",t.appendChild(e),this.input=document.createElement("input"),this.input.classList.add("form-control"),this.input.type="text",this.input.value=this.value??"",t.appendChild(this.input);let n=document.createElement("div");n.classList.add("input-group-text"),n.innerHTML="$",t.appendChild(n);let i="";this.input.addEventListener("focusin",e=>{i=this.value??""}),this.input.addEventListener("input",e=>{this.updateValue(this.input.value)}),this.input.addEventListener("focusout",e=>{this.value&&i!==this.value&&sP.addState()}),this.input.addEventListener("mousedown",e=>{ow.instance.draggingFromInput=this.input})}return e.appendChild(t),e}disable(e=!0){this.input.disabled=e}updateHTML(){this.input&&(this.input.value=this.value)}getMultiEditVersion(e){let t=new sG(this.equivalent(e)?e[0].value:"*",this.tooltip,this.id);return t.addChangeListener(t=>{for(let n of e)n.updateValue(t.value,!0,!0)}),t.getHTMLElement(),t}}var A=T("gBhAd");class s$ extends sI{eq(e,t){return null!=e&&null!=t&&e.eq(t)}min;max;step;label;sliderInput;numberInput;unitLabel;fractionDigits;integerDigits;restrictToRange;constructor(e,t,n,i,r,o=!1,s="",a=""){if(super(r,s,a),this.label=e,this.min=t,this.max=n,this.step=i,this.restrictToRange=o,i>0){this.fractionDigits=0;let e=i;for(;e<1;)e*=10,this.fractionDigits+=1}this.integerDigits=1;let u=Math.max(Math.abs(t),Math.abs(n));for(;u>1;)this.integerDigits+=1,u/=10}buildHTML(){let e=this.getRow(),t=document.createElement("div");t.classList.add("col-12","my-0","input-group");let n=document.createElement("label");n.classList.add("input-group-text","fs-6"),n.innerHTML=this.label,n.setAttribute("for","labelDistanceSlider"),t.appendChild(n),this.sliderInput=document.createElement("input"),this.sliderInput.classList.add("form-range","w-25","flex-grow-1","h-100","px-2","border"),this.sliderInput.id="labelDistanceSlider",this.sliderInput.type="range",this.sliderInput.min=this.min.toString(),this.sliderInput.max=this.max.toString(),this.sliderInput.step=this.step.toString(),this.sliderInput.value=Number.isNaN(this.value.value)?((this.max-this.min)/2).toString():this.value.value.toString(),t.appendChild(this.sliderInput),this.numberInput=document.createElement("input"),this.numberInput.classList.add("form-control","fs-6"),this.numberInput.type="number",this.numberInput.value=Number.isNaN(this.value.value)?"*":this.value.value.toString(),this.numberInput.min=this.min.toString(),this.numberInput.max=this.max.toString(),this.numberInput.step=this.step.toString(),t.appendChild(this.numberInput);let i=()=>{this.updateValue(new A.Number(Number.parseFloat(this.sliderInput.value),this.value.unit)),this.updateNumberInput()},r=()=>{let e=Number.parseFloat(this.numberInput.value);isNaN(e)||(this.restrictToRange&&(e=(e=e<this.min?this.min:e)>this.max?this.max:e),this.updateValue(new A.Number(e,this.value.unit)),this.updateSliderInput())};return this.numberInput.addEventListener("input",r),this.numberInput.addEventListener("focusout",()=>{this.updateNumberInput(),sP.addState()}),this.numberInput.addEventListener("mousedown",e=>{ow.instance.draggingFromInput=this.numberInput}),this.sliderInput.addEventListener("input",i),this.sliderInput.addEventListener("change",()=>{sP.addState()}),this.value.unit&&(this.unitLabel=n.cloneNode(!0),this.unitLabel.innerText=this.value.unit,t.appendChild(this.unitLabel)),this.updateNumberInput(),this.updateSliderInput(),e.appendChild(t),e}disable(e=!0){this.sliderInput.disabled=e,this.numberInput.disabled=e}updateNumberInput(){this.numberInput.value=Number.isNaN(this.value.value)?"*":this.value.value.toString(),this.unitLabel&&(this.unitLabel.innerText=Number.isNaN(this.value.value)?"":this.value.unit)}updateSliderInput(){this.sliderInput.value=Number.isNaN(this.value.value)?"*":this.value.value.toString(),this.unitLabel&&(this.unitLabel.innerText=Number.isNaN(this.value.value)?"":this.value.unit)}updateHTML(){this.sliderInput&&(this.updateSliderInput(),this.updateNumberInput())}getMultiEditVersion(e){let t=this.equivalent(e),n=e[0],i=new s$(this.label,this.min,this.max,this.step,t?e[0].value:new A.Number(NaN,n.value.unit),this.restrictToRange,this.tooltip,this.id);return i.addChangeListener(t=>{for(let n of e)n.updateValue(t.value,!0,!0)}),i.getHTMLElement(),i}}class sH extends sI{labelElement;eq(e,t){return e==t}buildHTML(){this.labelElement=document.createElement("span"),this.labelElement.classList.add("col-12","form-label","mb-0","fw-bold"),this.labelElement.innerHTML=this.value??"";let e=this.getRow();return e.appendChild(this.labelElement),e}disable(e){}updateHTML(){this.labelElement&&(this.labelElement.innerHTML=this.value)}getMultiEditVersion(e){let t=new sH(e[0].value,this.tooltip,this.id);return t.getHTMLElement(),t}}var A=T("gBhAd");class sW extends sI{label;input;nullable;enabler;constructor(e,t,n=!0,i="",r=""){super(t,i,r),this.label=e,this.nullable=n}eq(e,t){if(null==e&&null==t||e===t)return!0;if(null==e||null==t)return!1;let n=e.rgb(),i=t.rgb();return n.r==i.r&&n.g==i.g&&n.b==i.b}buildHTML(){let e=this.getRow(),t=document.createElement("div");t.classList.add("col-12","input-group","my-0");{let e=document.createElement("label");if(e.classList.add("input-group-text"),e.innerHTML=this.label||"Choose color",t.appendChild(e),this.nullable){let e=document.createElement("div");e.classList.add("input-group-text"),this.enabler=document.createElement("input"),this.enabler.classList.add("form-check-input","mt-0"),this.enabler.type="checkbox",this.enabler.checked=null!==this.value,this.enabler.addEventListener("change",e=>{this.updateValue(this.enabler.checked?new A.Color(this.input.value,"rgb"):null),sP.addState()}),e.appendChild(this.enabler),t.appendChild(e)}this.input=document.createElement("input"),this.input.classList.add("form-control","form-control-color"),this.input.value=this.value?this.value.toString():"",this.input.setAttribute("type","color"),this.input.addEventListener("input",e=>{this.nullable?this.updateValue(this.enabler.checked?new A.Color(this.input.value,"rgb"):null):this.updateValue(new A.Color(this.input.value,"rgb"))}),this.input.addEventListener("change",e=>{sP.addState()}),t.appendChild(this.input)}return e.appendChild(t),e}disable(e=!0){this.input.disabled=e,this.enabler.disabled=e}updateHTML(){this.value&&(this.input.value=this.value.toString()),this.enabler&&(this.enabler.checked=null!=this.value)}getMultiEditVersion(e){let t=this.equivalent(e),n=new sW(this.label,t?e[0].value:null,this.nullable,this.tooltip,this.id);return n.addChangeListener(t=>{for(let n of e)n.updateValue(t.value,!0,!0)}),n.getHTMLElement(),n}}class sq extends sI{buttons=[];label;options;constructor(e,t,n,i="",r=""){super(n,i,r),this.options=t,this.label=e}eq(e,t){return null!=t&&null!=e&&e.key===t.key}buildHTML(){let e=this.getRow(),t=document.createElement("div");t.classList.add("col-12","input-group","my-0");{let e=document.createElement("span");e.classList.add("col-4","input-group-text"),e.innerText=this.label,t.appendChild(e);let n=["btn","btn-outline-secondary","fs-5","d-flex","align-items-center","justify-content-center","px-1","flex-grow-1"];for(let e of this.options){let i=this.id+"-"+e.key,r=document.createElement("input");r.classList.add("btn-check"),r.type="radio",r.name=this.id,r.checked=null!=this.value&&this.value.key===e.key,r.id=i,r.addEventListener("change",t=>{this.updateValue(e),sP.addState()}),t.appendChild(r),this.buttons.push(r);let o=document.createElement("label");o.classList.add(...n),o.innerText=e.name,e.isMaterialSymbol&&o.classList.add("material-symbols-outlined"),o.setAttribute("for",i),t.appendChild(o)}}return e.appendChild(t),e}disable(e){for(let t of this.buttons)t.disabled=e??!0}updateHTML(){for(let e of this.buttons)e.checked=null!=this.value&&e.name===this.value.key}getMultiEditVersion(e){let t=this.equivalent(e),n=new sq(this.label,this.options,t?e[0].value:null,this.tooltip,this.id);return n.addChangeListener(t=>{for(let n of e)n.updateValue(t.value,!0,!0)}),n.getHTMLElement(),n}}function sY(e){return class extends e{fillInfo;fillColorProperty;fillOpacityProperty;constructor(...e){super(...e),this.fillInfo={color:"default",opacity:1},this.properties.add(D.fill,new sH("Fill",void 0,"fill:header")),this.fillOpacityProperty=new s$("Opacity",0,100,1,new A.Number(100*this.fillInfo.opacity,"%"),void 0,void 0,"fill:opacity"),this.fillOpacityProperty.addChangeListener(e=>{this.fillInfo.opacity=e.value.value/100,this.updateTheme(),this.update()}),this.fillColorProperty=new sW("Color",null,void 0,void 0,"fill:color"),this.fillColorProperty.addChangeListener(e=>{null==e.value?(this.fillInfo.color="default",this.fillInfo.opacity=1):(this.fillInfo.color=e.value.toRgb(),this.fillInfo.opacity=this.fillOpacityProperty.value.value/100),this.updateTheme(),this.update()}),this.properties.add(D.fill,this.fillColorProperty),this.properties.add(D.fill,this.fillOpacityProperty)}toJson(){let e=super.toJson(),t={},n=!1;return"default"!=this.fillInfo.color&&(t.color=this.fillInfo.color,n=!0),1!=this.fillInfo.opacity&&(t.opacity=this.fillInfo.opacity,n=!0),n&&(e.fill=t),e}applyJson(e){super.applyJson(e),e.fill&&(e.fill.color&&(this.fillInfo.color=e.fill.color,this.fillColorProperty.value=new A.Color(e.fill.color)),void 0!=e.fill.opacity&&(this.fillInfo.opacity=e.fill.opacity,this.fillOpacityProperty.value=new A.Number(100*e.fill.opacity,"%")))}buildTikzCommand(e){if(super.buildTikzCommand(e),this.fillInfo.opacity>0){if("default"!==this.fillInfo.color){let t=new A.Color(this.fillInfo.color);e.options.push("fill="+t.toTikzString())}1!=this.fillInfo.opacity&&e.options.push("fill opacity="+this.fillInfo.opacity.toString())}}}}var A=(T("gBhAd"),T("gBhAd"));const sX=[{key:"solid",name:"solid",dasharray:[1,0]},{key:"dotted",name:"dotted",dasharray:[1,4]},{key:"denselydotted",name:"densely dotted",dasharray:[1,2]},{key:"looselydotted",name:"loosely dotted",dasharray:[1,8]},{key:"dashed",name:"dashed",dasharray:[4,4]},{key:"denselydashed",name:"densely dashed",dasharray:[4,2]},{key:"looselydashed",name:"loosely dashed",dasharray:[4,8]},{key:"dashdot",name:"dash dot",dasharray:[4,2,1,2]},{key:"denselydashdot",name:"densely dash dot",dasharray:[4,1,1,1]},{key:"looselydashdot",name:"loosely dash dot",dasharray:[4,4,1,4]},{key:"dashdotdot",name:"dash dot dot",dasharray:[4,2,1,2,1,2]},{key:"denselydashdotdot",name:"densely dash dot dot",dasharray:[4,1,1,1,1,1]},{key:"looselydashdotdot",name:"loosely dash dot dot",dasharray:[4,4,1,4,1,4]}],sK=sX[0];function sJ(e){return class extends e{strokeInfo;strokeColorProperty;strokeOpacityProperty;strokeWidthProperty;strokeStyleProperty;constructor(...e){super(...e),this.strokeInfo={color:"default",opacity:1,width:new A.Number("1pt"),style:sK.key},this.properties.add(D.stroke,new sH("Stroke",void 0,"stroke:header")),this.strokeOpacityProperty=new s$("Opacity",0,100,1,new A.Number(100*this.strokeInfo.opacity,"%"),void 0,void 0,"stroke:opacity"),this.strokeOpacityProperty.addChangeListener(e=>{this.strokeInfo.opacity=e.value.value/100,this.updateTheme(),this.update()}),this.strokeColorProperty=new sW("Color",null,void 0,void 0,"stroke:color"),this.strokeColorProperty.addChangeListener(e=>{null==e.value?(this.strokeInfo.color="default",this.strokeInfo.opacity=1):(this.strokeInfo.color=e.value.toRgb(),this.strokeInfo.opacity=this.strokeOpacityProperty.value.value/100),this.updateTheme(),this.update()}),this.strokeWidthProperty=new s$("Width",0,10,.1,this.strokeInfo.width,void 0,void 0,"stroke:width"),this.strokeWidthProperty.addChangeListener(e=>{this.strokeInfo.width=e.value,this.updateTheme(),this.update()}),this.strokeStyleProperty=new sB("Style",sX,sK,void 0,"stroke:style"),this.strokeStyleProperty.addChangeListener(e=>{this.strokeInfo.style=e.value.key,this.updateTheme(),this.update()}),this.properties.add(D.stroke,this.strokeColorProperty),this.properties.add(D.stroke,this.strokeOpacityProperty),this.properties.add(D.stroke,this.strokeWidthProperty),this.properties.add(D.stroke,this.strokeStyleProperty)}toJson(){let e=super.toJson(),t={},n=!1;return"default"!=this.strokeInfo.color&&(t.color=this.strokeInfo.color,n=!0),1!=this.strokeInfo.opacity&&(t.opacity=this.strokeInfo.opacity,n=!0),this.strokeInfo.width.eq(new A.Number("1pt"))||(t.width=this.strokeInfo.width,n=!0),this.strokeInfo.style!=sK.key&&(t.style=this.strokeInfo.style,n=!0),n&&(e.stroke=t),e}applyJson(e){super.applyJson(e),this.strokeInfo={color:"default",opacity:1,width:new A.Number("1pt"),style:sK.key},this.strokeWidthProperty.value=this.strokeInfo.width,this.strokeColorProperty.value=null,this.strokeOpacityProperty.value=new A.Number(100*this.strokeInfo.opacity,"%"),this.strokeStyleProperty.value=sK,e.stroke&&(e.stroke.color&&(this.strokeInfo.color=e.stroke.color,this.strokeColorProperty.value=new A.Color(e.stroke.color)),void 0!=e.stroke.opacity&&(this.strokeInfo.opacity=e.stroke.opacity,this.strokeOpacityProperty.value=new A.Number(100*e.stroke.opacity,"%")),e.stroke.width&&("string"!=typeof e.stroke.width?this.strokeInfo.width=new A.Number(e.stroke.width.value,e.stroke.width.unit):this.strokeInfo.width=new A.Number(e.stroke.width),this.strokeWidthProperty.value=this.strokeInfo.width),e.stroke.style&&(this.strokeInfo.style=e.stroke.style,this.strokeStyleProperty.value=sX.find(t=>t.key==e.stroke.style)))}buildTikzCommand(e){super.buildTikzCommand(e);let t=this.strokeInfo.width.convertToUnit("pt").value;if(this.strokeInfo.opacity>0&&t>0){if("default"!==this.strokeInfo.color){let t=new A.Color(this.strokeInfo.color);e.options.push("draw="+t.toTikzString())}else e.options.push("draw");1!=this.strokeInfo.opacity&&e.options.push("draw opacity="+this.strokeInfo.opacity.toString()),.4!=t&&e.options.push("line width="+t+"pt"),this.strokeInfo.style&&this.strokeInfo.style!=sK.key&&e.options.push(ax(this.strokeInfo.width,sX.find(e=>e.key==this.strokeInfo.style).dasharray))}}}}const sZ=/[\t\r\n\v.,:;()-]/;function sQ(e){return class extends e{name;constructor(...e){super(...e);let t=e=>{if(""===e)return"";if(e.match(sZ))return"Contains forbidden characters!";for(let t of oE.instance.circuitComponents)if(t!=this&&"name"in t){let n=t.name;if(""!==e&&n.value==e)return"Name is already taken!"}return""};this.name=new sU("Name","","",t,"info:name"),this.properties.add(D.info,new sH("TikZ name",void 0,"info:nameHeader")),this.properties.add(D.info,this.name)}toJson(){let e=super.toJson();return this.name.value&&""!=this.name.value&&(e.name=this.name.value),e}applyJson(e){super.applyJson(e),e.name&&this.name.updateValue(e.name,!0)}buildTikzName(e=!0){let t=this.name.value;return!t&&e&&(t=sT.instance.createExportID("N")),t}}}function s0(e){return class extends e{anchorChoice;positionChoice;mathJaxLabel;labelReferenceChoices=[{key:"canvas",name:"Canvas"},{key:"component",name:"Component"}];labelReferenceProperty;labelRendering;labelDistance;labelColor;constructor(...e){super(...e),this.properties.add(D.label,new sH("Label",void 0,"label:header")),this.mathJaxLabel=new sG(void 0,void 0,"label:label"),this.mathJaxLabel.addChangeListener(e=>this.generateLabelRender()),this.properties.add(D.label,this.mathJaxLabel),this.labelReferenceProperty=new sB("Relative to",this.labelReferenceChoices,this.labelReferenceChoices[0],void 0,"label:relative"),this.labelReferenceProperty.addChangeListener(e=>{this.updatePositionedLabel()}),this.properties.add(D.label,this.labelReferenceProperty),this.anchorChoice=new sB("Anchor",aa,au,void 0,"label:anchor"),this.anchorChoice.addChangeListener(e=>this.updatePositionedLabel()),this.properties.add(D.label,this.anchorChoice),this.positionChoice=new sB("Position",aa,au,void 0,"label:position"),this.positionChoice.addChangeListener(e=>this.updatePositionedLabel()),this.properties.add(D.label,this.positionChoice),this.labelDistance=new s$("Gap",-.5,1,.01,new A.Number(.12,"cm"),void 0,void 0,"label:gap"),this.labelDistance.addChangeListener(e=>this.updatePositionedLabel()),this.properties.add(D.label,this.labelDistance),this.labelColor=new sW("Color",null,void 0,void 0,"label:color"),this.labelColor.addChangeListener(e=>{this.updateTheme(),this.update()}),this.properties.add(D.label,this.labelColor)}toJson(){let e=super.toJson();return this.mathJaxLabel.value&&(e.label={value:this.mathJaxLabel.value,anchor:this.anchorChoice.value.key,position:this.positionChoice.value.key,relativeToComponent:"component"==this.labelReferenceProperty.value.key||void 0,distance:.12!=this.labelDistance.value.value?this.labelDistance.value:void 0,color:this.labelColor.value?this.labelColor.value.toString():void 0}),e}applyJson(e){super.applyJson(e),e.label&&(e.label.distance?"string"!=typeof e.label.distance?this.labelDistance.value=new A.Number(e.label.distance.value,e.label.distance.unit):this.labelDistance.value=new A.Number(e.label.distance):this.labelDistance.value=new A.Number(.12,"cm"),this.anchorChoice.value=e.label.anchor?aa.find(t=>t.key==e.label.anchor):au,this.positionChoice.value=e.label.position?aa.find(t=>t.key==e.label.position):au,""!=sk.instance.currentlyLoadedSaveVersion?this.labelReferenceProperty.value=e.label.relativeToComponent?this.labelReferenceChoices[1]:this.labelReferenceChoices[0]:this.labelReferenceProperty.value=this.labelReferenceChoices[1],this.mathJaxLabel.value=e.label.value,this.labelColor.value=e.label.color?new A.Color(e.label.color):null,this.generateLabelRender())}buildTikzNodeLabel(e){if(this.mathJaxLabel.value&&e){let t,n=this.labelDistance.value.convertToUnit("cm");isNaN(this.anchorPos.direction.absSquared())||(n=n.minus(.12));let i=this.anchorPos.direction.mul(-n.value),r="";0!==i.x&&(r+="xshift="+rK(i.x)+"cm"),0!==i.y&&(r+=(""==r?"":", ")+("yshift="+rK(-i.y))+"cm"),r=""==r?"":"["+r+"]",t="string"==typeof e?this.positionChoice.value.key==au.key?e+".text":e+"."+this.labelPos.name:e.toTikzString(!0);let o=this.mathJaxLabel.value?"$"+this.mathJaxLabel.value+"$":"";return o=o&&this.labelColor.value?"\\textcolor"+this.labelColor.value.toTikzString()+"{"+o+"}":o,{position:"("+r+t+")",options:["anchor="+this.anchorPos.name],additionalNodes:[],content:o}}return null}generateLabelRender(){this.labelRendering=s2(this.labelRendering,this.mathJaxLabel),this.visualization.add(this.labelRendering),this.update(),this.updateTheme()}anchorPos;labelPos}}function s1(e){return class extends e{mathJaxLabel;labelRendering;labelDistance;labelColor;labelSide;constructor(...e){super(...e),this.properties.add(D.label,new sH("Label",void 0,"label:header")),this.mathJaxLabel=new sG(void 0,void 0,"label:label"),this.mathJaxLabel.addChangeListener(e=>this.generateLabelRender()),this.properties.add(D.label,this.mathJaxLabel),this.labelDistance=new s$("Gap",-.5,1,.01,new A.Number(.12,"cm"),void 0,void 0,"label:gap"),this.labelDistance.addChangeListener(e=>this.updatePathLabel()),this.properties.add(D.label,this.labelDistance),this.labelColor=new sW("Color",null,void 0,void 0,"label:color"),this.labelColor.addChangeListener(e=>{this.updateTheme(),this.update()}),this.properties.add(D.label,this.labelColor),this.labelSide=new sN("Switch side",void 0,void 0,"label:side"),this.labelSide.addChangeListener(e=>this.updatePathLabel()),this.properties.add(D.label,this.labelSide)}toJson(){let e=super.toJson();return this.mathJaxLabel.value&&(e.label={value:this.mathJaxLabel.value,otherSide:!!this.labelSide.value||void 0,distance:.12!=this.labelDistance.value.value?this.labelDistance.value:void 0,color:this.labelColor.value?this.labelColor.value.toString():void 0}),e}applyJson(e){super.applyJson(e),e.label&&(this.labelSide.value=e.label.otherSide??!1,e.label.distance?"string"!=typeof e.label.distance?this.labelDistance.value=new A.Number(e.label.distance.value,e.label.distance.unit):this.labelDistance.value=new A.Number(e.label.distance):this.labelDistance.value=new A.Number(.12,"cm"),this.mathJaxLabel.value=e.label.value,this.labelColor.value=e.label.color?new A.Color(e.label.color):null,this.generateLabelRender())}generateLabelRender(){this.labelRendering=s2(this.labelRendering,this.mathJaxLabel),this.visualization.add(this.labelRendering),this.update(),this.updateTheme()}buildTikzPathLabel(e){if(this.mathJaxLabel.value){let t=this.labelDistance.value.convertToUnit("cm").minus(.12).value,n=rK(t)+"cm",i=this.labelDistance.value&&Math.abs(t)>1e-4,r=this.mathJaxLabel.value?"$"+this.mathJaxLabel.value+"$":"";r=r&&this.labelColor.value?"\\textcolor"+this.labelColor.value.toTikzString()+"{"+r+"}":r,e.options.push("l"+(this.labelSide.value?"_":"")+"={"+r+"}"),i&&e.options.push("label distance="+n)}}}}function s2(e,t){if(e){let t=new Set;for(let n of e.find("use"))t.add(n.node.getAttribute("xlink:href"));for(let e of t)ow.instance.canvas.find(e)[0]?.remove();e.remove()}let n=aN(t.value);return(e=new A.G).addClass("pointerNone"),e.add(n.element),e}var A=(T("gBhAd"),T("gBhAd"));const s3=[{key:"",name:"default"},{key:">",name:"forward"},{key:"<",name:"backward"}],s6=s3[0],s8=[{key:"",name:"default"},{key:"_",name:"below"},{key:"^",name:"above"}],s5=s8[0],s4=[{key:"",name:"default"},{key:"american",name:"american"},{key:"raised",name:"raised"},{key:"straight",name:"straight"},{key:"european",name:"european"}],s7=s4[1],s9=4800/127;function ae(e){return class extends e{voltageLabel;voltageLabelRendering;voltageArrowRendering;voltageRendering;voltageBumpB;voltageDistanceFromNode;voltageShift;voltagePosition;voltageDirection;voltageStyle;voltageShow;constructor(...e){super(...e),this.properties.add(D.voltage,new sH("Voltage label",void 0,"voltage:header")),this.voltageShow=new sN("Show voltage",!1,void 0,"voltage:show"),this.voltageShow.addChangeListener(e=>this.updateVoltageRender()),this.properties.add(D.voltage,this.voltageShow),this.voltageLabel=new sG(void 0,void 0,"voltage:label"),this.voltageLabel.addChangeListener(e=>this.generateVoltageRender()),this.properties.add(D.voltage,this.voltageLabel),this.voltageStyle=new sB("Style",s4,s7,void 0,"voltage:style"),this.voltageStyle.addChangeListener(e=>this.updateVoltageRender()),this.properties.add(D.voltage,this.voltageStyle),this.voltagePosition=new sB("Position",s8,s5,void 0,"voltage:position"),this.voltagePosition.addChangeListener(e=>this.updateVoltageRender()),this.properties.add(D.voltage,this.voltagePosition),this.voltageDirection=new sB("Direction",s3,s6,void 0,"voltage:direction"),this.voltageDirection.addChangeListener(e=>this.updateVoltageRender()),this.properties.add(D.voltage,this.voltageDirection),this.voltageBumpB=new s$("Bump",0,5,.1,new A.Number(1.5,""),!1,"How much the voltage arrow should bump away from the component","voltage:bump"),this.voltageBumpB.addChangeListener(e=>this.updateVoltageRender()),this.properties.add(D.voltage,this.voltageBumpB),this.voltageDistanceFromNode=new s$("Distance from node",0,1,.1,new A.Number(.5,""),!0,"How far away from the component the voltage arrow should start/end","voltage:distance"),this.voltageDistanceFromNode.addChangeListener(e=>this.updateVoltageRender()),this.properties.add(D.voltage,this.voltageDistanceFromNode),this.voltageShift=new s$("Voltage shift",-1,2,.1,new A.Number(0,""),!1,void 0,"voltage:shift"),this.voltageShift.addChangeListener(e=>this.updateVoltageRender()),this.properties.add(D.voltage,this.voltageShift)}generateVoltageRender(){this.voltageLabelRendering=s2(this.voltageLabelRendering,this.voltageLabel),this.voltageLabelRendering.fill(aB),this.voltageRendering=new A.G,this.voltageRendering.add(this.voltageLabelRendering),this.visualization.add(this.voltageRendering),this.update(),this.updateTheme()}generateVoltageArrow(e,t,n,i,r,o){let s,a,u=new A.G;o||(o={});let l=r.y<0,c=Math.abs(r.x),h=this.voltageDistanceFromNode.value.value,d=this.voltageBumpB.value.value,p=this.voltageShift.value.value,f=!1;this.voltageDirection.value.key!=s6.key&&(f=this.voltageDirection.value.key==s3.at(-1).key);let m=!1;this.voltagePosition.value.key!=s5.key&&(m=this.voltagePosition.value.key==s8.at(-1).key);let g=m?-1:1,y="european"==this.voltageStyle.value.key||"straight"==this.voltageStyle.value.key||""==this.voltageStyle.value.key,v="straight"==this.voltageStyle.value.key,D="raised"==this.voltageStyle.value.key,b=t.sub(e),E=Math.atan2(b.y,b.x),x=t.rotate(E,e,!0),w=new A.Point(az(Math.sin(E),0,.06976),-az(Math.cos(E),0,.06976)).mul(g),S=g*(1+p)*(.08*1.4*c*s9),C=e.add(x).div(2),T=e.add(t).div(2),F=C.add(new A.Point(n.x*c,0)),k=C.add(new A.Point(i.x*c,0)),_=1.4*s9/(16/c)+1,P=_/Math.abs(F.x-e.x),L=aj(e,F,P),O=aj(L,F,h);L=aj(x,k,P);let R=aj(L,k,h),I=i;i.y<3&&(I=new A.Point(i.x,3)),m!=l&&(I=n,n.y>-3&&(I=new A.Point(n.x,-3))),I=l?I.mul(-1):I;let N=new A.Point(this.position),M=new A.Point(0,.08*g*s9);if(y){let t,n,i;if(v){let r=new A.Point(0,I.y),o=O.add(r),u=R.add(r);s=o.add(new A.Point(0,S)).rotate(-E,e,!0),a=u.add(new A.Point(0,S)).rotate(-E,e,!0),t=`M${s.toSVGPathString()}L${a.toSVGPathString()}`,n=a,i=E,f&&(i+=Math.PI,n=s),N=s.add(a).div(2)}else{let r,o=aj(new A.Point,new A.Point(-.34202*Math.abs(I.y),I.y),d*c).add(T).add(new A.Point(0,S)).rotate(-E,T,!0),u=aj(new A.Point,new A.Point(.34202*Math.abs(I.y),I.y),d*c).add(T).add(new A.Point(0,S)).rotate(-E,T,!0);s=O.add(new A.Point(0,S)).rotate(-E,e,!0),a=R.add(new A.Point(0,S)).rotate(-E,e,!0),t=`M${s.toSVGPathString()}C${o.toSVGPathString()} ${u.toSVGPathString()} ${a.toSVGPathString()}`,N=o.add(u).div(2),n=a,f?(r=s.sub(o),n=s):r=a.sub(u),i=Math.atan2(r.y,r.x)}N=N.add(M.rotate(-E,void 0,!0));let r=new A.Path({d:t});r.fill("none").stroke({color:aB,width:.5});let o=ow.instance.canvas.use("currarrow").fill(aB),l=new A.Matrix({translate:[-1.7+1/_,-.8]}).lmultiply({scale:_,rotate:180*i/Math.PI,translate:n});o.transform(l),u.add(r),u.add(o)}else{D&&(S+=10*g,w.x=0,w.y=0),N=C.add(new A.Point(0,I.y+S)),s=O.add(new A.Point(0,S)),a=R.add(new A.Point(0,S)),D&&(s.y=N.y,a.y=N.y),s=s.rotate(-E,e,!0),a=a.rotate(-E,e,!0),N=N.rotate(-E,e,!0);let t=new A.Path({d:"M0 4.5 H9 M4.5 0V9"}).stroke({linejoin:"round",width:.5,color:aB}),n=new A.Path({d:"M0 4.5 H9"}).stroke({linejoin:"round",width:.5,color:aB}),i=t.bbox(),r=new A.Point(i.w/2,i.h/2),o=r.add(r.mul(w));f?(t.transform({translate:a.sub(o)}),n.transform({translate:s.sub(o)})):(t.transform({translate:s.sub(o)}),n.transform({translate:a.sub(o)})),u.add(t),u.add(n),D||(N=N.add(M.rotate(-E,void 0,!0)))}return{arrow:u,labelPos:N,labelAnchorDir:w}}toJson(){let e=super.toJson();if(""!=this.voltageLabel.value){let t={label:this.voltageLabel.value};t.bump=1.5!=this.voltageBumpB.value.value?this.voltageBumpB.value.value:void 0,t.dist=.5!=this.voltageDistanceFromNode.value.value?this.voltageDistanceFromNode.value.value:void 0,t.shift=0!=this.voltageShift.value.value?this.voltageShift.value.value:void 0,t.dir=this.voltageDirection.value.key!=s6.key?this.voltageDirection.value.key:void 0,t.pos=this.voltagePosition.value.key!=s5.key?this.voltagePosition.value.key:void 0,t.style=this.voltageStyle.value.key!=s7.key?this.voltageStyle.value.key:void 0,e.voltage=t}return e}applyJson(e){super.applyJson(e),e.voltage&&(this.voltageLabel.value=e.voltage.label,e.voltage.shift&&(this.voltageShift.value=new A.Number(e.voltage.shift,"")),e.voltage.bump&&(this.voltageBumpB.value=new A.Number(e.voltage.bump,"")),e.voltage.dist&&(this.voltageDistanceFromNode.value=new A.Number(e.voltage.dist,"")),e.voltage.dir&&(this.voltageDirection.value=s3.find(t=>t.key==e.voltage.dir)),e.voltage.pos&&(this.voltagePosition.value=s8.find(t=>t.key==e.voltage.pos)),e.voltage.style&&(this.voltageStyle.value=s4.find(t=>t.key==e.voltage.style)),this.generateVoltageRender())}buildTikzVoltage(e){if(this.voltageShow.value&&""!=this.voltageLabel.value){let t=e.options,n="v";this.voltagePosition.value.key!=s5.key&&(n+=this.voltagePosition.value.key),this.voltageDirection.value.key!=s6.key&&(n+=this.voltageDirection.value.key),n+="=$"+this.voltageLabel.value+"$",t.push(n),.5!=this.voltageDistanceFromNode.value.value&&t.push("voltage/distance from node="+this.voltageDistanceFromNode.value.value.toString()),1.5!=this.voltageBumpB.value.value&&t.push("voltage/bump b="+this.voltageBumpB.value.value.toString()),0!=this.voltageShift.value.value&&t.push("voltage/shift="+this.voltageShift.value.value.toString()),this.voltageStyle.value.key!=s7.key&&t.push("voltage="+this.voltageStyle.value.key)}}}}var A=T("gBhAd");const at=4800/127;function an(e){return class extends e{currentLabel;currentLabelRendering;currentArrowRendering;currentRendering;currentDistance;currentPosition;currentDirection;currentLabelPosition;currentShift;currentArrowWidth;currentShow;constructor(...e){super(...e),this.properties.add(D.current,new sH("Current label",void 0,"current:header")),this.currentLabel=new sG(void 0,void 0,"current:label"),this.currentShow=new sN("Show current",!1,void 0,"current:show"),this.currentShow.addChangeListener(e=>this.updateCurrentRender()),this.properties.add(D.current,this.currentShow),this.currentLabel.addChangeListener(e=>this.generateCurrentRender()),this.properties.add(D.current,this.currentLabel),this.currentDirection=new sN("Backwards",!1,void 0,"current:backwards"),this.currentDirection.addChangeListener(e=>{this.updateCurrentRender()}),this.properties.add(D.current,this.currentDirection),this.currentLabelPosition=new sN("Label below",!1,void 0,"current:below"),this.currentLabelPosition.addChangeListener(e=>{this.updateCurrentRender()}),this.properties.add(D.current,this.currentLabelPosition),this.currentPosition=new sN("At start",!1,void 0,"current:start"),this.currentPosition.addChangeListener(e=>this.updateCurrentRender()),this.properties.add(D.current,this.currentPosition),this.currentDistance=new s$("Distance",0,1,.1,new A.Number(.5,""),!0,"How far along the line the current arrow is.","current:distance"),this.currentDistance.addChangeListener(e=>this.updateCurrentRender()),this.properties.add(D.current,this.currentDistance),this.currentShift=new s$("Shift",-2,2,.1,new A.Number(0,""),!1,"How much the current arrow should shift perpendicular to the component","current:shift"),this.currentShift.addChangeListener(e=>this.updateCurrentRender()),this.properties.add(D.current,this.currentShift),this.currentArrowWidth=new s$("Current width",.5,20,.5,new A.Number(10,""),!1,"Width of the current arrow shaft in pixels","current:arrowwidth"),this.currentArrowWidth.addChangeListener(e=>this.updateCurrentRender()),this.properties.add(D.current,this.currentArrowWidth)}generateCurrentRender(){this.currentLabelRendering=s2(this.currentLabelRendering,this.currentLabel),this.currentLabelRendering.fill(aB),this.currentRendering=new A.G,this.currentRendering.add(this.currentLabelRendering),this.visualization.add(this.currentRendering),this.update(),this.updateTheme()}generateCurrentArrow(e,t,n,i,r){let o=new A.G,s=Math.abs(r.x),a=this.currentDistance.value.value,u=this.currentShift.value.value,l=this.currentDirection.value,c=this.currentPosition.value,h=this.currentLabelPosition.value?-1:1,d=t.sub(e),p=Math.atan2(d.y,d.x),f=t.rotate(p,e,!0),m=new A.Point(az(Math.sin(p),0,.06976),-az(Math.cos(p),0,.06976)).mul(-h),g=e.add(f).div(2),y=g.add(new A.Point(n.x*s,0)),v=g.add(new A.Point(i.x*s,0)),D=c?aj(e,y,a):aj(v,f,a),b=new A.Point(0,u*at),E=D.add(b).rotate(-p,e,!0),x=new A.Point(0,-(.12*h)*at),w=E.add(x.rotate(-p,void 0,!0)),S=p+(l?Math.PI:0),C=E.add(new A.Point(-7.5,0).rotate(p,void 0,!0)),T=E.add(new A.Point(7.5,0).rotate(p,void 0,!0)),F=`M ${C.x} ${C.y} L ${T.x} ${T.y}`,k=new A.Path({d:F});k.fill("none").stroke({color:aB,width:this.currentArrowWidth.value.value});let _=ow.instance.canvas.use("currarrow").fill(aB),P=new A.Matrix({translate:[-.85,-.8]}).lmultiply({scale:1.4*at/(16/s)+1,rotate:180*S/Math.PI,translate:E});return _.transform(P),o.add(k),o.add(_),{arrow:o,labelPos:w,labelAnchorDir:m}}toJson(){let e=super.toJson();if(""!=this.currentLabel.value){let t={label:this.currentLabel.value};t.dist=.5!=this.currentDistance.value.value?this.currentDistance.value.value:void 0,t.backwards=!!this.currentDirection.value||void 0,t.start=!!this.currentPosition.value||void 0,t.below=!!this.currentLabelPosition.value||void 0,t.shift=0!=this.currentShift.value.value?this.currentShift.value.value:void 0,t.arrowWidth=10!=this.currentArrowWidth.value.value?this.currentArrowWidth.value.value:void 0,e.current=t}return e}applyJson(e){super.applyJson(e),e.current&&(this.currentLabel.value=e.current.label,e.current.dist&&(this.currentDistance.value=new A.Number(e.current.dist,"")),e.current.backwards&&(this.currentDirection.value=!0),e.current.start&&(this.currentPosition.value=!0),e.current.below&&(this.currentLabelPosition.value=!0),void 0!==e.current.shift&&(this.currentShift.value=new A.Number(e.current.shift,"")),void 0!==e.current.arrowWidth&&(this.currentArrowWidth.value=new A.Number(e.current.arrowWidth,"")),this.generateCurrentRender())}buildTikzCurrent(e){if(this.currentShow.value&&""!=this.currentLabel.value){let t=e.options,n="i",i=this.currentLabelPosition.value?"_":"^",r=this.currentDirection.value?"<":">";this.currentPosition.value?(!1==this.currentLabelPosition.value&&!0==this.currentDirection.value&&(i=""),n+=r+i):(!1==this.currentDirection.value&&(r="",!1==this.currentLabelPosition.value&&(i="")),n+=i+r),n+="={$"+this.currentLabel.value+"$}",t.push(n),.5!=this.currentDistance.value.value&&t.push("current/distance="+this.currentDistance.value.value.toString())}}}}var A=(T("gBhAd"),T("gBhAd"));const ai=e=>(e.changedTouches&&(e=e.changedTouches[0]),{x:e.clientX,y:e.clientY});class ar{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){let t=!e.type.indexOf("mouse");t&&1!==e.which&&0!==e.buttons||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented||(e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(ai(e)),(0,A.on)(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),(0,A.on)(window,(t?"mouseup":"touchend")+".drag",this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box}))}drag(e){let{box:t,lastClick:n}=this,i=this.el.point(ai(e)),r=i.x-n.x,o=i.y-n.y;if(!r&&!o)return t;let s=t.x+r,a=t.y+o;this.box=new(0,A.Box)(s,a,t.w,t.h),this.lastClick=i,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box,dx:r,dy:o}).defaultPrevented||this.move(s,a)}move(e,t){"svg"===this.el.type?A.G.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),(0,A.off)(window,"mousemove.drag"),(0,A.off)(window,"touchmove.drag"),(0,A.off)(window,"mouseup.drag"),(0,A.off)(window,"touchend.drag"),this.init(!0)}}(0,A.extend)(A.Element,{draggable(e=!0){return(this.remember("_draggable")||new ar(this)).init(e),this}});class ao{position;referencePosition;properties;displayName;parentGroup=null;_isSelected=!1;get isSelected(){return this._isSelected}set isSelected(e){e||(this.isSelectionReference&&(s_.instance.referenceComponent=null),this.isSelectionReference=!1),this._isSelected=e}_bbox;get bbox(){return this._bbox}visualization;selectionElement=null;componentVisualization;dragElement;snappingPoints;componentProperties=new Map;_isHovered=!1;get isHovered(){return this._isHovered}set isHovered(e){this._isHovered=e,this.showSeletedOrHovered()}constructor(){this.position=new A.Point,this.finishedPlacing=!1,this.referencePosition=new A.Point,oE.instance.addComponent(this),this.selectionElement=ow.instance.canvas.rect(0,0).hide(),this.selectionElement.node.classList.add("selectionElement"),this.selectionElement.node.style.pointerEvents="none",this.visualization=ow.instance.canvas.group(),this.dragElement=this.visualization,this.displayName="Circuit Component",this.properties=new sO,this.addPositioning(),this.addZOrdering()}addZOrdering(){let e=new sV(2,[["Foreground",""],["Background",""],["Forward",""],["Backward",""]],[e=>ow.instance.componentsToForeground([this]),e=>ow.instance.componentsToBackground([this]),e=>ow.instance.moveComponentsForward([this]),e=>ow.instance.moveComponentsBackward([this])],!1,["Bring the component to the foreground","Move the component to the background","Move the component one step towards the foreground","Move the component one step towards the background"]);this.properties.add(D.ordering,new sH("Ordering")),this.properties.add(D.ordering,e)}addPositioning(){let e=new sV(2,[["Rotate 90 CW","rotate_right"],["Rotate 90 CCW","rotate_left"],["Rotate 45 CW","rotate_right"],["Rotate 45 CCW ","rotate_left"],["Flip vertically",["flip","rotateText"]],["Flip horizontally","flip"]],[e=>{this.rotate(-90),sP.addState()},e=>{this.rotate(90),sP.addState()},e=>{this.rotate(-45),sP.addState()},e=>{this.rotate(45),sP.addState()},e=>{this.flip(!0),sP.addState()},e=>{this.flip(!1),sP.addState()}],!1,["Rotate the component 90 degrees clockwise","Rotate the component 90 degrees counter clockwise","Rotate the component 45 degrees clockwise","Rotate the component 45 degrees counter clockwise","Flip the component around its x-axis","Flip the component around its y-axis"]);this.properties.add(D.manipulation,e)}draggable(e){e?this.visualization.node.classList.add("draggable"):this.visualization.node.classList.remove("draggable"),ag.snapDrag(this,e,this.dragElement)}recalculateSelectionVisuals(){if(this.selectionElement){let e=this.visualization.bbox().transform(this.getTransformMatrix());this.selectionElement.size(e.w,e.h),this.selectionElement.center(e.cx,e.cy)}}viewAsSelected=!1;viewSelected(e){this.viewAsSelected=e,this.showSeletedOrHovered()}showSeletedOrHovered(){if(this.viewAsSelected||this.isHovered){ow.instance.canvas.put(this.selectionElement),this.selectionElement.show();let e=this.isHovered?"#FF00FF":this.isSelectionReference?"var(--bs-cyan)":rY;this.selectionElement.stroke({width:1,color:e,dasharray:this.isSelectionReference?"1, 1":"4, 2"}).fill("none"),this.recalculateSelectionVisuals()}else this.selectionElement.hide()}isSelectionReference=!1;setAsSelectionReference(){s_.instance.referenceComponent&&(s_.instance.referenceComponent.isSelectionReference=!1,s_.instance.referenceComponent.viewSelected(s_.instance.referenceComponent.isSelected)),this.isSelectionReference=!0,this.viewSelected(!0)}isInsideSelectionRectangle(e){return rZ(this.bbox,e)}toJson(){return{type:"component"}}buildTikzCommand(e){}toSVG(e){let t=this.visualization.clone(!0);for(let n of t.find("use")){let t=n.node.getAttribute("xlink:href")??n.node.getAttribute("href");if(t&&(t=t.startsWith("#")?t.slice(1):t,!e.has(t))){let n=new A.Element(document.getElementById(t).cloneNode(!0));e.set(t,n)}}return t}applyJson(e){aP.instance.visible=!1,this.finishedPlacing=!0,this.draggable(!0)}static jsonSaveMap=new Map;static fromJson(e){let t=ao.jsonSaveMap.get(e.type);if(void 0==t)throw Error('There is no component of type "'+e.type+'" defined. Every non-abstract class deriving from CircuitComponent (or one of its subclasses) should have a static block, which registers it by setting the type as the key and the class itself as the value of the jsonSaveMap static variable (see NodeSymbolComponent as a reference)');if(!Object.hasOwn(t,"fromJson"))throw Error(t.name+" does not implement a fromJson method! See CircuitComponent.applyJson for more info.");let n=t.fromJson(e);if(n)return n.applyJson(e),n}getTransformMatrix(){return new A.Matrix}recalculateSnappingPoints(e){for(let t of this.snappingPoints)t.recalculate(e)}remove(){ag.snapDrag(this,!1),this.visualization.remove(),this.viewSelected(!1),this.selectionElement?.remove()}finishedPlacing=!1;placeRotate(e){}placeFlip(e){}requiredTikzLibraries(){return[]}}var A=T("gBhAd");class as extends ao{pointLimit=2;referencePoints;resizableSVGs;isResizing=!1;constructor(){super(),this.referencePoints=[],this.resizableSVGs=[],aP.instance.visible=!0}moveRel(e){for(let t=0;t<this.referencePoints.length;t++)this.referencePoints[t]=this.referencePoints[t].add(e);this.update()}moveTo(e){let t=e.sub(this.position);this.moveRel(t)}movePointTo(e,t){if(e<0||e>=this.referencePoints.length)throw Error(`Index ${e} out of bounds for reference points array of length ${this.referencePoints.length}`);this.referencePoints[e]=new A.Point(t),this.update()}recalculateResizePoints(){if(this.resizableSVGs.length==this.referencePoints.length)for(let e=0;e<this.referencePoints.length;e++){let t=this.referencePoints[e];this.resizableSVGs[e].center(t.x,t.y)}}resizable(e){if(this.isResizing!=e){if(this.isResizing=e,e){let e=[];for(let t=0;t<this.referencePoints.length;t++){let n=rX();n.node.style.cursor="move",this.resizableSVGs.push(n),e.push(new A.Point),ay.snapDrag(this,n,!0,{dragStart:n=>{e[t]=new A.Point(this.referencePoints[t])},dragMove:e=>{this.movePointTo(t,e)},dragEnd:()=>e[t].eq(this.referencePoints[t])})}}else{for(let e of this.resizableSVGs)ay.snapDrag(this,e,!1),e?.remove();this.resizableSVGs=[]}this.update()}}toJson(){let e=super.toJson();return e.points=this.referencePoints.map(e=>e.simplifyForJson()),e}applyJson(e){super.applyJson(e),this.referencePoints=e.points?e.points.map(e=>new A.Point(e)):[]}rotate(e){this.referencePoints=this.referencePoints.map(t=>t.rotate(e,this.position)),this.update()}flip(e){}placeMove(e,t){this.referencePoints.length>0&&this.movePointTo(this.referencePoints.length-1,e)}placeStep(e,t){if(this.finishedPlacing)return!0;if(0==this.referencePoints.length)this.referencePoints.push(e.clone()),this.visualization.show(),this.updateTheme();else if(this.referencePoints.at(-2).eq(e))return!0;return this.pointLimit>0&&this.referencePoints.length>=this.pointLimit?(this.placeMove(e,t),this.referencePoints.push(new A.Point),!0):(this.referencePoints.push(e),this.placeMove(e,t),!1)}placeFinish(){if(!this.finishedPlacing){if(0==this.referencePoints.length&&this.placeStep(new A.Point),this.referencePoints.pop(),this.referencePoints.length>=2&&this.referencePoints.at(-1).eq(this.referencePoints.at(-2))&&this.referencePoints.pop(),this.referencePoints.length<2)return void oE.instance.removeComponent(this);this.finishedPlacing=!0,this.update()}}toTikzString(){let e={options:[],additionalNodes:[],connectors:[],coordinates:[]};return this.buildTikzCommand(e),aW(e)}buildTikzCommand(e){super.buildTikzCommand(e),e.coordinates.push(...this.referencePoints)}}var A=T("gBhAd");const aa=[{key:"default",name:"default",direction:new A.Point(NaN,NaN)},{key:"center",name:"center",direction:new A.Point},{key:"north",name:"north",direction:new A.Point(0,-1),pointer:"ns-resize"},{key:"south",name:"south",direction:new A.Point(0,1),pointer:"ns-resize"},{key:"east",name:"east",direction:new A.Point(1,0),pointer:"ew-resize"},{key:"west",name:"west",direction:new A.Point(-1,0),pointer:"ew-resize"},{key:"northeast",name:"north east",direction:new A.Point(1,-1),pointer:"nesw-resize"},{key:"northwest",name:"north west",direction:new A.Point(-1,-1),pointer:"nwse-resize"},{key:"southeast",name:"south east",direction:new A.Point(1,1),pointer:"nwse-resize"},{key:"southwest",name:"south west",direction:new A.Point(-1,1),pointer:"nesw-resize"}],au=aa[0];class al extends s0(sQ(ao)){rotationDeg=0;scaleState;size;resizeVisualizations;isResizing=!1;defaultTextPosition;constructor(){super(),this.position=new A.Point,this.size=new A.Point,this.rotationDeg=0,this.scaleState=new A.Point(1,1),this.defaultTextPosition=new A.Point}placeMove(e){this.moveTo(e)}placeRotate(e){this.rotate(e)}placeFlip(e){this.flip(e)}placeStep(e){return this.moveTo(e),!0}placeFinish(){this.finishedPlacing=!0,this.update()}remove(){super.remove(),this.labelRendering?.remove()}moveRel(e){this.moveTo(this.position.add(e))}getTransformMatrix(){return new A.Matrix({scaleX:this.scaleState.x,scaleY:this.scaleState.y,translate:[-this.referencePosition.x,-this.referencePosition.y],origin:[this.referencePosition.x,this.referencePosition.y]}).lmultiply(new A.Matrix({rotate:-this.rotationDeg,translate:[this.position.x,this.position.y]}))}updateTheme(){let e=aB;this.labelColor&&this.labelColor.value&&(e=this.labelColor.value.toString()),this.labelRendering?.fill(e)}recalculateResizePoints(){}moveTo(e){this.position=e.clone(),this.update()}rotate(e){this.rotationDeg+=e,this.simplifyRotationAngle(),this.update()}simplifyRotationAngle(){this.rotationDeg=((this.rotationDeg+180)%360+360)%360-180}flip(e){e?(this.scaleState.y*=-1,this.rotationDeg*=-1):(this.scaleState.y*=-1,this.rotationDeg=180-this.rotationDeg),this.simplifyRotationAngle(),this.update()}toJson(){let e=super.toJson();return e.position=this.position.simplifyForJson(),0!==this.rotationDeg&&(e.rotation=this.rotationDeg),this.scaleState&&(1!=this.scaleState.x||1!=this.scaleState.y)&&(e.scale=this.scaleState),e}applyJson(e){super.applyJson(e),this.position=new A.Point(e.position),(e.rotation||e.rotationDeg)&&(this.rotationDeg=e.rotation??e.rotationDeg),e.scale&&(this.scaleState=new A.Point(e.scale))}toTikzString(){let e={additionalNodes:[],options:[]};return this.buildTikzCommand(e),a$(e)}buildTikzCommand(e){var t,n;let i;super.buildTikzCommand(e),e.position=this.position;let[r,o]=(t=this.rotationDeg,n=this.scaleState,i=new A.Point(n),t=-180==t?180:t,i.y<0?180==t?(t=0,i.y*=-1,i.x*=-1):i.x<0&&(i.x*=-1,i.y*=-1,t+=180):180==t&&(t=0,i.x*=-1,i.y*=-1),[t,i]);0!==r&&e.options.push("rotate="+r),1!=o.x&&e.options.push("xscale="+o.x),1!=o.y&&e.options.push("yscale="+o.y);let s=""!==this.mathJaxLabel.value;e.name=this.buildTikzName(s),s&&e.additionalNodes.push(this.buildTikzNodeLabel(e.name))}updatePositionedLabel(){let e,t;if(!this.mathJaxLabel.value||!this.labelRendering)return;let n=this.labelRendering,i=this.getTransformMatrix(),r=this.size.div(2);this.positionChoice.value.key==au.key?(e=this.defaultTextPosition.transform(i),this.labelPos=void 0,t=aV(this.defaultTextPosition.sub(r).div(r)).direction):("canvas"==this.labelReferenceProperty.value.key?(t=this.positionChoice.value.direction.transform(new A.Matrix({rotate:-this.rotationDeg,scaleX:Math.sign(this.scaleState.x),scaleY:Math.sign(this.scaleState.y)}).inverse()),this.labelPos=aV(t)):this.labelPos=this.positionChoice.value,t=this.labelPos.direction,e=r.add(t.mul(r)).transform(i));let o=n.bbox(),s=this.labelDistance.value.convertToUnit("px").value??0;if(this.anchorChoice.value.key==au.key){let e=t.mul(-1).transform(new A.Matrix({rotate:-this.rotationDeg,scaleX:Math.sign(this.scaleState.x),scaleY:Math.sign(this.scaleState.y)}));this.anchorPos=aV(e)}else this.anchorPos=this.anchorChoice.value;let a=this.anchorPos.direction,u=a.add(1).div(2).mul(new A.Point(o.w,o.h)).add(new A.Point(o.x,o.y)).add(a.mul(s));n.transform({translate:e.sub(u)})}}class ac{static _instance;_component;get component(){return this._component}previousComponent=null;constructor(){this.placeStep=this.placeStep.bind(this),this.placeMove=this.placeMove.bind(this),this.placeFinish=this.placeFinish.bind(this)}static get instance(){return ac._instance??(ac._instance=new ac)}static pointFromEvent(e){let t=ow.eventToPoint(e,!1);return e.shiftKey||(t=a_.instance.snapPoint(t,ac.instance.component)),t}placeStep(e){if(e instanceof MouseEvent&&0!==e.button||window.TouchEvent&&e instanceof TouchEvent&&0!==e.touches.length)return;let t=ac.pointFromEvent(e);this.component.placeStep(t,e)&&this.placeFinish(e),a_.instance.recalculateAdditionalSnapPoints()}placeMove(e){let t=ac.pointFromEvent(e);this.component.placeMove(t,e),a_.instance.showSnapPoints(!e.shiftKey),a_.instance.recalculateAdditionalSnapPoints(),aP.instance.moveTo(t)}placeRotate(e){this.component&&this.component.placeRotate(e)}placeFlip(e){this.component&&this.component.placeFlip(e)}placeFinish(e){this.component&&(this.component.placeFinish(),this.cleanUp(),sP.addState(),!window.TouchEvent||e instanceof TouchEvent?(this._component=null,oE.instance.switchMode(m.DRAG_PAN)):(this.previousComponent=this.component,this.placeComponent(this.component.copyForPlacement())))}placeCancel(e){let t=this.component;t&&(t.placeFinish(),oE.instance.removeComponent(t),this._component=null),this.previousComponent&&s_.instance.selectComponents([this.previousComponent],g.RESET),this.previousComponent=null,this.cleanUp(),aP.instance.visible=!1,oE.instance.switchMode(m.DRAG_PAN)}cleanUp(){a_.instance.showSnapPoints(!1);let e=ow.instance.canvas;e.off("mousemove",this.placeMove),e.off("touchmove",this.placeMove),e.off("mouseup",this.placeStep),e.off("touchend",this.placeStep),oy.unbind("enter",this.placeFinish)}placeComponent(e){oE.instance.switchMode(m.COMPONENT),this._component=e,a_.instance.updateSnapPoints(e,!1),a_.instance.showSnapPoints(),sR.instance.update();let t=ow.instance.canvas;t.on("mousemove",this.placeMove),t.on("touchmove",this.placeMove),t.on("mouseup",this.placeStep),t.on("touchend",this.placeStep),oy("enter",{keyup:!1,keydown:!0},this.placeFinish),this.component.placeMove(ow.instance.lastCanvasPoint),aP.instance.moveTo(a_.instance.snapPoint(ow.instance.lastCanvasPoint,e)),a_.instance.recalculateAdditionalSnapPoints()}}var A=T("gBhAd");class ah extends A.Symbol{_mapping;possibleOptions;possibleEnumOptions;displayName;tikzName;groupName;viewBox;isNodeSymbol;symbolElement;_tikzOptions;maxStroke=0;constructor(e){let t=e.getElementsByTagName("variant");super(e.ownerDocument.getElementById(t[0].getAttribute("for"))),this.isNodeSymbol="node"==e.getAttribute("type"),this.tikzName=e?.getAttribute("tikz")??null,this.displayName=e?.getAttribute("display")??this.tikzName,this.groupName=e?.getAttribute("group")??null;let n=e.getElementsByTagName("options")[0];for(let o of(n?(this.possibleEnumOptions=Array.from(n.getElementsByTagName("enumopt")).map(e=>({options:Array.from(e.getElementsByTagName("option")).map(this.optionMetadataToSymbolOption),selectNone:!e.hasAttribute("selectNone")||"true"==e.getAttribute("selectNone"),displayName:e.getAttribute("name")??"Choose an option"})),this.possibleOptions=Array.from(n.getElementsByTagName("option")).filter(e=>"options"==e.parentElement.tagName).map(e=>this.optionMetadataToSymbolOption(e))):(this.possibleOptions=[],this.possibleEnumOptions=[]),this.viewBox=new A.Box(t[0].getAttribute("viewBox")),this._mapping=new Map,t)){let t;var i=this.getOptionsFromOptionNames(Array.from(o.getElementsByTagName("option")).map(e=>e.getAttribute("name")));let n=o.getAttribute("for"),s=new A.Symbol(e.ownerDocument.getElementById(n)),a=0;if(s.node.id){s.node.querySelectorAll("[stroke-width]").forEach(e=>{let t=Number.parseFloat(e.getAttribute("stroke-width"));a=t>a?t:a});let e=ow.instance.canvas.use(s.node.id),t=e.node.getBBox({stroke:!0,markers:!0}),n=new A.Box(t.x,t.y,t.width,t.height);o.setAttribute("viewBox",n.toString()),e.remove()}let u=(Array.from(o.getElementsByTagName("pin"))??[]).map(this.parseAnchor,this),l=u.find(e=>e.isDefault)||{name:"center",x:new A.Number,y:new A.Number,isDefault:!0,point:new A.Point(0,0)},c=o.getElementsByTagName("textpos")[0];c?(t=this.parseAnchor(c)).name="text":t=l;var r={mid:new A.Point(r3(o.getAttribute("x")??0),r3(o.getAttribute("y")??0)),viewBox:new A.Box(o.getAttribute("viewBox")),symbol:new A.Symbol(e.ownerDocument.getElementById(n)),pins:u,textPosition:t,defaultAnchor:l,options:i,maxStroke:a};let h=s.rect(r.viewBox.width,r.viewBox.height).center(r.viewBox.cx,r.viewBox.cy);h.fill("transparent").stroke("none").addClass("clickBackground"),s.add(h),this._mapping.set(this.optionsToStringArray(i).join(", "),r)}let o=this._mapping.values().toArray()[0];this.symbolElement=o.symbol,this.maxStroke=o.maxStroke}optionMetadataToSymbolOption(e){return{name:e.getAttribute("name"),displayName:e.getAttribute("display")??void 0}}optionsToStringArray(e){return e.sort((e,t)=>e.name<t.name?-1:+(e.name>t.name)).map(e=>e.name)}getVariant(e){return this._mapping.get(this.optionsToStringArray(e).join(", "))}parseAnchor(e){let t=/^(\d*\.)?\d+$/,n={name:e.getAttribute("name")||e.getAttribute("anchorname")||void 0,x:new A.Number(e.getAttribute("x")??"0"),y:new A.Number(e.getAttribute("y")??"0"),isDefault:!!e.getAttribute("isDefault")||!!e.getAttribute("isdefault")};return"string"==typeof n.x&&t.test(n.x)&&(n.x=new A.Number(n.x)),"string"==typeof n.y&&t.test(n.y)&&(n.y=new A.Number(n.y)),"boolean"!=typeof n.isDefault&&(n.isDefault="true"===n.isDefault),n.point=new A.Point(r3(n.x),r3(n.y)),n}getOptionsFromOptionNames(e){let t=[];function n(e,t){let n=t.replaceAll(" ","-");return!!e.displayName&&e.displayName.replaceAll(" ","-")==n||e.name.replaceAll(" ","-")==n}for(let i of e){let e=this.possibleOptions.find(e=>n(e,i));if(e)t.push(e);else for(let r of this.possibleEnumOptions)if(e=r.options.find(e=>n(e,i))){t.push(e);break}}return t}getOptionsFromSymbolID(e){let t=e.split(this.tikzName.replaceAll(" ","-"))[1];if(""==t)return[];let n=t.split("_").slice(1);return this.getOptionsFromOptionNames(n)}}var A=T("gBhAd");class ad extends al{static jsonID="node";static{ao.jsonSaveMap.set(ad.jsonID,ad)}referenceSymbol;optionProperties;optionEnumProperties;componentVariant;scaleProperty;constructor(e){if(super(),this.displayName=e.displayName,this.referenceSymbol=e,this.optionProperties=new Map,this.optionEnumProperties=new Map,this.scaleState=new A.Point(1,1),this.scaleProperty=new s$("Scale",.1,10,.01,new A.Number(1),!0,void 0,"manipulation:scale"),this.scaleProperty.addChangeListener(e=>{this.scaleState=new A.Point(Math.sign(this.scaleState.x)*e.value.value,Math.sign(this.scaleState.y)*e.value.value),this.update()}),this.properties.add(D.manipulation,this.scaleProperty),e.possibleOptions.length>0||e.possibleEnumOptions.length>0){for(let t of(this.properties.add(D.options,new sH("Options",void 0,"options:header")),e.possibleOptions)){let e=new sN(t.displayName??t.name,!1,void 0,"options:option"+t.name);e.addChangeListener(e=>{this.updateOptions()}),this.optionProperties.set(e,t),this.properties.add(D.options,e)}for(let t of e.possibleEnumOptions){let e=t.selectNone?[{key:"-",name:"--default--"}]:[];t.options.forEach(t=>{e.push({key:t.name,name:t.displayName??t.name})});let n=new sB(t.displayName,e,e[0],void 0,"options:enum_"+t.displayName);n.addChangeListener(e=>{this.updateOptions()}),this.optionEnumProperties.set(n,t),this.properties.add(D.options,n)}}this.componentVariant=e.getVariant(this.optionsFromProperties()),this.size=new A.Point(this.componentVariant.viewBox.w,this.componentVariant.viewBox.h),this.defaultTextPosition=this.componentVariant.textPosition.point.add(this.componentVariant.mid),this.componentVisualization=ow.instance.canvas.use(this.componentVariant.symbol),this.componentVisualization.fill(aU),this.componentVisualization.stroke(aB),this.componentVisualization.node.style.color=aB,this.referencePosition=this.componentVariant.mid,this.visualization.add(this.componentVisualization),this.dragElement=this.componentVisualization,this.addInfo(),this.snappingPoints=this.componentVariant.pins.map(e=>new aL(this,e.name,e.point.add(this.componentVariant.mid)))}resizable(e){}optionsFromProperties(){let e=[];return this.optionProperties.forEach((t,n)=>{n.value&&e.push(t)}),this.optionEnumProperties.forEach((t,n)=>{"-"!=n.value.key&&e.push(t.options.find(e=>e.name==n.value.key))}),e}addInfo(){this.properties.add(D.info,new sH("Info")),this.properties.add(D.info,new sj("ID",this.referenceSymbol.tikzName))}setPropertiesFromOptions(e){this.optionProperties.forEach((t,n)=>{e.find(e=>e.name==t.name)?n.value=!0:n.value=!1}),this.optionEnumProperties.forEach((t,n)=>{let i=!1;for(let r of t.options)if(e.find(e=>e.name==r.name)){i=!0,n.value=n.entries.find(e=>e.key==r.name);break}i||(n.value=n.entries[0])}),this.updateOptions()}updateOptions(){this.componentVariant=this.referenceSymbol.getVariant(this.optionsFromProperties()),this.referencePosition=this.componentVariant.mid,this.componentVisualization.node.setAttribute("href","#"+this.componentVariant.symbol.id()),this.size=new A.Point(this.componentVariant.viewBox.w,this.componentVariant.viewBox.h),this.defaultTextPosition=this.componentVariant.textPosition.point.add(this.componentVariant.mid),this.snappingPoints=this.componentVariant.pins.map(e=>new aL(this,e.name,e.point.add(this.componentVariant.mid))),this.update()}getSnappingInfo(){return{trackedSnappingPoints:this.snappingPoints,additionalSnappingPoints:[new aL(this,"center",this.componentVariant.mid)]}}update(){let e=this.getTransformMatrix();this.componentVisualization.transform(e),this._bbox=this.componentVariant.viewBox.transform(e),this.updatePositionedLabel(),this.recalculateSelectionVisuals(),this.recalculateSnappingPoints()}recalculateSelectionVisuals(){if(this.selectionElement){let e=this.componentVariant.viewBox,t=this.componentVariant.maxStroke;this.selectionElement.size(e.w+t+1,e.h+t+1).transform(this.getTransformMatrix().multiply(new A.Matrix({translate:[e.x-(1+t)/2,e.y-(1+t)/2]})))}}toJson(){let e=super.toJson();return e.type=ad.jsonID,e.id=this.referenceSymbol.tikzName,this.componentVariant.options.length>0&&(e.options=this.componentVariant.options.map(e=>e.displayName??e.name)),this.name.value&&(e.name=this.name.value),e}toTikzString(){let e={options:[this.referenceSymbol.tikzName],additionalNodes:[]};return this.buildTikzCommand(e),a$(e)}buildTikzCommand(e){e.options.push(...this.referenceSymbol.optionsToStringArray(this.optionsFromProperties())),super.buildTikzCommand(e)}applyJson(e){super.applyJson(e);let t=e.options??[];this.setPropertiesFromOptions(this.referenceSymbol.getOptionsFromOptionNames(t)),this.scaleProperty.value=new A.Number(Math.abs(this.scaleState.x)),this.update(),this.updateTheme()}static fromJson(e){let t;if(""!=sk.instance.currentlyLoadedSaveVersion)t=oE.instance.symbols.find(t=>t.tikzName==e.id);else{let n=e.id.split("_");t=oE.instance.symbols.find(e=>e.tikzName==n[1].replaceAll("-"," ")),e.options=n.slice(2)}return t?new ad(t):(console.error("no node symbol found for saveObject: "+JSON.stringify(e)),null)}copyForPlacement(){let e=new ad(this.referenceSymbol);return e.rotationDeg=this.rotationDeg,e.scaleState=new A.Point(this.scaleState),e}}var A=T("gBhAd");class ap extends an(ae(s1(sQ(as)))){static jsonID="path";static{ao.jsonSaveMap.set(ap.jsonID,ap)}referenceSymbol;startLine;endLine;startLineSelection;endLineSelection;selectionRect;dragStartLine;dragEndLine;relSymbolStart;relSymbolEnd;rotationDeg=0;mirror;invert;scaleProperty;scaleState;optionProperties;optionEnumProperties;componentVariant;constructor(e){if(super(),this.scaleState=new A.Point(1,1),this.scaleProperty=new s$("Scale",.1,10,.01,new A.Number(1),!0,void 0,"manipulation:scale"),this.scaleProperty.addChangeListener(e=>{this.scaleState=new A.Point(Math.sign(this.scaleState.x)*e.value.value,Math.sign(this.scaleState.y)*e.value.value),this.update()}),this.properties.add(D.manipulation,this.scaleProperty),this.optionProperties=new Map,this.optionEnumProperties=new Map,e.possibleOptions.length>0||e.possibleEnumOptions.length>0){for(let t of(this.properties.add(D.options,new sH("Options",void 0,"options:header")),e.possibleOptions)){let e=new sN(t.displayName??t.name,!1,void 0,"options:option"+t.name);e.addChangeListener(e=>{this.updateOptions()}),this.optionProperties.set(e,t),this.properties.add(D.options,e)}for(let t of e.possibleEnumOptions){let e=t.selectNone?[{key:"-",name:"--default--"}]:[];t.options.forEach(t=>{e.push({key:t.name,name:t.displayName??t.name})});let n=new sB(t.displayName,e,e[0],void 0,"options:enum_"+t.displayName);n.addChangeListener(e=>{this.updateOptions()}),this.optionEnumProperties.set(n,t),this.properties.add(D.options,n)}}this.componentVariant=e.getVariant(this.optionsFromProperties()),this.componentVisualization=ow.instance.canvas.use(this.componentVariant.symbol),this.componentVisualization.fill(aU),this.componentVisualization.stroke(aB),this.componentVisualization.node.style.color=aB,this.displayName=e.displayName,this.referenceSymbol=e,this.scaleState=new A.Point(1,1);let t=this.componentVariant.pins.findIndex(e=>"START"===e.name),n=this.componentVariant.pins.findIndex(e=>"END"===e.name);this.relSymbolStart=this.componentVariant.pins.at(t).point,this.relSymbolEnd=this.componentVariant.pins.at(n).point,this.startLine=ow.instance.canvas.line().fill("none").stroke({color:aB,width:.5}),this.endLine=this.startLine.clone(!0),this.dragStartLine=ow.instance.canvas.line().fill("none").stroke({width:16,color:"transparent"}),this.dragEndLine=this.dragStartLine.clone(!0),this.selectionElement.remove(),this.selectionElement=ow.instance.canvas.group(),this.startLineSelection=ow.instance.canvas.line().fill("none"),this.endLineSelection=ow.instance.canvas.line().fill("none"),this.selectionRect=ow.instance.canvas.rect(0,0).fill("none"),this.selectionElement.add(this.selectionRect),this.selectionElement.add(this.startLineSelection),this.selectionElement.add(this.endLineSelection),this.selectionElement.hide(),this.visualization.add(this.componentVisualization),this.visualization.add(this.startLine),this.visualization.add(this.endLine),this.visualization.add(this.dragStartLine),this.visualization.add(this.dragEndLine),this.visualization.hide(),this.properties.add(D.manipulation,new sH("Symbol Orientation",void 0,"manipulation:header")),this.mirror=new sN("Mirror",!1,void 0,"manipulation:mirror"),this.mirror.addChangeListener(e=>{this.scaleState.y*=-1,this.update()}),this.properties.add(D.manipulation,this.mirror),this.invert=new sN("Invert",!1,void 0,"manipulation:invert"),this.invert.addChangeListener(e=>{this.scaleState.x*=-1,this.update()}),this.properties.add(D.manipulation,this.invert),this.addInfo(),this.snappingPoints=[new aL(this,null,new A.Point(0,0)),new aL(this,null,new A.Point(0,0)),...this.componentVariant.pins.filter((e,i)=>i!=t&&i!=n).map(e=>new aL(this,e.name,e.point.add(this.componentVariant.mid)))]}updateVoltageRender(){if(this.voltageArrowRendering?.remove(),this.referencePoints&&!(this.referencePoints.length<2)&&this.voltageRendering&&""!=this.voltageLabel.value){let e=this.generateVoltageArrow(this.referencePoints[0],this.referencePoints[1],this.componentVariant.mid.mul(-1),new A.Point(this.componentVariant.viewBox.x2,this.componentVariant.viewBox.y2).sub(this.componentVariant.mid),this.scaleState);this.voltageArrowRendering=e.arrow,this.voltageRendering.add(this.voltageArrowRendering);let t=this.voltageLabelRendering.bbox(),n=new A.Point(t.cx,t.cy).add(new A.Point(t.w/2,t.h/2).mul(e.labelAnchorDir));this.voltageLabelRendering.transform(new A.Matrix({translate:e.labelPos.sub(n)}))}}updateCurrentRender(){if(this.currentArrowRendering?.remove(),this.referencePoints&&!(this.referencePoints.length<2)&&this.currentRendering&&(this.currentShow.value||""!=this.currentLabel.value)){let e=this.generateCurrentArrow(this.referencePoints[0],this.referencePoints[1],this.componentVariant.mid.mul(-1),new A.Point(this.componentVariant.viewBox.x2,this.componentVariant.viewBox.y2).sub(this.componentVariant.mid),this.scaleState);this.currentArrowRendering=e.arrow,this.currentRendering.add(this.currentArrowRendering);let t=this.currentLabelRendering.bbox(),n=new A.Point(t.cx,t.cy).add(new A.Point(t.w/2,t.h/2).mul(e.labelAnchorDir));this.currentLabelRendering.transform(new A.Matrix({translate:e.labelPos.sub(n)}))}}addInfo(){this.properties.add(D.info,new sH("Info")),this.properties.add(D.info,new sj("ID",this.referenceSymbol.tikzName))}optionsFromProperties(){let e=[];return this.optionProperties.forEach((t,n)=>{n.value&&e.push(t)}),this.optionEnumProperties.forEach((t,n)=>{"-"!=n.value.key&&e.push(t.options.find(e=>e.name==n.value.key))}),e}setPropertiesFromOptions(e){this.optionProperties.forEach((t,n)=>{e.find(e=>e.name==t.name)?n.value=!0:n.value=!1}),this.optionEnumProperties.forEach((t,n)=>{let i=!1;for(let r of t.options)if(e.find(e=>e.name==r.name)){i=!0,n.value=n.entries.find(e=>e.key==r.name);break}i||(n.value=n.entries[0])}),this.updateOptions()}moveStartTo(e){this.referencePoints[0]=e,this.update()}moveEndTo(e){this.referencePoints[1]=e,this.update()}flip(e){let t=new A.Point(this.referencePoints[0].x,this.referencePoints[1].y),n=new A.Point(this.referencePoints[1].x,this.referencePoints[0].y);e?(this.referencePoints[0]=t,this.referencePoints[1]=n):(this.referencePoints[0]=n,this.referencePoints[1]=t),this.mirror.updateValue(!this.mirror.value),this.update()}recalculateSnappingPoints(){let e=this.getTransformMatrix().inverse();this.snappingPoints[0].updateRelPosition(this.referencePoints[0].transform(e)),this.snappingPoints[1].updateRelPosition(this.referencePoints[1].transform(e)),super.recalculateSnappingPoints()}updateOptions(){this.componentVariant=this.referenceSymbol.getVariant(this.optionsFromProperties()),this.componentVisualization.node.setAttribute("href","#"+this.componentVariant.symbol.id());let e=this.componentVariant.pins.findIndex(e=>"START"===e.name),t=this.componentVariant.pins.findIndex(e=>"END"===e.name);this.snappingPoints=[new aL(this,null,new A.Point(0,0)),new aL(this,null,new A.Point(0,0)),...this.componentVariant.pins.filter((n,i)=>i!=e&&i!=t).map(e=>new aL(this,e.name,e.point.add(this.componentVariant.mid)))],this.update()}getSnappingInfo(){return this.finishedPlacing?{trackedSnappingPoints:this.snappingPoints,additionalSnappingPoints:[]}:{trackedSnappingPoints:[],additionalSnappingPoints:this.referencePoints.length>0?[new aL(this,"",new A.Point)]:[]}}update(){if(!this.referencePoints||this.referencePoints.length<2)return;this.position=this.referencePoints[0].add(this.referencePoints[1]).div(2);let e=Math.atan2(this.referencePoints[0].y-this.referencePoints[1].y,this.referencePoints[1].x-this.referencePoints[0].x);this.rotationDeg=180*e/Math.PI;let t=this.getTransformMatrix();this.componentVisualization.transform(t);let n=this.relSymbolStart.add(this.componentVariant.mid).transform(t),i=this.relSymbolEnd.add(this.componentVariant.mid).transform(t);if(this.invert.value){let e=n;n=i,i=e}this.recalculateResizePoints(),this.startLine.plot(this.referencePoints[0].x,this.referencePoints[0].y,n.x,n.y),this.endLine.plot(this.referencePoints[1].x,this.referencePoints[1].y,i.x,i.y),this.startLineSelection.plot(this.referencePoints[0].x,this.referencePoints[0].y,n.x,n.y),this.endLineSelection.plot(this.referencePoints[1].x,this.referencePoints[1].y,i.x,i.y),this.dragStartLine.plot(this.referencePoints[0].x,this.referencePoints[0].y,n.x,n.y),this.dragEndLine.plot(this.referencePoints[1].x,this.referencePoints[1].y,i.x,i.y),this.updatePathLabel(),this.updateVoltageRender(),this.updateCurrentRender(),this._bbox=this.visualization.bbox(),this.referencePosition=this.position.sub(new A.Point(this._bbox.x,this._bbox.y)),this.recalculateSelectionVisuals(),this.recalculateSnappingPoints()}recalculateSelectionVisuals(){if(this.selectionElement){let e=this.componentVariant.viewBox;this.selectionRect.center(e.cx,e.cy).size(e.w+1,e.h+1).transform(this.getTransformMatrix())}}viewSelected(e){super.viewSelected(e),this.resizable(this.isSelected&&e&&1==s_.instance.currentlySelectedComponents.length)}getTransformMatrix(){let e=this.componentVariant.mid;return new A.Matrix({scaleX:this.scaleState.x,scaleY:this.scaleState.y,translate:[-e.x,-e.y],origin:[e.x,e.y]}).lmultiply(new A.Matrix({rotate:-this.rotationDeg,translate:[this.position.x,this.position.y]}))}updateTheme(){let e=aB;this.labelColor&&this.labelColor.value&&(e=this.labelColor.value.toString()),this.labelRendering?.fill(e)}isInsideSelectionRectangle(e){if(rJ(this.startLine,e)||rJ(this.endLine,e))return!0;let t=this.componentVariant.viewBox,n=this.getTransformMatrix(),i=[new A.Point(t.x,t.y).transform(n),new A.Point(t.x2,t.y).transform(n),new A.Point(t.x2,t.y2).transform(n),new A.Point(t.x,t.y2).transform(n)];if(i.map(t=>rQ(t,e)).every(e=>e))return!0;let r=!0;for(let t=0;t<i.length;t++){let n=i[t],o=i[(t+1)%i.length];if(rJ([[n.x,n.y],[o.x,o.y]],e))return!0;r=r&&o.sub(n).rotate(-90).dot(new A.Point(e.cx,e.cy).sub(n))>0}return r}toJson(){let e=super.toJson();return e.type=ap.jsonID,e.id=this.referenceSymbol.tikzName,this.componentVariant.options.length>0&&(e.options=this.componentVariant.options.map(e=>e.displayName??e.name)),this.scaleState&&(1!=this.scaleState.x||1!=this.scaleState.y)&&(e.scale=this.scaleState),e}toTikzString(){if(!this.referencePoints||this.referencePoints.length<2)return"";let e={options:["draw"],additionalNodes:[],coordinates:[],connectors:[]};return this.buildTikzCommand(e),aW(e)}buildTikzCommand(e){super.buildTikzCommand(e);let t=[this.referenceSymbol.tikzName];t.push(...this.referenceSymbol.optionsToStringArray(this.optionsFromProperties())),this.mirror.value&&t.push("mirror"),this.invert.value&&t.push("invert");let n=1!=this.scaleProperty.value.value?new A.Number(1.4*this.scaleProperty.value.value,"cm"):void 0;n&&t.push("/tikz/circuitikz/bipoles/length="+n.value.toPrecision(3)+n.unit);let i={options:t,name:this.name.value};this.buildTikzPathLabel(i),this.buildTikzVoltage(i),this.buildTikzCurrent(i),e.coordinates.length>=2&&e.connectors.push(i)}remove(){ag.snapDrag(this,!1),this.resizable(!1),this.viewSelected(!1),this.visualization.remove(),this.selectionElement?.remove(),this.labelRendering?.remove()}copyForPlacement(){return new ap(this.referenceSymbol)}static idNoOptions(e){return e.split("_").slice(0,2).join("_")}applyJson(e){super.applyJson(e);let t=e.options??[];this.setPropertiesFromOptions(this.referenceSymbol.getOptionsFromOptionNames(t)),e.scale&&(this.scaleState=new A.Point(e.scale),this.scaleProperty.updateValue(new A.Number(Math.abs(e.scale.x)))),this.mirror.value=this.scaleState.y<0,this.invert.value=this.scaleState.x<0,this.scaleProperty.value=new A.Number(Math.abs(this.scaleState.x)),this.update(),this.visualization.show()}static fromJson(e){let t;if(""!=sk.instance.currentlyLoadedSaveVersion)t=oE.instance.symbols.find(t=>t.tikzName==e.id);else{let n=e.id.split("_");t=oE.instance.symbols.find(e=>e.tikzName==n[1].replaceAll("-"," ")),e.options=n.slice(2),e.points=[e.start,e.end]}return t?new ap(t):(console.error("no path symbol found for saveObject: "+JSON.stringify(e)),null)}updatePathLabel(){if(!this.mathJaxLabel||!this.labelRendering)return;let e=this.labelRendering,t=this.referencePoints[1].sub(this.referencePoints[0]),n=e.bbox(),i=new A.Point(n.w,n.h).div(2),r=this.componentVisualization.bbox(),o=new A.Point(r.w,r.h).div(2),s=new A.Point(n.cx,n.y2),a=this.rotationDeg;(a>90||a<-90)&&(a+=180,s.y=n.y);let u=this.scaleState.y<0?this.componentVariant.mid.y-r.h:-this.componentVariant.mid.y;u*=Math.abs(this.scaleState.y);let l=0,c=this.labelSide.value?-1:1;c<0&&(s.y=n.y-s.y,u+=r.h*Math.abs(this.scaleState.y));let h=21>Math.abs(this.rotationDeg)||Math.abs(this.rotationDeg)>159,d=Math.abs(this.rotationDeg)>70&&110>Math.abs(this.rotationDeg);if(h){a=0;let e=Math.sign(t.x),n=Math.sign(this.rotationDeg),r=Math.min(i.x,o.x)*n;l=r*e*c,s.x+=r*c}else if(d){a=0;let e=Math.sign(t.x),r=Math.sign(this.rotationDeg),u=Math.min(i.y,o.x)*e*c;l=-u*r,s.y=n.cy+u,s.x+=i.x*(r*c)}u-=c*(this.labelDistance.value?this.labelDistance.value.convertToUnit("px").value:0);let p=new A.Point(l,u).transform(new A.Matrix({rotate:-this.rotationDeg})),f=this.position.add(p).sub(s);e.transform({rotate:-a,ox:s.x,oy:s.y,translate:[f.x,f.y]})}}var A=(T("gBhAd"),T("gBhAd"));function af(e){let t=e;for(;t.parentGroup;)t=t.parentGroup;return t}let am=null;class ag{componentReference;element;startedDragging=!1;didDrag=!1;constructor(e,t){this.componentReference=e,this.element=t,this.element.remember("_snapDragHandler",this),this.element.draggable(!0),this.element.on("dragstart",this.dragStart,this,{passive:!0}),this.element.on("dragmove.namespace",this.dragMove,this),this.element.on("dragend",this.dragEnd,this,{passive:!0}),this.element.on("mouseenter",e=>{af(this.componentReference).isHovered=!am||this.componentReference==am}),this.element.on("mouseleave",e=>{af(this.componentReference).isHovered=this.didDrag})}static snapDrag(e,t,n=e.visualization){let i=n.remember("_snapDragHandler")??(t?new ag(e,n):null);return!1===t&&i?(i.startedDragging&&i.dragEnd(null,!1),i.removeHandler(),null):i}removeHandler(){this.element.off("dragstart",this.dragStart),this.element.off("dragmove.namespace",this.dragMove),this.element.off("dragend",this.dragEnd),this.element.off("mouseenter"),this.element.off("mouseleave"),this.element.draggable(!1),this.element.forget("_snapDragHandler"),this.element.forget("_draggable")}dragOffset;dragStart(e){this.startedDragging=!0,am=this.componentReference,this.element.node.classList.add("dragging"),this.element.parent().node.classList.add("dragging"),this.dragOffset=this.componentReference.position.sub(ow.eventToPoint(e.detail.event,!1)),a_.instance.updateSnapPoints(af(this.componentReference),!1)}dragMove(e){this.didDrag=!0,e.preventDefault();let t=ow.eventToPoint(e.detail.event,!1).add(this.dragOffset),n=e.detail.event.shiftKey,i=n?t:a_.instance.snapPoint(t,this.componentReference);a_.instance.showSnapPoints(!n);let r=af(this.componentReference);r.isSelected?s_.instance.moveSelectionRel(i.sub(this.componentReference.position)):r.moveTo(i.add(r.position.sub(this.componentReference.position))),a_.instance.recalculateAdditionalSnapPoints()}dragEnd(e,t=!0){if(!this.startedDragging)return;am=null;let n=af(this.componentReference);if(!this.didDrag){let i=e.detail.event.ctrlKey||oE.instance.isMac&&e.detail.event.metaKey,r=e.detail.event.shiftKey?g.ADD:i?g.SUB:g.RESET;r==g.RESET&&s_.instance.currentlySelectedComponents.includes(n)&&s_.instance.currentlySelectedComponents.length>1?s_.instance.setReference(n):s_.instance.selectComponents([n],r),t=!1}if(this.didDrag=!1,this.startedDragging=!1,this.element.node.classList.remove("dragging"),this.element.parent().node.classList.remove("dragging"),a_.instance.showSnapPoints(!1),window.TouchEvent&&e.detail?.event instanceof TouchEvent){let t=e.detail.event.touches?.[0]??e.detail.event.changedTouches?.[0],n=new PointerEvent("contextmenu",{clientX:t.clientX,clientY:t.clientY});Promise.resolve().then(()=>this.element.node.dispatchEvent(n))}if(n.isSelected)for(let e of s_.instance.currentlySelectedComponents)e.recalculateSnappingPoints();else n.recalculateSnappingPoints();t&&sP.addState()}}class ay{dragCallbacks;element;componentReference;startedDragging=!1;didDrag=!1;constructor(e,t,n){this.element=t,this.componentReference=e,this.dragCallbacks=n,this.element.remember("_adjustDragHandler",this),this.element.draggable(!0),this.element.on("dragstart",this.dragStart,this,{passive:!0}),this.element.on("dragmove.namespace",this.dragMove,this),this.element.on("dragend",this.dragEnd,this,{passive:!0}),this.element.on("mouseenter",e=>{this.componentReference.isHovered=!am||this.componentReference==am}),this.element.on("mouseleave",e=>{this.componentReference.isHovered=this.didDrag})}static snapDrag(e,t,n,i={}){let r=t.remember("_adjustDragHandler")??(n?new ay(e,t,i):null);return!1===n&&r?(r.startedDragging&&r.dragEnd(null,!1),r.removeHandler(),null):r}removeHandler(){this.element.off("dragstart",this.dragStart),this.element.off("dragmove.namespace",this.dragMove),this.element.off("dragend",this.dragEnd),this.element.off("mouseenter"),this.element.off("mouseleave"),this.element.draggable(!1),this.element.forget("_adjustDragHandler"),this.element.forget("_draggable")}dragStart(e){if(this.startedDragging=!0,am=this.componentReference,this.element.node.classList.add("dragging"),this.element.parent().node.classList.add("dragging"),a_.instance.updateSnapPoints(this.componentReference,!0),this.dragCallbacks&&this.dragCallbacks.dragStart){let t=new A.Point(e.detail.box.cx,e.detail.box.cy),n=e.detail.event.shiftKey?t:a_.instance.snapPoint(t,this.componentReference);this.dragCallbacks.dragStart(n,e.detail.event),a_.instance.recalculateAdditionalSnapPoints()}}dragMove(e){if(e.preventDefault(),window.TouchEvent&&e.detail.event instanceof TouchEvent&&e.detail.event.touches.length>1){this.didDrag=!0,this.dragEnd(e,!0);return}this.didDrag=!0;let t=new A.Point(e.detail.box.cx,e.detail.box.cy),n=e.detail.event.shiftKey,i=n?t:a_.instance.snapPoint(t,this.componentReference);a_.instance.showSnapPoints(!n),this.dragCallbacks&&this.dragCallbacks.dragMove&&this.dragCallbacks.dragMove(i,e.detail.event),a_.instance.recalculateAdditionalSnapPoints()}dragEnd(e,t=!0){if(!this.startedDragging)return;if(am=null,!this.didDrag){let n=e.detail.event.ctrlKey||oE.instance.isMac&&e.detail.event.metaKey,i=e.detail.event.shiftKey?g.ADD:n?g.SUB:g.RESET;i==g.RESET&&s_.instance.currentlySelectedComponents.includes(this.componentReference)&&s_.instance.currentlySelectedComponents.length>1?s_.instance.setReference(this.componentReference):s_.instance.selectComponents([this.componentReference],i),t=!1}this.didDrag=!1,this.startedDragging=!1,this.element.node.classList.remove("dragging"),this.element.parent().node.classList.remove("dragging"),a_.instance.showSnapPoints(!1);let n=!1;this.dragCallbacks&&this.dragCallbacks.dragEnd&&(n=this.dragCallbacks.dragEnd()),this.componentReference.recalculateSnappingPoints(),t&&n&&sP.addState()}}function av(e){switch(e){case b.HV:return b.VH;case b.VH:return b.HV;default:return b.Straight}}(d=b||(b={})).Straight="--",d.HV="-|",d.VH="|-";const aD=[{key:"none",name:"none",tikz:"",setBack:0},{key:"stealth",name:"stealth",tikz:"stealth",setBack:.5},{key:"stealthR",name:"stealth reversed",tikz:"stealth reversed",setBack:.5},{key:"latex",name:"latex",tikz:"latex",setBack:.5},{key:"latexR",name:"latex reversed",tikz:"latex reversed",setBack:.5},{key:"to",name:"to",tikz:"to",setBack:.1,strokeFactor:.7,refXY:new A.Point(-1,-.6)},{key:"toR",name:"to reversed",tikz:"to reversed",setBack:.4,strokeFactor:.7,refXY:new A.Point(-1,-.6)},{key:"line",name:"line",tikz:"|",setBack:0,strokeFactor:1,refXY:new A.Point(-.5,-.5)}],ab=aD[0];class aE extends an(sJ(as)){static jsonID="wire";static{ao.jsonSaveMap.set(aE.jsonID,aE)}wireDirections;previousPlacingDirection=new A.Point(1,0);wire;draggableWire;adjustmentPoints=[];arrowEndChoice;arrowStartChoice;startArrowElement;endArrowElement;static arrowSymbols;onlyStraight;defaultArrowHead;constructor(e=!1,t=!1){if(super(),this.onlyStraight=e,this.defaultArrowHead=t,this.referencePoints=[],this.pointLimit=-1,this.wireDirections=[],this.displayName="Wire",this.wire=ow.instance.canvas.polyline(),this.wire.fill("none"),this.draggableWire=ow.instance.canvas.polyline(),this.draggableWire.attr({fill:"none",stroke:"transparent","stroke-width":16}),this.strokeWidthProperty.value=new A.Number("0.4pt"),this.strokeInfo.width=this.strokeWidthProperty.value,this.visualization.add(this.wire),this.visualization.add(this.draggableWire),this.snappingPoints=[],this.properties.add(D.options,new sH("Arrows",void 0,"arrows:header")),this.arrowStartChoice=new sB("Start",aD,ab,void 0,"arrows:start"),this.arrowStartChoice.addChangeListener(e=>{this.updateArrowTypesAndColors(),this.update()}),this.properties.add(D.options,this.arrowStartChoice),this.arrowEndChoice=new sB("End",aD,this.defaultArrowHead?aD[3]:ab,void 0,"arrows:end"),this.arrowEndChoice.addChangeListener(e=>{this.updateArrowTypesAndColors(),this.update()}),this.properties.add(D.options,this.arrowEndChoice),!aE.arrowSymbols)for(let e of(aE.arrowSymbols=new Map,aD))aE.arrowSymbols.set(e.key,document.getElementById(e.key))}lineWidthToArrowScale(){return 4.5*this.strokeInfo.width.convertToUnit("pt").value+2.8}updateArrowTypesAndColors(){let e=this.strokeInfo.color;if("default"==e&&(e=aB),this.startArrowElement?.remove(),this.startArrowElement=null,this.arrowStartChoice.value.key!=ab.key)for(let t of(this.startArrowElement=ow.instance.canvas.group(),this.startArrowElement.addTo(this.visualization),this.startArrowElement.stroke({color:e,opacity:this.strokeInfo.opacity}),this.startArrowElement.fill({color:e,opacity:this.strokeInfo.opacity}),document.getElementById(this.arrowStartChoice.value.key).children))this.startArrowElement.node.append(t.cloneNode(!0));if(this.endArrowElement?.remove(),this.endArrowElement=null,this.arrowEndChoice.value.key!=ab.key)for(let t of(this.endArrowElement=ow.instance.canvas.group(),this.endArrowElement.addTo(this.visualization),this.endArrowElement.stroke({color:e,opacity:this.strokeInfo.opacity}),this.endArrowElement.fill({color:e,opacity:this.strokeInfo.opacity}),document.getElementById(this.arrowEndChoice.value.key).children))this.endArrowElement.node.append(t.cloneNode(!0))}updateArrowTransforms(e,t){let n=this.lineWidthToArrowScale(),i=this.strokeInfo.width.convertToUnit("px").value/n;if(this.arrowStartChoice.value.key!=ab.key){let t=this.referencePoints.at(0).sub(e),r=180*Math.atan2(t.y,t.x)/Math.PI,o=this.arrowStartChoice.value.refXY??new A.Point(-1,-.5);this.startArrowElement.transform(new A.Matrix({translate:this.referencePoints.at(0).toArray(),rotate:r,scale:[n,n]}).multiply({translate:o.toArray()})),this.startArrowElement.attr("stroke-width",i*(this.arrowStartChoice.value.strokeFactor??0))}if(this.arrowEndChoice.value.key!=ab.key){let e=this.referencePoints.at(-1).sub(t),r=180*Math.atan2(e.y,e.x)/Math.PI,o=this.arrowEndChoice.value.refXY??new A.Point(-1,-.5);this.endArrowElement.transform(new A.Matrix({translate:this.referencePoints.at(-1).toArray(),rotate:r,scale:[n,n]}).multiply({translate:o.toArray()})),this.endArrowElement.attr("stroke-width",i*(this.arrowEndChoice.value.strokeFactor??0))}}updateTheme(){let e=this.strokeInfo.color;"default"==e&&(e=aB),this.updateArrowTypesAndColors(),this.wire.stroke({color:e,opacity:this.strokeInfo.opacity,width:0==this.strokeInfo.opacity?0:this.strokeInfo.width.convertToUnit("px").value,dasharray:this.strokeStyleProperty.value.dasharray.map(e=>this.strokeInfo.width.times(e).toString()).join(" ")}),this.currentLabelRendering&&this.currentLabelRendering.fill(e),this.currentArrowRendering&&this.currentArrowRendering.fill(e),this.finishedPlacing&&this.update()}updateCurrentRender(){if(this.currentArrowRendering?.remove(),(this.currentShow.value||""!=this.currentLabel.value)&&this.referencePoints.length>=2){let e,t;this.currentPosition.value?(e=this.referencePoints[0],t=this.referencePoints[1]):(e=this.referencePoints[this.referencePoints.length-2],t=this.referencePoints[this.referencePoints.length-1]);let n=new A.Point(0,0),i=new A.Point(1,1),r=this.generateCurrentArrow(e,t,n,n,i);this.currentArrowRendering=r.arrow,this.currentRendering.add(this.currentArrowRendering);let o=this.currentLabelRendering.bbox(),s=new A.Point(o.cx,o.cy).add(new A.Point(o.w/2,o.h/2).mul(r.labelAnchorDir));this.currentLabelRendering.dmove(r.labelPos.x-s.x,r.labelPos.y-s.y)}else this.currentLabelRendering?.dmove(0,0)}recalculateSnappingPoints(){super.recalculateSnappingPoints(this.getTransformMatrix())}getSnappingInfo(){return this.finishedPlacing?{trackedSnappingPoints:this.snappingPoints,additionalSnappingPoints:[]}:{trackedSnappingPoints:[],additionalSnappingPoints:this.referencePoints.length>0?[new aL(this,"center",new A.Point)]:[]}}resizable(e){if(e!=this.isResizing)if(this.isResizing=e,e){let t=[];for(let e=0;e<this.wireDirections.length;e++){let n=this.referencePoints[e+1].sub(this.referencePoints[e]);t[e]=this.wireDirections[e]==b.VH?new A.Point(0,Math.sign(n.y)):new A.Point(Math.sign(n.x),0)}for(let n=0;n<this.referencePoints.length;n++){let i,r=rX();r.node.style.cursor="move",this.adjustmentPoints.push(r),ay.snapDrag(this,r,e,{dragStart:e=>{i=this.referencePoints[n]},dragMove:(e,i)=>{if(i&&(i.ctrlKey||oE.instance.isMac&&i.metaKey))n>0&&(this.wireDirections[n-1]=b.Straight),n<this.wireDirections.length&&(this.wireDirections[n]=b.Straight);else if(n>0&&(t[n-1]=this.directionVecFromPos(e.sub(this.referencePoints[n-1]),t[n-1]),this.wireDirections[n-1]=this.wireDirectionFromDirectionVec(t[n-1],i)),n<this.adjustmentPoints.length-1){let r=e.sub(this.referencePoints[n+1]);t[n]=this.directionVecFromPos(r,t[n]);let o=0!=t[n].x?new A.Point(0,r.y):new A.Point(r.x,0);this.wireDirections[n]=this.wireDirectionFromDirectionVec(o,i)}this.referencePoints[n]=e,this.update()},dragEnd:()=>(this.update(),!this.referencePoints[n].eq(i))})}this.update()}else{for(let e of this.adjustmentPoints)ay.snapDrag(this,e,!1),e.remove();this.adjustmentPoints=[]}}recalculateResizePoints(){let e=this.getTransformMatrix();for(let t=0;t<this.adjustmentPoints.length;t++){let n=this.adjustmentPoints[t],i=this.referencePoints[t].transform(e);n.center(i.x,i.y)}}rotate(e){45!=Math.abs(e)&&(this.referencePoints=this.referencePoints.map(t=>t.rotate(e,this.position)),90==Math.abs(e)&&(this.wireDirections=this.wireDirections.map(av)),this.update())}update(){this._bbox=aG(this.referencePoints),this.position=new A.Point(this._bbox.cx,this._bbox.cy);let e=this.pointsFromCornerPoints(),t=e.at(1).clone();t=t.eq(this.referencePoints.at(0))?(e.at(2)??new A.Point).clone():t;let n=e.at(-2).clone();n=n.eq(this.referencePoints.at(-1))?(e.at(-3)??new A.Point).clone():n;let i=e.map(e=>e.clone()),r=this.lineWidthToArrowScale();if(this.arrowStartChoice.value.key!==ab.key){let t=e[1].sub(e[0]),n=t.abs();n>0&&(e[0]=e[0].add(t.div(n).mul(r*this.arrowStartChoice.value.setBack)))}if(this.arrowEndChoice.value.key!==ab.key){let t=e.length-1,n=e[t-1].sub(e[t]),i=n.abs();i>0&&(e[t]=e[t].add(n.div(i).mul(r*this.arrowEndChoice.value.setBack)))}this.updateArrowTransforms(t,n);let o=new A.PointArray(e.map(e=>e.toArray()));if(this.wire.clear(),this.wire.plot(o),this.draggableWire.clear(),this.draggableWire.plot(o),this.snappingPoints.length==i.length)for(let e=0;e<this.snappingPoints.length;e++){let t=this.snappingPoints[e],n=i[e];t.updateRelPosition(n)}else this.snappingPoints=i.map((e,t)=>new aL(this,0==t?"START":t==i.length-1?"END":"",e));this.recalculateSelectionVisuals(),this.recalculateSnappingPoints(),this.recalculateResizePoints(),this.updateCurrentRender()}pointsFromCornerPoints(){let e=[this.referencePoints[0].clone()];for(let t=0;t<this.wireDirections.length;t++){let n=this.wireDirections[t],i=this.referencePoints[t],r=this.referencePoints[t+1];n==b.HV&&i.x!=r.x&&i.y!=r.y?e.push(new A.Point(r.x,i.y)):n==b.VH&&i.x!=r.x&&i.y!=r.y&&e.push(new A.Point(i.x,r.y)),e.push(r.clone())}return e}recalculateSelectionVisuals(){if(this.selectionElement){let e=this.getTransformMatrix(),t=e.inverse(),n=this.bbox,i=this.strokeInfo.width.convertToUnit("px").value;if(n=new A.Box(n.x-i/2,n.y-i/2,n.w+i,n.h+i),this.startArrowElement){let e=new A.Matrix(this.startArrowElement.transform()).lmultiply(t),i=this.startArrowElement.bbox().transform(e);n=n.merge(i)}if(this.endArrowElement){let e=new A.Matrix(this.endArrowElement.transform()).lmultiply(t),i=this.endArrowElement.bbox().transform(e);n=n.merge(i)}this.selectionElement.size(n.width+1,n.height+1),this.selectionElement.center(n.cx,n.cy),this.selectionElement.transform(e)}}isInsideSelectionRectangle(e){let t=this.getTransformMatrix(),n=this.pointsFromCornerPoints().map(e=>e.transform(t));for(let t=0;t<n.length-1;t++){let i=n[t],r=n[t+1];if(rQ(i,e)||rJ([[i.x,i.y],[r.x,r.y]],e))return!0}return!1}viewSelected(e){super.viewSelected(e),this.resizable(this.isSelected&&e&&1==s_.instance.currentlySelectedComponents.length)}toJson(){let e=super.toJson();return e.type=aE.jsonID,e.directions=this.wireDirections,this.arrowStartChoice.value.key!==ab.key&&(e.startArrow=this.arrowStartChoice.value.key),this.arrowEndChoice.value.key!==ab.key&&(e.endArrow=this.arrowEndChoice.value.key),e}static fromJson(e){if(""==sk.instance.currentlyLoadedSaveVersion){let t=[e.start],n=[];for(let i of e.segments)t.push(i.endPoint),n.push(i.direction);e.points=t,e.directions=n}return new aE}buildTikzCommand(e){super.buildTikzCommand(e);let t=[];if(this.arrowStartChoice.value.key!==ab.key&&(t.push(this.arrowStartChoice.value.tikz),t.push("-")),this.arrowEndChoice.value.key!==ab.key&&(0==t.length&&t.push("-"),t.push(this.arrowEndChoice.value.tikz)),t.length>0&&e.options.push(t.join("")),this.currentLabel&&""!=this.currentLabel.value){let t="i",n=this.currentLabelPosition.value?"_":"^",i=this.currentDirection.value?"<":">";this.currentPosition.value?(!1==this.currentLabelPosition.value&&!0==this.currentDirection.value&&(n=""),t+=i+n):(!1==this.currentDirection.value&&(i="",!1==this.currentLabelPosition.value&&(n="")),t+=n+i),t+="={$"+this.currentLabel.value+"$}",e.options.push(t),.5!=this.currentDistance.value.value&&e.options.push("current/distance="+this.currentDistance.value.value.toString())}let n=this.referencePoints.map(e=>e);for(let t=0;t<this.wireDirections.length;t++){let i=n[t],r=n[t+1],o=this.wireDirections[t];o==b.HV&&i.y==r.y&&(o=b.Straight),o==b.VH&&i.x==r.x&&(o=b.Straight),o||(o=b.Straight),e.connectors.push(o)}}copyForPlacement(){return new aE(this.onlyStraight,this.defaultArrowHead)}remove(){this.visualization.remove(),this.viewSelected(!1),this.selectionElement?.remove(),this.finishedPlacing&&this.draggable(!1)}placeMove(e,t){if(this.referencePoints.length>1){let n=this.referencePoints.at(-2),i=e.sub(n);this.previousPlacingDirection=this.directionVecFromPos(i,this.previousPlacingDirection),this.wireDirections[this.wireDirections.length-1]=this.wireDirectionFromDirectionVec(this.previousPlacingDirection,t),this.referencePoints[this.referencePoints.length-1]=e,this.update()}}directionVecFromPos(e,t){var n=t.clone();return 0!=e.y&&e.x*t.x<0?(n.x=0,n.y=Math.sign(e.y)):0!=e.x&&e.y*t.y<0&&(n.x=Math.sign(e.x),n.y=0),n}wireDirectionFromDirectionVec(e,t){return this.onlyStraight||t&&(t.ctrlKey||oE.instance.isMac&&t.metaKey)?b.Straight:0!=e.x?b.HV:0!=e.y?b.VH:void 0}placeStep(e){if(this.finishedPlacing)return!0;if(this.referencePoints.length>0){let t=this.referencePoints.at(-2);if(e.eq(t))return!0}else this.referencePoints.push(e.clone()),this.updateTheme();return this.referencePoints.push(e),this.wireDirections.push(b.HV),this.previousPlacingDirection.x=1,this.previousPlacingDirection.y=0,this.placeMove(e),!1}placeFinish(){if(!this.finishedPlacing){if(0==this.referencePoints.length&&this.placeStep(new A.Point),this.referencePoints.pop(),this.wireDirections.pop(),this.referencePoints.length>=2&&this.referencePoints.at(-1).eq(this.referencePoints.at(-2))&&(this.referencePoints.pop(),this.wireDirections.pop()),this.referencePoints.length<2)return void oE.instance.removeComponent(this);this.updateTheme(),this.update(),this.finishedPlacing=!0}}applyJson(e){for(super.applyJson(e),this.wireDirections=e.directions??[];this.wireDirections.length<this.referencePoints.length-1;)this.wireDirections.push(b.Straight);e.startArrow&&(this.arrowStartChoice.value=aD.find(t=>t.key==e.startArrow)),e.endArrow&&(this.arrowEndChoice.value=aD.find(t=>t.key==e.endArrow)),this.updateTheme(),this.update(),this.finishedPlacing=!0}}var A=T("gBhAd");const ax=(e,t)=>{let n=[];for(let i=0;i<t.length-1;i+=2){let r=t[i],o=t[i+1];n.push("on "+e.times(r).toString()),n.push("off "+e.times(o).toString())}return"dash pattern={"+n.join(" ")+"}"};class aw extends sJ(sY(al)){placePoint;constructor(){super(),this.resizeVisualizations=new Map,this.snappingPoints=[],ow.instance.canvas.add(this.visualization)}moveTo(e){this.position=e,this.update()}rotate(e){this.rotationDeg+=e,this.simplifyRotationAngle(),this.update()}flip(e){this.rotationDeg=180*!e-this.rotationDeg,this.simplifyRotationAngle(),this.update()}recalculateResizePoints(){let e=this.size.div(2),t=this.getTransformMatrix();for(let[n,i]of this.resizeVisualizations){let r=e.add(e.mul(n.direction)).transform(t);i.center(r.x,r.y)}}applyJson(e){super.applyJson(e),this.placePoint=this.position,this.size=new A.Point(e.size),this.referencePosition=this.size.div(2)}toJson(){let e=super.toJson();return e.size=this.size,e}getTransformMatrix(){return new A.Matrix({scaleX:this.scaleState.x,scaleY:this.scaleState.y,translate:[-this.referencePosition.x,-this.referencePosition.y],origin:[this.referencePosition.x,this.referencePosition.y]}).lmultiply(new A.Matrix({rotate:-this.rotationDeg,translate:[this.position.x,this.position.y]}))}update(){let e=this.strokeInfo.width.convertToUnit("px").value,t=this.getTransformMatrix(),n=this.size.div(2);if(this.dragElement.size(this.size.x,this.size.y),this.dragElement.transform(t),this.componentVisualization.size(this.size.x<e?0:this.size.x-e,this.size.y<e?0:this.size.y-e),this.componentVisualization.center(n.x,n.y),this.componentVisualization.transform(t),this.defaultTextPosition=n,this._bbox=this.dragElement.bbox().transform(t),this.isResizing)for(let[e,t]of this.resizeVisualizations.entries()){let n=e.direction.transform(new A.Matrix({rotate:-this.rotationDeg,scaleX:this.scaleState.x,scaleY:this.scaleState.y}));t.node.style.cursor=aV(n).pointer}this.recalculateSelectionVisuals(),this.recalculateSnappingPoints(),this.recalculateResizePoints(),this.updatePositionedLabel()}recalculateSelectionVisuals(){this.selectionElement&&this.selectionElement.size(this.size.x+1,this.size.y+1).center(this.size.x/2,this.size.y/2).transform(this.getTransformMatrix())}updateTheme(){let e=this.strokeInfo.color;"default"==e&&(e=aB),this.componentVisualization?.stroke({color:e,opacity:this.strokeInfo.opacity,width:0==this.strokeInfo.opacity?0:this.strokeInfo.width.convertToUnit("px").value,dasharray:this.strokeStyleProperty.value.dasharray.map(e=>this.strokeInfo.width.times(e).toString()).join(" ")});let t=this.fillInfo.color;"default"==t&&(t="none"),this.componentVisualization?.fill({color:t,opacity:this.fillInfo.opacity});let n=aB;this.labelColor.value&&(n=this.labelColor.value.toString()),this.labelRendering?.fill(n)}remove(){for(let[e,t]of this.resizeVisualizations)ay.snapDrag(this,t,!1),t.remove();ag.snapDrag(this,!1),this.visualization.remove(),this.draggable(!1),this.resizable(!1),this.viewSelected(!1),this.selectionElement?.remove()}getSnappingInfo(){return{trackedSnappingPoints:this.snappingPoints,additionalSnappingPoints:[]}}viewSelected(e){super.viewSelected(e),this.resizable(this.isSelected&&e&&1==s_.instance.currentlySelectedComponents.length)}resizable(e){if(e!=this.isResizing)if(this.isResizing=e,e){let e,t,n,i=()=>{e=this.position.clone(),t=this.size.clone(),n=this.getTransformMatrix().inverse()};for(let r of aa){let o,s;if(r.key==au.key||"center"==r.key)continue;let a=rX();this.resizeVisualizations.set(r,a),ay.snapDrag(this,a,!0,{dragStart:a=>{i();let u=e.transform(n);o=u.add(r.direction.mul(t).div(2)),s=u.add(r.direction.mul(t).div(-2))},dragMove:(i,a)=>{if(i=i.transform(n),a&&a.ctrlKey&&r.direction.x*r.direction.y!=0){let e=i.sub(s);i=e.x*e.y<0?new A.Point(i.x-i.y,i.y-i.x).add(s.x+s.y).div(2):new A.Point(s.x-s.y,s.y-s.x).add(i.x+i.y).div(2)}let u=new A.Point(Math.abs(r.direction.x),Math.abs(r.direction.y)),l=i.sub(o);this.size.x=r.direction.x?Math.abs(i.x-s.x):t.x,this.size.y=r.direction.y?Math.abs(i.y-s.y):t.y,this.referencePosition=this.size.div(2),this.position=e.add(l.mul(u.div(2)).rotate(this.rotationDeg)),this.update()},dragEnd:()=>!0})}this.update()}else{for(let[e,t]of this.resizeVisualizations)ay.snapDrag(this,t,!1),t.remove();this.resizeVisualizations.clear()}}placeMove(e,t){if(this.placePoint){let n;if(t&&t.ctrlKey){let t=e.sub(this.placePoint);n=t.x*t.y<0?new A.Point(e.x-e.y,e.y-e.x).add(this.placePoint.x+this.placePoint.y).div(2):new A.Point(this.placePoint.x-this.placePoint.y,this.placePoint.y-this.placePoint.x).add(e.x+e.y).div(2)}else n=e;this.position=this.placePoint.add(n).div(2),this.size=new A.Point(Math.abs(n.x-this.placePoint.x),Math.abs(n.y-this.placePoint.y)),this.referencePosition=this.size.div(2),this.update()}}placeStep(e,t){return!!this.finishedPlacing||(this.placePoint?(this.placeMove(e,t),!0):(this.placePoint=e,this.position=e,this.size=new A.Point,this.referencePosition=this.size.div(2),this.componentVisualization.show(),this.updateTheme(),!1))}placeFinish(){this.finishedPlacing||(this.placePoint||this.placeStep(new A.Point),this.finishedPlacing=!0,this.update(),this.componentVisualization.show(),this.updateTheme())}}var A=T("gBhAd");const aS=[{key:"tiny",name:"tiny",size:5},{key:"scriptsize",name:"scriptsize",size:7},{key:"footnotesize",name:"footnotesize",size:8},{key:"small",name:"small",size:9},{key:"normalsize",name:"normalsize",size:10},{key:"large",name:"large",size:12},{key:"Large",name:"Large",size:14.4},{key:"LARGE",name:"LARGE",size:17.28},{key:"huge",name:"huge",size:20.74},{key:"Huge",name:"Huge",size:24.88}],aC=aS[4];(p=E||(E={}))[p.LEFT=0]="LEFT",p[p.CENTER=1]="CENTER",p[p.RIGHT=2]="RIGHT",p[p.JUSTIFY=3]="JUSTIFY",(f=x||(x={}))[f.START=-1]="START",f[f.CENTER=0]="CENTER",f[f.END=1]="END";class aT extends aw{static jsonID="rect";static{ao.jsonSaveMap.set(aT.jsonID,aT)}text;textAreaProperty;textAreaPlaceHolder;textAreaHyphenation;textAreaAlign;textAreaJustify;textFontSize;textInnerSep;textColor;textSVG;createAsText;useHyphenation;constructor(e=!1){super(),this.createAsText=e,this.useHyphenation=!1,this.displayName="Rectangle",this.componentVisualization=ow.instance.canvas.rect(0,0),this.componentVisualization.hide(),this.dragElement=ow.instance.canvas.rect(0,0),this.dragElement.attr({fill:"transparent",stroke:"none"}),this.visualization.add(this.componentVisualization),this.visualization.add(this.dragElement),this.properties.add(D.text,new sH("Text",void 0,"text:header")),this.textAreaProperty=new sz("",void 0,"text:area"),e&&(this.strokeStyleProperty.value=sX[1]),this.textAreaProperty.addChangeListener(e=>{this.update()}),this.properties.add(D.text,this.textAreaProperty),this.textAreaPlaceHolder=new sN("Placeholder",e,void 0,"text:placeholder"),this.textAreaPlaceHolder.addChangeListener(e=>{this.createAsText=e.value,this.update()}),this.properties.add(D.text,this.textAreaPlaceHolder),this.textAreaHyphenation=new sN("Hyphenation",this.useHyphenation,void 0,"text:hyphenation"),this.textAreaHyphenation.addChangeListener(e=>{this.useHyphenation=e.value,this.update()}),this.properties.add(D.text,this.textAreaHyphenation),this.textAreaAlign=new sq("Align",[{key:"LEFT",name:"format_align_left",isMaterialSymbol:!0,numberID:E.LEFT},{key:"CENTER",name:"format_align_center",isMaterialSymbol:!0,numberID:E.CENTER},{key:"RIGHT",name:"format_align_right",isMaterialSymbol:!0,numberID:E.RIGHT},{key:"JUSTIFY",name:"format_align_justify",isMaterialSymbol:!0,numberID:E.JUSTIFY}],{key:"LEFT",name:"format_align_left",isMaterialSymbol:!0,numberID:E.LEFT},void 0,"text:align"),this.textAreaAlign.addChangeListener(e=>{this.update()}),this.properties.add(D.text,this.textAreaAlign),this.textAreaJustify=new sq("Justify",[{key:"START",name:"vertical_align_top",isMaterialSymbol:!0,numberID:x.START},{key:"CENTER",name:"vertical_align_center",isMaterialSymbol:!0,numberID:x.CENTER},{key:"END",name:"vertical_align_bottom",isMaterialSymbol:!0,numberID:x.END}],{key:"START",name:"vertical_align_top",isMaterialSymbol:!0,numberID:x.START},void 0,"text:justify"),this.textAreaJustify.addChangeListener(e=>{this.update()}),this.properties.add(D.text,this.textAreaJustify),this.textFontSize=new sB("Fontsize",aS,aC,void 0,"text:fontsize"),this.textFontSize.addChangeListener(e=>{this.update()}),this.properties.add(D.text,this.textFontSize),this.textInnerSep=new s$("Inner sep",0,10,.1,new A.Number(5,"pt"),void 0,void 0,"text:innersep"),this.textInnerSep.addChangeListener(e=>{this.update()}),this.properties.add(D.text,this.textInnerSep),this.textColor=new sW("Color",null,void 0,void 0,"text:color"),this.textColor.addChangeListener(e=>{this.updateText()}),this.properties.add(D.text,this.textColor),this.selectionElement=ow.instance.canvas.rect(0,0).hide()}recalculateSnappingPoints(e){let t=[],n=this.size.div(2);for(let e of aa)e.key!=au.key&&t.push({relPos:n.mul(e.direction),anchorname:e.name});if(this.snappingPoints&&0!=this.snappingPoints.length)for(let e=0;e<t.length;e++){let i=t[e].relPos,r=this.snappingPoints[e];r.updateRelPosition(i.add(n)),r.recalculate()}else for(let e of t)this.snappingPoints.push(new aL(this,e.anchorname,e.relPos.add(n)))}isInsideSelectionRectangle(e){return rZ(new A.Box(this.position.x-this.size.x/2,this.position.y-this.size.y/2,this.size.x,this.size.y),e,this.rotationDeg)}update(){super.update(),this.updateText()}toJson(){let e=super.toJson();if(e.type=aT.jsonID,e.size=this.size.simplifyForJson(),this.textAreaProperty.value){let t={text:void 0},n=!1;void 0!=this.textAreaProperty.value&&""!==this.textAreaProperty.value&&(t.text=this.textAreaProperty.value,this.textAreaAlign.value.numberID!==E.LEFT&&(t.align=this.textAreaAlign.value.numberID),this.textAreaJustify.value.numberID!==x.START&&(t.justify=this.textAreaJustify.value.numberID),this.textFontSize.value.key!==aC.key&&(t.fontSize=this.textFontSize.value.key),5!==this.textInnerSep.value.value&&(t.innerSep=this.textInnerSep.value),this.textColor.value&&(t.color=this.textColor.value.toString()),n=!0),t.showPlaceholderText=this.createAsText||void 0,t.useHyphenation=this.useHyphenation||void 0,(n||this.createAsText)&&(e.text=t)}return e}applyJson(e){if(super.applyJson(e),e.text){let t={text:void 0==e.text.text?"":e.text.text,align:e.text.align??E.LEFT,justify:e.text.justify??x.START,showPlaceholderText:e.text.showPlaceholderText??!1,useHyphenation:e.text.useHyphenation??!1};this.createAsText=t.showPlaceholderText,this.useHyphenation=t.useHyphenation,this.textAreaProperty.value=t.text,this.textAreaPlaceHolder.value=this.createAsText,this.textAreaHyphenation.value=this.useHyphenation,this.textAreaAlign.value=Object.values(this.textAreaAlign.options).find(e=>e.numberID==t.align)??this.textAreaAlign.options[0],this.textAreaJustify.value=Object.values(this.textAreaJustify.options).find(e=>e.numberID==t.justify)??this.textAreaJustify.options[0],this.textFontSize.value=e.text.fontSize?aS.find(t=>t.key==e.text.fontSize):aC,e.text.innerSep?"string"!=typeof e.text.innerSep?this.textInnerSep.value=new A.Number(e.text.innerSep.value,e.text.innerSep.unit):this.textInnerSep.value=new A.Number(e.text.innerSep):this.textInnerSep.value=new A.Number("5pt"),this.textColor.value=e.text.color?new A.Color(e.text.color):null}this.update(),this.componentVisualization.show(),this.updateTheme()}static fromJson(e){return new aT}placeFinish(){super.placeFinish(),this.createAsText&&(this.strokeOpacityProperty.value=new A.Number(0,"%"),this.strokeInfo.opacity=this.strokeOpacityProperty.value.value/100,this.updateTheme(),this.strokeStyleProperty.value=sX[0],this.update())}buildTikzCommand(e){e.options.push("shape=rectangle"),super.buildTikzCommand(e);let t=this.strokeInfo.width.convertToUnit("px").value;if(e.options.push("minimum width="+rK(new A.Number(this.size.x-t,"px").convertToUnit("cm").value)+"cm"),e.options.push("minimum height="+rK(new A.Number(this.size.y-t,"px").convertToUnit("cm").value)+"cm"),this.textAreaProperty.value){let t=[],n=this.textAreaAlign.value.numberID==E.JUSTIFY?-1:this.textAreaAlign.value.numberID-1,i=new A.Point(n,this.textAreaJustify.value.numberID),r=aa.find(e=>e.direction.eq(i)).name,o=this.position.add(i.mul(this.size.div(2)).rotate(this.rotationDeg));switch(t.push("anchor="+r),this.textAreaAlign.value.numberID){case E.LEFT:t.push("align=left");break;case E.CENTER:t.push("align=center");break;case E.RIGHT:t.push("align=right");break;default:t.push("align=justify")}let s=this.textInnerSep.value.plus(this.strokeInfo.width),a=new A.Number(this.size.x,"px").minus(s.times(2)).convertToUnit("cm");t.push(`text width=${rK(a.value)}cm`),t.push(`inner sep=${s.toString()}`);let u={"#":"\\#",$:"\\$","%":"\\%","&":"\\&",_:"\\_","{":"\\{","}":"\\}","~":"\\textasciitilde","^":"\\textasciicircum","\\":"\\textbackslash","\n":"\\\\"},l=new aM,c=[];for(let e of l.parse(this.textAreaProperty.value))"text"==e.type?c.push(e.text.replaceAll(/[\#\%\$\&\_\{\}\~\^\\\n]/g,e=>u[e])):c.push("$"+e.text+"$");let h=c.join(" "),d=this.textFontSize.value.key==aC.key?"":`\\${this.textFontSize.value.name} `,p=`${d}${h}`;p=this.textColor.value?"\\textcolor"+this.textColor.value.toTikzString()+"{"+p+"}":p,e.additionalNodes.push({options:t,position:o,content:p,additionalNodes:[]})}}toSVG(t){let n=super.toSVG(t);if(this.textSVG){for(let t of n.find("text")){let n=t.transform(),i=new A.Number(t.attr("font-size")).convertToUnit("px").value,r=t.fill(),o=new A.G;for(let s of(o.fill(r),o.transform(n),t.find("tspan"))){let t=e.getD(s.node.textContent,{x:Number.parseFloat(s.node.getAttribute("x")),y:Number.parseFloat(s.node.getAttribute("y")),fontSize:i}),n=new A.Path({d:t});o.add(n)}t.parent().add(o),t.remove()}this.textAreaProperty.value||n.removeElement(n.find(".textSVG")[0]),this.textSVG.removeClass("textSVG"),n.findOne(".textSVG")?.removeClass("textSVG")}return n}copyForPlacement(){return new aT(this.createAsText)}updateText(){if(this.textSVG?.remove(),this.textAreaProperty.value||this.createAsText){let e={text:this.textAreaProperty.value||(this.createAsText?"text component":"")};e.align=this.textAreaAlign.value.numberID??E.LEFT,e.justify=this.textAreaJustify.value.numberID??x.START,e.fontSize=this.textFontSize.value.key,e.color=this.textColor.value?.toString()||"var(--bs-emphasis-color)";let t=this.textInnerSep.value.convertToUnit("px").value,n=this.strokeInfo.width.convertToUnit("px").value,i=this.size.x-2*n-2*t,r=this.size.y-2*n-2*t,o=this.position.sub(new A.Point(i>0?i:0,r>0?r:0).div(2)),s=new A.Box(o.x,o.y,i>0?i:0,r>0?r:0);if(this.textSVG){let e=new Set;for(let t of this.textSVG.find("use"))e.add(t.node.getAttribute("xlink:href"));for(let t of e)ow.instance.canvas.find(t)[0]?.remove()}this.textSVG=function(e,t,n=!1){let i=aS.find(t=>t.key==e.fontSize).size,r=i.toString()+"pt",o=new aM,s=e.text.split("\n").map(e=>e.trim()),a=[];for(let e of s){let s=o.parse(e),u=[];for(let e of s)if("inline"==e.type){let t=aN(e.text,i);u.push(t)}else e.text.split(/\s+/).forEach(e=>{u.push(e)});let l=function(e,t,n,i){let r=[],o=[],s=0,a=0,u=0,l=aI(" ",t).width;return e.forEach((c,h)=>{let d=0,p=0,f=0,m=s>0?l:0;if("string"==typeof c){let e=aI(c,t);if(d=e.width,p=e.actualBoundingBoxAscent,f=e.actualBoundingBoxDescent,s+m+d>n)if(i){let e=c.match(aR);if(e){let i=function e(t,n,i,r){let o=[],s="",a=n>0?0:1;for(let e=t.length;e>=a&&(s=t.slice(0,e).join("")+(e<t.length&&e>0?"-":""),o=t.slice(e),!(n+aI(s,r).width<i));e--);let u=[];return o.length>0&&(u=e(o,0,i,r)),[s].concat(u)}(e,s+m,n,t);for(let e=0;e<i.length;e++){let n=aI(i[e],t);d=n.width,p=n.actualBoundingBoxAscent,f=n.actualBoundingBoxDescent,d>0&&(o.push({ascent:p,descent:f,width:d,element:i[e]}),s+=d+(0==e?m:0),a=Math.max(a,p),u=Math.max(u,f)),e<i.length-1&&(r.push({elements:o,totalWidth:s,ascent:a,descent:u}),o=[],s=0,a=0,u=0)}}}else r.push({elements:o,totalWidth:s,ascent:a,descent:u}),o=[{ascent:p,descent:f,width:d,element:c}],s=d,a=p,u=f;else o.push({ascent:p,descent:f,width:d,element:c}),s+=d+m,a=Math.max(a,p),u=Math.max(u,f)}else p=(1+c.baselineAlignmentRatio)*c.height,f=c.height-p,d=c.width,s+m+d>n?(r.push({elements:o,totalWidth:s,ascent:a,descent:u}),o=[{ascent:p,descent:f,width:d,element:c.element}],s=d,a=p,u=f):(o.push({ascent:p,descent:f,width:d,element:c.element}),s+=d+m,a=Math.max(a,p),u=Math.max(u,f));h===e.length-1&&o.length>0&&r.push({elements:o,totalWidth:s,ascent:a,descent:u})}),r.filter(e=>e.elements.length>0)}(u,r,t.w,n);a.push(...l)}return function(e,t,n){let i=aS.find(e=>e.key==t.fontSize).size,r=4*i/3,o=i.toString()+"pt",s=aI(" ",o).width,a=new A.G,u=new A.G;u.fill("default"==t.color?"black":t.color);let l=[],c=[],h=aI("pH",o),d=h.actualBoundingBoxAscent,p=h.actualBoundingBoxDescent,f=0;for(let i=0;i<e.length;i++){let o=e[i];o.ascent=i>0?Math.max(o.ascent,d):o.ascent,o.descent=i<e.length-1?Math.max(o.descent,p):o.descent,f+=o.ascent;let a=n.w-o.totalWidth,h=t.align==E.RIGHT?a:t.align==E.CENTER?a/2:0,m=t.align==E.JUSTIFY?a/(o.elements.length-1)+s:s,g=0;for(let e=0;e<o.elements.length;e++){let t=o.elements[e];if("string"==typeof t.element)c.push(`<tspan x="${h+g}" y="${f}" >${t.element}</tspan>`);else{let e=t.element,n=new A.G;n.add(e),n.transform({translateX:h+g,translateY:f}),u.add(n)}g+=m+t.width}l.push(c.join("")),c=[],f+=o.descent+(i<e.length-1?.414*r:0)}let m=n.y+(t.justify+1)/2*(n.h-f),g=new A.Point(n.x,m),y=new A.Text;return y.transform({translateX:g.x,translateY:g.y}),y.fill("default"==t.color?"black":t.color),y.node.innerHTML=l.join("\n"),y.attr("font-family","Computer Modern Serif"),y.stroke("none"),y.attr("font-size",o),a.add(y),u.transform({translateX:g.x,translateY:g.y}),a.add(u),a}(a,e,t)}(e,s,this.useHyphenation);let a=new A.Matrix({rotate:-this.rotationDeg,origin:[this.position.x,this.position.y]});this.textSVG.transform(a),this.textSVG.node.style.pointerEvents="none",this.visualization.add(this.textSVG)}}}var A=T("gBhAd");class aF extends aw{static jsonID="ellipse";static{ao.jsonSaveMap.set(aF.jsonID,aF)}get isCircle(){return 1e-5>Math.abs(this.size.x-this.size.y)}constructor(){super(),this.displayName="Ellipse",this.componentVisualization=ow.instance.canvas.ellipse(0,0),this.componentVisualization.hide(),this.dragElement=ow.instance.canvas.ellipse(0,0),this.dragElement.attr({fill:"transparent",stroke:"none"}),this.visualization.add(this.componentVisualization),this.visualization.add(this.dragElement)}update(){super.update(),this.componentVisualization.center(this.referencePosition.x,this.referencePosition.y),this.dragElement.center(this.referencePosition.x,this.referencePosition.y)}recalculateSnappingPoints(e){let t=[],n=this.size.div(2);for(let e of aa){if(e.key==au.key)continue;let i=e.direction.abs();i=0==i?1:i,t.push({relPos:n.mul(e.direction.div(i)),anchorname:e.name}),i>1&&t.push({relPos:n.mul(e.direction),anchorname:""})}if(this.snappingPoints&&0!=this.snappingPoints.length)for(let e=0;e<t.length;e++){let i=t[e].relPos,r=this.snappingPoints[e];r.updateRelPosition(i.add(n)),r.recalculate()}else for(let e of t)this.snappingPoints.push(new aL(this,e.anchorname,e.relPos.add(n)))}toJson(){let e=super.toJson();return e.type=aF.jsonID,e}applyJson(e){super.applyJson(e),this.update(),this.componentVisualization.show(),this.updateTheme()}static fromJson(e){return new aF}buildTikzCommand(e){this.isCircle?e.options.push("shape=circle"):e.options.push("shape=ellipse"),super.buildTikzCommand(e);let t=this.strokeInfo.width.convertToUnit("px").value;e.options.push("minimum width="+rK(new A.Number(this.size.x-t,"px").convertToUnit("cm").value)+"cm"),this.isCircle||e.options.push("minimum height="+rK(new A.Number(this.size.y-t,"px").convertToUnit("cm").value)+"cm")}requiredTikzLibraries(){return this.isCircle?[]:["shapes.geometric"]}isInsideSelectionRectangle(e){if(rQ(this.position,e))return!0;let t=[[e.x,e.y],[e.x2,e.y],[e.x2,e.y2],[e.x,e.y2]].map(e=>new A.Point(e[0],e[1]).sub(this.position).rotate(-this.rotationDeg).div(this.size.div(2)));for(let e=0;e<t.length-1;e++){let n=t[e],i=t[(e+1)%t.length];if(1>=n.absSquared()||1>=i.absSquared())return!0;let r=i.sub(n),o=n.mul(-1).dot(r)/r.absSquared();if(o<=1&&o>=0&&1>=n.add(r.mul(o)).absSquared())return!0}return!1}copyForPlacement(){return new aF}}var A=T("gBhAd");class aA extends s0(sJ(sY(as))){static jsonID="polygon";static{ao.jsonSaveMap.set(aA.jsonID,aA)}constructor(){super(),this.snappingPoints=[],ow.instance.canvas.add(this.visualization),this.displayName="Polygon",this.position=new A.Point,this.componentVisualization=ow.instance.canvas.polygon(),this.dragElement=ow.instance.canvas.polygon(),this.dragElement.attr({fill:"transparent",stroke:"none"}),this.visualization.add(this.componentVisualization),this.visualization.add(this.dragElement)}getSnappingInfo(){return{trackedSnappingPoints:this.snappingPoints,additionalSnappingPoints:[]}}recalculateSnappingPoints(e){let t=[],n=this.size.div(2);for(let e of aa)e.key!=au.key&&t.push({relPos:this.position.add(n.mul(e.direction)),anchorname:e.name});for(let e=0;e<this.referencePoints.length;e++){let n=this.referencePoints[e],i=this.referencePoints[(e+1)%this.referencePoints.length];t.push({relPos:n,anchorname:""}),t.push({relPos:n.add(i).div(2),anchorname:""})}if(this.snappingPoints&&this.snappingPoints.length==t.length){let e=new A.Matrix;for(let n=0;n<t.length;n++){let i=t[n].relPos,r=this.snappingPoints[n];r.updateRelPosition(i),r.recalculate(e)}}else for(let e of(this.snappingPoints.forEach(e=>e.show(!1)),this.snappingPoints=[],t))this.snappingPoints.push(new aL(this,e.anchorname,e.relPos))}viewSelected(e){super.viewSelected(e),this.resizable(this.isSelected&&e&&1==s_.instance.currentlySelectedComponents.length)}toJson(){let e=super.toJson();return e.type=aA.jsonID,e}applyJson(e){super.applyJson(e),this.update(),this.updateTheme()}static fromJson(e){if(""==sk.instance.currentlyLoadedSaveVersion){let t=e.rotationDeg??0,n=e.scale?new A.Point(e.scale):new A.Point(1,1),i=aG(e.points),r=new A.Matrix({rotate:t,scale:[n.x,n.y],origin:[i.cx,i.cy]});e.points=e.points.map(e=>new A.Point(e).transform(r))}return new aA}updateTheme(){let e=this.strokeInfo.color;"default"==e&&(e=aB),this.componentVisualization?.stroke({color:e,opacity:this.strokeInfo.opacity,width:0==this.strokeInfo.opacity?0:this.strokeInfo.width.convertToUnit("px").value,dasharray:this.strokeStyleProperty.value.dasharray.map(e=>this.strokeInfo.width.times(e).toString()).join(" ")});let t=this.fillInfo.color;"default"==t&&(t="none"),this.componentVisualization?.fill({color:t,opacity:this.fillInfo.opacity});let n=aB;this.labelColor.value&&(n=this.labelColor.value.toString()),this.labelRendering?.fill(n)}buildTikzCommand(e){super.buildTikzCommand(e),""!==this.mathJaxLabel.value&&this.textPos&&e.additionalNodes.push(this.buildTikzNodeLabel(this.textPos)),this.referencePoints.forEach(()=>e.connectors.push("--")),e.coordinates.push("cycle")}requiredTikzLibraries(){return[]}isInsideSelectionRectangle(e){let t=this.referencePoints;for(let n=0;n<t.length;n++){let i=t[n],r=t[(n+1)%t.length];if(rJ(new A.Line().plot(i.x,i.y,r.x,r.y),e))return!0}return!1}size;update(){let e=this.referencePoints.map(e=>e.toArray()),t=aG(this.referencePoints);this._bbox=t,this.size=new A.Point(t.w,t.h),this.position=new A.Point(t.cx,t.cy),this.dragElement.plot(e),this.componentVisualization.plot(e),this.referencePosition=this.position.sub(new A.Point(this.bbox.x,this.bbox.y)),this.recalculateSelectionVisuals(),this.recalculateSnappingPoints(),this.recalculateResizePoints(),this.updatePositionedLabel()}recalculateSelectionVisuals(){if(this.selectionElement){let e=1+this.strokeInfo.width.convertToUnit("px").value+2;this.selectionElement.size(this.size.x+e,this.size.y+e).center(this.position.x,this.position.y)}}placeMove(e,t){if(this.referencePoints.length<1);else{let n,i=this.referencePoints.at(-2);if(t&&t.ctrlKey){let t=e.sub(i);n=t.x*t.y<0?new A.Point(e.x-e.y,e.y-e.x).add(i.x+i.y).div(2):new A.Point(i.x-i.y,i.y-i.x).add(e.x+e.y).div(2)}else n=e;this.referencePoints[this.referencePoints.length-1]=n,this.update()}}placeStep(e,t){if(this.finishedPlacing)return!0;if(0==this.referencePoints.length)this.referencePoints.push(e.clone()),this.componentVisualization.show(),this.updateTheme();else if(this.referencePoints.at(-2).eq(e))return!0;return this.referencePoints.push(e),this.placeMove(e,t),!1}placeFinish(){if(!this.finishedPlacing){if(0==this.referencePoints.length&&this.placeStep(new A.Point),this.referencePoints.pop(),this.referencePoints.length>=2&&this.referencePoints.at(-1).eq(this.referencePoints.at(-2))&&this.referencePoints.pop(),this.referencePoints.length<2)return void oE.instance.removeComponent(this);this.finishedPlacing=!0,this.componentVisualization.show(),this.updateTheme(),this.update()}}copyForPlacement(){return new aA}textPos;updatePositionedLabel(){let e;if(!this.mathJaxLabel.value||!this.labelRendering)return;let t=this.labelRendering;this.bbox;let n=this.size.div(2),i=new A.Point;this.labelPos=this.positionChoice.value,this.positionChoice.value.key!=au.key?(e=this.positionChoice.value.direction,i=n.mul(this.positionChoice.value.direction),this.textPos=this.position.add(i)):(e=new A.Point,i=new A.Point,this.textPos=this.position);let r=t.bbox(),o=this.labelDistance.value.convertToUnit("px").value??0;if(this.anchorChoice.value.key==au.key){let t=e.mul(-1);this.anchorPos=aV(t)}else this.anchorPos=this.anchorChoice.value;let s=this.anchorPos.direction,a=s.add(1).div(2).mul(new A.Point(r.w,r.h)).add(new A.Point(r.x,r.y)).add(s.mul(o));t.transform({translate:this.textPos.sub(a)})}}var A=T("gBhAd");class ak extends ao{static jsonID="group";static{ao.jsonSaveMap.set(ak.jsonID,ak)}groupedComponents=[];constructor(e){super(),oE.instance.circuitComponents.pop(),this.displayName="Group",this.snappingPoints=[],this.groupedComponents.push(...e);let t=this.visualization.parent().index(e[0].visualization);this.visualization.parent().add(this.visualization,t);let n=-1;for(let t of e){let e=oE.instance.circuitComponents.indexOf(t);n=n<0?e:n,oE.instance.circuitComponents.splice(e,1),t.parentGroup=this,t.viewSelected(!1),this.visualization.add(t.visualization)}oE.instance.circuitComponents.splice(n,0,this),this.properties.add(D.ordering,new sH("Grouping"));let i=new sV(1,[["Ungroup",""]],[e=>this.ungroup()],void 0,void 0,"ordering:ungroup");this.properties.add(D.ordering,i),this.update(),s_.instance.selectComponents([this],g.RESET),this.snappingPoints=this.groupedComponents.map(e=>e.snappingPoints).flat()}static group(e){new ak(e),sP.addState()}ungroup(){let e=oE.instance.circuitComponents.indexOf(this);oE.instance.circuitComponents.splice(e,1,...this.groupedComponents);let t=this.visualization.parent(),n=t.index(this.visualization);for(let e=0;e<this.groupedComponents.length;e++){let i=this.groupedComponents[e];i.parentGroup=null,t.add(i.visualization,n+e)}s_.instance.selectComponents(this.groupedComponents,g.RESET),this.groupedComponents=[],this.remove(),sP.addState()}isInsideSelectionRectangle(e){return rZ(this._bbox,e)}getSnappingInfo(){return{additionalSnappingPoints:[],trackedSnappingPoints:this.snappingPoints}}draggable(e){for(let t of this.groupedComponents)t.draggable(e)}resizable(e){}recalculateResizePoints(){}moveTo(e){let t=e.sub(this.position);for(let e of this.groupedComponents)e.moveRel(t);this.update()}rotate(e){for(let t of this.groupedComponents)t.moveTo(t.position.rotate(e,this.position)),t.rotate(e);this.update()}flip(e){for(let t of this.groupedComponents){let n=t.position.sub(this.position).mul(new A.Point(e?0:-2,e?-2:0));t.moveRel(n),t.flip(e)}this.update()}update(){for(let e of(this._bbox=void 0,this.groupedComponents))this._bbox?this._bbox=this._bbox.merge(e.bbox):this._bbox=e.bbox;this.position=new A.Point(this._bbox.cx,this._bbox.cy),this.referencePosition=this.position.sub(new A.Point(this._bbox.x,this._bbox.y)),this.recalculateSelectionVisuals()}recalculateSelectionVisuals(){if(this.selectionElement){let e=this.bbox;this.selectionElement.size(e.w,e.h),this.selectionElement.center(this.position.x,this.position.y)}}toJson(){let e=[];for(let t of this.groupedComponents)e.push(t.toJson());return{type:ak.jsonID,components:e}}static fromJson(e){let t=[];for(let n of e.components)t.push(ao.fromJson(n));return new ak(t)}toTikzString(){let e=[];for(let t of this.groupedComponents)e.push(t.toTikzString());return e.join("\n	")}toSVG(e){let t=new A.G;for(let n of this.groupedComponents)t.add(n.toSVG(e));return t}copyForPlacement(){}remove(){for(let e of(this.viewSelected(!1),this.selectionElement?.remove(),this.groupedComponents))e.remove();this.visualization.remove()}placeMove(e,t){}placeStep(e,t){}placeFinish(){}moveRel(e){for(let t of this.groupedComponents)t.moveRel(e);this.update()}updateTheme(){}}var A=T("gBhAd");class a_{static _instance;static get instance(){return a_._instance||(a_._instance=new a_),a_._instance}fixedSnapPoints=[];movingSnapPoints=[];additionalSnapPoints=[];whereSnap=[];constructor(){}recalculateAdditionalSnapPoints(){this.additionalSnapPoints.forEach(e=>e.recalculate())}updateSnapPoints(e,t=!1){if(this.fixedSnapPoints.forEach(e=>e.show(!1)),this.movingSnapPoints.forEach(e=>e.show(!1)),this.additionalSnapPoints.forEach(e=>e.show(!1)),this.fixedSnapPoints=[],this.movingSnapPoints=[],this.additionalSnapPoints=[],e){if(e.isSelected&&!t)for(let t of oE.instance.circuitComponents)if(t.isSelected)if(e===t){let e=t.getSnappingInfo();this.movingSnapPoints.push(...e.trackedSnappingPoints),this.additionalSnapPoints.push(...e.additionalSnappingPoints)}else this.movingSnapPoints.push(...t.snappingPoints);else this.fixedSnapPoints.push(...t.snappingPoints);else for(let n of oE.instance.circuitComponents)if(n!==e)this.fixedSnapPoints.push(...n.snappingPoints);else if(!t){let e=n.getSnappingInfo();this.movingSnapPoints.push(...e.trackedSnappingPoints),this.additionalSnapPoints.push(...e.additionalSnappingPoints)}}else for(let e of oE.instance.circuitComponents)this.fixedSnapPoints.push(...e.snappingPoints);this.showSnapPoints(this.whereSnap.length>0)}showSnapPoints(e=!0){if(e!=this._snapPointsShown){if(e)this.fixedSnapPoints.forEach(e=>{e.show(!0,!1)}),this.movingSnapPoints.forEach(e=>{e.show(!0,!0)}),this.additionalSnapPoints.forEach(e=>{e.show(!0,!0)});else for(this.fixedSnapPoints.forEach(e=>{e.show(!1)}),this.movingSnapPoints.forEach(e=>{e.show(!1)}),this.additionalSnapPoints.forEach(e=>{e.show(!1)});this.whereSnap.length>0;)this.whereSnap.pop().remove();this._snapPointsShown=e}}_snapPointsShown=!1;get snapPointsShown(){return this._snapPointsShown}snapPoint(e,t){let n=ow.instance,i=new A.Number(n.majorGridSizecm/n.majorGridSubdivisions,"cm").convertToUnit("px").value,r=new A.Number(1,"cm").convertToUnit("px").value/ow.instance.canvas.node.getScreenCTM().a,o=r*r,s=this.movingSnapPoints.map(e=>e.relToComponentAnchor().add(e.componentReference.position).sub(t.position));this.additionalSnapPoints&&s.push(...this.additionalSnapPoints.map(e=>e.relToComponentAnchor())),s.length<1&&s.push(new A.Point);let a=s.map(t=>e.add(t));ow.instance.gridVisible||(i=1e9);let u=a.reduce((e,t)=>{let n=Math.round(t.x/i)*i,r=Math.round(t.y/i)*i,s=new A.Point(n,r);return this.reduceSinglePointPair(t,s,e,o)},{dist:Number.MAX_VALUE,snapPoints:[]}),l=s[0].x,c=s[0].x,h=s[0].y,d=s[0].y;for(let e of s)e.x<l?l=e.x:e.x>c&&(c=e.x),e.y<h?h=e.y:e.y>d&&(d=e.y);let p=l+e.x-r,f=h+e.y-r,m=c+e.x+r,g=d+e.y+r,y=this.fixedSnapPoints.filter(e=>e.x>=p&&e.x<=m&&e.y>=f&&e.y<=g);return y.length>0&&(u=this.getSnapDistStruct(a,y,u)),0==u.snapPoints.length?u.vector=new A.Point:this.positionSnapPoints(u.snapPoints),u.vector.add(e)}positionSnapPoints(e){for(;e.length<this.whereSnap.length;)this.whereSnap.pop().remove();for(;e.length>this.whereSnap.length;)this.whereSnap.push(ow.instance.canvas.circle(4).fill("none").stroke({color:"var(--bs-yellow)"}));for(let t=0;t<e.length;t++){let n=e[t];this.whereSnap[t].center(n.x,n.y)}}getSnapDistStruct(e,t,n,i){return n||(n={dist:Number.MAX_VALUE,snapPoints:[]}),i||(i=Number.MAX_VALUE),e.reduce((e,n)=>t.reduce((e,t)=>this.reduceSinglePointPair(n,t,e,i),e),n)}reduceSinglePointPair(e,t,n,i){let r=t.sub(e);if(n.vector?.eq(r,.01))return n.snapPoints.push(t),n;let o=r.absSquared();return o>n.dist||o>i||(n.dist=o,n.vector=r,n.snapPoints=[t]),n}}var A=T("gBhAd");class aP{static _instance;static get instance(){return aP._instance||(aP._instance=new aP),aP._instance}cursorViewBox;cursor;constructor(){let e=new A.Symbol(document.getElementById("snapCursor"));this.cursor=ow.instance.canvas.use(e),this.cursor.id("snapCursorUse"),this.cursorViewBox=e.viewbox(),this.cursor.width(this.cursorViewBox.width),this.cursor.height(this.cursorViewBox.height),this.cursor.hide()}moveTo(e){this.cursor.center(e.x,e.y)}set visible(e){e?this.cursor.show():this.cursor.hide()}get visible(){return this.cursor.visible()}}var A=T("gBhAd");class aL extends A.Point{componentReference;anchorName;relPosition;element;constructor(e,t,n){super(),this.componentReference=e,this.anchorName=t,this.relPosition=n,this.recalculate()}recalculate(e=this.componentReference.getTransformMatrix()){let t=this.relPosition.transform(e);this.x=t.x,this.y=t.y,this.element&&this.element.center(this.x,this.y)}updateRelPosition(e){this.relPosition=e}relToComponentAnchor(){return this.sub(this.componentReference.position)}show(e=!0,t=!1){if(e){if(!this.element){let e=ow.instance.canvas;this.element=e.circle(4).fill("none").stroke({color:t?"var(--bs-cyan)":rY,width:1}),this.element.node.style.pointerEvents="none",this.componentReference.visualization.before(this.element),this.element.center(this.x,this.y)}}else this.element?.remove(),this.element=null}}var A=T("gBhAd"),aO={};aO=T("880tM");const aR=/([^aeiouy]*[aeiouy]+(?:[^aeiouy]*$|[^aeiouy](?=[^aeiouy]))?)|[^aeiouy]+$/gi;function aI(e,t){let n=document.createElement("canvas").getContext("2d");return n.font=`${t} "Computer Modern Serif"`,n.measureText(e)}function aN(e,t=10){window.MathJax.texReset();let n=window.MathJax.tex2svg(e,{display:!1}),i=new A.Svg(n.querySelector("svg")),r=ow.instance.canvas.findOne("#backgroundDefs"),o=i.findOne("defs");for(let e of o.children())r.put(e);o.remove();let s=1/(1.971*1.137),a=i.node.getAttribute("width"),u=new A.Number(new A.Number(a).value*s*t,"pt").convertToUnit("px"),l=i.node.getAttribute("height"),c=new A.Number(new A.Number(l).value*s*t,"pt").convertToUnit("px"),h=new A.Point(u.value,c.value);for(let e of i.find("use"))e.node.removeAttribute("data-c");let d=i.find("g");for(let e of d)e.node.removeAttribute("data-mml-node");for(let e of d){let t=e.children();1!=t.length||e.node.hasAttributes()?"currentColor"==e.fill()&&e.fill("inherit"):(e.parent().put(t[0]),e.remove())}for(let e of i.find("rect"))e.node.hasAttribute("data-background")&&e.remove();let p=i.viewbox(),f=h.div(new A.Point(p.w,p.h)),m=new A.Matrix({scaleX:f.x,scaleY:f.y}),g=new A.G;for(let e of i.children())g.add(e);return g.transform(m),{element:g,baselineAlignmentRatio:new A.Number(i.node.style.verticalAlign).value/i.node.height.baseVal.valueInSpecifiedUnits,width:h.x,height:h.y}}class aM{config;parse(e,t){this.config=t||{inlineMath:[["$","$"],["\\(","\\)"]]};let n=this.buildDelimiterArray(this.config),i=this.findDelimiterPairs(n,e),r=[],o=0;for(let t=0;t<i.matchedDelimiterSets.length;t++){let n=i.matchedDelimiterSets[t];if(n.start.index>o){let t=e.slice(o,n.start.index).replace(/\\\$/g,"$");r.push({text:t.trim(),type:"text"})}let s=n.start.index+n.start.delimiterGroup.group[0].length,a=n.end.index+n.end.delimiterGroup.group[1].length;r.push({text:e.slice(s,n.end.index),type:n.start.delimiterGroup.type}),o=a}if(o<e.length){let t=e.slice(o).replace(/\\\$/g,"$");r.push({text:t.trim(),type:"text"})}return r}buildDelimiterArray(e){let t=[];return e.inlineMath.forEach(e=>{var n;n=((e,t)=>{let n=0;for(let i=0;i<e.length&&!(t.indexOf(e[i].group[0])>-1);i++)++n;return n})(t,e[0]),t.splice(n,0,{group:e,type:"inline"})}),t}findDelimiterPairs(e,t){let n={matchedDelimiterSets:[]},i=0;for(;i<t.length;)if(0===n.matchedDelimiterSets.length||n.matchedDelimiterSets[n.matchedDelimiterSets.length-1].end){let r=!1;e.some(e=>{if(this.isMatchingIndex(t,i,e.group[0]))return n.lastMatchedGroup=e,aM.pushStart(n.matchedDelimiterSets,i,e),r=!0,!0}),r?i+=n.lastMatchedGroup.group[0].length:++i}else this.isMatchingIndex(t,i,n.lastMatchedGroup.group[1])?(aM.pushEnd(n.matchedDelimiterSets,i,n.lastMatchedGroup),i+=n.lastMatchedGroup.group[1].length):++i;return this.cleanOccurrences(n.matchedDelimiterSets),n}cleanOccurrences=e=>{e.length>0&&!e[e.length-1].end&&e.pop()};static pushStart(e,t,n){e.push({start:{index:t,delimiterGroup:n,isStart:!0},end:void 0})}static pushEnd(e,t,n){e[e.length-1].end={index:t,delimiterGroup:n,isStart:!1}}isMatchingIndex(e,t,n){return(!(t>0)||e.slice(0,t).match(/\\*$/gi)[0].length%2!=1)&&e.slice(t,t+n.length)===n}}var A=T("gBhAd");const aB="var(--bs-emphasis-color)",aU="var(--bs-body-bg)";function az(e,t,n=1e-7){return e>t+n?1:e<t-n?-1:0}function aj(e,t,n){return e.add(t.sub(e).mul(n))}function aV(e){return aa.map(t=>({dirInfo:t,distsq:t.direction.distanceSquared(e)})).reduce((e,t)=>t.distsq<e.distsq?t:e,{dirInfo:{key:"",name:"",direction:new A.Point},distsq:Number.MAX_VALUE}).dirInfo}function aG(e){let t=Number.MAX_VALUE,n=-Number.MAX_VALUE,i=Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let o of e)o.x<t&&(t=o.x),o.y<i&&(i=o.y),o.x>n&&(n=o.x),o.y>r&&(r=o.y);return new A.Box(t,i,n-t,r-i)}function a$(e){return"\\"+aH(e)+";"}function aH(e){let t=["node"];for(let n of(e.options.length>0&&t.push("["+e.options.join(", ")+"]"),e.name&&t.push("("+e.name+")"),t.push(" at "),t.push(aq(e.position)),t.push("{"+(e.content??"")+"}"),e.additionalNodes))t.push(" "+aH(n));return t.join("")}function aW(e){return"\\"+function(e){if(e.coordinates.length!==e.connectors.length+1)throw Error("Building path command failed! Number of coordinates has to be one more than number of coordinate connectors");if(e.coordinates.length<2)throw Error("Building path command failed! Number of coordinates has to be at least 2");let t=[],n=e.options.indexOf("draw");n>=0?(t.push("draw"),e.options.splice(n,1)):t.push("path"),e.options.length>0&&t.push("["+e.options.join(", ")+"]");for(let n=0;n<e.connectors.length;n++){let i=e.coordinates[n],r=e.connectors[n];t.push(" "+aq(i)),"string"==typeof r?t.push(" "+r):t.push(" "+function(e){let t=[...e.options];return e.name&&t.push("name="+e.name),"to["+t.join(", ")+"]"}(r))}for(let n of(t.push(" "+aq(e.coordinates.at(-1))),e.additionalNodes))n&&t.push(" "+aH(n));return t.join("")}(e)+";"}function aq(e){return"string"==typeof e?e:e.toTikzString()}window.mainController=oE.instance;
//# sourceMappingURL=pages.36b96d41.js.map
