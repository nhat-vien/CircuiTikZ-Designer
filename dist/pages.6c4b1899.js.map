{"mappings":"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B,KAAK,YAAY,CAAC;QACtC,IAAI,iBAAiB,QACpB,KAAK,YAAY,CAAC,UAAU;QAG7B,KAAK,MAAM,WAAW,iBAAkB;YACvC,IAAI,cAAc,QAAQ,YAAY,CAAC;YAEvC,IAAI,eAAe,QAClB,QAAQ,YAAY,CAAC,QAAQ;QAE/B;QAEA,KAAK,MAAM,WAAW,mBAAoB;YACzC,IAAI,gBAAgB,QAAQ,YAAY,CAAC;YAEzC,IAAI,iBAAiB,QACpB,QAAQ,YAAY,CAAC,UAAU;QAEjC;QAEA,IAAI,CAAC,OAAO,CAAC;IACd;IAEQ,QAAQ,IAAa,EAArB;QACP,IAAI,UAAU,KAAK,YAAY,CAAC,YAAY;QAC5C,IAAI,SACH;QAED,KAAK,MAAM,WAAW,KAAK,QAAQ,CAAE;YACpC,IAAI,QAAQ,QAAQ,KAAK,KACxB,IAAI,CAAC,OAAO,CAAC;iBAEb,IAAI,CAAC,QAAQ,YAAY,CAAC,SACzB,QAAQ,YAAY,CAAC,QAAQ;QAGhC;IACD;IAEA;;KAEG,GACI,aAAa,gBAAkC,EAA/C;QACN,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;IAC7B;IAEA;;KAEG,GACI,gBAAgB,gBAAkC,EAAlD;QACN,MAAM,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;QAC3C,IAAI,MAAM,IAAI;YACb,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAK;YACnC,iBAAiB,MAAM;QACxB;IACD;A;;;A;;;;;;;;;A;;A,uC;A,8C;A,2C;A,yC;A,4C;A,8C;A,2C;A,+C;A,gD;A,0C;A,yC;A,0C;A,6C;A,6C;A,iD;A,mD;A,8C;A,uC;A,8C;A,2C;A,0C;A,0C;A,4C;A,0C;A,4C;A,+C;A,kD;A,4C;A,+C;A,yC;A,0C;A,+C;A,6C;A,2C;A,gD;A,6C;A,8C;A,2C;A,0C;A,4C;A,yC;A,2C;A,4C;A,0C;A,2C;A,yC;A,4C;A,0C;A,8C;A,8C;A,kD;A,2C;A,yC;A,2C;A,iD;A,iD;A,4C;A,8C;A,8C;A,4C;A,yC;A,4C;A,0C;A,8C;A,oD;A,+C;A,+C;A,kD;A,mD;A,+C;A,gD;A,+C;A,yC;A,wC;A,4C;A,2C;A,8C;A,2D;A,oD;A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;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,SAAS;QACT,SAAS;YAAC;YAAO;YAAO;SAAO;QAC/B,gBAAgB;QAChB,oBAAoB;QACpB,WAAW;YACT;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,OAAO;QACP,SAAS;YAAC;SAAM;QAChB,oBAAoB;QACpB,mBAAmB;YAAC;SAAM;IAC5B;IACA;QACE,MAAM;QACN,YAAY;YACV;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,SAAS;QACT,gBAAgB;QAChB,oBAAoB;QACpB,OAAO;QACP,OAAO;QACP,SAAS;YAAC;SAAM;QAChB,oBAAoB;QACpB,mBAAmB;YAAC;SAAM;IAC5B;IACA;QACE,MAAM;QACN,YAAY;YAAC;YAAe;SAAgB;QAC5C,SAAS;QACT,gBAAgB;QAChB,oBAAoB;QACpB,OAAO;QACP,SAAS;YAAC;SAAM;QAChB,oBAAoB;QACpB,mBAAmB;YAAC;SAAM;IAC5B;IACA;QACE,MAAM;QACN,YAAY;YAAC;YAAQ;SAAS;QAC9B,SAAS;QACT,gBAAgB;QAChB,oBAAoB;QACpB,OAAO;QACP,SAAS;YAAC;SAAM;QAChB,oBAAoB;QACpB,mBAAmB;YAAC;SAAM;IAC5B;IACA;QACE,MAAM;QACN,YAAY;YAAC;YAAS;SAAO;QAC7B,SAAS;QA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Q;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IAER,yDAAyD;IACzD,8DAA8D;IAC9D,iEAAiE;IACjE,+DAA+D;IAC/D,4DAA4D;IAC5D,iEAAiE;IACjE,sDAAsD;IACtD,QAAQ;IACR,QAAQ;IAER,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,QAAQ;AACZ;AAEA,6DAA6D;AAC7D,2CAA2C;AAC3C,SAAS,gBAAgB,UAAU,EAAE,UAAU,EAAE,IAAI;IACjD,OAAQ;QACJ,KAAK;YACD,IAAI,eAAe,QACf,OAAO;iBACJ,IAAI,MACP,OAAO,IAAI,CAAC,WAAW;YAG3B;QAEJ,KAAK;YACD,OAAO,YAAY,CAAC,WAAW;QAEnC,KAAK;YACD,OAAO,gBAAgB,CAAC,WAAW;IAC3C;IAEA,OAAO;AACX;AAEA,MAAM,QAAQ;AAEd,kEAAkE;AAClE,mDAAmD;AACnD,MAAM,qBAAqB;IACvB,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI,kBAAsB,cAAc;AAC5C;AAEA,kEAAkE;AAClE,qEAAqE;AACrE,kEAAkE;AAClE,sDAAsD;AACtD,EAAE;AACF,8DAA8D;AAC9D,MAAM,uBAAuB;IACzB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,KAAK;IACL,KAAK,eAAqB,wBAAwB;AACtD;AAEA,SAAS,YAAY,UAAU,EAAE,UAAU,EAAE,UAAU;IACnD,OAAQ;QACJ,KAAK;YACD,OAAO;QAEX,KAAK;YACD,OAAO,oBAAoB,CAAC,WAAW,IAAI,kBAAkB,CAAC,WAAW;QAE7E,KAAK;YACD,IAAI,eAAe,KAAK,eAAe,IACnC,OAAO;YAGX;IACR;IAEA,OAAO;AACX;AAEA,iCAAiC;AACjC,2DAA2D;AAC3D,oFAAoF;AACpF,SAAS,eAAe,IAAI,EAAE,KAAK,EAAE,IAAI;IACrC,MAAM,OAAO,CAAC;IACd,MAAM,IAAI,IAAI,CAAA,GAAA,qBAAK,AAAD,EAAE,MAAM,CAAC,MAAM;IACjC,MAAM,SAAS,EAAE,WAAW;IAC5B,MAAM,QAAQ,EAAE,WAAW;IAC3B,MAAM,eAAe,EAAE,MAAM,GAAG,EAAE,WAAW;IAC7C,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,IAAK;QAC5B,MAAM,aAAa,EAAE,WAAW;QAChC,MAAM,aAAa,EAAE,WAAW;QAChC,MAAM,aAAa,EAAE,WAAW;QAChC,MAAM,SAAS,EAAE,WAAW;QAC5B,MAAM,WAAW,cAAc,CAAC,OAAO,IAAI;QAC3C,MAAM,aAAa,EAAE,WAAW;QAChC,MAAM,SAAS,EAAE,WAAW;QAC5B,MAAM,WAAW,gBAAgB,YAAY,YAAY;QACzD,MAAM,WAAW,YAAY,YAAY,YAAY;QACrD,IAAI,aAAa,aAAa,aAAa,WAAW;YAClD,IAAI;YACJ,IAAI,aAAa,OACb,OAAO,CAAA,GAAA,aAAM,AAAD,EAAE,KAAK,CAAC,MAAM,eAAe,QAAQ;iBAEjD,OAAO,CAAA,GAAA,aAAM,AAAD,EAAE,SAAS,CAAC,MAAM,eAAe,QAAQ,YAAY;YAGrE,IAAI,MAAM;gBACN,IAAI,eAAe,IAAI,CAAC,SAAS;gBACjC,IAAI,iBAAiB,WACjB,eAAe,IAAI,CAAC,SAAS,GAAG,CAAC;gBAGrC,YAAY,CAAC,SAAS,GAAG;YAC7B;QACJ;IACJ;IAEA,IAAI,eAAe;IACnB,IAAI,WAAW,GACX,iDAAiD;IACjD,eAAe,EAAE,WAAW;IAGhC,OAAO;AACX;AAEA,4BAA4B;AAC5B,wCAAwC;AACxC,SAAS,YAAY,IAAI;IACrB,MAAM,SAAS,CAAC;IAChB,IAAK,IAAI,OAAO,KACZ,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS;IAGjC,OAAO;AACX;AAEA,SAAS,eAAe,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;IAC9E,OAAO,IAAI,CAAA,GAAA,qBAAK,AAAD,EAAE,MAAM,CAAC,cAAc;QAClC;YAAC,MAAM;YAAc,MAAM;YAAU,OAAO;QAAU;QACtD;YAAC,MAAM;YAAc,MAAM;YAAU,OAAO;QAAU;QACtD;YAAC,MAAM;YAAc,MAAM;YAAU,OAAO;QAAU;QACtD;YAAC,MAAM;YAAU,MAAM;YAAU,OAAO;QAAM;QAC9C;YAAC,MAAM;YAAU,MAAM;YAAU,OAAO;QAAM;QAC9C;YAAC,MAAM;YAAU,MAAM;YAAU,OAAO;QAAM;KACjD;AACL;AAEA,gEAAgE;AAChE,yCAAyC;AACzC,SAAS,aAAa,MAAM,EAAE,QAAQ;IAClC,MAAM,eAAe,OAAO,MAAM;IAClC,MAAM,QAAQ,SAAS,MAAM,GAAG,eAAe;IAE/C,MACA,IAAK,IAAI,MAAM,GAAG,MAAM,OAAO,MAC3B,MAAO,MAAM,OAAO,MAAO;QACvB,IAAK,IAAI,IAAI,GAAG,IAAI,cAAc,IAAK;YACnC,IAAI,QAAQ,CAAC,MAAM,EAAE,KAAK,MAAM,CAAC,EAAE,EAC/B,SAAS;QAEjB;QAEA,OAAO;IACX;IAGJ,OAAO;AACX;AAEA,SAAS,gBAAgB,CAAC,EAAE,IAAI;IAC5B,IAAI,SAAS,aAAa,GAAG;IAC7B,IAAI,SAAS,GAAG;QACZ,SAAS,KAAK,MAAM;QACpB,IAAI,IAAI;QACR,MAAM,MAAM,EAAE,MAAM;QACpB,MAAO,IAAI,KAAK,EAAE,EACd,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE;IAGtB;IAEA,OAAO;AACX;AAEA,SAAS,cAAc,KAAK,EAAE,IAAI;IAC9B,IAAI;IACJ,MAAM,UAAU,EAAE;IAElB,MAAM,uBAAuB,CAAC;IAC9B,MAAM,eAAe,YAAY;IACjC,IAAK,IAAI,OAAO,MAAO;QACnB,IAAI,KAAK,YAAY,CAAC,IAAI;QAC1B,IAAI,OAAO,WACP,KAAK;QAGT,SAAS,SAAS;QAElB,IAAI,MAAM,SACN,MAAM,IAAI,MAAM,uBAAuB,MAAM;QAGjD,oBAAoB,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI;QACzC,QAAQ,IAAI,CAAC;IACjB;IAEA,MAAM,iBAAiB,YAAY;IACnC,MAAM,qBAAqB,YAAY;IAEvC,MAAM,cAAc,EAAE;IACtB,MAAM,aAAa,EAAE;IAErB,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK;QACrC,SAAS,OAAO,CAAC,EAAE;QACnB,MAAM,eAAe,oBAAoB,CAAC,OAAO;QACjD,IAAK,IAAI,QAAQ,aAAc;YAC3B,MAAM,OAAO,YAAY,CAAC,KAAK;YAE/B,qEAAqE;YACrE,mEAAmE;YACnE,mEAAmE;YACnE,4DAA4D;YAC5D,+DAA+D;YAC/D,gEAAgE;YAChE,mEAAmE;YACnE,kEAAkE;YAClE,qEAAqE;YACrE,gEAAgE;YAChE,gEAAgE;YAChE,+DAA+D;YAC/D,gEAAgE;YAChE,+DAA+D;YAC/D,IAAI,cAAc,GAAI,YAAY;YAClC,IAAI,cAAc,cAAc,CAAC,KAAK;YACtC,IAAI,YAAY,mBAAmB,CAAC,YAAY;YAChD,MAAM,cAAc,YAAY,aAAa,WAAW;YACxD,IAAI,UAAU,CAAA,GAAA,aAAM,AAAD,EAAE,SAAS,CAAC,MAAM;YACrC,IAAI,YAAY,WAAW;gBACvB,cAAc,GAAI,UAAU;gBAC5B,cAAc,KAAK,OAAO,CAAC;gBAC3B,IAAI,cAAc,GAAG;oBACjB,cAAc,KAAK,MAAM;oBACzB,KAAK,IAAI,CAAC;gBACd;gBAEA,YAAY,GAAI,wBAAwB;gBACxC,UAAU,CAAA,GAAA,aAAM,AAAD,EAAE,KAAK,CAAC;YAC3B;YAEA,MAAM,gBAAgB,gBAAgB,SAAS;YAC/C,YAAY,IAAI,CAAC,eAAe,aAAa,WAAW,aACxB,QAAQ,QAAQ,MAAM,EAAE;YAExD,MAAM,cAAc,kBAAkB,CAAC,KAAK;YAC5C,IAAI,gBAAgB,WAAW;gBAC3B,MAAM,UAAU,CAAA,GAAA,aAAM,AAAD,EAAE,KAAK,CAAC;gBAC7B,MAAM,gBAAgB,gBAAgB,SAAS;gBAC/C,YAAY,IAAI,CAAC,eAAe,GAAG,GAAG,aACN,QAAQ,QAAQ,MAAM,EAAE;YAC5D;QACJ;IACJ;IAEA,YAAY,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;QAC1B,OAAQ,AAAC,EAAE,UAAU,GAAG,EAAE,UAAU,IAC3B,EAAE,UAAU,GAAG,EAAE,UAAU,IAC3B,EAAE,UAAU,GAAG,EAAE,UAAU,IAC3B,EAAE,MAAM,GAAG,EAAE,MAAM;IAChC;IAEA,MAAM,IAAI,IAAI,CAAA,GAAA,qBAAK,AAAD,EAAE,KAAK,CAAC,QAAQ;QAC9B;YAAC,MAAM;YAAU,MAAM;YAAU,OAAO;QAAC;QACzC;YAAC,MAAM;YAAS,MAAM;YAAU,OAAO,YAAY,MAAM;QAAA;QACzD;YAAC,MAAM;YAAgB,MAAM;YAAU,OAAO,IAAI,YAAY,MAAM,GAAG;QAAE;KAC5E;IAED,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,MAAM,EAAE,IACpC,EAAE,MAAM,CAAC,IAAI,CAAC;QAAC,MAAM,YAAY;QAAG,MAAM;QAAU,OAAO,WAAW,CAAC,EAAE;IAAA;IAG7E,EAAE,MAAM,CAAC,IAAI,CAAC;QAAC,MAAM;QAAW,MAAM;QAAW,OAAO;IAAU;IAClE,OAAO;AACX;kBAEe;IAAE,OAAO;IAAgB,MAAM;AAAc;;;AC/zB5D,gEAAgE;AAChE,sDAAsD;;;AAEtD;;AACA;;AAEA,MAAM,gBAAgB;IAClB;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAQ,KAAK;IAAM;IAC3B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO;IAC7B;QAAC,OAAO;QAAS,KAAK;IAAO,E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GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,GAAG;IACjD,QAAQ,GAAG,UAAU,IAAI,CAAC,WA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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-eac6715211787ac5.js","src/scripts/index.ts","src/scripts/internal.ts","src/scripts/controllers/mainController.ts","node_modules/@svgdotjs/svg.js/dist/svg.esm.js","node_modules/@svgdotjs/svg.js/src/utils/methods.js","node_modules/@svgdotjs/svg.js/src/utils/utils.js","node_modules/@svgdotjs/svg.js/src/modules/core/namespaces.js","node_modules/@svgdotjs/svg.js/src/utils/window.js","node_modules/@svgdotjs/svg.js/src/types/Base.js","node_modules/@svgdotjs/svg.js/src/utils/adopter.js","node_modules/@svgdotjs/svg.js/src/modules/optional/arrange.js","node_modules/@svgdotjs/svg.js/src/modules/core/regex.js","node_modules/@svgdotjs/svg.js/src/modules/optional/class.js","node_modules/@svgdotjs/svg.js/src/modules/optional/css.js","node_modules/@svgdotjs/svg.js/src/modules/optional/data.js","node_modules/@svgdotjs/svg.js/src/modules/optional/memory.js","node_modules/@svgdotjs/svg.js/src/types/Color.js","node_modules/@svgdotjs/svg.js/src/types/Point.js","node_modules/@svgdotjs/svg.js/src/types/Matrix.js","node_modules/@svgdotjs/svg.js/src/modules/core/parser.js","node_modules/@svgdotjs/svg.js/src/types/Box.js","node_modules/@svgdotjs/svg.js/src/types/List.js","node_modules/@svgdotjs/svg.js/src/modules/core/selector.js","node_modules/@svgdotjs/svg.js/src/modules/core/event.js","node_modules/@svgdotjs/svg.js/src/types/EventTarget.js","node_modules/@svgdotjs/svg.js/src/modules/core/defaults.js","node_modules/@svgdotjs/svg.js/src/types/SVGArray.js","node_modules/@svgdotjs/svg.js/src/types/SVGNumber.js","node_modules/@svgdotjs/svg.js/src/modules/core/attr.js","node_modules/@svgdotjs/svg.js/src/elements/Dom.js","node_modules/@svgdotjs/svg.js/src/elements/Element.js","node_modules/@svgdotjs/svg.js/src/modules/optional/sugar.js","node_modules/@svgdotjs/svg.js/src/modules/optional/transform.js","node_modules/@svgdotjs/svg.js/src/elements/Container.js","node_modules/@svgdotjs/svg.js/src/elements/Defs.js","node_modules/@svgdotjs/svg.js/src/elements/Shape.js","node_modules/@svgdotjs/svg.js/src/modules/core/circled.js","node_modules/@svgdotjs/svg.js/src/elements/Ellipse.js","node_modules/@svgdotjs/svg.js/src/elements/Fragment.js","node_modules/@svgdotjs/svg.js/src/modules/core/gradiented.js","node_modules/@svgdotjs/svg.js/src/elements/Gradient.js","node_modules/@svgdotjs/svg.js/src/elements/Pattern.js","node_modules/@svgdotjs/svg.js/src/elements/Image.js","node_modules/@svgdotjs/svg.js/src/types/PointArray.js","node_modules/@svgdotjs/svg.js/src/modules/core/pointed.js","node_modules/@svgdotjs/svg.js/src/elements/Line.js","node_modules/@svgdotjs/svg.js/src/elements/Marker.js","node_modules/@svgdotjs/svg.js/src/animation/Controller.js","node_modules/@svgdotjs/svg.js/src/utils/pathParser.js","node_modules/@svgdotjs/svg.js/src/types/PathArray.js","node_modules/@svgdotjs/svg.js/src/animation/Morphable.js","node_modules/@svgdotjs/svg.js/src/elements/Path.js","node_modules/@svgdotjs/svg.js/src/modules/core/poly.js","node_modules/@svgdotjs/svg.js/src/elements/Polygon.js","node_modules/@svgdotjs/svg.js/src/elements/Polyline.js","node_modules/@svgdotjs/svg.js/src/elements/Rect.js","node_modules/@svgdotjs/svg.js/src/animation/Queue.js","node_modules/@svgdotjs/svg.js/src/animation/Animator.js","node_modules/@svgdotjs/svg.js/src/animation/Timeline.js","node_modules/@svgdotjs/svg.js/src/animation/Runner.js","node_modules/@svgdotjs/svg.js/src/elements/Svg.js","node_modules/@svgdotjs/svg.js/src/elements/Symbol.js","node_modules/@svgdotjs/svg.js/src/modules/core/textable.js","node_modules/@svgdotjs/svg.js/src/elements/Text.js","node_modules/@svgdotjs/svg.js/src/elements/Tspan.js","node_modules/@svgdotjs/svg.js/src/elements/Circle.js","node_modules/@svgdotjs/svg.js/src/elements/ClipPath.js","node_modules/@svgdotjs/svg.js/src/elements/ForeignObject.js","node_modules/@svgdotjs/svg.js/src/modules/core/containerGeometry.js","node_modules/@svgdotjs/svg.js/src/elements/G.js","node_modules/@svgdotjs/svg.js/src/elements/A.js","node_modules/@svgdotjs/svg.js/src/elements/Mask.js","node_modules/@svgdotjs/svg.js/src/elements/Stop.js","node_modules/@svgdotjs/svg.js/src/elements/Style.js","node_modules/@svgdotjs/svg.js/src/elements/TextPath.js","node_modules/@svgdotjs/svg.js/src/elements/Use.js","node_modules/@svgdotjs/svg.js/src/main.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","node_modules/bootstrap/dist/js/bootstrap.esm.js","node_modules/bootstrap/js/src/dom/data.js","node_modules/bootstrap/js/src/util/index.js","node_modules/bootstrap/js/src/dom/event-handler.js","node_modules/bootstrap/js/src/dom/manipulator.js","node_modules/bootstrap/js/src/util/config.js","node_modules/bootstrap/js/src/base-component.js","node_modules/bootstrap/js/src/dom/selector-engine.js","node_modules/bootstrap/js/src/util/component-functions.js","node_modules/bootstrap/js/src/alert.js","node_modules/bootstrap/js/src/button.js","node_modules/bootstrap/js/src/util/swipe.js","node_modules/bootstrap/js/src/carousel.js","node_modules/bootstrap/js/src/collapse.js","node_modules/bootstrap/js/src/dropdown.js","node_modules/bootstrap/js/src/util/backdrop.js","node_modules/bootstrap/js/src/util/focustrap.js","node_modules/bootstrap/js/src/util/scrollbar.js","node_modules/bootstrap/js/src/modal.js","node_modules/bootstrap/js/src/offcanvas.js","node_modules/bootstrap/js/src/util/sanitizer.js","node_modules/bootstrap/js/src/util/template-factory.js","node_modules/bootstrap/js/src/tooltip.js","node_modules/bootstrap/js/src/popover.js","node_modules/bootstrap/js/src/scrollspy.js","node_modules/bootstrap/js/src/tab.js","node_modules/bootstrap/js/src/toast.js","node_modules/@popperjs/core/lib/index.js","node_modules/@popperjs/core/lib/enums.js","node_modules/@popperjs/core/lib/modifiers/index.js","node_modules/@popperjs/core/lib/modifiers/applyStyles.js","node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","node_modules/@popperjs/core/lib/dom-utils/getWindow.js","node_modules/@popperjs/core/lib/modifiers/arrow.js","node_modules/@popperjs/core/lib/utils/getBasePlacement.js","node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","node_modules/@popperjs/core/lib/utils/math.js","node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js","node_modules/@popperjs/core/lib/utils/userAgent.js","node_modules/@popperjs/core/lib/dom-utils/contains.js","node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","node_modules/@popperjs/core/lib/utils/within.js","node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","node_modules/@popperjs/core/lib/utils/expandToHashMap.js","node_modules/@popperjs/core/lib/modifiers/computeStyles.js","node_modules/@popperjs/core/lib/utils/getVariation.js","node_modules/@popperjs/core/lib/modifiers/eventListeners.js","node_modules/@popperjs/core/lib/modifiers/flip.js","node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","node_modules/@popperjs/core/lib/utils/detectOverflow.js","node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","node_modules/@popperjs/core/lib/utils/rectToClientRect.js","node_modules/@popperjs/core/lib/utils/computeOffsets.js","node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","node_modules/@popperjs/core/lib/modifiers/hide.js","node_modules/@popperjs/core/lib/modifiers/offset.js","node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","node_modules/@popperjs/core/lib/utils/getAltAxis.js","node_modules/@popperjs/core/lib/createPopper.js","node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","node_modules/@popperjs/core/lib/utils/orderModifiers.js","node_modules/@popperjs/core/lib/utils/debounce.js","node_modules/@popperjs/core/lib/utils/mergeByName.js","node_modules/@popperjs/core/lib/popper.js","node_modules/@popperjs/core/lib/popper-lite.js","src/scripts/utils/impSVGNumber.ts","src/scripts/utils/selectionHelper.ts","src/scripts/utils/domWatcher.ts","node_modules/hotkeys-js/dist/hotkeys.esm.js","package.json","src/scripts/controllers/canvasController.ts","node_modules/@svgdotjs/svg.panzoom.js/dist/svg.panzoom.esm.js","node_modules/@svgdotjs/svg.panzoom.js/src/svg.panzoom.js","src/scripts/controllers/eraseController.ts","src/scripts/controllers/exportController.ts","node_modules/file-saver/dist/FileSaver.min.js","node_modules/file-saver/src/FileSaver.js","node_modules/prettier/standalone.js","node_modules/@prettier/plugin-xml/src/plugin.js","node_modules/@prettier/plugin-xml/src/languages.js","node_modules/@prettier/plugin-xml/src/parser.js","node_modules/@xml-tools/parser/lib/api.js","node_modules/@xml-tools/parser/lib/lexer.js","node_modules/chevrotain/lib_esm/src/api.js","node_modules/chevrotain/src/api.ts","node_modules/chevrotain/lib_esm/src/version.js","node_modules/chevrotain/src/version.ts","node_modules/chevrotain/lib_esm/src/parse/parser/parser.js","node_modules/chevrotain/src/parse/parser/parser.ts","node_modules/chevrotain/lib_esm/src/utils/utils.js","node_modules/chevrotain/src/utils/utils.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/follow.js","node_modules/chevrotain/src/parse/grammar/follow.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/rest.js","node_modules/chevrotain/src/parse/grammar/rest.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/gast/gast_public.js","node_modules/chevrotain/src/parse/grammar/gast/gast_public.ts","node_modules/chevrotain/lib_esm/src/scan/tokens_public.js","node_modules/chevrotain/src/scan/tokens_public.ts","node_modules/chevrotain/lib_esm/src/scan/lexer_public.js","node_modules/chevrotain/src/scan/lexer_public.ts","node_modules/chevrotain/lib_esm/src/scan/lexer.js","node_modules/chevrotain/src/scan/lexer.ts","node_modules/regexp-to-ast/lib/regexp-to-ast.js","node_modules/chevrotain/lib_esm/src/scan/reg_exp.js","node_modules/chevrotain/src/scan/reg_exp.ts","node_modules/chevrotain/lib_esm/src/scan/reg_exp_parser.js","node_modules/chevrotain/src/scan/reg_exp_parser.ts","node_modules/chevrotain/lib_esm/src/scan/tokens.js","node_modules/chevrotain/src/scan/tokens.ts","node_modules/chevrotain/lib_esm/src/scan/lexer_errors_public.js","node_modules/chevrotain/src/scan/lexer_errors_public.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/first.js","node_modules/chevrotain/src/parse/grammar/first.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/gast/gast.js","node_modules/chevrotain/src/parse/grammar/gast/gast.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/gast/gast_visitor_public.js","node_modules/chevrotain/src/parse/grammar/gast/gast_visitor_public.ts","node_modules/chevrotain/lib_esm/src/parse/constants.js","node_modules/chevrotain/src/parse/constants.ts","node_modules/chevrotain/lib_esm/src/parse/errors_public.js","node_modules/chevrotain/src/parse/errors_public.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/gast/gast_resolver_public.js","node_modules/chevrotain/src/parse/grammar/gast/gast_resolver_public.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/resolver.js","node_modules/chevrotain/src/parse/grammar/resolver.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/checks.js","node_modules/chevrotain/src/parse/grammar/checks.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/lookahead.js","node_modules/chevrotain/src/parse/grammar/lookahead.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/interpreter.js","node_modules/chevrotain/src/parse/grammar/interpreter.ts","node_modules/chevrotain/lib_esm/src/parse/parser/traits/recoverable.js","node_modules/chevrotain/src/parse/parser/traits/recoverable.ts","node_modules/chevrotain/lib_esm/src/parse/exceptions_public.js","node_modules/chevrotain/src/parse/exceptions_public.ts","node_modules/chevrotain/lib_esm/src/parse/parser/traits/looksahead.js","node_modules/chevrotain/src/parse/parser/traits/looksahead.ts","node_modules/chevrotain/lib_esm/src/parse/grammar/keys.js","node_modules/chevrotain/src/parse/grammar/keys.ts","node_modules/chevrotain/lib_esm/src/parse/parser/traits/tree_builder.js","node_modules/chevrotain/src/parse/parser/traits/tree_builder.ts","node_modules/chevrotain/lib_esm/src/parse/cst/cst.js","node_modules/chevrotain/src/parse/cst/cst.ts","node_modules/chevrotain/lib_esm/src/parse/cst/cst_visitor.js","node_modules/chevrotain/src/parse/cst/cst_visitor.ts","node_modules/chevrotain/lib_esm/src/lang/lang_extensions.js","node_modules/chevrotain/src/lang/lang_extensions.ts","node_modules/chevrotain/lib_esm/src/parse/parser/traits/lexer_adapter.js","node_modules/chevrotain/src/parse/parser/traits/lexer_adapter.ts","node_modules/chevrotain/lib_esm/src/parse/parser/traits/recognizer_api.js","node_modules/chevrotain/src/parse/parser/traits/recognizer_api.ts","node_modules/chevrotain/lib_esm/src/parse/parser/traits/recognizer_engine.js","node_modules/chevrotain/src/parse/parser/traits/recognizer_engine.ts","node_modules/chevrotain/lib_esm/src/parse/parser/traits/error_handler.js","node_modules/chevrotain/src/parse/parser/traits/error_handler.ts","node_modules/chevrotain/lib_esm/src/parse/parser/traits/context_assist.js","node_modules/chevrotain/src/parse/parser/traits/context_assist.ts","node_modules/chevrotain/lib_esm/src/parse/parser/traits/gast_recorder.js","node_modules/chevrotain/src/parse/parser/traits/gast_recorder.ts","node_modules/chevrotain/lib_esm/src/parse/parser/traits/perf_tracer.js","node_modules/chevrotain/src/parse/parser/traits/perf_tracer.ts","node_modules/chevrotain/lib_esm/src/diagrams/render_public.js","node_modules/chevrotain/src/diagrams/render_public.ts","node_modules/chevrotain/lib_esm/src/generate/generate_public.js","node_modules/chevrotain/src/generate/generate_public.ts","node_modules/chevrotain/lib_esm/src/generate/generate.js","node_modules/chevrotain/src/generate/generate.ts","node_modules/@xml-tools/parser/lib/parser.js","node_modules/@prettier/plugin-xml/src/printer.js","node_modules/prettier/doc.js","node_modules/@prettier/plugin-xml/src/embed.js","src/scripts/controllers/saveController.ts","src/scripts/controllers/selectionController.ts","src/scripts/controllers/undoController.ts","src/scripts/controllers/copyController.ts","src/scripts/controllers/propertiesController.ts","src/scripts/properties/editableProperty.ts","src/scripts/properties/booleanProperty.ts","src/scripts/properties/choiceProperty.ts","src/scripts/properties/textProperty.ts","src/scripts/properties/textAreaProperty.ts","src/scripts/properties/infoProperty.ts","src/scripts/properties/buttonGridProperty.ts","src/scripts/properties/mathjaxProperty.ts","src/scripts/properties/sliderProperty.ts","src/scripts/properties/sectionHeaderProperty.ts","src/scripts/properties/colorProperty.ts","src/scripts/properties/radioButtonProperty.ts","src/scripts/mixins/fillable.ts","src/scripts/mixins/strokable.ts","src/scripts/mixins/nameable.ts","src/scripts/mixins/labelable.ts","src/scripts/mixins/voltageable.ts","src/scripts/mixins/currentable.ts","src/scripts/components/circuitComponent.ts","node_modules/@svgdotjs/svg.draggable.js/src/svg.draggable.js","src/scripts/components/pathComponent.ts","src/scripts/components/nodeComponent.ts","src/scripts/components/componentPlacer.ts","src/scripts/components/componentSymbol.ts","src/scripts/components/nodeSymbolComponent.ts","src/scripts/components/pathSymbolComponent.ts","src/scripts/components/wireComponent.ts","src/scripts/snapDrag/dragHandlers.ts","src/scripts/components/shapeComponent.ts","src/scripts/components/rectangleComponent.ts","src/scripts/components/ellipseComponent.ts","src/scripts/components/polygonComponent.ts","src/scripts/components/groupComponent.ts","src/scripts/snapDrag/snapController.ts","src/scripts/snapDrag/snapCursor.ts","src/scripts/snapDrag/snapPoint.ts","src/scripts/utils/textHelper.ts","node_modules/text-to-svg/index.js","node_modules/text-to-svg/build/src/index.js","node_modules/opentype.js/src/opentype.js","node_modules/string.prototype.codepointat/codepointat.js","node_modules/tiny-inflate/index.js","node_modules/opentype.js/src/font.js","node_modules/opentype.js/src/path.js","node_modules/opentype.js/src/bbox.js","node_modules/opentype.js/src/tables/sfnt.js","node_modules/opentype.js/src/check.js","node_modules/opentype.js/src/table.js","node_modules/opentype.js/src/types.js","node_modules/opentype.js/src/tables/cmap.js","node_modules/opentype.js/src/parse.js","node_modules/opentype.js/src/tables/cff.js","node_modules/opentype.js/src/encoding.js","node_modules/opentype.js/src/glyphset.js","node_modules/opentype.js/src/glyph.js","node_modules/opentype.js/src/draw.js","node_modules/opentype.js/src/tables/head.js","node_modules/opentype.js/src/tables/hhea.js","node_modules/opentype.js/src/tables/hmtx.js","node_modules/opentype.js/src/tables/ltag.js","node_modules/opentype.js/src/tables/maxp.js","node_modules/opentype.js/src/tables/name.js","node_modules/opentype.js/src/tables/os2.js","node_modules/opentype.js/src/tables/post.js","node_modules/opentype.js/src/tables/gsub.js","node_modules/opentype.js/src/tables/meta.js","node_modules/opentype.js/src/position.js","node_modules/opentype.js/src/layout.js","node_modules/opentype.js/src/substitution.js","node_modules/opentype.js/src/util.js","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/opentype.js/src/hintingtt.js","node_modules/opentype.js/src/tables/glyf.js","node_modules/opentype.js/src/bidi.js","node_modules/opentype.js/src/tokenizer.js","node_modules/opentype.js/src/features/arab/contextCheck/arabicWord.js","node_modules/opentype.js/src/char.js","node_modules/opentype.js/src/features/arab/contextCheck/arabicSentence.js","node_modules/opentype.js/src/features/arab/arabicPresentationForms.js","node_modules/opentype.js/src/features/arab/arabicRequiredLigatures.js","node_modules/opentype.js/src/features/featureQuery.js","node_modules/@parcel/node-resolver-core/lib/_empty.js","node_modules/opentype.js/src/tables/fvar.js","node_modules/opentype.js/src/tables/gpos.js","node_modules/opentype.js/src/tables/kern.js","node_modules/opentype.js/src/tables/loca.js","node_modules/path-browserify/index.js","node_modules/process/browser.js","src/scripts/utils/utils.ts","src/scripts/utils/tikzBuilder.ts"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SERVER_PORT = 1234;var HMR_SECURE = false;var HMR_ENV_HASH = \"439701173a9199ea\";var HMR_USE_SSE = false;module.bundle.HMR_BUNDLE_ID = \"f8fb2b3f6c4b1899\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_SERVER_PORT, HMR_ENV_HASH, HMR_SECURE, HMR_USE_SSE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_SERVER_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var HMR_USE_SSE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */,\n  disposedAssets /*: {|[string]: boolean|} */,\n  assetsToDispose /*: Array<[ParcelRequire, string]> */,\n  assetsToAccept /*: Array<[ParcelRequire, string]> */,\n  bundleNotFound = false;\nfunction getHostname() {\n  return HMR_HOST || (typeof location !== 'undefined' && location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || (typeof location !== 'undefined' ? location.port : HMR_SERVER_PORT);\n}\n\n// eslint-disable-next-line no-redeclare\nlet WebSocket = globalThis.WebSocket;\nif (!WebSocket && typeof module.bundle.root === 'function') {\n  try {\n    // eslint-disable-next-line no-global-assign\n    WebSocket = module.bundle.root('ws');\n  } catch {\n    // ignore.\n  }\n}\nvar hostname = getHostname();\nvar port = getPort();\nvar protocol = HMR_SECURE || typeof location !== 'undefined' && location.protocol === 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif (!parent || !parent.isParcelRequire) {\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n  var ws;\n  if (HMR_USE_SSE) {\n    ws = new EventSource('/__parcel_hmr');\n  } else {\n    try {\n      // If we're running in the dev server's node runner, listen for messages on the parent port.\n      let {\n        workerData,\n        parentPort\n      } = module.bundle.root('node:worker_threads') /*: any*/;\n      if (workerData !== null && workerData !== void 0 && workerData.__parcel) {\n        parentPort.on('message', async message => {\n          try {\n            await handleMessage(message);\n            parentPort.postMessage('updated');\n          } catch {\n            parentPort.postMessage('restart');\n          }\n        });\n\n        // After the bundle has finished running, notify the dev server that the HMR update is complete.\n        queueMicrotask(() => parentPort.postMessage('ready'));\n      }\n    } catch {\n      if (typeof WebSocket !== 'undefined') {\n        try {\n          ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n        } catch (err) {\n          // Ignore cloudflare workers error.\n          if (err.message && !err.message.includes('Disallowed operation called within global scope')) {\n            console.error(err.message);\n          }\n        }\n      }\n    }\n  }\n  if (ws) {\n    // $FlowFixMe\n    ws.onmessage = async function (event /*: {data: string, ...} */) {\n      var data /*: HMRMessage */ = JSON.parse(event.data);\n      await handleMessage(data);\n    };\n    if (ws instanceof WebSocket) {\n      ws.onerror = function (e) {\n        if (e.message) {\n          console.error(e.message);\n        }\n      };\n      ws.onclose = function () {\n        console.warn('[parcel]  Connection to the HMR server was lost');\n      };\n    }\n  }\n}\nasync function handleMessage(data /*: HMRMessage */) {\n  checkedAssets = {} /*: {|[string]: boolean|} */;\n  disposedAssets = {} /*: {|[string]: boolean|} */;\n  assetsToAccept = [];\n  assetsToDispose = [];\n  bundleNotFound = false;\n  if (data.type === 'reload') {\n    fullReload();\n  } else if (data.type === 'update') {\n    // Remove error overlay if there is one\n    if (typeof document !== 'undefined') {\n      removeErrorOverlay();\n    }\n    let assets = data.assets;\n\n    // Handle HMR Update\n    let handled = assets.every(asset => {\n      return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n    });\n\n    // Dispatch a custom event in case a bundle was not found. This might mean\n    // an asset on the server changed and we should reload the page. This event\n    // gives the client an opportunity to refresh without losing state\n    // (e.g. via React Server Components). If e.preventDefault() is not called,\n    // we will trigger a full page reload.\n    if (handled && bundleNotFound && assets.some(a => a.envHash !== HMR_ENV_HASH) && typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n      handled = !window.dispatchEvent(new CustomEvent('parcelhmrreload', {\n        cancelable: true\n      }));\n    }\n    if (handled) {\n      console.clear();\n\n      // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n      if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n        window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n      }\n      await hmrApplyUpdates(assets);\n      hmrDisposeQueue();\n\n      // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n      let processedAssets = {};\n      for (let i = 0; i < assetsToAccept.length; i++) {\n        let id = assetsToAccept[i][1];\n        if (!processedAssets[id]) {\n          hmrAccept(assetsToAccept[i][0], id);\n          processedAssets[id] = true;\n        }\n      }\n    } else fullReload();\n  }\n  if (data.type === 'error') {\n    // Log parcel errors to console\n    for (let ansiDiagnostic of data.diagnostics.ansi) {\n      let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n      console.error(' [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n    }\n    if (typeof document !== 'undefined') {\n      // Render the fancy html overlay\n      removeErrorOverlay();\n      var overlay = createErrorOverlay(data.diagnostics.html);\n      // $FlowFixMe\n      document.body.appendChild(overlay);\n    }\n  }\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel]  Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"${protocol === 'wss' ? 'https' : 'http'}://${hostname}:${port}/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n           ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div> ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div> <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if (typeof location !== 'undefined' && 'reload' in location) {\n    location.reload();\n  } else if (typeof extCtx !== 'undefined' && extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  } else {\n    try {\n      let {\n        workerData,\n        parentPort\n      } = module.bundle.root('node:worker_threads') /*: any*/;\n      if (workerData !== null && workerData !== void 0 && workerData.__parcel) {\n        parentPort.postMessage('restart');\n      }\n    } catch (err) {\n      console.error('[parcel]  An HMR update was not accepted. Please restart the process.');\n    }\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout || typeof document === 'undefined') {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    }\n\n    // Always traverse to the parent bundle, even if we already replaced the asset in this bundle.\n    // This is required in case modules are duplicated. We need to ensure all instances have the updated code.\n    if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  checkedAssets = {};\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else if (a !== null) {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      bundleNotFound = true;\n      return true;\n    }\n    return hmrAcceptCheckOne(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return null;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  if (!cached) {\n    return true;\n  }\n  assetsToDispose.push([bundle, id]);\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n  return false;\n}\nfunction hmrDisposeQueue() {\n  // Dispose all old assets.\n  for (let i = 0; i < assetsToDispose.length; i++) {\n    let id = assetsToDispose[i][1];\n    if (!disposedAssets[id]) {\n      hmrDispose(assetsToDispose[i][0], id);\n      disposedAssets[id] = true;\n    }\n  }\n  assetsToDispose = [];\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    let assetsToAlsoAccept = [];\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      let additionalAssets = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (Array.isArray(additionalAssets) && additionalAssets.length) {\n        assetsToAlsoAccept.push(...additionalAssets);\n      }\n    });\n    if (assetsToAlsoAccept.length) {\n      let handled = assetsToAlsoAccept.every(function (a) {\n        return hmrAcceptCheck(a[0], a[1]);\n      });\n      if (!handled) {\n        return fullReload();\n      }\n      hmrDisposeQueue();\n    }\n  }\n}","/**\n * The main source file. Does only include {@link MainController}, which does the actual work.\n */\n\nimport { MainController } from \"./internal\"\n\n// @ts-ignore\nwindow.mainController = MainController.instance\n","// controllers\nexport * from \"./controllers/mainController\"\nexport * from \"./controllers/canvasController\"\nexport * from \"./controllers/eraseController\"\nexport * from \"./controllers/exportController\"\nexport * from \"./controllers/saveController\"\nexport * from \"./controllers/selectionController\"\nexport * from \"./controllers/undoController\"\nexport * from \"./controllers/copyController\"\nexport * from \"./controllers/propertiesController\"\n// properties\nexport * from \"./properties/editableProperty\"\nexport * from \"./properties/booleanProperty\"\nexport * from \"./properties/choiceProperty\"\nexport * from \"./properties/textProperty\"\nexport * from \"./properties/textAreaProperty\"\nexport * from \"./properties/infoProperty\"\nexport * from \"./properties/buttonGridProperty\"\nexport * from \"./properties/mathjaxProperty\"\nexport * from \"./properties/sliderProperty\"\nexport * from \"./properties/sectionHeaderProperty\"\nexport * from \"./properties/colorProperty\"\nexport * from \"./properties/radioButtonProperty\"\n//mixins\nexport * from \"./mixins/fillable\"\nexport * from \"./mixins/strokable\"\nexport * from \"./mixins/nameable\"\nexport * from \"./mixins/labelable\"\nexport * from \"./mixins/voltageable\"\nexport * from \"./mixins/currentable\"\n// components\nexport * from \"./components/circuitComponent\"\nexport * from \"./components/pathComponent\"\nexport * from \"./components/nodeComponent\"\nexport * from \"./components/componentPlacer\"\nexport * from \"./components/componentSymbol\"\nexport * from \"./components/nodeSymbolComponent\"\nexport * from \"./components/pathSymbolComponent\"\nexport * from \"./components/wireComponent\"\nexport * from \"./components/shapeComponent\"\nexport * from \"./components/rectangleComponent\"\nexport * from \"./components/ellipseComponent\"\nexport * from \"./components/polygonComponent\"\nexport * from \"./components/groupComponent\"\n// snapDrag\nexport * from \"./snapDrag/dragHandlers\"\nexport * from \"./snapDrag/snapController\"\nexport * from \"./snapDrag/snapCursor\"\nexport * from \"./snapDrag/snapPoint\"\n// other\nexport * from \"./utils/textHelper\"\nexport * from \"./utils/utils\"\nexport * from \"./utils/tikzBuilder\"\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport { Button as _bootstrapButton, Collapse as _bootstrapCollapse, Offcanvas, Tooltip, Modal } from \"bootstrap\"\nimport \"../utils/impSVGNumber\"\nimport { waitForElementLoaded } from \"../utils/domWatcher\"\nimport hotkeys from \"hotkeys-js\"\nimport { version } from \"../../../package.json\"\n\nimport {\n\tCanvasController,\n\tExportController,\n\tSelectionController,\n\tSaveController,\n\tUndo,\n\tCopyPaste,\n\tPropertyController,\n\tCircuitComponent,\n\tComponentPlacer,\n\tNodeSymbolComponent,\n\tPathSymbolComponent,\n\tWireComponent,\n\tComponentSymbol,\n\tComponentSaveObject,\n\tEraseController,\n\tRectangleComponent,\n\tEllipseComponent,\n\tdefaultStroke,\n\tdefaultFill,\n\tPolygonComponent,\n\tGroupSaveObject,\n\tmemorySizeOf,\n\tSaveFileFormat,\n\temtpySaveState,\n\tcurrentSaveVersion,\n\tloadTextConverter,\n\tTextProperty,\n} from \"../internal\"\n\ntype TabState = {\n\tid: number\n\topen: string\n\tdata: SaveFileFormat\n\tsettings: CanvasSettings\n\tdesignName?: string\n}\n\nexport type MessageData = {\n\ttype: string\n\tfrom: number\n\tpayload?: any\n}\n\nexport type CanvasSettings = {\n\tgridVisible?: boolean\n\tmajorGridSizecm?: number\n\tmajorGridSubdivisions?: number\n\tviewBox?: SVG.Box\n\tviewZoom?: number\n}\n\nexport enum Modes {\n\tDRAG_PAN,\n\tCOMPONENT,\n\tERASE,\n}\n\n// TODO Test\n// TODO redo comments\n\nexport class MainController {\n\tprivate static _instance: MainController\n\tpublic static get instance(): MainController {\n\t\tif (!MainController._instance) {\n\t\t\tMainController._instance = new MainController()\n\t\t}\n\t\treturn MainController._instance\n\t}\n\n\t// controllers\n\tcanvasController: CanvasController\n\n\tsymbolsSVG: SVG.Svg\n\tsymbols: ComponentSymbol[]\n\n\tpublic darkMode = true\n\tprivate darkModeLast = true\n\tprivate currentTheme = \"dark\"\n\n\tprivate tabID = -1\n\n\tmode = Modes.DRAG_PAN\n\n\tprivate modeSwitchButtons = {\n\t\tmodeDragPan: null,\n\t\tmodeDrawLine: null,\n\t\tmodeEraser: null,\n\t}\n\n\tinitPromise: Promise<any>\n\tisInitDone: boolean = false\n\n\tcircuitComponents: CircuitComponent[] = []\n\t// instances: ComponentInstance[] = [];\n\t// lines: Line[] = [];\n\n\tstatic appVersion = \"0.0.0\"\n\n\tisMac = false\n\tselectionController: SelectionController\n\n\tbroadcastChannel: BroadcastChannel\n\n\tpublic designName: TextProperty\n\n\tprivate db: IDBDatabase\n\n\t/**\n\t * Init the app.\n\t */\n\tprivate constructor() {\n\t\tMainController._instance = this\n\t\tthis.isMac = window.navigator.userAgent.toUpperCase().indexOf(\"MAC\") >= 0\n\t\tthis.broadcastChannel = new BroadcastChannel(\"circuitikz-designer\")\n\n\t\t// dark mode init\n\t\tconst htmlElement = document.documentElement\n\t\tconst switchElement = document.getElementById(\"darkModeSwitch\") as HTMLInputElement\n\t\tconst defaultTheme = window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\"\n\t\tthis.currentTheme = localStorage.getItem(\"circuitikz-designer-theme\") || defaultTheme\n\t\thtmlElement.setAttribute(\"data-bs-theme\", this.currentTheme)\n\t\tthis.darkModeLast = false\n\t\tthis.darkMode = this.currentTheme === \"dark\"\n\t\tswitchElement.checked = this.darkMode\n\n\t\tlet mathJaxPromise = this.loadMathJax()\n\t\tlet canvasPromise = this.initCanvas()\n\t\tlet symbolsDBPromise = this.initSymbolDB()\n\t\tlet fontPromise = Promise.all([document.fonts.load(\"1em Computer Modern Serif\"), loadTextConverter()])\n\n\t\tMainController.appVersion = version\n\t\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\t\tfor (const element of document.getElementsByClassName(\"version\")) {\n\t\t\t\telement.textContent = \"v\" + version\n\t\t\t}\n\t\t})\n\n\t\tconst fileExportName = document.getElementById(\"exportModalFileBasename\") as HTMLInputElement\n\t\tthis.designName = new TextProperty(\"Design Name\", \"\")\n\t\tthis.designName.addChangeListener(() => {\n\t\t\tdocument.title = this.designName.value + (this.designName.value ? \" - \" : \"\") + \"CircuiTikZ Designer\"\n\t\t\tfileExportName.placeholder =\n\t\t\t\tMainController.instance.designName.value.replace(/[^a-z0-9]/gi, \"_\") || \"Circuit\"\n\n\t\t\tlet tabsObjectStore = MainController.instance.db.transaction(\"tabs\", \"readwrite\").objectStore(\"tabs\")\n\t\t\ttabsObjectStore.get(this.tabID).onsuccess = function (event) {\n\t\t\t\tconst data = (event.target as IDBRequest).result as TabState\n\t\t\t\tdata.designName = MainController.instance.designName.value\n\t\t\t\ttabsObjectStore.put(data)\n\t\t\t\tMainController.instance.sendBroadcastMessage(\"update\")\n\t\t\t}\n\t\t})\n\n\t\tthis.initModeButtons()\n\n\t\tthis.updateTooltips()\n\n\t\t// init exporting\n\t\tExportController.instance\n\t\tconst exportCircuiTikZButton: HTMLButtonElement = document.getElementById(\n\t\t\t\"exportCircuiTikZButton\"\n\t\t) as HTMLButtonElement\n\t\texportCircuiTikZButton.addEventListener(\n\t\t\t\"click\",\n\t\t\tExportController.instance.exportCircuiTikZ.bind(ExportController.instance),\n\t\t\t{\n\t\t\t\tpassive: true,\n\t\t\t}\n\t\t)\n\n\t\tconst exportSVGButton: HTMLButtonElement = document.getElementById(\"exportSVGButton\") as HTMLButtonElement\n\t\texportSVGButton.addEventListener(\"click\", ExportController.instance.exportSVG.bind(ExportController.instance), {\n\t\t\tpassive: true,\n\t\t})\n\n\t\tconst exportImageButton: HTMLButtonElement = document.getElementById(\"exportImageButton\") as HTMLButtonElement\n\t\texportImageButton.addEventListener(\"click\", ExportController.instance.exportImage.bind(ExportController.instance), {\n\t\t\tpassive: true,\n\t\t})\n\n\t\t// init save and load\n\t\tSaveController.instance\n\t\tconst saveButton: HTMLButtonElement = document.getElementById(\"saveButton\") as HTMLButtonElement\n\t\tsaveButton.addEventListener(\"click\", SaveController.instance.save.bind(SaveController.instance), {\n\t\t\tpassive: true,\n\t\t})\n\n\t\tconst loadButton: HTMLButtonElement = document.getElementById(\"loadButton\") as HTMLButtonElement\n\t\tloadButton.addEventListener(\"click\", SaveController.instance.load.bind(SaveController.instance), {\n\t\t\tpassive: true,\n\t\t})\n\n\t\tcanvasPromise.then(() => {\n\t\t\tEraseController.instance\n\t\t\tSelectionController.instance\n\t\t\tPropertyController.instance\n\t\t\tComponentPlacer.instance\n\t\t})\n\t\tthis.initPromise = Promise.all([canvasPromise, symbolsDBPromise, mathJaxPromise, fontPromise]).then(() => {\n\t\t\tdocument.getElementById(\"loadingSpinner\")?.classList.add(\"d-none\")\n\t\t\tthis.initAddComponentOffcanvas()\n\t\t\tthis.initShortcuts()\n\n\t\t\t// Prevent \"normal\" browser menu\n\t\t\tdocument\n\t\t\t\t.getElementById(\"canvas\")\n\t\t\t\t.addEventListener(\"contextmenu\", (evt) => evt.preventDefault(), { passive: false })\n\n\t\t\tthis.addSaveStateManagement()\n\n\t\t\t// prepare symbolDB for colorTheme\n\t\t\tfor (const g of this.symbolsSVG.defs().node.querySelectorAll(\"symbol>g\")) {\n\t\t\t\tthis.preprocessSymbolColors(g)\n\t\t\t}\n\n\t\t\tconst htmlElement = document.documentElement\n\t\t\tconst switchElement = document.getElementById(\"darkModeSwitch\") as HTMLInputElement\n\t\t\tswitchElement.addEventListener(\"change\", function () {\n\t\t\t\tif ((MainController.instance.darkMode = switchElement.checked)) {\n\t\t\t\t\thtmlElement.setAttribute(\"data-bs-theme\", \"dark\")\n\t\t\t\t\tlocalStorage.setItem(\"circuitikz-designer-theme\", \"dark\")\n\t\t\t\t} else {\n\t\t\t\t\thtmlElement.setAttribute(\"data-bs-theme\", \"light\")\n\t\t\t\t\tlocalStorage.setItem(\"circuitikz-designer-theme\", \"light\")\n\t\t\t\t}\n\t\t\t\tMainController.instance.updateTheme()\n\t\t\t})\n\t\t\tMainController.instance.updateTheme()\n\t\t\tPropertyController.instance.update()\n\t\t\tthis.isInitDone = true\n\t\t})\n\t}\n\n\tprivate allTooltips: Tooltip[] = []\n\tpublic updateTooltips() {\n\t\tvar isMobile = window.matchMedia(\"only screen and (max-width: 760px)\").matches\n\t\t//enable tooltips globally\n\t\tconst tooltipTriggerList = document.querySelectorAll(\n\t\t\t'[data-bs-toggle=\"tooltip\"],[data-bs-toggle-second=\"tooltip\"]'\n\t\t)\n\t\tfor (const tooltip of this.allTooltips) {\n\t\t\ttooltip.dispose()\n\t\t}\n\t\tif (isMobile) {\n\t\t\tthis.allTooltips = [...tooltipTriggerList].map(\n\t\t\t\t(tooltipTriggerEl) =>\n\t\t\t\t\tnew Tooltip(tooltipTriggerEl, {\n\t\t\t\t\t\tfallbackPlacements: [], //always show them exactly where defined\n\t\t\t\t\t\ttrigger: \"manual\",\n\t\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\tthis.allTooltips = [...tooltipTriggerList].map(\n\t\t\t\t(tooltipTriggerEl) =>\n\t\t\t\t\tnew Tooltip(tooltipTriggerEl, {\n\t\t\t\t\t\tfallbackPlacements: [], //always show them exactly where defined\n\t\t\t\t\t\tdelay: { show: 1000, hide: 0 },\n\t\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\tprivate async loadMathJax() {\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tif (!(\"MathJax\" in window)) {\n\t\t\t\t;(window as any).MathJax = {\n\t\t\t\t\ttex: {\n\t\t\t\t\t\tinlineMath: { \"[+]\": [[\"$\", \"$\"]] },\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar script = document.createElement(\"script\")\n\t\t\tscript.src = \"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js\"\n\t\t\tdocument.head.appendChild(script)\n\n\t\t\tscript.addEventListener(\n\t\t\t\t\"load\",\n\t\t\t\tfunction () {\n\t\t\t\t\tresolve(\"\")\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t)\n\t\t})\n\t\treturn promise\n\t}\n\n\t/**\n\t * handle tabs and save state management\n\t */\n\tprivate addSaveStateManagement() {\n\t\t// remove old localStorage data\n\t\tlocalStorage.removeItem(\"currentProgress\")\n\t\tlocalStorage.removeItem(\"circuit2tikz-designer-grid\")\n\t\tlocalStorage.removeItem(\"circuitikz-designer-grid\")\n\t\tlocalStorage.removeItem(\"circuitikz-designer-saveState\")\n\t\tsessionStorage.removeItem(\"circuitikz-designer-tabID\")\n\n\t\tconst defaultSettings: CanvasSettings = {}\n\n\t\tconst IDBrequest = indexedDB.open(\"circuitikz-designer-db\", 1)\n\t\tIDBrequest.onerror = function (event) {\n\t\t\tconsole.error(\"IndexedDB error\")\n\t\t\tconsole.error(event)\n\t\t}\n\t\tIDBrequest.onupgradeneeded = function (event) {\n\t\t\tMainController.instance.db = (event.target as IDBOpenDBRequest).result\n\t\t\tif (!MainController.instance.db.objectStoreNames.contains(\"tabs\")) {\n\t\t\t\tconst objectStore = MainController.instance.db.createObjectStore(\"tabs\", { keyPath: \"id\" })\n\t\t\t\tobjectStore.createIndex(\"open\", \"open\", { unique: false })\n\t\t\t}\n\t\t}\n\t\tIDBrequest.onsuccess = function (event) {\n\t\t\tMainController.instance.db = (event.target as IDBOpenDBRequest).result\n\n\t\t\twindow.addEventListener(\"visibilitychange\", (ev) => {\n\t\t\t\tif (document.visibilityState == \"hidden\") {\n\t\t\t\t\tMainController.instance.saveCurrentState(false)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\twindow.addEventListener(\"beforeunload\", (ev) => {\n\t\t\t\tMainController.instance.saveCurrentState()\n\t\t\t})\n\n\t\t\tlet tabsObjectStore = MainController.instance.db.transaction(\"tabs\", \"readwrite\").objectStore(\"tabs\")\n\n\t\t\t// the URL of the current page\n\t\t\tvar url = new URL(window.location.href)\n\t\t\t// check if a tabID is requested in the URL, otherwise use the first closed tab\n\t\t\tvar requestedID = parseInt(url.searchParams.get(\"tabID\"))\n\n\t\t\ttabsObjectStore.getAll().onsuccess = function (event) {\n\t\t\t\tlet allTabs: TabState[] = (event.target as IDBRequest).result\n\n\t\t\t\tif (Number.isNaN(requestedID)) {\n\t\t\t\t\t// no tabID is requested in the URL, so we need to find the first closed tab\n\t\t\t\t\trequestedID = allTabs.findIndex((tab) => tab.open == \"false\")\n\n\t\t\t\t\tif (requestedID < 0) {\n\t\t\t\t\t\t// no closed tab found, use the next available ID\n\t\t\t\t\t\trequestedID = 0\n\t\t\t\t\t\twhile (allTabs.find((tab) => tab.id == requestedID)) {\n\t\t\t\t\t\t\trequestedID++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet requestedTab = allTabs.find((tab) => tab.id == requestedID)\n\t\t\t\tif (requestedTab) {\n\t\t\t\t\t// if the requested tab is closed, open it\n\t\t\t\t\trequestedTab.open = \"true\"\n\t\t\t\t\tMainController.instance.tabID = requestedTab.id\n\t\t\t\t\tMainController.instance.designName.updateValue(requestedTab.designName ?? \"\", true, true)\n\t\t\t\t\tCanvasController.instance.setSettings(requestedTab.settings)\n\t\t\t\t\tSaveController.instance.loadFromJSON(requestedTab.data)\n\t\t\t\t\ttabsObjectStore.put(requestedTab).onsuccess = (event) => {\n\t\t\t\t\t\tMainController.instance.sendBroadcastMessage(\"update\")\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// requested tab not found, so we create a new one\n\t\t\t\t\tconst newEntry: TabState = {\n\t\t\t\t\t\tid: requestedID,\n\t\t\t\t\t\topen: \"true\",\n\t\t\t\t\t\tdata: emtpySaveState,\n\t\t\t\t\t\tsettings: defaultSettings,\n\t\t\t\t\t}\n\t\t\t\t\tMainController.instance.tabID = requestedID\n\t\t\t\t\ttabsObjectStore.add(newEntry).onsuccess = (event) => {\n\t\t\t\t\t\t// as soon as the tab is created and saved in the db, we can notify the other tabs\n\t\t\t\t\t\tMainController.instance.sendBroadcastMessage(\"update\")\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//settings modal\n\t\tconst settingsModalEl = document.getElementById(\"settingsModal\") as HTMLDivElement\n\t\tconst settingsTableBody = document.getElementById(\"settingsTableBody\") as HTMLTableSectionElement\n\n\t\tsettingsModalEl.addEventListener(\"show.bs.modal\", (event) => {\n\t\t\tthis.saveCurrentState(false)\n\t\t\tlet tabsObjectStoreRead = MainController.instance.db.transaction(\"tabs\").objectStore(\"tabs\")\n\n\t\t\ttabsObjectStoreRead.getAll().onsuccess = function (event) {\n\t\t\t\tsettingsTableBody.innerHTML = \"\"\n\n\t\t\t\tconst currentData = (event.target as IDBRequest).result as TabState[]\n\n\t\t\t\tlet totalSize = 0\n\n\t\t\t\tfor (let i = 0; i < currentData.length; i++) {\n\t\t\t\t\tconst tabData = currentData[i]\n\t\t\t\t\tlet row = settingsTableBody.appendChild(document.createElement(\"tr\"))\n\t\t\t\t\trow.classList.add(\"text-end\")\n\t\t\t\t\tlet cell1 = row.appendChild(document.createElement(\"td\"))\n\t\t\t\t\tcell1.innerText = tabData.designName || \"\" + i\n\t\t\t\t\tlet cell2 = row.appendChild(document.createElement(\"td\"))\n\t\t\t\t\tcell2.innerText = countComponents(tabData.data.components) + \"\"\n\t\t\t\t\tlet cell3 = row.appendChild(document.createElement(\"td\"))\n\t\t\t\t\tlet size = memorySizeOf(tabData.data)\n\t\t\t\t\ttotalSize += size\n\t\t\t\t\tcell3.innerText = sizeString(size)\n\t\t\t\t\tlet cell4 = row.appendChild(document.createElement(\"td\"))\n\t\t\t\t\tif (tabData.open == \"false\") {\n\t\t\t\t\t\tlet openButton = cell4.appendChild(document.createElement(\"button\"))\n\t\t\t\t\t\topenButton.classList.add(\"btn\", \"btn-primary\", \"me-2\")\n\t\t\t\t\t\topenButton.innerText = \"Open\"\n\t\t\t\t\t\topenButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\t\t// set the data in the object store to open\n\t\t\t\t\t\t\tlet allOpen = true\n\t\t\t\t\t\t\tfor (let index = 0; index < tabData.id; index++) {\n\t\t\t\t\t\t\t\t// current data will not be stale since the tab management gets updated immediately when something changes\n\t\t\t\t\t\t\t\tlet current = currentData.find((tab) => tab.id == index)\n\t\t\t\t\t\t\t\tif (current) {\n\t\t\t\t\t\t\t\t\tallOpen = allOpen && current.open == \"true\"\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tallOpen = false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (allOpen) {\n\t\t\t\t\t\t\t\t// if possible, don't use the tabID parameter\n\t\t\t\t\t\t\t\twindow.open(\".\", \"_blank\")\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twindow.open(\".?tabID=\" + tabData.id, \"_blank\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tlet deleteButton = cell4.appendChild(document.createElement(\"button\"))\n\t\t\t\t\t\tdeleteButton.classList.add(\"btn\", \"btn-danger\", \"material-symbols-outlined\")\n\t\t\t\t\t\tdeleteButton.innerText = \"delete\"\n\t\t\t\t\t\tdeleteButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\t\tlet tabsObjectStore = MainController.instance.db\n\t\t\t\t\t\t\t\t.transaction(\"tabs\", \"readwrite\")\n\t\t\t\t\t\t\t\t.objectStore(\"tabs\")\n\t\t\t\t\t\t\ttabsObjectStore.delete(tabData.id).onsuccess = function () {\n\t\t\t\t\t\t\t\tsettingsModalEl.dispatchEvent(new Event(\"show.bs.modal\"))\n\t\t\t\t\t\t\t\tMainController.instance.sendBroadcastMessage(\"update\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (tabData.id == MainController.instance.tabID) {\n\t\t\t\t\t\t\tlet infoButton = cell4.appendChild(document.createElement(\"button\"))\n\t\t\t\t\t\t\tinfoButton.classList.add(\"btn\")\n\t\t\t\t\t\t\tinfoButton.innerText = \"This tab\"\n\t\t\t\t\t\t\tinfoButton.disabled = true\n\t\t\t\t\t\t\tlet _ = [cell1, cell2, cell3, cell4].forEach((cell) => {\n\t\t\t\t\t\t\t\tcell.classList.add(\"bg-primary\")\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet closeButton = cell4.appendChild(document.createElement(\"button\"))\n\t\t\t\t\t\t\tcloseButton.classList.add(\"btn\", \"btn-primary\")\n\t\t\t\t\t\t\tcloseButton.innerText = \"Highlight tab\"\n\t\t\t\t\t\t\tcloseButton.addEventListener(\"click\", () => {\n\t\t\t\t\t\t\t\t// send a message to the broadcast channel to show the tab\n\t\t\t\t\t\t\t\tMainController.instance.sendBroadcastMessage(\"show\", tabData.id)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet row = settingsTableBody.appendChild(document.createElement(\"tr\"))\n\t\t\t\tlet cell1 = row.appendChild(document.createElement(\"td\"))\n\t\t\t\tcell1.colSpan = 4\n\t\t\t\tcell1.classList.add(\"text-center\")\n\t\t\t\tlet newTabButton = cell1.appendChild(document.createElement(\"button\"))\n\t\t\t\tnewTabButton.classList.add(\"btn\", \"btn-primary\")\n\t\t\t\tnewTabButton.innerText = \"New tab\"\n\t\t\t\tnewTabButton.addEventListener(\"click\", () => {\n\t\t\t\t\t// set the data in the object store to open\n\t\t\t\t\tlet requestedID = 0\n\t\t\t\t\tlet allOpen = true\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\t// continue until no tab is found\n\t\t\t\t\t\tlet tab = currentData.find((tab) => tab.id == requestedID)\n\n\t\t\t\t\t\tif (tab) {\n\t\t\t\t\t\t\trequestedID++\n\t\t\t\t\t\t\tallOpen = allOpen && tab.open == \"true\"\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (allOpen) {\n\t\t\t\t\t\t// if possible, don't use the tabID parameter\n\t\t\t\t\t\twindow.open(\".\", \"_blank\")\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.open(\".?tabID=\" + requestedID, \"_blank\")\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tdocument.getElementById(\"storageUsed\").innerHTML = sizeString(totalSize)\n\t\t\t}\n\t\t})\n\n\t\tdocument.getElementById(\"probeRefresh\").addEventListener(\"click\", () => {\n\t\t\t// set all open states in indexedDB to false, then send a probe message to all tabs\n\t\t\tlet tabsObjectStore = MainController.instance.db.transaction(\"tabs\", \"readwrite\").objectStore(\"tabs\")\n\t\t\ttabsObjectStore.getAll().onsuccess = function (event) {\n\t\t\t\tlet allTabs: TabState[] = (event.target as IDBRequest).result\n\n\t\t\t\tlet requests: IDBRequest[] = []\n\t\t\t\tfor (const tab of allTabs) {\n\t\t\t\t\tif (tab.id == MainController.instance.tabID) {\n\t\t\t\t\t\t// don't close this tab\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\t\t\t\t\tif (tab.open == \"true\") {\n\t\t\t\t\t\ttab.open = \"false\"\n\t\t\t\t\t\tif (tab.data.components.length > 0) {\n\t\t\t\t\t\t\trequests.push(tabsObjectStore.put(tab))\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// if no data is present, delete the entry (keeps the db clean)\n\t\t\t\t\t\t\trequests.push(tabsObjectStore.delete(tab.id))\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tPromise.all(\n\t\t\t\t\trequests.map(\n\t\t\t\t\t\t(r) =>\n\t\t\t\t\t\t\tnew Promise((res, rej) => {\n\t\t\t\t\t\t\t\tr.onsuccess = () => res(true)\n\t\t\t\t\t\t\t\tr.onerror = () => rej()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t).then(() => {\n\t\t\t\t\t// after all tabs are closed, send a probe message to all tabs\n\t\t\t\t\t// this will cause all open tabs to set their state to open=true again\n\t\t\t\t\tMainController.instance.sendBroadcastMessage(\"probe\")\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n\t\tconst favicon = document.getElementById(\"favicon\") as HTMLLinkElement\n\t\tconst faviconLink = favicon.href\n\t\tconst faviconAlternate = document.getElementById(\"faviconAlternate\") as HTMLLinkElement\n\t\tconst alternateLink = faviconAlternate.href\n\t\tfaviconAlternate.href = \" \"\n\t\tfaviconAlternate.disabled = true\n\n\t\tthis.broadcastChannel.onmessage = (event) => {\n\t\t\tconst msg = event.data as MessageData\n\n\t\t\tif (msg.type == \"show\") {\n\t\t\t\tconst tabID = parseInt(msg.payload) // get the tabID\n\t\t\t\tif (tabID == MainController.instance.tabID) {\n\t\t\t\t\tconst oldTitle = document.title\n\n\t\t\t\t\tlet darkMode = true\n\t\t\t\t\tconst switchFavicon = () => {\n\t\t\t\t\t\tif (darkMode) {\n\t\t\t\t\t\t\tfavicon.href = alternateLink\n\t\t\t\t\t\t\tdocument.title = \"Click here!\"\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfavicon.href = faviconLink\n\t\t\t\t\t\t\tdocument.title = oldTitle\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdarkMode = !darkMode\n\t\t\t\t\t}\n\t\t\t\t\tconst interval = setInterval(switchFavicon, 1100)\n\t\t\t\t\tswitchFavicon()\n\n\t\t\t\t\t// Stop flashing if tab becomes visible\n\t\t\t\t\tdocument.addEventListener(\"visibilitychange\", () => {\n\t\t\t\t\t\tif (!document.hidden) {\n\t\t\t\t\t\t\tclearInterval(interval)\n\t\t\t\t\t\t\tdarkMode = false\n\t\t\t\t\t\t\tswitchFavicon()\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else if (msg.type == \"update\") {\n\t\t\t\tif (settingsModalEl.classList.contains(\"show\")) {\n\t\t\t\t\tsettingsModalEl.dispatchEvent(new Event(\"show.bs.modal\"))\n\t\t\t\t}\n\t\t\t} else if (msg.type == \"clipboard\") {\n\t\t\t\tCopyPaste.setClipboard(msg.payload)\n\t\t\t} else if (msg.type == \"probe\") {\n\t\t\t\t// also respond with the orginal sender as the payload\n\t\t\t\tthis.sendBroadcastMessage(\"probe-response\", msg.from)\n\t\t\t} else if (msg.type == \"probe-response\") {\n\t\t\t\tif (msg.payload != this.tabID) {\n\t\t\t\t\t// only handle response if the orignal probe message came from this tab\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\t// set the indexedDB entry with tabID msg.tabID to open=true\n\t\t\t\tlet tabsObjectStore = MainController.instance.db.transaction(\"tabs\", \"readwrite\").objectStore(\"tabs\")\n\t\t\t\ttabsObjectStore.get(msg.from).onsuccess = function (event) {\n\t\t\t\t\tconst data = (event.target as IDBRequest).result as TabState\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tdata.open = \"true\"\n\t\t\t\t\t\ttabsObjectStore.put(data).onsuccess = function () {\n\t\t\t\t\t\t\tMainController.instance.sendBroadcastMessage(\"update\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t}\n\n\t\tfunction sizeString(size: number) {\n\t\t\tif (size < 1024) {\n\t\t\t\treturn size + \" B\"\n\t\t\t} else if (size < 1024 * 1024) {\n\t\t\t\treturn (size / 1024).toFixed(2) + \" KB\"\n\t\t\t} else if (size < 1024 * 1024 * 1024) {\n\t\t\t\treturn (size / (1024 * 1024)).toFixed(2) + \" MB\"\n\t\t\t} else {\n\t\t\t\treturn (size / (1024 * 1024 * 1024)).toFixed(2) + \" GB\"\n\t\t\t}\n\t\t}\n\n\t\tfunction countComponents(data: ComponentSaveObject[]) {\n\t\t\tlet count = 0\n\t\t\tfor (const component of data) {\n\t\t\t\tif (component.type == \"group\") {\n\t\t\t\t\tcount += countComponents((component as GroupSaveObject).components)\n\t\t\t\t}\n\t\t\t\tcount++\n\t\t\t}\n\t\t\treturn count\n\t\t}\n\t}\n\n\tpublic sendBroadcastMessage(type: string, payload?: any) {\n\t\tconst broadcastMessage: MessageData = {\n\t\t\ttype: type,\n\t\t\tfrom: this.tabID,\n\t\t}\n\t\tif (payload != undefined) {\n\t\t\tbroadcastMessage.payload = payload\n\t\t}\n\t\tthis.broadcastChannel.postMessage(broadcastMessage)\n\t}\n\n\tprivate saveCurrentState(closeTab = true) {\n\t\tUndo.addState()\n\t\tlet tabsObjectStore = MainController.instance.db.transaction(\"tabs\", \"readwrite\").objectStore(\"tabs\")\n\t\ttabsObjectStore.get(this.tabID).onsuccess = function (event) {\n\t\t\tconst data = (event.target as IDBRequest).result as TabState\n\t\t\tif (closeTab) {\n\t\t\t\tdata.open = \"false\"\n\t\t\t}\n\t\t\tdata.data.components = Undo.getCurrentState()\n\t\t\tdata.data.version = currentSaveVersion\n\t\t\tif (data.data.components.length > 0) {\n\t\t\t\tdata.settings.gridVisible = CanvasController.instance.gridVisible\n\t\t\t\tdata.settings.majorGridSizecm = CanvasController.instance.majorGridSizecm\n\t\t\t\tdata.settings.majorGridSubdivisions = CanvasController.instance.majorGridSubdivisions\n\t\t\t\tdata.settings.viewBox = CanvasController.instance.canvas.viewbox()\n\t\t\t\tdata.settings.viewZoom = CanvasController.instance.currentZoom\n\t\t\t\tdata.designName = MainController.instance.designName.value || undefined\n\t\t\t\ttabsObjectStore.put(data).onsuccess = function () {\n\t\t\t\t\tMainController.instance.sendBroadcastMessage(\"update\")\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (closeTab) {\n\t\t\t\t\t// if no data is present, delete the entry (keeps the db clean)\n\t\t\t\t\ttabsObjectStore.delete(MainController.instance.tabID).onsuccess = function () {\n\t\t\t\t\t\tMainController.instance.sendBroadcastMessage(\"update\")\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * initialises keyboard shortcuts\n\t */\n\tprivate initShortcuts() {\n\t\t// stop reload behaviour\n\t\thotkeys(\"ctrl+r,command+r\", () => false)\n\n\t\t// rotate selection\n\t\thotkeys(\"ctrl+r,command+r\", () => {\n\t\t\tif (this.mode == Modes.COMPONENT) {\n\t\t\t\tComponentPlacer.instance.placeRotate(-90)\n\t\t\t} else {\n\t\t\t\tif (SelectionController.instance.hasSelection()) {\n\t\t\t\t\tSelectionController.instance.rotateSelection(-90)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"ctrl+shift+r,command+shift+r\", () => {\n\t\t\tif (this.mode == Modes.COMPONENT) {\n\t\t\t\tComponentPlacer.instance.placeRotate(90)\n\t\t\t} else {\n\t\t\t\tif (SelectionController.instance.hasSelection()) {\n\t\t\t\t\tSelectionController.instance.rotateSelection(90)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t})\n\n\t\t//flip selection\n\t\thotkeys(\"shift+x\", () => {\n\t\t\tif (this.mode == Modes.COMPONENT) {\n\t\t\t\tComponentPlacer.instance.placeFlip(true)\n\t\t\t} else {\n\t\t\t\tif (SelectionController.instance.hasSelection()) {\n\t\t\t\t\tSelectionController.instance.flipSelection(true)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"shift+y\", () => {\n\t\t\tif (this.mode == Modes.COMPONENT) {\n\t\t\t\tComponentPlacer.instance.placeFlip(false)\n\t\t\t} else {\n\t\t\t\tif (SelectionController.instance.hasSelection()) {\n\t\t\t\t\tSelectionController.instance.flipSelection(false)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t})\n\n\t\t// select everything\n\t\thotkeys(\"ctrl+a,command+a\", () => {\n\t\t\tSelectionController.instance.selectAll()\n\t\t\treturn false\n\t\t})\n\n\t\t//undo/redo\n\t\thotkeys(\"ctrl+z,command+z\", () => {\n\t\t\tUndo.undo()\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"ctrl+y,command+y\", () => {\n\t\t\tUndo.redo()\n\t\t\treturn false\n\t\t})\n\t\tdocument.getElementById(\"undoButton\").addEventListener(\"click\", () => Undo.undo())\n\t\tdocument.getElementById(\"redoButton\").addEventListener(\"click\", () => Undo.redo())\n\n\t\t//copy/paste\n\t\thotkeys(\"ctrl+c,command+c\", () => {\n\t\t\tCopyPaste.copy()\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"ctrl+v,command+v\", () => {\n\t\t\tCopyPaste.paste()\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"ctrl+x,command+x\", () => {\n\t\t\tCopyPaste.cut()\n\t\t\treturn false\n\t\t})\n\n\t\t//save/load\n\t\thotkeys(\"ctrl+s,command+s\", () => {\n\t\t\tSaveController.instance.save()\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"ctrl+o,command+o\", () => {\n\t\t\tSaveController.instance.load()\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"ctrl+e,command+e\", () => {\n\t\t\tExportController.instance.exportCircuiTikZ()\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"ctrl+shift+e,command+shift+e\", () => {\n\t\t\tExportController.instance.exportSVG()\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"ctrl+shift+i,command+shift+i\", () => {\n\t\t\tExportController.instance.exportImage()\n\t\t\treturn false\n\t\t})\n\n\t\t// mode change\n\t\thotkeys(\"q\", () => {\n\t\t\tdocument.getElementById(\"addComponentButton\").dispatchEvent(new MouseEvent(\"click\"))\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"esc\", () => {\n\t\t\tthis.switchMode(Modes.DRAG_PAN)\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"w\", () => {\n\t\t\tthis.switchMode(Modes.DRAG_PAN)\n\t\t\tComponentPlacer.instance.placeComponent(new WireComponent())\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"del, backspace\", () => {\n\t\t\tif (!SelectionController.instance.hasSelection()) {\n\t\t\t\tthis.switchMode(Modes.ERASE)\n\t\t\t} else {\n\t\t\t\tSelectionController.instance.removeSelection()\n\t\t\t\tUndo.addState()\n\t\t\t}\n\t\t\treturn false\n\t\t})\n\t\thotkeys(\"t\", () => {\n\t\t\tthis.switchMode(Modes.DRAG_PAN)\n\t\t\tComponentPlacer.instance.placeComponent(new RectangleComponent(true))\n\t\t\treturn false\n\t\t})\n\n\t\t// handle shortcuts for adding components\n\t\t// shortcutDict maps the Shortcut key to the title attribute of the html element where the callback can be found\n\t\tvar shortcutDict: { shortcut: string; component: string }[] = [\n\t\t\t{ shortcut: \"g\", component: \"Ground\" },\n\t\t\t{ shortcut: \"alt+g,option+g\", component: \"Ground (tailless)\" },\n\t\t\t{ shortcut: \"r\", component: \"Resistor (american)\" },\n\t\t\t{ shortcut: \"c\", component: \"Capacitor\" },\n\t\t\t{ shortcut: \"alt+c,option+c\", component: \"Curved (polarized) capacitor\" },\n\t\t\t{ shortcut: \"l\", component: \"Inductor (cute)\" },\n\t\t\t{ shortcut: \"alt+l,option+l\", component: \"Inductor (american)\" },\n\t\t\t{ shortcut: \"d\", component: \"Empty diode\" },\n\t\t\t{ shortcut: \"b\", component: \"NPN\" },\n\t\t\t{ shortcut: \"alt+b,option+b\", component: \"PNP\" },\n\t\t\t{ shortcut: \"n\", component: \"NMOS\" },\n\t\t\t{ shortcut: \"alt+n,option+n\", component: \"PMOS\" },\n\t\t\t{ shortcut: \"x\", component: \"Plain style crossing node\" },\n\t\t\t{ shortcut: \"alt+x,option+x\", component: \"Jumper-style crossing node\" },\n\t\t\t{ shortcut: \".\", component: \"Connected terminal\" },\n\t\t\t{ shortcut: \"alt+.,option+.\", component: \"Unconnected terminal\" },\n\t\t]\n\t\t// when a valid shortcut button is pressed, simulate a click on the corresponding button for the component\n\t\tfor (const { shortcut, component } of shortcutDict) {\n\t\t\thotkeys(shortcut, () => {\n\t\t\t\tthis.switchMode(Modes.DRAG_PAN) //switch to standard mode to avoid weird states\n\t\t\t\tvar componentButton = document.querySelector('[title=\"' + component + '\"]')\n\t\t\t\tvar clickEvent = new MouseEvent(\"mouseup\", { view: window, bubbles: true, cancelable: true })\n\t\t\t\tcomponentButton?.dispatchEvent(clickEvent)\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Init the canvas controller\n\t */\n\tprivate async initCanvas() {\n\t\tlet canvasElement: SVGSVGElement = await waitForElementLoaded(\"canvas\")\n\t\tif (canvasElement) this.canvasController = new CanvasController(new SVG.Svg(canvasElement))\n\t}\n\n\t/**\n\t * Fetch & parse the symbol(s) svg.\n\t */\n\tprivate async initSymbolDB() {\n\t\t// Fetch symbol DB\n\t\tconst symbolDBlink: HTMLLinkElement = await waitForElementLoaded(\"symbolDBlink\")\n\t\tconst response = await fetch(symbolDBlink.href, {\n\t\t\tmethod: \"GET\",\n\t\t\t// must match symbolDBlink cors options in order to actually use the preloaded file\n\t\t\tmode: \"cors\",\n\t\t\tcredentials: \"same-origin\",\n\t\t})\n\t\tconst textContent = await response.text()\n\n\t\t// Parse & add to DOM\n\t\tconst symbolsDocument: XMLDocument = new DOMParser().parseFromString(textContent, \"image/svg+xml\")\n\t\tconst symbolsSVGSVGElement: SVGSVGElement = document.adoptNode(\n\t\t\tsymbolsDocument.firstElementChild as SVGSVGElement\n\t\t)\n\t\tsymbolsSVGSVGElement.style.display = \"none\"\n\t\tsymbolsSVGSVGElement.setAttribute(\"id\", \"symbolDB\")\n\t\tdocument.body.appendChild(symbolsSVGSVGElement)\n\n\t\t// Extract symbols\n\t\tthis.symbolsSVG = new SVG.Svg(symbolsSVGSVGElement)\n\t\tconst componentsMetadata = Array.from(this.symbolsSVG.node.getElementsByTagName(\"component\"))\n\n\t\tthis.symbols = componentsMetadata.flatMap((componentMetadata) => {\n\t\t\treturn new ComponentSymbol(componentMetadata)\n\t\t})\n\t}\n\n\t/**\n\t * Init the mode change buttons.\n\t */\n\tprivate initModeButtons() {\n\t\tthis.modeSwitchButtons.modeDragPan = document.getElementById(\"modeDragPan\")\n\t\tthis.modeSwitchButtons.modeDrawLine = document.getElementById(\"modeDrawLine\")\n\t\tthis.modeSwitchButtons.modeEraser = document.getElementById(\"modeEraser\")\n\n\t\tthis.modeSwitchButtons.modeDragPan.addEventListener(\"click\", () => this.switchMode(Modes.DRAG_PAN), {\n\t\t\tpassive: false,\n\t\t})\n\t\tthis.modeSwitchButtons.modeDrawLine.addEventListener(\n\t\t\t\"click\",\n\t\t\t() => {\n\t\t\t\tthis.switchMode(Modes.DRAG_PAN)\n\t\t\t\tthis.modeSwitchButtons.modeDrawLine.classList.add(\"selected\")\n\t\t\t\tComponentPlacer.instance.placeComponent(new WireComponent())\n\t\t\t},\n\t\t\t{ passive: false }\n\t\t)\n\t\tthis.modeSwitchButtons.modeEraser.addEventListener(\"click\", () => this.switchMode(Modes.ERASE), {\n\t\t\tpassive: false,\n\t\t})\n\t}\n\n\tprivate addShapeComponentsToOffcanvas(leftOffcanvasAccordion: HTMLDivElement, leftOffcanvasOC: Offcanvas) {\n\t\t// Add shapes accordion area\n\t\tlet groupName = \"Basic\"\n\t\tconst collapseGroupID = \"collapseGroup-\" + groupName.replace(/[^\\d\\w\\-\\_]+/gi, \"-\")\n\n\t\tconst accordionGroup = leftOffcanvasAccordion.appendChild(document.createElement(\"div\"))\n\t\taccordionGroup.classList.add(\"accordion-item\")\n\n\t\tconst accordionItemHeader = accordionGroup.appendChild(document.createElement(\"h2\"))\n\t\taccordionItemHeader.classList.add(\"accordion-header\")\n\n\t\tconst accordionItemButton = accordionItemHeader.appendChild(document.createElement(\"button\"))\n\t\taccordionItemButton.classList.add(\"accordion-button\")\n\t\taccordionItemButton.innerText = groupName\n\t\taccordionItemButton.setAttribute(\"aria-controls\", collapseGroupID)\n\t\taccordionItemButton.setAttribute(\"aria-expanded\", \"true\")\n\t\taccordionItemButton.setAttribute(\"data-bs-target\", \"#\" + collapseGroupID)\n\t\taccordionItemButton.setAttribute(\"data-bs-toggle\", \"collapse\")\n\t\taccordionItemButton.type = \"button\"\n\n\t\tconst accordionItemCollapse = accordionGroup.appendChild(document.createElement(\"div\"))\n\t\taccordionItemCollapse.classList.add(\"accordion-collapse\", \"collapse\", \"show\")\n\t\taccordionItemCollapse.id = collapseGroupID\n\t\taccordionItemCollapse.setAttribute(\"data-bs-parent\", \"#leftOffcanvasAccordion\")\n\n\t\tconst accordionItemBody = accordionItemCollapse.appendChild(document.createElement(\"div\"))\n\t\taccordionItemBody.classList.add(\"accordion-body\", \"iconLibAccordionBody\")\n\n\t\t//Add Text\n\t\t{\n\t\t\tconst addButton: HTMLDivElement = accordionItemBody.appendChild(document.createElement(\"div\"))\n\t\t\taddButton.classList.add(\"libComponent\")\n\t\t\taddButton.setAttribute(\"searchData\", \"text node\")\n\t\t\taddButton.ariaRoleDescription = \"button\"\n\t\t\taddButton.title = \"Text\"\n\n\t\t\tconst listener = (ev: MouseEvent) => {\n\t\t\t\tev.preventDefault()\n\n\t\t\t\tthis.switchMode(Modes.DRAG_PAN)\n\t\t\t\tlet newComponent = new RectangleComponent(true)\n\t\t\t\tComponentPlacer.instance.placeComponent(newComponent)\n\n\t\t\t\tleftOffcanvasOC.hide()\n\t\t\t}\n\n\t\t\taddButton.addEventListener(\"mouseup\", listener)\n\t\t\taddButton.addEventListener(\"touchstart\", listener, { passive: false })\n\n\t\t\tlet svgIcon = SVG.SVG().addTo(addButton)\n\t\t\tsvgIcon.viewbox(-1, -14, 30, 15)\n\t\t\tsvgIcon.text((add) => {\n\t\t\t\tadd.tspan(\"Text\").fill({ color: defaultStroke })\n\t\t\t})\n\t\t}\n\n\t\t//Add rectangle\n\t\t{\n\t\t\tconst addButton: HTMLDivElement = accordionItemBody.appendChild(document.createElement(\"div\"))\n\t\t\taddButton.classList.add(\"libComponent\")\n\t\t\taddButton.setAttribute(\"searchData\", \"rect rectangle node\")\n\t\t\taddButton.ariaRoleDescription = \"button\"\n\t\t\taddButton.title = \"Rectangle/Text\"\n\n\t\t\tconst listener = (ev: MouseEvent) => {\n\t\t\t\tev.preventDefault()\n\n\t\t\t\tthis.switchMode(Modes.DRAG_PAN)\n\t\t\t\tlet newComponent = new RectangleComponent(false)\n\t\t\t\tComponentPlacer.instance.placeComponent(newComponent)\n\n\t\t\t\tleftOffcanvasOC.hide()\n\t\t\t}\n\n\t\t\taddButton.addEventListener(\"mouseup\", listener)\n\t\t\taddButton.addEventListener(\"touchstart\", listener, { passive: false })\n\n\t\t\tlet svgIcon = SVG.SVG().addTo(addButton)\n\t\t\tsvgIcon.viewbox(0, 0, 17, 12)\n\t\t\tsvgIcon.rect(15, 10).move(1, 1).fill(\"none\").stroke({\n\t\t\t\tcolor: defaultStroke,\n\t\t\t\twidth: 1,\n\t\t\t})\n\t\t}\n\t\t//Add Ellipse\n\t\t{\n\t\t\tconst addButton: HTMLDivElement = accordionItemBody.appendChild(document.createElement(\"div\"))\n\t\t\taddButton.classList.add(\"libComponent\")\n\t\t\taddButton.setAttribute(\"searchData\", \"ellipse circle node\")\n\t\t\taddButton.ariaRoleDescription = \"button\"\n\t\t\taddButton.title = \"Ellipse\"\n\n\t\t\tconst listener = (ev: MouseEvent) => {\n\t\t\t\tev.preventDefault()\n\t\t\t\tthis.switchMode(Modes.COMPONENT)\n\n\t\t\t\tif (ComponentPlacer.instance.component) {\n\t\t\t\t\tComponentPlacer.instance.placeCancel()\n\t\t\t\t}\n\n\t\t\t\tlet newComponent = new EllipseComponent()\n\t\t\t\tComponentPlacer.instance.placeComponent(newComponent)\n\n\t\t\t\tleftOffcanvasOC.hide()\n\t\t\t}\n\n\t\t\taddButton.addEventListener(\"mouseup\", listener)\n\t\t\taddButton.addEventListener(\"touchstart\", listener, { passive: false })\n\n\t\t\tlet svgIcon = SVG.SVG().addTo(addButton)\n\t\t\tsvgIcon.viewbox(0, 0, 17, 12)\n\t\t\tsvgIcon.ellipse(15, 10).move(1, 1).fill(\"none\").stroke({\n\t\t\t\tcolor: defaultStroke,\n\t\t\t\twidth: 1,\n\t\t\t})\n\t\t}\n\n\t\t//Add Polygon\n\t\t{\n\t\t\tconst addButton: HTMLDivElement = accordionItemBody.appendChild(document.createElement(\"div\"))\n\t\t\taddButton.classList.add(\"libComponent\")\n\t\t\taddButton.setAttribute(\"searchData\", \"polygon path\")\n\t\t\taddButton.ariaRoleDescription = \"button\"\n\t\t\taddButton.title = \"Polygon\"\n\n\t\t\tconst listener = (ev: MouseEvent) => {\n\t\t\t\tev.preventDefault()\n\t\t\t\tthis.switchMode(Modes.COMPONENT)\n\n\t\t\t\tif (ComponentPlacer.instance.component) {\n\t\t\t\t\tComponentPlacer.instance.placeCancel()\n\t\t\t\t}\n\n\t\t\t\tlet newComponent = new PolygonComponent()\n\t\t\t\tComponentPlacer.instance.placeComponent(newComponent)\n\n\t\t\t\tleftOffcanvasOC.hide()\n\t\t\t}\n\n\t\t\taddButton.addEventListener(\"mouseup\", listener)\n\t\t\taddButton.addEventListener(\"touchstart\", listener, { passive: false })\n\n\t\t\tlet svgIcon = SVG.SVG().addTo(addButton)\n\t\t\tsvgIcon.viewbox(0, 0, 17, 12)\n\t\t\tsvgIcon\n\t\t\t\t.polygon([\n\t\t\t\t\t[1, 1],\n\t\t\t\t\t[16, 1],\n\t\t\t\t\t[15, 11],\n\t\t\t\t\t[11, 9],\n\t\t\t\t\t[5, 11],\n\t\t\t\t])\n\t\t\t\t.fill(\"none\")\n\t\t\t\t.stroke({\n\t\t\t\t\tcolor: defaultStroke,\n\t\t\t\t\twidth: 1,\n\t\t\t\t})\n\t\t}\n\n\t\t//Add straight line\n\t\t{\n\t\t\tconst addButton: HTMLDivElement = accordionItemBody.appendChild(document.createElement(\"div\"))\n\t\t\taddButton.classList.add(\"libComponent\")\n\t\t\taddButton.setAttribute(\"searchData\", \"straight line path\")\n\t\t\taddButton.ariaRoleDescription = \"button\"\n\t\t\taddButton.title = \"Straight line\"\n\n\t\t\tconst listener = (ev: MouseEvent) => {\n\t\t\t\tev.preventDefault()\n\n\t\t\t\tthis.switchMode(Modes.DRAG_PAN)\n\t\t\t\tlet newComponent = new WireComponent(true)\n\t\t\t\tComponentPlacer.instance.placeComponent(newComponent)\n\n\t\t\t\tleftOffcanvasOC.hide()\n\t\t\t}\n\n\t\t\taddButton.addEventListener(\"mouseup\", listener)\n\t\t\taddButton.addEventListener(\"touchstart\", listener, { passive: false })\n\n\t\t\tlet svgIcon = SVG.SVG().addTo(addButton)\n\t\t\tsvgIcon.viewbox(0, 0, 17, 12)\n\t\t\tsvgIcon.line(2, 10, 15, 2).stroke({ color: defaultStroke, width: 1, opacity: 1 })\n\t\t}\n\n\t\t//Add straight arrow\n\t\t{\n\t\t\tconst addButton: HTMLDivElement = accordionItemBody.appendChild(document.createElement(\"div\"))\n\t\t\taddButton.classList.add(\"libComponent\")\n\t\t\taddButton.setAttribute(\"searchData\", \"straight arrow path\")\n\t\t\taddButton.ariaRoleDescription = \"button\"\n\t\t\taddButton.title = \"Straight arrow\"\n\n\t\t\tconst listener = (ev: MouseEvent) => {\n\t\t\t\tev.preventDefault()\n\n\t\t\t\tthis.switchMode(Modes.DRAG_PAN)\n\t\t\t\tlet newComponent = new WireComponent(true, true)\n\t\t\t\tComponentPlacer.instance.placeComponent(newComponent)\n\n\t\t\t\tleftOffcanvasOC.hide()\n\t\t\t}\n\n\t\t\taddButton.addEventListener(\"mouseup\", listener)\n\t\t\taddButton.addEventListener(\"touchstart\", listener, { passive: false })\n\n\t\t\tlet svgIcon = SVG.SVG().addTo(addButton)\n\t\t\tsvgIcon.viewbox(-1, -1, 12, 6)\n\t\t\tsvgIcon\n\t\t\t\t.polygon([\n\t\t\t\t\t[6, 0],\n\t\t\t\t\t[10, 2],\n\t\t\t\t\t[6, 4],\n\t\t\t\t\t[6, 2.2],\n\t\t\t\t\t[0, 2.2],\n\t\t\t\t\t[0, 1.8],\n\t\t\t\t\t[6, 1.8],\n\t\t\t\t])\n\t\t\t\t.rotate(-30, 5, 2)\n\t\t\t\t.fill({ color: defaultStroke })\n\t\t}\n\n\t\t//Add arrow\n\t\t{\n\t\t\tconst addButton: HTMLDivElement = accordionItemBody.appendChild(document.createElement(\"div\"))\n\t\t\taddButton.classList.add(\"libComponent\")\n\t\t\taddButton.setAttribute(\"searchData\", \"arrow path\")\n\t\t\taddButton.ariaRoleDescription = \"button\"\n\t\t\taddButton.title = \"Arrow\"\n\n\t\t\tconst listener = (ev: MouseEvent) => {\n\t\t\t\tev.preventDefault()\n\n\t\t\t\tthis.switchMode(Modes.DRAG_PAN)\n\t\t\t\tlet newComponent = new WireComponent(false, true)\n\t\t\t\tComponentPlacer.instance.placeComponent(newComponent)\n\n\t\t\t\tleftOffcanvasOC.hide()\n\t\t\t}\n\n\t\t\taddButton.addEventListener(\"mouseup\", listener)\n\t\t\taddButton.addEventListener(\"touchstart\", listener, { passive: false })\n\n\t\t\tlet svgIcon = SVG.SVG().addTo(addButton)\n\t\t\tsvgIcon.viewbox(-1, -2, 12, 8)\n\t\t\tsvgIcon\n\t\t\t\t.polyline([\n\t\t\t\t\t[0, 5],\n\t\t\t\t\t[5, 5],\n\t\t\t\t\t[5, 0],\n\t\t\t\t\t[9.1, 0],\n\t\t\t\t])\n\t\t\t\t.stroke({ color: defaultStroke, width: 0.5 })\n\t\t\t\t.fill(\"none\")\n\t\t\tsvgIcon\n\t\t\t\t.polygon([\n\t\t\t\t\t[9, -1],\n\t\t\t\t\t[10.5, 0],\n\t\t\t\t\t[9, 1],\n\t\t\t\t])\n\t\t\t\t.fill({ color: defaultStroke })\n\t\t}\n\t}\n\n\t/**\n\t * Init the left add offcanvas.\n\t */\n\tprivate async initAddComponentOffcanvas() {\n\t\tconst leftOffcanvas: HTMLDivElement = document.getElementById(\"leftOffcanvas\") as HTMLDivElement\n\t\tconst leftOffcanvasOC = new Offcanvas(leftOffcanvas)\n\t\tdocument.getElementById(\"componentFilterInput\").addEventListener(\"input\", this.filterComponents)\n\t\tdocument.getElementById(\"filterRegexButton\").addEventListener(\"click\", this.filterComponents)\n\n\t\tconst addComponentButton: HTMLAnchorElement = document.getElementById(\"addComponentButton\") as HTMLAnchorElement\n\t\taddComponentButton.addEventListener(\n\t\t\t\"click\",\n\t\t\t((ev: PointerEvent) => {\n\t\t\t\tthis.switchMode(Modes.DRAG_PAN)\n\t\t\t\tleftOffcanvasOC.toggle()\n\t\t\t\tif (leftOffcanvas.classList.contains(\"showing\") && ev.pointerType !== \"touch\") {\n\t\t\t\t\tlet searchBar = document.getElementById(\"componentFilterInput\")\n\t\t\t\t\tconst refocus = () => {\n\t\t\t\t\t\tsearchBar.focus()\n\t\t\t\t\t\tleftOffcanvas.removeEventListener(\"shown.bs.offcanvas\", refocus)\n\t\t\t\t\t}\n\t\t\t\t\trefocus()\n\t\t\t\t\tleftOffcanvas.addEventListener(\"shown.bs.offcanvas\", refocus)\n\t\t\t\t}\n\t\t\t}).bind(this),\n\t\t\t{ passive: true }\n\t\t)\n\t\tconst leftOffcanvasAccordion: HTMLDivElement = document.getElementById(\n\t\t\t\"leftOffcanvasAccordion\"\n\t\t) as HTMLDivElement\n\n\t\tconst groupedSymbols: Map<string, ComponentSymbol[]> = this.symbols.reduce(\n\t\t\t(\n\t\t\t\tgroupedSymbols: Map<string, ComponentSymbol[]>,\n\t\t\t\tsymbol: ComponentSymbol\n\t\t\t): Map<string, ComponentSymbol[]> => {\n\t\t\t\tconst key = symbol.groupName || \"Unsorted components\"\n\t\t\t\tlet group = groupedSymbols.get(key)\n\t\t\t\tif (group) group.push(symbol)\n\t\t\t\telse groupedSymbols.set(key, [symbol])\n\t\t\t\treturn groupedSymbols\n\t\t\t},\n\t\t\tnew Map()\n\t\t)\n\n\t\tthis.addShapeComponentsToOffcanvas(leftOffcanvasAccordion, leftOffcanvasOC)\n\n\t\tfor (const [groupName, symbols] of groupedSymbols.entries()) {\n\t\t\tconst collapseGroupID = \"collapseGroup-\" + groupName.replace(/[^\\d\\w\\-\\_]+/gi, \"-\")\n\n\t\t\tconst accordionGroup = leftOffcanvasAccordion.appendChild(document.createElement(\"div\"))\n\t\t\taccordionGroup.classList.add(\"accordion-item\")\n\n\t\t\tconst accordionItemHeader = accordionGroup.appendChild(document.createElement(\"h2\"))\n\t\t\taccordionItemHeader.classList.add(\"accordion-header\")\n\n\t\t\tconst accordionItemButton = accordionItemHeader.appendChild(document.createElement(\"button\"))\n\t\t\taccordionItemButton.classList.add(\"accordion-button\", \"collapsed\")\n\t\t\taccordionItemButton.innerText = groupName\n\t\t\taccordionItemButton.setAttribute(\"aria-controls\", collapseGroupID)\n\t\t\taccordionItemButton.setAttribute(\"aria-expanded\", \"false\")\n\t\t\taccordionItemButton.setAttribute(\"data-bs-target\", \"#\" + collapseGroupID)\n\t\t\taccordionItemButton.setAttribute(\"data-bs-toggle\", \"collapse\")\n\t\t\taccordionItemButton.type = \"button\"\n\n\t\t\tconst accordionItemCollapse = accordionGroup.appendChild(document.createElement(\"div\"))\n\t\t\taccordionItemCollapse.classList.add(\"accordion-collapse\", \"collapse\")\n\t\t\taccordionItemCollapse.id = collapseGroupID\n\t\t\taccordionItemCollapse.setAttribute(\"data-bs-parent\", \"#leftOffcanvasAccordion\")\n\n\t\t\tconst accordionItemBody = accordionItemCollapse.appendChild(document.createElement(\"div\"))\n\t\t\taccordionItemBody.classList.add(\"accordion-body\", \"iconLibAccordionBody\")\n\n\t\t\tfor (const symbol of symbols) {\n\t\t\t\tconst addButton: HTMLDivElement = accordionItemBody.appendChild(document.createElement(\"div\"))\n\t\t\t\taddButton.classList.add(\"libComponent\")\n\t\t\t\taddButton.setAttribute(\n\t\t\t\t\t\"searchData\",\n\t\t\t\t\t[symbol.tikzName, symbol.isNodeSymbol ? \"node\" : \"path\"]\n\t\t\t\t\t\t.concat(\n\t\t\t\t\t\t\tsymbol.possibleOptions\n\t\t\t\t\t\t\t\t.map((option) => option.displayName ?? option.name)\n\t\t\t\t\t\t\t\t.concat(\n\t\t\t\t\t\t\t\t\tsymbol.possibleEnumOptions.flatMap((enumOption) =>\n\t\t\t\t\t\t\t\t\t\tenumOption.options.map((option) => option.displayName ?? option.name)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.join(\" \")\n\t\t\t\t)\n\t\t\t\taddButton.ariaRoleDescription = \"button\"\n\t\t\t\taddButton.title = symbol.displayName || symbol.tikzName\n\n\t\t\t\tconst listener = (ev: MouseEvent) => {\n\t\t\t\t\tev.preventDefault()\n\t\t\t\t\tthis.switchMode(Modes.COMPONENT)\n\n\t\t\t\t\tif (ComponentPlacer.instance.component) {\n\t\t\t\t\t\tComponentPlacer.instance.placeCancel()\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newComponent: CircuitComponent\n\t\t\t\t\tif (symbol.isNodeSymbol) {\n\t\t\t\t\t\tnewComponent = new NodeSymbolComponent(symbol)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewComponent = new PathSymbolComponent(symbol)\n\t\t\t\t\t}\n\t\t\t\t\tComponentPlacer.instance.placeComponent(newComponent)\n\n\t\t\t\t\tleftOffcanvasOC.hide()\n\t\t\t\t}\n\n\t\t\t\taddButton.addEventListener(\"mouseup\", listener)\n\t\t\t\taddButton.addEventListener(\"touchstart\", listener, { passive: false })\n\n\t\t\t\tlet svgIcon = SVG.SVG().addTo(addButton)\n\n\t\t\t\tlet viewBox = new SVG.Box(symbol._mapping.values().toArray()[0].viewBox)\n\n\t\t\t\t//oversize viewbox due to stroke widths\n\t\t\t\tviewBox.width += symbol.maxStroke\n\t\t\t\tviewBox.height += symbol.maxStroke\n\t\t\t\tviewBox.x -= symbol.maxStroke / 2\n\t\t\t\tviewBox.y -= symbol.maxStroke / 2\n\n\t\t\t\t// svg icon should have new size\n\t\t\t\tsvgIcon.viewbox(viewBox).width(viewBox.width).height(viewBox.height)\n\n\t\t\t\tlet use = svgIcon.use(symbol.symbolElement.id())\n\t\t\t\tuse.width(symbol.viewBox.width).height(symbol.viewBox.height) // use should have original size values\n\t\t\t\tuse.stroke(defaultStroke).fill(defaultFill).node.style.color = defaultStroke\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * filter the components in the left OffCanvas to only show what matches the search string (in a new accordeon item)\n\t */\n\tprivate filterComponents(evt: Event) {\n\t\tevt.preventDefault()\n\t\tevt.stopPropagation()\n\n\t\tconst element = document.getElementById(\"componentFilterInput\") as HTMLInputElement\n\t\tconst feedbacktext = document.getElementById(\"invalid-feedback-text\")\n\t\tconst filterWithRegex = document.getElementById(\"filterRegexButton\").classList.contains(\"active\")\n\n\t\tlet text = element.value\n\t\tlet regex = null\n\t\tif (filterWithRegex) {\n\t\t\tregex = new RegExp(text, \"i\")\n\t\t\telement.classList.remove(\"is-invalid\")\n\t\t\tfeedbacktext.classList.add(\"d-none\")\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tregex = new RegExp(\".*\" + text.split(\"\").join(\".*\") + \".*\", \"i\")\n\t\t\t\telement.classList.remove(\"is-invalid\")\n\t\t\t\tfeedbacktext.classList.add(\"d-none\")\n\t\t\t} catch (e) {\n\t\t\t\ttext = \"\"\n\t\t\t\tregex = new RegExp(text, \"i\")\n\t\t\t\telement.classList.add(\"is-invalid\")\n\t\t\t\tfeedbacktext.classList.remove(\"d-none\")\n\t\t\t}\n\t\t}\n\n\t\tconst accordion = document.getElementById(\"leftOffcanvasAccordion\")\n\n\t\tconst accordionItems = accordion.getElementsByClassName(\"accordion-item\")\n\t\tArray.prototype.forEach.call(accordionItems, (accordionItem: HTMLDivElement, index: number) => {\n\t\t\tconst libComponents = accordionItem.getElementsByClassName(\"libComponent\")\n\t\t\tlet showCount = 0\n\t\t\tArray.prototype.forEach.call(libComponents, (libComponent: HTMLDivElement) => {\n\t\t\t\tif (text) {\n\t\t\t\t\tif (!(regex.test(libComponent.title) || regex.test(libComponent.getAttribute(\"searchData\")))) {\n\t\t\t\t\t\tlibComponent.classList.add(\"d-none\")\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlibComponent.classList.remove(\"d-none\")\n\t\t\t\tshowCount++\n\t\t\t})\n\t\t\tif (showCount === 0) {\n\t\t\t\taccordionItem.classList.add(\"d-none\")\n\t\t\t} else {\n\t\t\t\taccordionItem.classList.remove(\"d-none\")\n\t\t\t}\n\n\t\t\tif (text) {\n\t\t\t\taccordionItem.children[0]?.children[0]?.classList.remove(\"collapsed\")\n\t\t\t\taccordionItem.children[1]?.classList.add(\"show\")\n\t\t\t} else {\n\t\t\t\taccordionItem.children[0]?.children[0]?.classList.add(\"collapsed\")\n\t\t\t\taccordionItem.children[1]?.classList.remove(\"show\")\n\t\t\t}\n\n\t\t\tif (index === 0) {\n\t\t\t\taccordionItem.children[0]?.children[0]?.classList.remove(\"collapsed\")\n\t\t\t\taccordionItem.children[1]?.classList.add(\"show\")\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * Switches the mode. This deactivates the old controller and activates the new one.\n\t */\n\tpublic switchMode(newMode: Modes) {\n\t\tif (newMode == this.mode) return\n\t\tlet oldMode = this.mode\n\t\tthis.mode = newMode\n\n\t\tswitch (oldMode) {\n\t\t\tcase Modes.DRAG_PAN:\n\t\t\t\tthis.modeSwitchButtons.modeDragPan.classList.remove(\"selected\")\n\t\t\t\tCanvasController.instance.deactivatePanning()\n\t\t\t\tSelectionController.instance.deactivateSelection()\n\t\t\t\tbreak\n\t\t\tcase Modes.ERASE:\n\t\t\t\tthis.modeSwitchButtons.modeEraser.classList.remove(\"selected\")\n\t\t\t\tEraseController.instance.deactivate()\n\t\t\t\tbreak\n\t\t\tcase Modes.COMPONENT:\n\t\t\t\tthis.modeSwitchButtons.modeDragPan.classList.remove(\"selected\")\n\t\t\t\tthis.modeSwitchButtons.modeDrawLine.classList.remove(\"selected\")\n\t\t\t\tComponentPlacer.instance.placeCancel()\n\t\t\t\tCanvasController.instance.deactivatePanning()\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t}\n\n\t\tswitch (newMode) {\n\t\t\tcase Modes.DRAG_PAN:\n\t\t\t\tthis.modeSwitchButtons.modeDragPan.classList.add(\"selected\")\n\t\t\t\tCanvasController.instance.activatePanning()\n\t\t\t\tSelectionController.instance.activateSelection()\n\t\t\t\tbreak\n\t\t\tcase Modes.ERASE:\n\t\t\t\tthis.modeSwitchButtons.modeEraser.classList.add(\"selected\")\n\t\t\t\tEraseController.instance.activate()\n\t\t\t\tbreak\n\t\t\tcase Modes.COMPONENT:\n\t\t\t\tthis.modeSwitchButtons.modeDragPan.classList.add(\"selected\")\n\t\t\t\tCanvasController.instance.activatePanning()\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\tpublic updateTheme() {\n\t\tif (this.darkModeLast == this.darkMode) {\n\t\t\treturn\n\t\t}\n\n\t\tfor (const instance of this.circuitComponents) {\n\t\t\tinstance.updateTheme()\n\t\t}\n\n\t\tthis.darkModeLast = this.darkMode\n\t}\n\n\t/**\n\t * add missing fill attributes to all symbol db entries where fill is undefined --> needs explicit setting, otherwise the color theme change does strange things.\n\t * called once on initialization\n\t * @param {Element} node\n\t */\n\tprivate preprocessSymbolColors(node: Element) {\n\t\tlet elementsWithFill = node.querySelectorAll(\"[fill]\")\n\t\tlet elementsWithStroke = node.querySelectorAll(\"[stroke]\")\n\n\t\t//this group\n\t\tlet currentFill = node.getAttribute(\"fill\")\n\t\tif (currentFill == \"#fff\") {\n\t\t\tnode.setAttribute(\"fill\", \"currentFill\")\n\t\t}\n\t\tlet currentStroke = node.getAttribute(\"stroke\")\n\t\tif (currentStroke == \"#000\") {\n\t\t\tnode.setAttribute(\"stroke\", \"currentStroke\")\n\t\t}\n\n\t\tfor (const element of elementsWithFill) {\n\t\t\tlet currentFill = element.getAttribute(\"fill\")\n\n\t\t\tif (currentFill == \"#fff\") {\n\t\t\t\telement.setAttribute(\"fill\", \"currentFill\")\n\t\t\t}\n\t\t}\n\n\t\tfor (const element of elementsWithStroke) {\n\t\t\tlet currentStroke = element.getAttribute(\"stroke\")\n\n\t\t\tif (currentStroke == \"#000\") {\n\t\t\t\telement.setAttribute(\"stroke\", \"currentStroke\")\n\t\t\t}\n\t\t}\n\n\t\tthis.addFill(node)\n\t}\n\n\tprivate addFill(node: Element) {\n\t\tlet hasFill = node.getAttribute(\"fill\") !== null\n\t\tif (hasFill) {\n\t\t\treturn\n\t\t}\n\t\tfor (const element of node.children) {\n\t\t\tif (element.nodeName === \"g\") {\n\t\t\t\tthis.addFill(element)\n\t\t\t} else {\n\t\t\t\tif (!element.getAttribute(\"fill\")) {\n\t\t\t\t\telement.setAttribute(\"fill\", \"currentColor\")\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adds a new instance to {@link circuitComponents} and adds its snapping points.\n\t */\n\tpublic addComponent(circuitComponent: CircuitComponent) {\n\t\tthis.circuitComponents.push(circuitComponent)\n\t}\n\n\t/**\n\t * Removes an instance from {@link instances} and also removes its snapping points.\n\t */\n\tpublic removeComponent(circuitComponent: CircuitComponent) {\n\t\tconst idx = this.circuitComponents.indexOf(circuitComponent)\n\t\tif (idx > -1) {\n\t\t\tthis.circuitComponents.splice(idx, 1)\n\t\t\tcircuitComponent.remove()\n\t\t}\n\t}\n}\n",null,"const methods = {}\nconst names = []\n\nexport function registerMethods(name, m) {\n  if (Array.isArray(name)) {\n    for (const _name of name) {\n      registerMethods(_name, m)\n    }\n    return\n  }\n\n  if (typeof name === 'object') {\n    for (const _name in name) {\n      registerMethods(_name, name[_name])\n    }\n    return\n  }\n\n  addMethodNames(Object.getOwnPropertyNames(m))\n  methods[name] = Object.assign(methods[name] || {}, m)\n}\n\nexport function getMethodsFor(name) {\n  return methods[name] || {}\n}\n\nexport function getMethodNames() {\n  return [...new Set(names)]\n}\n\nexport function addMethodNames(_names) {\n  names.push(..._names)\n}\n","// Map function\nexport function map(array, block) {\n  let i\n  const il = array.length\n  const result = []\n\n  for (i = 0; i < il; i++) {\n    result.push(block(array[i]))\n  }\n\n  return result\n}\n\n// Filter function\nexport function filter(array, block) {\n  let i\n  const il = array.length\n  const result = []\n\n  for (i = 0; i < il; i++) {\n    if (block(array[i])) {\n      result.push(array[i])\n    }\n  }\n\n  return result\n}\n\n// Degrees to radians\nexport function radians(d) {\n  return ((d % 360) * Math.PI) / 180\n}\n\n// Radians to degrees\nexport function degrees(r) {\n  return ((r * 180) / Math.PI) % 360\n}\n\n// Convert camel cased string to dash separated\nexport function unCamelCase(s) {\n  return s.replace(/([A-Z])/g, function (m, g) {\n    return '-' + g.toLowerCase()\n  })\n}\n\n// Capitalize first letter of a string\nexport function capitalize(s) {\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\n// Calculate proportional width and height values when necessary\nexport function proportionalSize(element, width, height, box) {\n  if (width == null || height == null) {\n    box = box || element.bbox()\n\n    if (width == null) {\n      width = (box.width / box.height) * height\n    } else if (height == null) {\n      height = (box.height / box.width) * width\n    }\n  }\n\n  return {\n    width: width,\n    height: height\n  }\n}\n\n/**\n * This function adds support for string origins.\n * It searches for an origin in o.origin o.ox and o.originX.\n * This way, origin: {x: 'center', y: 50} can be passed as well as ox: 'center', oy: 50\n **/\nexport function getOrigin(o, element) {\n  const origin = o.origin\n  // First check if origin is in ox or originX\n  let ox = o.ox != null ? o.ox : o.originX != null ? o.originX : 'center'\n  let oy = o.oy != null ? o.oy : o.originY != null ? o.originY : 'center'\n\n  // Then check if origin was used and overwrite in that case\n  if (origin != null) {\n    ;[ox, oy] = Array.isArray(origin)\n      ? origin\n      : typeof origin === 'object'\n        ? [origin.x, origin.y]\n        : [origin, origin]\n  }\n\n  // Make sure to only call bbox when actually needed\n  const condX = typeof ox === 'string'\n  const condY = typeof oy === 'string'\n  if (condX || condY) {\n    const { height, width, x, y } = element.bbox()\n\n    // And only overwrite if string was passed for this specific axis\n    if (condX) {\n      ox = ox.includes('left')\n        ? x\n        : ox.includes('right')\n          ? x + width\n          : x + width / 2\n    }\n\n    if (condY) {\n      oy = oy.includes('top')\n        ? y\n        : oy.includes('bottom')\n          ? y + height\n          : y + height / 2\n    }\n  }\n\n  // Return the origin as it is if it wasn't a string\n  return [ox, oy]\n}\n\nconst descriptiveElements = new Set(['desc', 'metadata', 'title'])\nexport const isDescriptive = (element) =>\n  descriptiveElements.has(element.nodeName)\n\nexport const writeDataToDom = (element, data, defaults = {}) => {\n  const cloned = { ...data }\n\n  for (const key in cloned) {\n    if (cloned[key].valueOf() === defaults[key]) {\n      delete cloned[key]\n    }\n  }\n\n  if (Object.keys(cloned).length) {\n    element.node.setAttribute('data-svgjs', JSON.stringify(cloned)) // see #428\n  } else {\n    element.node.removeAttribute('data-svgjs')\n    element.node.removeAttribute('svgjs:data')\n  }\n}\n","// Default namespaces\nexport const svg = 'http://www.w3.org/2000/svg'\nexport const html = 'http://www.w3.org/1999/xhtml'\nexport const xmlns = 'http://www.w3.org/2000/xmlns/'\nexport const xlink = 'http://www.w3.org/1999/xlink'\n","export const globals = {\n  window: typeof window === 'undefined' ? null : window,\n  document: typeof document === 'undefined' ? null : document\n}\n\nexport function registerWindow(win = null, doc = null) {\n  globals.window = win\n  globals.document = doc\n}\n\nconst save = {}\n\nexport function saveWindow() {\n  save.window = globals.window\n  save.document = globals.document\n}\n\nexport function restoreWindow() {\n  globals.window = save.window\n  globals.document = save.document\n}\n\nexport function withWindow(win, fn) {\n  saveWindow()\n  registerWindow(win, win.document)\n  fn(win, win.document)\n  restoreWindow()\n}\n\nexport function getWindow() {\n  return globals.window\n}\n","export default class Base {\n  // constructor (node/*, {extensions = []} */) {\n  //   // this.tags = []\n  //   //\n  //   // for (let extension of extensions) {\n  //   //   extension.setup.call(this, node)\n  //   //   this.tags.push(extension.name)\n  //   // }\n  // }\n}\n","import { addMethodNames } from './methods.js'\nimport { capitalize } from './utils.js'\nimport { svg } from '../modules/core/namespaces.js'\nimport { globals } from '../utils/window.js'\nimport Base from '../types/Base.js'\n\nconst elements = {}\nexport const root = '___SYMBOL___ROOT___'\n\n// Method for element creation\nexport function create(name, ns = svg) {\n  // create element\n  return globals.document.createElementNS(ns, name)\n}\n\nexport function makeInstance(element, isHTML = false) {\n  if (element instanceof Base) return element\n\n  if (typeof element === 'object') {\n    return adopter(element)\n  }\n\n  if (element == null) {\n    return new elements[root]()\n  }\n\n  if (typeof element === 'string' && element.charAt(0) !== '<') {\n    return adopter(globals.document.querySelector(element))\n  }\n\n  // Make sure, that HTML elements are created with the correct namespace\n  const wrapper = isHTML ? globals.document.createElement('div') : create('svg')\n  wrapper.innerHTML = element\n\n  // We can use firstChild here because we know,\n  // that the first char is < and thus an element\n  element = adopter(wrapper.firstChild)\n\n  // make sure, that element doesn't have its wrapper attached\n  wrapper.removeChild(wrapper.firstChild)\n  return element\n}\n\nexport function nodeOrNew(name, node) {\n  return node &&\n    (node instanceof globals.window.Node ||\n      (node.ownerDocument &&\n        node instanceof node.ownerDocument.defaultView.Node))\n    ? node\n    : create(name)\n}\n\n// Adopt existing svg elements\nexport function adopt(node) {\n  // check for presence of node\n  if (!node) return null\n\n  // make sure a node isn't already adopted\n  if (node.instance instanceof Base) return node.instance\n\n  if (node.nodeName === '#document-fragment') {\n    return new elements.Fragment(node)\n  }\n\n  // initialize variables\n  let className = capitalize(node.nodeName || 'Dom')\n\n  // Make sure that gradients are adopted correctly\n  if (className === 'LinearGradient' || className === 'RadialGradient') {\n    className = 'Gradient'\n\n    // Fallback to Dom if element is not known\n  } else if (!elements[className]) {\n    className = 'Dom'\n  }\n\n  return new elements[className](node)\n}\n\nlet adopter = adopt\n\nexport function mockAdopt(mock = adopt) {\n  adopter = mock\n}\n\nexport function register(element, name = element.name, asRoot = false) {\n  elements[name] = element\n  if (asRoot) elements[root] = element\n\n  addMethodNames(Object.getOwnPropertyNames(element.prototype))\n\n  return element\n}\n\nexport function getClass(name) {\n  return elements[name]\n}\n\n// Element id sequence\nlet did = 1000\n\n// Get next named element id\nexport function eid(name) {\n  return 'Svgjs' + capitalize(name) + did++\n}\n\n// Deep new id assignment\nexport function assignNewId(node) {\n  // do the same for SVG child nodes as well\n  for (let i = node.children.length - 1; i >= 0; i--) {\n    assignNewId(node.children[i])\n  }\n\n  if (node.id) {\n    node.id = eid(node.nodeName)\n    return node\n  }\n\n  return node\n}\n\n// Method for extending objects\nexport function extend(modules, methods) {\n  let key, i\n\n  modules = Array.isArray(modules) ? modules : [modules]\n\n  for (i = modules.length - 1; i >= 0; i--) {\n    for (key in methods) {\n      modules[i].prototype[key] = methods[key]\n    }\n  }\n}\n\nexport function wrapWithAttrCheck(fn) {\n  return function (...args) {\n    const o = args[args.length - 1]\n\n    if (o && o.constructor === Object && !(o instanceof Array)) {\n      return fn.apply(this, args.slice(0, -1)).attr(o)\n    } else {\n      return fn.apply(this, args)\n    }\n  }\n}\n","import { makeInstance } from '../../utils/adopter.js'\nimport { registerMethods } from '../../utils/methods.js'\n\n// Get all siblings, including myself\nexport function siblings() {\n  return this.parent().children()\n}\n\n// Get the current position siblings\nexport function position() {\n  return this.parent().index(this)\n}\n\n// Get the next element (will return null if there is none)\nexport function next() {\n  return this.siblings()[this.position() + 1]\n}\n\n// Get the next element (will return null if there is none)\nexport function prev() {\n  return this.siblings()[this.position() - 1]\n}\n\n// Send given element one step forward\nexport function forward() {\n  const i = this.position()\n  const p = this.parent()\n\n  // move node one step forward\n  p.add(this.remove(), i + 1)\n\n  return this\n}\n\n// Send given element one step backward\nexport function backward() {\n  const i = this.position()\n  const p = this.parent()\n\n  p.add(this.remove(), i ? i - 1 : 0)\n\n  return this\n}\n\n// Send given element all the way to the front\nexport function front() {\n  const p = this.parent()\n\n  // Move node forward\n  p.add(this.remove())\n\n  return this\n}\n\n// Send given element all the way to the back\nexport function back() {\n  const p = this.parent()\n\n  // Move node back\n  p.add(this.remove(), 0)\n\n  return this\n}\n\n// Inserts a given element before the targeted element\nexport function before(element) {\n  element = makeInstance(element)\n  element.remove()\n\n  const i = this.position()\n\n  this.parent().add(element, i)\n\n  return this\n}\n\n// Inserts a given element after the targeted element\nexport function after(element) {\n  element = makeInstance(element)\n  element.remove()\n\n  const i = this.position()\n\n  this.parent().add(element, i + 1)\n\n  return this\n}\n\nexport function insertBefore(element) {\n  element = makeInstance(element)\n  element.before(this)\n  return this\n}\n\nexport function insertAfter(element) {\n  element = makeInstance(element)\n  element.after(this)\n  return this\n}\n\nregisterMethods('Dom', {\n  siblings,\n  position,\n  next,\n  prev,\n  forward,\n  backward,\n  front,\n  back,\n  before,\n  after,\n  insertBefore,\n  insertAfter\n})\n","// Parse unit value\nexport const numberAndUnit =\n  /^([+-]?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?)([a-z%]*)$/i\n\n// Parse hex value\nexport const hex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i\n\n// Parse rgb value\nexport const rgb = /rgb\\((\\d+),(\\d+),(\\d+)\\)/\n\n// Parse reference id\nexport const reference = /(#[a-z_][a-z0-9\\-_]*)/i\n\n// splits a transformation chain\nexport const transforms = /\\)\\s*,?\\s*/\n\n// Whitespace\nexport const whitespace = /\\s/g\n\n// Test hex value\nexport const isHex = /^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i\n\n// Test rgb value\nexport const isRgb = /^rgb\\(/\n\n// Test for blank string\nexport const isBlank = /^(\\s+)?$/\n\n// Test for numeric string\nexport const isNumber = /^[+-]?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i\n\n// Test for image url\nexport const isImage = /\\.(jpg|jpeg|png|gif|svg)(\\?[^=]+.*)?/i\n\n// split at whitespace and comma\nexport const delimiter = /[\\s,]+/\n\n// Test for path letter\nexport const isPathLetter = /[MLHVCSQTAZ]/i\n","import { delimiter } from '../core/regex.js'\nimport { registerMethods } from '../../utils/methods.js'\n\n// Return array of classes on the node\nexport function classes() {\n  const attr = this.attr('class')\n  return attr == null ? [] : attr.trim().split(delimiter)\n}\n\n// Return true if class exists on the node, false otherwise\nexport function hasClass(name) {\n  return this.classes().indexOf(name) !== -1\n}\n\n// Add class to the node\nexport function addClass(name) {\n  if (!this.hasClass(name)) {\n    const array = this.classes()\n    array.push(name)\n    this.attr('class', array.join(' '))\n  }\n\n  return this\n}\n\n// Remove class from the node\nexport function removeClass(name) {\n  if (this.hasClass(name)) {\n    this.attr(\n      'class',\n      this.classes()\n        .filter(function (c) {\n          return c !== name\n        })\n        .join(' ')\n    )\n  }\n\n  return this\n}\n\n// Toggle the presence of a class on the node\nexport function toggleClass(name) {\n  return this.hasClass(name) ? this.removeClass(name) : this.addClass(name)\n}\n\nregisterMethods('Dom', {\n  classes,\n  hasClass,\n  addClass,\n  removeClass,\n  toggleClass\n})\n","import { isBlank } from '../core/regex.js'\nimport { registerMethods } from '../../utils/methods.js'\n\n// Dynamic style generator\nexport function css(style, val) {\n  const ret = {}\n  if (arguments.length === 0) {\n    // get full style as object\n    this.node.style.cssText\n      .split(/\\s*;\\s*/)\n      .filter(function (el) {\n        return !!el.length\n      })\n      .forEach(function (el) {\n        const t = el.split(/\\s*:\\s*/)\n        ret[t[0]] = t[1]\n      })\n    return ret\n  }\n\n  if (arguments.length < 2) {\n    // get style properties as array\n    if (Array.isArray(style)) {\n      for (const name of style) {\n        const cased = name\n        ret[name] = this.node.style.getPropertyValue(cased)\n      }\n      return ret\n    }\n\n    // get style for property\n    if (typeof style === 'string') {\n      return this.node.style.getPropertyValue(style)\n    }\n\n    // set styles in object\n    if (typeof style === 'object') {\n      for (const name in style) {\n        // set empty string if null/undefined/'' was given\n        this.node.style.setProperty(\n          name,\n          style[name] == null || isBlank.test(style[name]) ? '' : style[name]\n        )\n      }\n    }\n  }\n\n  // set style for property\n  if (arguments.length === 2) {\n    this.node.style.setProperty(\n      style,\n      val == null || isBlank.test(val) ? '' : val\n    )\n  }\n\n  return this\n}\n\n// Show element\nexport function show() {\n  return this.css('display', '')\n}\n\n// Hide element\nexport function hide() {\n  return this.css('display', 'none')\n}\n\n// Is element visible?\nexport function visible() {\n  return this.css('display') !== 'none'\n}\n\nregisterMethods('Dom', {\n  css,\n  show,\n  hide,\n  visible\n})\n","import { registerMethods } from '../../utils/methods.js'\nimport { filter, map } from '../../utils/utils.js'\n\n// Store data values on svg nodes\nexport function data(a, v, r) {\n  if (a == null) {\n    // get an object of attributes\n    return this.data(\n      map(\n        filter(\n          this.node.attributes,\n          (el) => el.nodeName.indexOf('data-') === 0\n        ),\n        (el) => el.nodeName.slice(5)\n      )\n    )\n  } else if (a instanceof Array) {\n    const data = {}\n    for (const key of a) {\n      data[key] = this.data(key)\n    }\n    return data\n  } else if (typeof a === 'object') {\n    for (v in a) {\n      this.data(v, a[v])\n    }\n  } else if (arguments.length < 2) {\n    try {\n      return JSON.parse(this.attr('data-' + a))\n    } catch (e) {\n      return this.attr('data-' + a)\n    }\n  } else {\n    this.attr(\n      'data-' + a,\n      v === null\n        ? null\n        : r === true || typeof v === 'string' || typeof v === 'number'\n          ? v\n          : JSON.stringify(v)\n    )\n  }\n\n  return this\n}\n\nregisterMethods('Dom', { data })\n","import { registerMethods } from '../../utils/methods.js'\n\n// Remember arbitrary data\nexport function remember(k, v) {\n  // remember every item in an object individually\n  if (typeof arguments[0] === 'object') {\n    for (const key in k) {\n      this.remember(key, k[key])\n    }\n  } else if (arguments.length === 1) {\n    // retrieve memory\n    return this.memory()[k]\n  } else {\n    // store memory\n    this.memory()[k] = v\n  }\n\n  return this\n}\n\n// Erase a given memory\nexport function forget() {\n  if (arguments.length === 0) {\n    this._memory = {}\n  } else {\n    for (let i = arguments.length - 1; i >= 0; i--) {\n      delete this.memory()[arguments[i]]\n    }\n  }\n  return this\n}\n\n// This triggers creation of a new hidden class which is not performant\n// However, this function is not rarely used so it will not happen frequently\n// Return local memory object\nexport function memory() {\n  return (this._memory = this._memory || {})\n}\n\nregisterMethods('Dom', { remember, forget, memory })\n","import { hex, isHex, isRgb, rgb, whitespace } from '../modules/core/regex.js'\n\nfunction sixDigitHex(hex) {\n  return hex.length === 4\n    ? [\n        '#',\n        hex.substring(1, 2),\n        hex.substring(1, 2),\n        hex.substring(2, 3),\n        hex.substring(2, 3),\n        hex.substring(3, 4),\n        hex.substring(3, 4)\n      ].join('')\n    : hex\n}\n\nfunction componentHex(component) {\n  const integer = Math.round(component)\n  const bounded = Math.max(0, Math.min(255, integer))\n  const hex = bounded.toString(16)\n  return hex.length === 1 ? '0' + hex : hex\n}\n\nfunction is(object, space) {\n  for (let i = space.length; i--; ) {\n    if (object[space[i]] == null) {\n      return false\n    }\n  }\n  return true\n}\n\nfunction getParameters(a, b) {\n  const params = is(a, 'rgb')\n    ? { _a: a.r, _b: a.g, _c: a.b, _d: 0, space: 'rgb' }\n    : is(a, 'xyz')\n      ? { _a: a.x, _b: a.y, _c: a.z, _d: 0, space: 'xyz' }\n      : is(a, 'hsl')\n        ? { _a: a.h, _b: a.s, _c: a.l, _d: 0, space: 'hsl' }\n        : is(a, 'lab')\n          ? { _a: a.l, _b: a.a, _c: a.b, _d: 0, space: 'lab' }\n          : is(a, 'lch')\n            ? { _a: a.l, _b: a.c, _c: a.h, _d: 0, space: 'lch' }\n            : is(a, 'cmyk')\n              ? { _a: a.c, _b: a.m, _c: a.y, _d: a.k, space: 'cmyk' }\n              : { _a: 0, _b: 0, _c: 0, space: 'rgb' }\n\n  params.space = b || params.space\n  return params\n}\n\nfunction cieSpace(space) {\n  if (space === 'lab' || space === 'xyz' || space === 'lch') {\n    return true\n  } else {\n    return false\n  }\n}\n\nfunction hueToRgb(p, q, t) {\n  if (t < 0) t += 1\n  if (t > 1) t -= 1\n  if (t < 1 / 6) return p + (q - p) * 6 * t\n  if (t < 1 / 2) return q\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\n  return p\n}\n\nexport default class Color {\n  constructor(...inputs) {\n    this.init(...inputs)\n  }\n\n  // Test if given value is a color\n  static isColor(color) {\n    return (\n      color && (color instanceof Color || this.isRgb(color) || this.test(color))\n    )\n  }\n\n  // Test if given value is an rgb object\n  static isRgb(color) {\n    return (\n      color &&\n      typeof color.r === 'number' &&\n      typeof color.g === 'number' &&\n      typeof color.b === 'number'\n    )\n  }\n\n  /*\n  Generating random colors\n  */\n  static random(mode = 'vibrant', t) {\n    // Get the math modules\n    const { random, round, sin, PI: pi } = Math\n\n    // Run the correct generator\n    if (mode === 'vibrant') {\n      const l = (81 - 57) * random() + 57\n      const c = (83 - 45) * random() + 45\n      const h = 360 * random()\n      const color = new Color(l, c, h, 'lch')\n      return color\n    } else if (mode === 'sine') {\n      t = t == null ? random() : t\n      const r = round(80 * sin((2 * pi * t) / 0.5 + 0.01) + 150)\n      const g = round(50 * sin((2 * pi * t) / 0.5 + 4.6) + 200)\n      const b = round(100 * sin((2 * pi * t) / 0.5 + 2.3) + 150)\n      const color = new Color(r, g, b)\n      return color\n    } else if (mode === 'pastel') {\n      const l = (94 - 86) * random() + 86\n      const c = (26 - 9) * random() + 9\n      const h = 360 * random()\n      const color = new Color(l, c, h, 'lch')\n      return color\n    } else if (mode === 'dark') {\n      const l = 10 + 10 * random()\n      const c = (125 - 75) * random() + 86\n      const h = 360 * random()\n      const color = new Color(l, c, h, 'lch')\n      return color\n    } else if (mode === 'rgb') {\n      const r = 255 * random()\n      const g = 255 * random()\n      const b = 255 * random()\n      const color = new Color(r, g, b)\n      return color\n    } else if (mode === 'lab') {\n      const l = 100 * random()\n      const a = 256 * random() - 128\n      const b = 256 * random() - 128\n      const color = new Color(l, a, b, 'lab')\n      return color\n    } else if (mode === 'grey') {\n      const grey = 255 * random()\n      const color = new Color(grey, grey, grey)\n      return color\n    } else {\n      throw new Error('Unsupported random color mode')\n    }\n  }\n\n  // Test if given value is a color string\n  static test(color) {\n    return typeof color === 'string' && (isHex.test(color) || isRgb.test(color))\n  }\n\n  cmyk() {\n    // Get the rgb values for the current color\n    const { _a, _b, _c } = this.rgb()\n    const [r, g, b] = [_a, _b, _c].map((v) => v / 255)\n\n    // Get the cmyk values in an unbounded format\n    const k = Math.min(1 - r, 1 - g, 1 - b)\n\n    if (k === 1) {\n      // Catch the black case\n      return new Color(0, 0, 0, 1, 'cmyk')\n    }\n\n    const c = (1 - r - k) / (1 - k)\n    const m = (1 - g - k) / (1 - k)\n    const y = (1 - b - k) / (1 - k)\n\n    // Construct the new color\n    const color = new Color(c, m, y, k, 'cmyk')\n    return color\n  }\n\n  hsl() {\n    // Get the rgb values\n    const { _a, _b, _c } = this.rgb()\n    const [r, g, b] = [_a, _b, _c].map((v) => v / 255)\n\n    // Find the maximum and minimum values to get the lightness\n    const max = Math.max(r, g, b)\n    const min = Math.min(r, g, b)\n    const l = (max + min) / 2\n\n    // If the r, g, v values are identical then we are grey\n    const isGrey = max === min\n\n    // Calculate the hue and saturation\n    const delta = max - min\n    const s = isGrey\n      ? 0\n      : l > 0.5\n        ? delta / (2 - max - min)\n        : delta / (max + min)\n    const h = isGrey\n      ? 0\n      : max === r\n        ? ((g - b) / delta + (g < b ? 6 : 0)) / 6\n        : max === g\n          ? ((b - r) / delta + 2) / 6\n          : max === b\n            ? ((r - g) / delta + 4) / 6\n            : 0\n\n    // Construct and return the new color\n    const color = new Color(360 * h, 100 * s, 100 * l, 'hsl')\n    return color\n  }\n\n  init(a = 0, b = 0, c = 0, d = 0, space = 'rgb') {\n    // This catches the case when a falsy value is passed like ''\n    a = !a ? 0 : a\n\n    // Reset all values in case the init function is rerun with new color space\n    if (this.space) {\n      for (const component in this.space) {\n        delete this[this.space[component]]\n      }\n    }\n\n    if (typeof a === 'number') {\n      // Allow for the case that we don't need d...\n      space = typeof d === 'string' ? d : space\n      d = typeof d === 'string' ? 0 : d\n\n      // Assign the values straight to the color\n      Object.assign(this, { _a: a, _b: b, _c: c, _d: d, space })\n      // If the user gave us an array, make the color from it\n    } else if (a instanceof Array) {\n      this.space = b || (typeof a[3] === 'string' ? a[3] : a[4]) || 'rgb'\n      Object.assign(this, { _a: a[0], _b: a[1], _c: a[2], _d: a[3] || 0 })\n    } else if (a instanceof Object) {\n      // Set the object up and assign its values directly\n      const values = getParameters(a, b)\n      Object.assign(this, values)\n    } else if (typeof a === 'string') {\n      if (isRgb.test(a)) {\n        const noWhitespace = a.replace(whitespace, '')\n        const [_a, _b, _c] = rgb\n          .exec(noWhitespace)\n          .slice(1, 4)\n          .map((v) => parseInt(v))\n        Object.assign(this, { _a, _b, _c, _d: 0, space: 'rgb' })\n      } else if (isHex.test(a)) {\n        const hexParse = (v) => parseInt(v, 16)\n        const [, _a, _b, _c] = hex.exec(sixDigitHex(a)).map(hexParse)\n        Object.assign(this, { _a, _b, _c, _d: 0, space: 'rgb' })\n      } else throw Error(\"Unsupported string format, can't construct Color\")\n    }\n\n    // Now add the components as a convenience\n    const { _a, _b, _c, _d } = this\n    const components =\n      this.space === 'rgb'\n        ? { r: _a, g: _b, b: _c }\n        : this.space === 'xyz'\n          ? { x: _a, y: _b, z: _c }\n          : this.space === 'hsl'\n            ? { h: _a, s: _b, l: _c }\n            : this.space === 'lab'\n              ? { l: _a, a: _b, b: _c }\n              : this.space === 'lch'\n                ? { l: _a, c: _b, h: _c }\n                : this.space === 'cmyk'\n                  ? { c: _a, m: _b, y: _c, k: _d }\n                  : {}\n    Object.assign(this, components)\n  }\n\n  lab() {\n    // Get the xyz color\n    const { x, y, z } = this.xyz()\n\n    // Get the lab components\n    const l = 116 * y - 16\n    const a = 500 * (x - y)\n    const b = 200 * (y - z)\n\n    // Construct and return a new color\n    const color = new Color(l, a, b, 'lab')\n    return color\n  }\n\n  lch() {\n    // Get the lab color directly\n    const { l, a, b } = this.lab()\n\n    // Get the chromaticity and the hue using polar coordinates\n    const c = Math.sqrt(a ** 2 + b ** 2)\n    let h = (180 * Math.atan2(b, a)) / Math.PI\n    if (h < 0) {\n      h *= -1\n      h = 360 - h\n    }\n\n    // Make a new color and return it\n    const color = new Color(l, c, h, 'lch')\n    return color\n  }\n  /*\n  Conversion Methods\n  */\n\n  rgb() {\n    if (this.space === 'rgb') {\n      return this\n    } else if (cieSpace(this.space)) {\n      // Convert to the xyz color space\n      let { x, y, z } = this\n      if (this.space === 'lab' || this.space === 'lch') {\n        // Get the values in the lab space\n        let { l, a, b } = this\n        if (this.space === 'lch') {\n          const { c, h } = this\n          const dToR = Math.PI / 180\n          a = c * Math.cos(dToR * h)\n          b = c * Math.sin(dToR * h)\n        }\n\n        // Undo the nonlinear function\n        const yL = (l + 16) / 116\n        const xL = a / 500 + yL\n        const zL = yL - b / 200\n\n        // Get the xyz values\n        const ct = 16 / 116\n        const mx = 0.008856\n        const nm = 7.787\n        x = 0.95047 * (xL ** 3 > mx ? xL ** 3 : (xL - ct) / nm)\n        y = 1.0 * (yL ** 3 > mx ? yL ** 3 : (yL - ct) / nm)\n        z = 1.08883 * (zL ** 3 > mx ? zL ** 3 : (zL - ct) / nm)\n      }\n\n      // Convert xyz to unbounded rgb values\n      const rU = x * 3.2406 + y * -1.5372 + z * -0.4986\n      const gU = x * -0.9689 + y * 1.8758 + z * 0.0415\n      const bU = x * 0.0557 + y * -0.204 + z * 1.057\n\n      // Convert the values to true rgb values\n      const pow = Math.pow\n      const bd = 0.0031308\n      const r = rU > bd ? 1.055 * pow(rU, 1 / 2.4) - 0.055 : 12.92 * rU\n      const g = gU > bd ? 1.055 * pow(gU, 1 / 2.4) - 0.055 : 12.92 * gU\n      const b = bU > bd ? 1.055 * pow(bU, 1 / 2.4) - 0.055 : 12.92 * bU\n\n      // Make and return the color\n      const color = new Color(255 * r, 255 * g, 255 * b)\n      return color\n    } else if (this.space === 'hsl') {\n      // https://bgrins.github.io/TinyColor/docs/tinycolor.html\n      // Get the current hsl values\n      let { h, s, l } = this\n      h /= 360\n      s /= 100\n      l /= 100\n\n      // If we are grey, then just make the color directly\n      if (s === 0) {\n        l *= 255\n        const color = new Color(l, l, l)\n        return color\n      }\n\n      // TODO I have no idea what this does :D If you figure it out, tell me!\n      const q = l < 0.5 ? l * (1 + s) : l + s - l * s\n      const p = 2 * l - q\n\n      // Get the rgb values\n      const r = 255 * hueToRgb(p, q, h + 1 / 3)\n      const g = 255 * hueToRgb(p, q, h)\n      const b = 255 * hueToRgb(p, q, h - 1 / 3)\n\n      // Make a new color\n      const color = new Color(r, g, b)\n      return color\n    } else if (this.space === 'cmyk') {\n      // https://gist.github.com/felipesabino/5066336\n      // Get the normalised cmyk values\n      const { c, m, y, k } = this\n\n      // Get the rgb values\n      const r = 255 * (1 - Math.min(1, c * (1 - k) + k))\n      const g = 255 * (1 - Math.min(1, m * (1 - k) + k))\n      const b = 255 * (1 - Math.min(1, y * (1 - k) + k))\n\n      // Form the color and return it\n      const color = new Color(r, g, b)\n      return color\n    } else {\n      return this\n    }\n  }\n\n  toArray() {\n    const { _a, _b, _c, _d, space } = this\n    return [_a, _b, _c, _d, space]\n  }\n\n  toHex() {\n    const [r, g, b] = this._clamped().map(componentHex)\n    return `#${r}${g}${b}`\n  }\n\n  toRgb() {\n    const [rV, gV, bV] = this._clamped()\n    const string = `rgb(${rV},${gV},${bV})`\n    return string\n  }\n\n  toString() {\n    return this.toHex()\n  }\n\n  xyz() {\n    // Normalise the red, green and blue values\n    const { _a: r255, _b: g255, _c: b255 } = this.rgb()\n    const [r, g, b] = [r255, g255, b255].map((v) => v / 255)\n\n    // Convert to the lab rgb space\n    const rL = r > 0.04045 ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92\n    const gL = g > 0.04045 ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92\n    const bL = b > 0.04045 ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92\n\n    // Convert to the xyz color space without bounding the values\n    const xU = (rL * 0.4124 + gL * 0.3576 + bL * 0.1805) / 0.95047\n    const yU = (rL * 0.2126 + gL * 0.7152 + bL * 0.0722) / 1.0\n    const zU = (rL * 0.0193 + gL * 0.1192 + bL * 0.9505) / 1.08883\n\n    // Get the proper xyz values by applying the bounding\n    const x = xU > 0.008856 ? Math.pow(xU, 1 / 3) : 7.787 * xU + 16 / 116\n    const y = yU > 0.008856 ? Math.pow(yU, 1 / 3) : 7.787 * yU + 16 / 116\n    const z = zU > 0.008856 ? Math.pow(zU, 1 / 3) : 7.787 * zU + 16 / 116\n\n    // Make and return the color\n    const color = new Color(x, y, z, 'xyz')\n    return color\n  }\n\n  /*\n  Input and Output methods\n  */\n\n  _clamped() {\n    const { _a, _b, _c } = this.rgb()\n    const { max, min, round } = Math\n    const format = (v) => max(0, min(round(v), 255))\n    return [_a, _b, _c].map(format)\n  }\n\n  /*\n  Constructing colors\n  */\n}\n","import Matrix from './Matrix.js'\n\nexport default class Point {\n  // Initialize\n  constructor(...args) {\n    this.init(...args)\n  }\n\n  // Clone point\n  clone() {\n    return new Point(this)\n  }\n\n  init(x, y) {\n    const base = { x: 0, y: 0 }\n\n    // ensure source as object\n    const source = Array.isArray(x)\n      ? { x: x[0], y: x[1] }\n      : typeof x === 'object'\n        ? { x: x.x, y: x.y }\n        : { x: x, y: y }\n\n    // merge source\n    this.x = source.x == null ? base.x : source.x\n    this.y = source.y == null ? base.y : source.y\n\n    return this\n  }\n\n  toArray() {\n    return [this.x, this.y]\n  }\n\n  transform(m) {\n    return this.clone().transformO(m)\n  }\n\n  // Transform point with matrix\n  transformO(m) {\n    if (!Matrix.isMatrixLike(m)) {\n      m = new Matrix(m)\n    }\n\n    const { x, y } = this\n\n    // Perform the matrix multiplication\n    this.x = m.a * x + m.c * y + m.e\n    this.y = m.b * x + m.d * y + m.f\n\n    return this\n  }\n}\n\nexport function point(x, y) {\n  return new Point(x, y).transformO(this.screenCTM().inverseO())\n}\n","import { delimiter } from '../modules/core/regex.js'\nimport { radians } from '../utils/utils.js'\nimport { register } from '../utils/adopter.js'\nimport Element from '../elements/Element.js'\nimport Point from './Point.js'\n\nfunction closeEnough(a, b, threshold) {\n  return Math.abs(b - a) < (threshold || 1e-6)\n}\n\nexport default class Matrix {\n  constructor(...args) {\n    this.init(...args)\n  }\n\n  static formatTransforms(o) {\n    // Get all of the parameters required to form the matrix\n    const flipBoth = o.flip === 'both' || o.flip === true\n    const flipX = o.flip && (flipBoth || o.flip === 'x') ? -1 : 1\n    const flipY = o.flip && (flipBoth || o.flip === 'y') ? -1 : 1\n    const skewX =\n      o.skew && o.skew.length\n        ? o.skew[0]\n        : isFinite(o.skew)\n          ? o.skew\n          : isFinite(o.skewX)\n            ? o.skewX\n            : 0\n    const skewY =\n      o.skew && o.skew.length\n        ? o.skew[1]\n        : isFinite(o.skew)\n          ? o.skew\n          : isFinite(o.skewY)\n            ? o.skewY\n            : 0\n    const scaleX =\n      o.scale && o.scale.length\n        ? o.scale[0] * flipX\n        : isFinite(o.scale)\n          ? o.scale * flipX\n          : isFinite(o.scaleX)\n            ? o.scaleX * flipX\n            : flipX\n    const scaleY =\n      o.scale && o.scale.length\n        ? o.scale[1] * flipY\n        : isFinite(o.scale)\n          ? o.scale * flipY\n          : isFinite(o.scaleY)\n            ? o.scaleY * flipY\n            : flipY\n    const shear = o.shear || 0\n    const theta = o.rotate || o.theta || 0\n    const origin = new Point(\n      o.origin || o.around || o.ox || o.originX,\n      o.oy || o.originY\n    )\n    const ox = origin.x\n    const oy = origin.y\n    // We need Point to be invalid if nothing was passed because we cannot default to 0 here. That is why NaN\n    const position = new Point(\n      o.position || o.px || o.positionX || NaN,\n      o.py || o.positionY || NaN\n    )\n    const px = position.x\n    const py = position.y\n    const translate = new Point(\n      o.translate || o.tx || o.translateX,\n      o.ty || o.translateY\n    )\n    const tx = translate.x\n    const ty = translate.y\n    const relative = new Point(\n      o.relative || o.rx || o.relativeX,\n      o.ry || o.relativeY\n    )\n    const rx = relative.x\n    const ry = relative.y\n\n    // Populate all of the values\n    return {\n      scaleX,\n      scaleY,\n      skewX,\n      skewY,\n      shear,\n      theta,\n      rx,\n      ry,\n      tx,\n      ty,\n      ox,\n      oy,\n      px,\n      py\n    }\n  }\n\n  static fromArray(a) {\n    return { a: a[0], b: a[1], c: a[2], d: a[3], e: a[4], f: a[5] }\n  }\n\n  static isMatrixLike(o) {\n    return (\n      o.a != null ||\n      o.b != null ||\n      o.c != null ||\n      o.d != null ||\n      o.e != null ||\n      o.f != null\n    )\n  }\n\n  // left matrix, right matrix, target matrix which is overwritten\n  static matrixMultiply(l, r, o) {\n    // Work out the product directly\n    const a = l.a * r.a + l.c * r.b\n    const b = l.b * r.a + l.d * r.b\n    const c = l.a * r.c + l.c * r.d\n    const d = l.b * r.c + l.d * r.d\n    const e = l.e + l.a * r.e + l.c * r.f\n    const f = l.f + l.b * r.e + l.d * r.f\n\n    // make sure to use local variables because l/r and o could be the same\n    o.a = a\n    o.b = b\n    o.c = c\n    o.d = d\n    o.e = e\n    o.f = f\n\n    return o\n  }\n\n  around(cx, cy, matrix) {\n    return this.clone().aroundO(cx, cy, matrix)\n  }\n\n  // Transform around a center point\n  aroundO(cx, cy, matrix) {\n    const dx = cx || 0\n    const dy = cy || 0\n    return this.translateO(-dx, -dy).lmultiplyO(matrix).translateO(dx, dy)\n  }\n\n  // Clones this matrix\n  clone() {\n    return new Matrix(this)\n  }\n\n  // Decomposes this matrix into its affine parameters\n  decompose(cx = 0, cy = 0) {\n    // Get the parameters from the matrix\n    const a = this.a\n    const b = this.b\n    const c = this.c\n    const d = this.d\n    const e = this.e\n    const f = this.f\n\n    // Figure out if the winding direction is clockwise or counterclockwise\n    const determinant = a * d - b * c\n    const ccw = determinant > 0 ? 1 : -1\n\n    // Since we only shear in x, we can use the x basis to get the x scale\n    // and the rotation of the resulting matrix\n    const sx = ccw * Math.sqrt(a * a + b * b)\n    const thetaRad = Math.atan2(ccw * b, ccw * a)\n    const theta = (180 / Math.PI) * thetaRad\n    const ct = Math.cos(thetaRad)\n    const st = Math.sin(thetaRad)\n\n    // We can then solve the y basis vector simultaneously to get the other\n    // two affine parameters directly from these parameters\n    const lam = (a * c + b * d) / determinant\n    const sy = (c * sx) / (lam * a - b) || (d * sx) / (lam * b + a)\n\n    // Use the translations\n    const tx = e - cx + cx * ct * sx + cy * (lam * ct * sx - st * sy)\n    const ty = f - cy + cx * st * sx + cy * (lam * st * sx + ct * sy)\n\n    // Construct the decomposition and return it\n    return {\n      // Return the affine parameters\n      scaleX: sx,\n      scaleY: sy,\n      shear: lam,\n      rotate: theta,\n      translateX: tx,\n      translateY: ty,\n      originX: cx,\n      originY: cy,\n\n      // Return the matrix parameters\n      a: this.a,\n      b: this.b,\n      c: this.c,\n      d: this.d,\n      e: this.e,\n      f: this.f\n    }\n  }\n\n  // Check if two matrices are equal\n  equals(other) {\n    if (other === this) return true\n    const comp = new Matrix(other)\n    return (\n      closeEnough(this.a, comp.a) &&\n      closeEnough(this.b, comp.b) &&\n      closeEnough(this.c, comp.c) &&\n      closeEnough(this.d, comp.d) &&\n      closeEnough(this.e, comp.e) &&\n      closeEnough(this.f, comp.f)\n    )\n  }\n\n  // Flip matrix on x or y, at a given offset\n  flip(axis, around) {\n    return this.clone().flipO(axis, around)\n  }\n\n  flipO(axis, around) {\n    return axis === 'x'\n      ? this.scaleO(-1, 1, around, 0)\n      : axis === 'y'\n        ? this.scaleO(1, -1, 0, around)\n        : this.scaleO(-1, -1, axis, around || axis) // Define an x, y flip point\n  }\n\n  // Initialize\n  init(source) {\n    const base = Matrix.fromArray([1, 0, 0, 1, 0, 0])\n\n    // ensure source as object\n    source =\n      source instanceof Element\n        ? source.matrixify()\n        : typeof source === 'string'\n          ? Matrix.fromArray(source.split(delimiter).map(parseFloat))\n          : Array.isArray(source)\n            ? Matrix.fromArray(source)\n            : typeof source === 'object' && Matrix.isMatrixLike(source)\n              ? source\n              : typeof source === 'object'\n                ? new Matrix().transform(source)\n                : arguments.length === 6\n                  ? Matrix.fromArray([].slice.call(arguments))\n                  : base\n\n    // Merge the source matrix with the base matrix\n    this.a = source.a != null ? source.a : base.a\n    this.b = source.b != null ? source.b : base.b\n    this.c = source.c != null ? source.c : base.c\n    this.d = source.d != null ? source.d : base.d\n    this.e = source.e != null ? source.e : base.e\n    this.f = source.f != null ? source.f : base.f\n\n    return this\n  }\n\n  inverse() {\n    return this.clone().inverseO()\n  }\n\n  // Inverses matrix\n  inverseO() {\n    // Get the current parameters out of the matrix\n    const a = this.a\n    const b = this.b\n    const c = this.c\n    const d = this.d\n    const e = this.e\n    const f = this.f\n\n    // Invert the 2x2 matrix in the top left\n    const det = a * d - b * c\n    if (!det) throw new Error('Cannot invert ' + this)\n\n    // Calculate the top 2x2 matrix\n    const na = d / det\n    const nb = -b / det\n    const nc = -c / det\n    const nd = a / det\n\n    // Apply the inverted matrix to the top right\n    const ne = -(na * e + nc * f)\n    const nf = -(nb * e + nd * f)\n\n    // Construct the inverted matrix\n    this.a = na\n    this.b = nb\n    this.c = nc\n    this.d = nd\n    this.e = ne\n    this.f = nf\n\n    return this\n  }\n\n  lmultiply(matrix) {\n    return this.clone().lmultiplyO(matrix)\n  }\n\n  lmultiplyO(matrix) {\n    const r = this\n    const l = matrix instanceof Matrix ? matrix : new Matrix(matrix)\n\n    return Matrix.matrixMultiply(l, r, this)\n  }\n\n  // Left multiplies by the given matrix\n  multiply(matrix) {\n    return this.clone().multiplyO(matrix)\n  }\n\n  multiplyO(matrix) {\n    // Get the matrices\n    const l = this\n    const r = matrix instanceof Matrix ? matrix : new Matrix(matrix)\n\n    return Matrix.matrixMultiply(l, r, this)\n  }\n\n  // Rotate matrix\n  rotate(r, cx, cy) {\n    return this.clone().rotateO(r, cx, cy)\n  }\n\n  rotateO(r, cx = 0, cy = 0) {\n    // Convert degrees to radians\n    r = radians(r)\n\n    const cos = Math.cos(r)\n    const sin = Math.sin(r)\n\n    const { a, b, c, d, e, f } = this\n\n    this.a = a * cos - b * sin\n    this.b = b * cos + a * sin\n    this.c = c * cos - d * sin\n    this.d = d * cos + c * sin\n    this.e = e * cos - f * sin + cy * sin - cx * cos + cx\n    this.f = f * cos + e * sin - cx * sin - cy * cos + cy\n\n    return this\n  }\n\n  // Scale matrix\n  scale() {\n    return this.clone().scaleO(...arguments)\n  }\n\n  scaleO(x, y = x, cx = 0, cy = 0) {\n    // Support uniform scaling\n    if (arguments.length === 3) {\n      cy = cx\n      cx = y\n      y = x\n    }\n\n    const { a, b, c, d, e, f } = this\n\n    this.a = a * x\n    this.b = b * y\n    this.c = c * x\n    this.d = d * y\n    this.e = e * x - cx * x + cx\n    this.f = f * y - cy * y + cy\n\n    return this\n  }\n\n  // Shear matrix\n  shear(a, cx, cy) {\n    return this.clone().shearO(a, cx, cy)\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  shearO(lx, cx = 0, cy = 0) {\n    const { a, b, c, d, e, f } = this\n\n    this.a = a + b * lx\n    this.c = c + d * lx\n    this.e = e + f * lx - cy * lx\n\n    return this\n  }\n\n  // Skew Matrix\n  skew() {\n    return this.clone().skewO(...arguments)\n  }\n\n  skewO(x, y = x, cx = 0, cy = 0) {\n    // support uniformal skew\n    if (arguments.length === 3) {\n      cy = cx\n      cx = y\n      y = x\n    }\n\n    // Convert degrees to radians\n    x = radians(x)\n    y = radians(y)\n\n    const lx = Math.tan(x)\n    const ly = Math.tan(y)\n\n    const { a, b, c, d, e, f } = this\n\n    this.a = a + b * lx\n    this.b = b + a * ly\n    this.c = c + d * lx\n    this.d = d + c * ly\n    this.e = e + f * lx - cy * lx\n    this.f = f + e * ly - cx * ly\n\n    return this\n  }\n\n  // SkewX\n  skewX(x, cx, cy) {\n    return this.skew(x, 0, cx, cy)\n  }\n\n  // SkewY\n  skewY(y, cx, cy) {\n    return this.skew(0, y, cx, cy)\n  }\n\n  toArray() {\n    return [this.a, this.b, this.c, this.d, this.e, this.f]\n  }\n\n  // Convert matrix to string\n  toString() {\n    return (\n      'matrix(' +\n      this.a +\n      ',' +\n      this.b +\n      ',' +\n      this.c +\n      ',' +\n      this.d +\n      ',' +\n      this.e +\n      ',' +\n      this.f +\n      ')'\n    )\n  }\n\n  // Transform a matrix into another matrix by manipulating the space\n  transform(o) {\n    // Check if o is a matrix and then left multiply it directly\n    if (Matrix.isMatrixLike(o)) {\n      const matrix = new Matrix(o)\n      return matrix.multiplyO(this)\n    }\n\n    // Get the proposed transformations and the current transformations\n    const t = Matrix.formatTransforms(o)\n    const current = this\n    const { x: ox, y: oy } = new Point(t.ox, t.oy).transform(current)\n\n    // Construct the resulting matrix\n    const transformer = new Matrix()\n      .translateO(t.rx, t.ry)\n      .lmultiplyO(current)\n      .translateO(-ox, -oy)\n      .scaleO(t.scaleX, t.scaleY)\n      .skewO(t.skewX, t.skewY)\n      .shearO(t.shear)\n      .rotateO(t.theta)\n      .translateO(ox, oy)\n\n    // If we want the origin at a particular place, we force it there\n    if (isFinite(t.px) || isFinite(t.py)) {\n      const origin = new Point(ox, oy).transform(transformer)\n      // TODO: Replace t.px with isFinite(t.px)\n      // Doesn't work because t.px is also 0 if it wasn't passed\n      const dx = isFinite(t.px) ? t.px - origin.x : 0\n      const dy = isFinite(t.py) ? t.py - origin.y : 0\n      transformer.translateO(dx, dy)\n    }\n\n    // Translate now after positioning\n    transformer.translateO(t.tx, t.ty)\n    return transformer\n  }\n\n  // Translate matrix\n  translate(x, y) {\n    return this.clone().translateO(x, y)\n  }\n\n  translateO(x, y) {\n    this.e += x || 0\n    this.f += y || 0\n    return this\n  }\n\n  valueOf() {\n    return {\n      a: this.a,\n      b: this.b,\n      c: this.c,\n      d: this.d,\n      e: this.e,\n      f: this.f\n    }\n  }\n}\n\nexport function ctm() {\n  return new Matrix(this.node.getCTM())\n}\n\nexport function screenCTM() {\n  try {\n    /* https://bugzilla.mozilla.org/show_bug.cgi?id=1344537\n       This is needed because FF does not return the transformation matrix\n       for the inner coordinate system when getScreenCTM() is called on nested svgs.\n       However all other Browsers do that */\n    if (typeof this.isRoot === 'function' && !this.isRoot()) {\n      const rect = this.rect(1, 1)\n      const m = rect.node.getScreenCTM()\n      rect.remove()\n      return new Matrix(m)\n    }\n    return new Matrix(this.node.getScreenCTM())\n  } catch (e) {\n    console.warn(\n      `Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`\n    )\n    return new Matrix()\n  }\n}\n\nregister(Matrix, 'Matrix')\n","import { globals } from '../../utils/window.js'\nimport { makeInstance } from '../../utils/adopter.js'\n\nexport default function parser() {\n  // Reuse cached element if possible\n  if (!parser.nodes) {\n    const svg = makeInstance().size(2, 0)\n    svg.node.style.cssText = [\n      'opacity: 0',\n      'position: absolute',\n      'left: -100%',\n      'top: -100%',\n      'overflow: hidden'\n    ].join(';')\n\n    svg.attr('focusable', 'false')\n    svg.attr('aria-hidden', 'true')\n\n    const path = svg.path().node\n\n    parser.nodes = { svg, path }\n  }\n\n  if (!parser.nodes.svg.node.parentNode) {\n    const b = globals.document.body || globals.document.documentElement\n    parser.nodes.svg.addTo(b)\n  }\n\n  return parser.nodes\n}\n","import { delimiter } from '../modules/core/regex.js'\nimport { globals } from '../utils/window.js'\nimport { register } from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Matrix from './Matrix.js'\nimport Point from './Point.js'\nimport parser from '../modules/core/parser.js'\n\nexport function isNulledBox(box) {\n  return !box.width && !box.height && !box.x && !box.y\n}\n\nexport function domContains(node) {\n  return (\n    node === globals.document ||\n    (\n      globals.document.documentElement.contains ||\n      function (node) {\n        // This is IE - it does not support contains() for top-level SVGs\n        while (node.parentNode) {\n          node = node.parentNode\n        }\n        return node === globals.document\n      }\n    ).call(globals.document.documentElement, node)\n  )\n}\n\nexport default class Box {\n  constructor(...args) {\n    this.init(...args)\n  }\n\n  addOffset() {\n    // offset by window scroll position, because getBoundingClientRect changes when window is scrolled\n    this.x += globals.window.pageXOffset\n    this.y += globals.window.pageYOffset\n    return new Box(this)\n  }\n\n  init(source) {\n    const base = [0, 0, 0, 0]\n    source =\n      typeof source === 'string'\n        ? source.split(delimiter).map(parseFloat)\n        : Array.isArray(source)\n          ? source\n          : typeof source === 'object'\n            ? [\n                source.left != null ? source.left : source.x,\n                source.top != null ? source.top : source.y,\n                source.width,\n                source.height\n              ]\n            : arguments.length === 4\n              ? [].slice.call(arguments)\n              : base\n\n    this.x = source[0] || 0\n    this.y = source[1] || 0\n    this.width = this.w = source[2] || 0\n    this.height = this.h = source[3] || 0\n\n    // Add more bounding box properties\n    this.x2 = this.x + this.w\n    this.y2 = this.y + this.h\n    this.cx = this.x + this.w / 2\n    this.cy = this.y + this.h / 2\n\n    return this\n  }\n\n  isNulled() {\n    return isNulledBox(this)\n  }\n\n  // Merge rect box with another, return a new instance\n  merge(box) {\n    const x = Math.min(this.x, box.x)\n    const y = Math.min(this.y, box.y)\n    const width = Math.max(this.x + this.width, box.x + box.width) - x\n    const height = Math.max(this.y + this.height, box.y + box.height) - y\n\n    return new Box(x, y, width, height)\n  }\n\n  toArray() {\n    return [this.x, this.y, this.width, this.height]\n  }\n\n  toString() {\n    return this.x + ' ' + this.y + ' ' + this.width + ' ' + this.height\n  }\n\n  transform(m) {\n    if (!(m instanceof Matrix)) {\n      m = new Matrix(m)\n    }\n\n    let xMin = Infinity\n    let xMax = -Infinity\n    let yMin = Infinity\n    let yMax = -Infinity\n\n    const pts = [\n      new Point(this.x, this.y),\n      new Point(this.x2, this.y),\n      new Point(this.x, this.y2),\n      new Point(this.x2, this.y2)\n    ]\n\n    pts.forEach(function (p) {\n      p = p.transform(m)\n      xMin = Math.min(xMin, p.x)\n      xMax = Math.max(xMax, p.x)\n      yMin = Math.min(yMin, p.y)\n      yMax = Math.max(yMax, p.y)\n    })\n\n    return new Box(xMin, yMin, xMax - xMin, yMax - yMin)\n  }\n}\n\nfunction getBox(el, getBBoxFn, retry) {\n  let box\n\n  try {\n    // Try to get the box with the provided function\n    box = getBBoxFn(el.node)\n\n    // If the box is worthless and not even in the dom, retry\n    // by throwing an error here...\n    if (isNulledBox(box) && !domContains(el.node)) {\n      throw new Error('Element not in the dom')\n    }\n  } catch (e) {\n    // ... and calling the retry handler here\n    box = retry(el)\n  }\n\n  return box\n}\n\nexport function bbox() {\n  // Function to get bbox is getBBox()\n  const getBBox = (node) => node.getBBox()\n\n  // Take all measures so that a stupid browser renders the element\n  // so we can get the bbox from it when we try again\n  const retry = (el) => {\n    try {\n      const clone = el.clone().addTo(parser().svg).show()\n      const box = clone.node.getBBox()\n      clone.remove()\n      return box\n    } catch (e) {\n      // We give up...\n      throw new Error(\n        `Getting bbox of element \"${\n          el.node.nodeName\n        }\" is not possible: ${e.toString()}`\n      )\n    }\n  }\n\n  const box = getBox(this, getBBox, retry)\n  const bbox = new Box(box)\n\n  return bbox\n}\n\nexport function rbox(el) {\n  const getRBox = (node) => node.getBoundingClientRect()\n  const retry = (el) => {\n    // There is no point in trying tricks here because if we insert the element into the dom ourselves\n    // it obviously will be at the wrong position\n    throw new Error(\n      `Getting rbox of element \"${el.node.nodeName}\" is not possible`\n    )\n  }\n\n  const box = getBox(this, getRBox, retry)\n  const rbox = new Box(box)\n\n  // If an element was passed, we want the bbox in the coordinate system of that element\n  if (el) {\n    return rbox.transform(el.screenCTM().inverseO())\n  }\n\n  // Else we want it in absolute screen coordinates\n  // Therefore we need to add the scrollOffset\n  return rbox.addOffset()\n}\n\n// Checks whether the given point is inside the bounding box\nexport function inside(x, y) {\n  const box = this.bbox()\n\n  return (\n    x > box.x && y > box.y && x < box.x + box.width && y < box.y + box.height\n  )\n}\n\nregisterMethods({\n  viewbox: {\n    viewbox(x, y, width, height) {\n      // act as getter\n      if (x == null) return new Box(this.attr('viewBox'))\n\n      // act as setter\n      return this.attr('viewBox', new Box(x, y, width, height))\n    },\n\n    zoom(level, point) {\n      // Its best to rely on the attributes here and here is why:\n      // clientXYZ: Doesn't work on non-root svgs because they dont have a CSSBox (silly!)\n      // getBoundingClientRect: Doesn't work because Chrome just ignores width and height of nested svgs completely\n      //                        that means, their clientRect is always as big as the content.\n      //                        Furthermore this size is incorrect if the element is further transformed by its parents\n      // computedStyle: Only returns meaningful values if css was used with px. We dont go this route here!\n      // getBBox: returns the bounding box of its content - that doesn't help!\n      let { width, height } = this.attr(['width', 'height'])\n\n      // Width and height is a string when a number with a unit is present which we can't use\n      // So we try clientXYZ\n      if (\n        (!width && !height) ||\n        typeof width === 'string' ||\n        typeof height === 'string'\n      ) {\n        width = this.node.clientWidth\n        height = this.node.clientHeight\n      }\n\n      // Giving up...\n      if (!width || !height) {\n        throw new Error(\n          'Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element'\n        )\n      }\n\n      const v = this.viewbox()\n\n      const zoomX = width / v.width\n      const zoomY = height / v.height\n      const zoom = Math.min(zoomX, zoomY)\n\n      if (level == null) {\n        return zoom\n      }\n\n      let zoomAmount = zoom / level\n\n      // Set the zoomAmount to the highest value which is safe to process and recover from\n      // The * 100 is a bit of wiggle room for the matrix transformation\n      if (zoomAmount === Infinity) zoomAmount = Number.MAX_SAFE_INTEGER / 100\n\n      point =\n        point || new Point(width / 2 / zoomX + v.x, height / 2 / zoomY + v.y)\n\n      const box = new Box(v).transform(\n        new Matrix({ scale: zoomAmount, origin: point })\n      )\n\n      return this.viewbox(box)\n    }\n  }\n})\n\nregister(Box, 'Box')\n","import { extend } from '../utils/adopter.js'\n// import { subClassArray } from './ArrayPolyfill.js'\n\nclass List extends Array {\n  constructor(arr = [], ...args) {\n    super(arr, ...args)\n    if (typeof arr === 'number') return this\n    this.length = 0\n    this.push(...arr)\n  }\n}\n\n/* = subClassArray('List', Array, function (arr = []) {\n  // This catches the case, that native map tries to create an array with new Array(1)\n  if (typeof arr === 'number') return this\n  this.length = 0\n  this.push(...arr)\n}) */\n\nexport default List\n\nextend([List], {\n  each(fnOrMethodName, ...args) {\n    if (typeof fnOrMethodName === 'function') {\n      return this.map((el, i, arr) => {\n        return fnOrMethodName.call(el, el, i, arr)\n      })\n    } else {\n      return this.map((el) => {\n        return el[fnOrMethodName](...args)\n      })\n    }\n  },\n\n  toArray() {\n    return Array.prototype.concat.apply([], this)\n  }\n})\n\nconst reserved = ['toArray', 'constructor', 'each']\n\nList.extend = function (methods) {\n  methods = methods.reduce((obj, name) => {\n    // Don't overwrite own methods\n    if (reserved.includes(name)) return obj\n\n    // Don't add private methods\n    if (name[0] === '_') return obj\n\n    // Allow access to original Array methods through a prefix\n    if (name in Array.prototype) {\n      obj['$' + name] = Array.prototype[name]\n    }\n\n    // Relay every call to each()\n    obj[name] = function (...attrs) {\n      return this.each(name, ...attrs)\n    }\n    return obj\n  }, {})\n\n  extend([List], methods)\n}\n","import { adopt } from '../../utils/adopter.js'\nimport { globals } from '../../utils/window.js'\nimport { map } from '../../utils/utils.js'\nimport List from '../../types/List.js'\n\nexport default function baseFind(query, parent) {\n  return new List(\n    map((parent || globals.document).querySelectorAll(query), function (node) {\n      return adopt(node)\n    })\n  )\n}\n\n// Scoped find method\nexport function find(query) {\n  return baseFind(query, this.node)\n}\n\nexport function findOne(query) {\n  return adopt(this.node.querySelector(query))\n}\n","import { delimiter } from './regex.js'\nimport { makeInstance } from '../../utils/adopter.js'\nimport { globals } from '../../utils/window.js'\n\nlet listenerId = 0\nexport const windowEvents = {}\n\nexport function getEvents(instance) {\n  let n = instance.getEventHolder()\n\n  // We dont want to save events in global space\n  if (n === globals.window) n = windowEvents\n  if (!n.events) n.events = {}\n  return n.events\n}\n\nexport function getEventTarget(instance) {\n  return instance.getEventTarget()\n}\n\nexport function clearEvents(instance) {\n  let n = instance.getEventHolder()\n  if (n === globals.window) n = windowEvents\n  if (n.events) n.events = {}\n}\n\n// Add event binder in the SVG namespace\nexport function on(node, events, listener, binding, options) {\n  const l = listener.bind(binding || node)\n  const instance = makeInstance(node)\n  const bag = getEvents(instance)\n  const n = getEventTarget(instance)\n\n  // events can be an array of events or a string of events\n  events = Array.isArray(events) ? events : events.split(delimiter)\n\n  // add id to listener\n  if (!listener._svgjsListenerId) {\n    listener._svgjsListenerId = ++listenerId\n  }\n\n  events.forEach(function (event) {\n    const ev = event.split('.')[0]\n    const ns = event.split('.')[1] || '*'\n\n    // ensure valid object\n    bag[ev] = bag[ev] || {}\n    bag[ev][ns] = bag[ev][ns] || {}\n\n    // reference listener\n    bag[ev][ns][listener._svgjsListenerId] = l\n\n    // add listener\n    n.addEventListener(ev, l, options || false)\n  })\n}\n\n// Add event unbinder in the SVG namespace\nexport function off(node, events, listener, options) {\n  const instance = makeInstance(node)\n  const bag = getEvents(instance)\n  const n = getEventTarget(instance)\n\n  // listener can be a function or a number\n  if (typeof listener === 'function') {\n    listener = listener._svgjsListenerId\n    if (!listener) return\n  }\n\n  // events can be an array of events or a string or undefined\n  events = Array.isArray(events) ? events : (events || '').split(delimiter)\n\n  events.forEach(function (event) {\n    const ev = event && event.split('.')[0]\n    const ns = event && event.split('.')[1]\n    let namespace, l\n\n    if (listener) {\n      // remove listener reference\n      if (bag[ev] && bag[ev][ns || '*']) {\n        // removeListener\n        n.removeEventListener(\n          ev,\n          bag[ev][ns || '*'][listener],\n          options || false\n        )\n\n        delete bag[ev][ns || '*'][listener]\n      }\n    } else if (ev && ns) {\n      // remove all listeners for a namespaced event\n      if (bag[ev] && bag[ev][ns]) {\n        for (l in bag[ev][ns]) {\n          off(n, [ev, ns].join('.'), l)\n        }\n\n        delete bag[ev][ns]\n      }\n    } else if (ns) {\n      // remove all listeners for a specific namespace\n      for (event in bag) {\n        for (namespace in bag[event]) {\n          if (ns === namespace) {\n            off(n, [event, ns].join('.'))\n          }\n        }\n      }\n    } else if (ev) {\n      // remove all listeners for the event\n      if (bag[ev]) {\n        for (namespace in bag[ev]) {\n          off(n, [ev, namespace].join('.'))\n        }\n\n        delete bag[ev]\n      }\n    } else {\n      // remove all listeners on a given node\n      for (event in bag) {\n        off(n, event)\n      }\n\n      clearEvents(instance)\n    }\n  })\n}\n\nexport function dispatch(node, event, data, options) {\n  const n = getEventTarget(node)\n\n  // Dispatch event\n  if (event instanceof globals.window.Event) {\n    n.dispatchEvent(event)\n  } else {\n    event = new globals.window.CustomEvent(event, {\n      detail: data,\n      cancelable: true,\n      ...options\n    })\n    n.dispatchEvent(event)\n  }\n  return event\n}\n","import { dispatch, off, on } from '../modules/core/event.js'\nimport { register } from '../utils/adopter.js'\nimport Base from './Base.js'\n\nexport default class EventTarget extends Base {\n  addEventListener() {}\n\n  dispatch(event, data, options) {\n    return dispatch(this, event, data, options)\n  }\n\n  dispatchEvent(event) {\n    const bag = this.getEventHolder().events\n    if (!bag) return true\n\n    const events = bag[event.type]\n\n    for (const i in events) {\n      for (const j in events[i]) {\n        events[i][j](event)\n      }\n    }\n\n    return !event.defaultPrevented\n  }\n\n  // Fire given event\n  fire(event, data, options) {\n    this.dispatch(event, data, options)\n    return this\n  }\n\n  getEventHolder() {\n    return this\n  }\n\n  getEventTarget() {\n    return this\n  }\n\n  // Unbind event from listener\n  off(event, listener, options) {\n    off(this, event, listener, options)\n    return this\n  }\n\n  // Bind given event to listener\n  on(event, listener, binding, options) {\n    on(this, event, listener, binding, options)\n    return this\n  }\n\n  removeEventListener() {}\n}\n\nregister(EventTarget, 'EventTarget')\n","export function noop() {}\n\n// Default animation values\nexport const timeline = {\n  duration: 400,\n  ease: '>',\n  delay: 0\n}\n\n// Default attribute values\nexport const attrs = {\n  // fill and stroke\n  'fill-opacity': 1,\n  'stroke-opacity': 1,\n  'stroke-width': 0,\n  'stroke-linejoin': 'miter',\n  'stroke-linecap': 'butt',\n  fill: '#000000',\n  stroke: '#000000',\n  opacity: 1,\n\n  // position\n  x: 0,\n  y: 0,\n  cx: 0,\n  cy: 0,\n\n  // size\n  width: 0,\n  height: 0,\n\n  // radius\n  r: 0,\n  rx: 0,\n  ry: 0,\n\n  // gradient\n  offset: 0,\n  'stop-opacity': 1,\n  'stop-color': '#000000',\n\n  // text\n  'text-anchor': 'start'\n}\n","import { delimiter } from '../modules/core/regex.js'\n\nexport default class SVGArray extends Array {\n  constructor(...args) {\n    super(...args)\n    this.init(...args)\n  }\n\n  clone() {\n    return new this.constructor(this)\n  }\n\n  init(arr) {\n    // This catches the case, that native map tries to create an array with new Array(1)\n    if (typeof arr === 'number') return this\n    this.length = 0\n    this.push(...this.parse(arr))\n    return this\n  }\n\n  // Parse whitespace separated string\n  parse(array = []) {\n    // If already is an array, no need to parse it\n    if (array instanceof Array) return array\n\n    return array.trim().split(delimiter).map(parseFloat)\n  }\n\n  toArray() {\n    return Array.prototype.concat.apply([], this)\n  }\n\n  toSet() {\n    return new Set(this)\n  }\n\n  toString() {\n    return this.join(' ')\n  }\n\n  // Flattens the array if needed\n  valueOf() {\n    const ret = []\n    ret.push(...this)\n    return ret\n  }\n}\n","import { numberAndUnit } from '../modules/core/regex.js'\n\n// Module for unit conversions\nexport default class SVGNumber {\n  // Initialize\n  constructor(...args) {\n    this.init(...args)\n  }\n\n  convert(unit) {\n    return new SVGNumber(this.value, unit)\n  }\n\n  // Divide number\n  divide(number) {\n    number = new SVGNumber(number)\n    return new SVGNumber(this / number, this.unit || number.unit)\n  }\n\n  init(value, unit) {\n    unit = Array.isArray(value) ? value[1] : unit\n    value = Array.isArray(value) ? value[0] : value\n\n    // initialize defaults\n    this.value = 0\n    this.unit = unit || ''\n\n    // parse value\n    if (typeof value === 'number') {\n      // ensure a valid numeric value\n      this.value = isNaN(value)\n        ? 0\n        : !isFinite(value)\n          ? value < 0\n            ? -3.4e38\n            : +3.4e38\n          : value\n    } else if (typeof value === 'string') {\n      unit = value.match(numberAndUnit)\n\n      if (unit) {\n        // make value numeric\n        this.value = parseFloat(unit[1])\n\n        // normalize\n        if (unit[5] === '%') {\n          this.value /= 100\n        } else if (unit[5] === 's') {\n          this.value *= 1000\n        }\n\n        // store unit\n        this.unit = unit[5]\n      }\n    } else {\n      if (value instanceof SVGNumber) {\n        this.value = value.valueOf()\n        this.unit = value.unit\n      }\n    }\n\n    return this\n  }\n\n  // Subtract number\n  minus(number) {\n    number = new SVGNumber(number)\n    return new SVGNumber(this - number, this.unit || number.unit)\n  }\n\n  // Add number\n  plus(number) {\n    number = new SVGNumber(number)\n    return new SVGNumber(this + number, this.unit || number.unit)\n  }\n\n  // Multiply number\n  times(number) {\n    number = new SVGNumber(number)\n    return new SVGNumber(this * number, this.unit || number.unit)\n  }\n\n  toArray() {\n    return [this.value, this.unit]\n  }\n\n  toJSON() {\n    return this.toString()\n  }\n\n  toString() {\n    return (\n      (this.unit === '%'\n        ? ~~(this.value * 1e8) / 1e6\n        : this.unit === 's'\n          ? this.value / 1e3\n          : this.value) + this.unit\n    )\n  }\n\n  valueOf() {\n    return this.value\n  }\n}\n","import { attrs as defaults } from './defaults.js'\nimport { isNumber } from './regex.js'\nimport Color from '../../types/Color.js'\nimport SVGArray from '../../types/SVGArray.js'\nimport SVGNumber from '../../types/SVGNumber.js'\n\nconst colorAttributes = new Set([\n  'fill',\n  'stroke',\n  'color',\n  'bgcolor',\n  'stop-color',\n  'flood-color',\n  'lighting-color'\n])\n\nconst hooks = []\nexport function registerAttrHook(fn) {\n  hooks.push(fn)\n}\n\n// Set svg element attribute\nexport default function attr(attr, val, ns) {\n  // act as full getter\n  if (attr == null) {\n    // get an object of attributes\n    attr = {}\n    val = this.node.attributes\n\n    for (const node of val) {\n      attr[node.nodeName] = isNumber.test(node.nodeValue)\n        ? parseFloat(node.nodeValue)\n        : node.nodeValue\n    }\n\n    return attr\n  } else if (attr instanceof Array) {\n    // loop through array and get all values\n    return attr.reduce((last, curr) => {\n      last[curr] = this.attr(curr)\n      return last\n    }, {})\n  } else if (typeof attr === 'object' && attr.constructor === Object) {\n    // apply every attribute individually if an object is passed\n    for (val in attr) this.attr(val, attr[val])\n  } else if (val === null) {\n    // remove value\n    this.node.removeAttribute(attr)\n  } else if (val == null) {\n    // act as a getter if the first and only argument is not an object\n    val = this.node.getAttribute(attr)\n    return val == null\n      ? defaults[attr]\n      : isNumber.test(val)\n        ? parseFloat(val)\n        : val\n  } else {\n    // Loop through hooks and execute them to convert value\n    val = hooks.reduce((_val, hook) => {\n      return hook(attr, _val, this)\n    }, val)\n\n    // ensure correct numeric values (also accepts NaN and Infinity)\n    if (typeof val === 'number') {\n      val = new SVGNumber(val)\n    } else if (colorAttributes.has(attr) && Color.isColor(val)) {\n      // ensure full hex color\n      val = new Color(val)\n    } else if (val.constructor === Array) {\n      // Check for plain arrays and parse array values\n      val = new SVGArray(val)\n    }\n\n    // if the passed attribute is leading...\n    if (attr === 'leading') {\n      // ... call the leading method instead\n      if (this.leading) {\n        this.leading(val)\n      }\n    } else {\n      // set given attribute on node\n      typeof ns === 'string'\n        ? this.node.setAttributeNS(ns, attr, val.toString())\n        : this.node.setAttribute(attr, val.toString())\n    }\n\n    // rebuild if required\n    if (this.rebuild && (attr === 'font-size' || attr === 'x')) {\n      this.rebuild()\n    }\n  }\n\n  return this\n}\n","import {\n  adopt,\n  assignNewId,\n  eid,\n  extend,\n  makeInstance,\n  create,\n  register\n} from '../utils/adopter.js'\nimport { find, findOne } from '../modules/core/selector.js'\nimport { globals } from '../utils/window.js'\nimport { map } from '../utils/utils.js'\nimport { svg, html } from '../modules/core/namespaces.js'\nimport EventTarget from '../types/EventTarget.js'\nimport List from '../types/List.js'\nimport attr from '../modules/core/attr.js'\n\nexport default class Dom extends EventTarget {\n  constructor(node, attrs) {\n    super()\n    this.node = node\n    this.type = node.nodeName\n\n    if (attrs && node !== attrs) {\n      this.attr(attrs)\n    }\n  }\n\n  // Add given element at a position\n  add(element, i) {\n    element = makeInstance(element)\n\n    // If non-root svg nodes are added we have to remove their namespaces\n    if (\n      element.removeNamespace &&\n      this.node instanceof globals.window.SVGElement\n    ) {\n      element.removeNamespace()\n    }\n\n    if (i == null) {\n      this.node.appendChild(element.node)\n    } else if (element.node !== this.node.childNodes[i]) {\n      this.node.insertBefore(element.node, this.node.childNodes[i])\n    }\n\n    return this\n  }\n\n  // Add element to given container and return self\n  addTo(parent, i) {\n    return makeInstance(parent).put(this, i)\n  }\n\n  // Returns all child elements\n  children() {\n    return new List(\n      map(this.node.children, function (node) {\n        return adopt(node)\n      })\n    )\n  }\n\n  // Remove all elements in this container\n  clear() {\n    // remove children\n    while (this.node.hasChildNodes()) {\n      this.node.removeChild(this.node.lastChild)\n    }\n\n    return this\n  }\n\n  // Clone element\n  clone(deep = true, assignNewIds = true) {\n    // write dom data to the dom so the clone can pickup the data\n    this.writeDataToDom()\n\n    // clone element\n    let nodeClone = this.node.cloneNode(deep)\n    if (assignNewIds) {\n      // assign new id\n      nodeClone = assignNewId(nodeClone)\n    }\n    return new this.constructor(nodeClone)\n  }\n\n  // Iterates over all children and invokes a given block\n  each(block, deep) {\n    const children = this.children()\n    let i, il\n\n    for (i = 0, il = children.length; i < il; i++) {\n      block.apply(children[i], [i, children])\n\n      if (deep) {\n        children[i].each(block, deep)\n      }\n    }\n\n    return this\n  }\n\n  element(nodeName, attrs) {\n    return this.put(new Dom(create(nodeName), attrs))\n  }\n\n  // Get first child\n  first() {\n    return adopt(this.node.firstChild)\n  }\n\n  // Get a element at the given index\n  get(i) {\n    return adopt(this.node.childNodes[i])\n  }\n\n  getEventHolder() {\n    return this.node\n  }\n\n  getEventTarget() {\n    return this.node\n  }\n\n  // Checks if the given element is a child\n  has(element) {\n    return this.index(element) >= 0\n  }\n\n  html(htmlOrFn, outerHTML) {\n    return this.xml(htmlOrFn, outerHTML, html)\n  }\n\n  // Get / set id\n  id(id) {\n    // generate new id if no id set\n    if (typeof id === 'undefined' && !this.node.id) {\n      this.node.id = eid(this.type)\n    }\n\n    // don't set directly with this.node.id to make `null` work correctly\n    return this.attr('id', id)\n  }\n\n  // Gets index of given element\n  index(element) {\n    return [].slice.call(this.node.childNodes).indexOf(element.node)\n  }\n\n  // Get the last child\n  last() {\n    return adopt(this.node.lastChild)\n  }\n\n  // matches the element vs a css selector\n  matches(selector) {\n    const el = this.node\n    const matcher =\n      el.matches ||\n      el.matchesSelector ||\n      el.msMatchesSelector ||\n      el.mozMatchesSelector ||\n      el.webkitMatchesSelector ||\n      el.oMatchesSelector ||\n      null\n    return matcher && matcher.call(el, selector)\n  }\n\n  // Returns the parent element instance\n  parent(type) {\n    let parent = this\n\n    // check for parent\n    if (!parent.node.parentNode) return null\n\n    // get parent element\n    parent = adopt(parent.node.parentNode)\n\n    if (!type) return parent\n\n    // loop through ancestors if type is given\n    do {\n      if (\n        typeof type === 'string' ? parent.matches(type) : parent instanceof type\n      )\n        return parent\n    } while ((parent = adopt(parent.node.parentNode)))\n\n    return parent\n  }\n\n  // Basically does the same as `add()` but returns the added element instead\n  put(element, i) {\n    element = makeInstance(element)\n    this.add(element, i)\n    return element\n  }\n\n  // Add element to given container and return container\n  putIn(parent, i) {\n    return makeInstance(parent).add(this, i)\n  }\n\n  // Remove element\n  remove() {\n    if (this.parent()) {\n      this.parent().removeElement(this)\n    }\n\n    return this\n  }\n\n  // Remove a given child\n  removeElement(element) {\n    this.node.removeChild(element.node)\n\n    return this\n  }\n\n  // Replace this with element\n  replace(element) {\n    element = makeInstance(element)\n\n    if (this.node.parentNode) {\n      this.node.parentNode.replaceChild(element.node, this.node)\n    }\n\n    return element\n  }\n\n  round(precision = 2, map = null) {\n    const factor = 10 ** precision\n    const attrs = this.attr(map)\n\n    for (const i in attrs) {\n      if (typeof attrs[i] === 'number') {\n        attrs[i] = Math.round(attrs[i] * factor) / factor\n      }\n    }\n\n    this.attr(attrs)\n    return this\n  }\n\n  // Import / Export raw svg\n  svg(svgOrFn, outerSVG) {\n    return this.xml(svgOrFn, outerSVG, svg)\n  }\n\n  // Return id on string conversion\n  toString() {\n    return this.id()\n  }\n\n  words(text) {\n    // This is faster than removing all children and adding a new one\n    this.node.textContent = text\n    return this\n  }\n\n  wrap(node) {\n    const parent = this.parent()\n\n    if (!parent) {\n      return this.addTo(node)\n    }\n\n    const position = parent.index(this)\n    return parent.put(node, position).put(this)\n  }\n\n  // write svgjs data to the dom\n  writeDataToDom() {\n    // dump variables recursively\n    this.each(function () {\n      this.writeDataToDom()\n    })\n\n    return this\n  }\n\n  // Import / Export raw svg\n  xml(xmlOrFn, outerXML, ns) {\n    if (typeof xmlOrFn === 'boolean') {\n      ns = outerXML\n      outerXML = xmlOrFn\n      xmlOrFn = null\n    }\n\n    // act as getter if no svg string is given\n    if (xmlOrFn == null || typeof xmlOrFn === 'function') {\n      // The default for exports is, that the outerNode is included\n      outerXML = outerXML == null ? true : outerXML\n\n      // write svgjs data to the dom\n      this.writeDataToDom()\n      let current = this\n\n      // An export modifier was passed\n      if (xmlOrFn != null) {\n        current = adopt(current.node.cloneNode(true))\n\n        // If the user wants outerHTML we need to process this node, too\n        if (outerXML) {\n          const result = xmlOrFn(current)\n          current = result || current\n\n          // The user does not want this node? Well, then he gets nothing\n          if (result === false) return ''\n        }\n\n        // Deep loop through all children and apply modifier\n        current.each(function () {\n          const result = xmlOrFn(this)\n          const _this = result || this\n\n          // If modifier returns false, discard node\n          if (result === false) {\n            this.remove()\n\n            // If modifier returns new node, use it\n          } else if (result && this !== _this) {\n            this.replace(_this)\n          }\n        }, true)\n      }\n\n      // Return outer or inner content\n      return outerXML ? current.node.outerHTML : current.node.innerHTML\n    }\n\n    // Act as setter if we got a string\n\n    // The default for import is, that the current node is not replaced\n    outerXML = outerXML == null ? false : outerXML\n\n    // Create temporary holder\n    const well = create('wrapper', ns)\n    const fragment = globals.document.createDocumentFragment()\n\n    // Dump raw svg\n    well.innerHTML = xmlOrFn\n\n    // Transplant nodes into the fragment\n    for (let len = well.children.length; len--; ) {\n      fragment.appendChild(well.firstElementChild)\n    }\n\n    const parent = this.parent()\n\n    // Add the whole fragment at once\n    return outerXML ? this.replace(fragment) && parent : this.add(fragment)\n  }\n}\n\nextend(Dom, { attr, find, findOne })\nregister(Dom, 'Dom')\n","import { bbox, rbox, inside } from '../types/Box.js'\nimport { ctm, screenCTM } from '../types/Matrix.js'\nimport {\n  extend,\n  getClass,\n  makeInstance,\n  register,\n  root\n} from '../utils/adopter.js'\nimport { globals } from '../utils/window.js'\nimport { point } from '../types/Point.js'\nimport { proportionalSize, writeDataToDom } from '../utils/utils.js'\nimport { reference } from '../modules/core/regex.js'\nimport Dom from './Dom.js'\nimport List from '../types/List.js'\nimport SVGNumber from '../types/SVGNumber.js'\n\nexport default class Element extends Dom {\n  constructor(node, attrs) {\n    super(node, attrs)\n\n    // initialize data object\n    this.dom = {}\n\n    // create circular reference\n    this.node.instance = this\n\n    if (node.hasAttribute('data-svgjs') || node.hasAttribute('svgjs:data')) {\n      // pull svgjs data from the dom (getAttributeNS doesn't work in html5)\n      this.setData(\n        JSON.parse(node.getAttribute('data-svgjs')) ??\n          JSON.parse(node.getAttribute('svgjs:data')) ??\n          {}\n      )\n    }\n  }\n\n  // Move element by its center\n  center(x, y) {\n    return this.cx(x).cy(y)\n  }\n\n  // Move by center over x-axis\n  cx(x) {\n    return x == null\n      ? this.x() + this.width() / 2\n      : this.x(x - this.width() / 2)\n  }\n\n  // Move by center over y-axis\n  cy(y) {\n    return y == null\n      ? this.y() + this.height() / 2\n      : this.y(y - this.height() / 2)\n  }\n\n  // Get defs\n  defs() {\n    const root = this.root()\n    return root && root.defs()\n  }\n\n  // Relative move over x and y axes\n  dmove(x, y) {\n    return this.dx(x).dy(y)\n  }\n\n  // Relative move over x axis\n  dx(x = 0) {\n    return this.x(new SVGNumber(x).plus(this.x()))\n  }\n\n  // Relative move over y axis\n  dy(y = 0) {\n    return this.y(new SVGNumber(y).plus(this.y()))\n  }\n\n  getEventHolder() {\n    return this\n  }\n\n  // Set height of element\n  height(height) {\n    return this.attr('height', height)\n  }\n\n  // Move element to given x and y values\n  move(x, y) {\n    return this.x(x).y(y)\n  }\n\n  // return array of all ancestors of given type up to the root svg\n  parents(until = this.root()) {\n    const isSelector = typeof until === 'string'\n    if (!isSelector) {\n      until = makeInstance(until)\n    }\n    const parents = new List()\n    let parent = this\n\n    while (\n      (parent = parent.parent()) &&\n      parent.node !== globals.document &&\n      parent.nodeName !== '#document-fragment'\n    ) {\n      parents.push(parent)\n\n      if (!isSelector && parent.node === until.node) {\n        break\n      }\n      if (isSelector && parent.matches(until)) {\n        break\n      }\n      if (parent.node === this.root().node) {\n        // We worked our way to the root and didn't match `until`\n        return null\n      }\n    }\n\n    return parents\n  }\n\n  // Get referenced element form attribute value\n  reference(attr) {\n    attr = this.attr(attr)\n    if (!attr) return null\n\n    const m = (attr + '').match(reference)\n    return m ? makeInstance(m[1]) : null\n  }\n\n  // Get parent document\n  root() {\n    const p = this.parent(getClass(root))\n    return p && p.root()\n  }\n\n  // set given data to the elements data property\n  setData(o) {\n    this.dom = o\n    return this\n  }\n\n  // Set element size to given width and height\n  size(width, height) {\n    const p = proportionalSize(this, width, height)\n\n    return this.width(new SVGNumber(p.width)).height(new SVGNumber(p.height))\n  }\n\n  // Set width of element\n  width(width) {\n    return this.attr('width', width)\n  }\n\n  // write svgjs data to the dom\n  writeDataToDom() {\n    writeDataToDom(this, this.dom)\n    return super.writeDataToDom()\n  }\n\n  // Move over x-axis\n  x(x) {\n    return this.attr('x', x)\n  }\n\n  // Move over y-axis\n  y(y) {\n    return this.attr('y', y)\n  }\n}\n\nextend(Element, {\n  bbox,\n  rbox,\n  inside,\n  point,\n  ctm,\n  screenCTM\n})\n\nregister(Element, 'Element')\n","import { registerMethods } from '../../utils/methods.js'\nimport Color from '../../types/Color.js'\nimport Element from '../../elements/Element.js'\nimport Matrix from '../../types/Matrix.js'\nimport Point from '../../types/Point.js'\nimport SVGNumber from '../../types/SVGNumber.js'\n\n// Define list of available attributes for stroke and fill\nconst sugar = {\n  stroke: [\n    'color',\n    'width',\n    'opacity',\n    'linecap',\n    'linejoin',\n    'miterlimit',\n    'dasharray',\n    'dashoffset'\n  ],\n  fill: ['color', 'opacity', 'rule'],\n  prefix: function (t, a) {\n    return a === 'color' ? t : t + '-' + a\n  }\n}\n\n// Add sugar for fill and stroke\n;['fill', 'stroke'].forEach(function (m) {\n  const extension = {}\n  let i\n\n  extension[m] = function (o) {\n    if (typeof o === 'undefined') {\n      return this.attr(m)\n    }\n    if (\n      typeof o === 'string' ||\n      o instanceof Color ||\n      Color.isRgb(o) ||\n      o instanceof Element\n    ) {\n      this.attr(m, o)\n    } else {\n      // set all attributes from sugar.fill and sugar.stroke list\n      for (i = sugar[m].length - 1; i >= 0; i--) {\n        if (o[sugar[m][i]] != null) {\n          this.attr(sugar.prefix(m, sugar[m][i]), o[sugar[m][i]])\n        }\n      }\n    }\n\n    return this\n  }\n\n  registerMethods(['Element', 'Runner'], extension)\n})\n\nregisterMethods(['Element', 'Runner'], {\n  // Let the user set the matrix directly\n  matrix: function (mat, b, c, d, e, f) {\n    // Act as a getter\n    if (mat == null) {\n      return new Matrix(this)\n    }\n\n    // Act as a setter, the user can pass a matrix or a set of numbers\n    return this.attr('transform', new Matrix(mat, b, c, d, e, f))\n  },\n\n  // Map rotation to transform\n  rotate: function (angle, cx, cy) {\n    return this.transform({ rotate: angle, ox: cx, oy: cy }, true)\n  },\n\n  // Map skew to transform\n  skew: function (x, y, cx, cy) {\n    return arguments.length === 1 || arguments.length === 3\n      ? this.transform({ skew: x, ox: y, oy: cx }, true)\n      : this.transform({ skew: [x, y], ox: cx, oy: cy }, true)\n  },\n\n  shear: function (lam, cx, cy) {\n    return this.transform({ shear: lam, ox: cx, oy: cy }, true)\n  },\n\n  // Map scale to transform\n  scale: function (x, y, cx, cy) {\n    return arguments.length === 1 || arguments.length === 3\n      ? this.transform({ scale: x, ox: y, oy: cx }, true)\n      : this.transform({ scale: [x, y], ox: cx, oy: cy }, true)\n  },\n\n  // Map translate to transform\n  translate: function (x, y) {\n    return this.transform({ translate: [x, y] }, true)\n  },\n\n  // Map relative translations to transform\n  relative: function (x, y) {\n    return this.transform({ relative: [x, y] }, true)\n  },\n\n  // Map flip to transform\n  flip: function (direction = 'both', origin = 'center') {\n    if ('xybothtrue'.indexOf(direction) === -1) {\n      origin = direction\n      direction = 'both'\n    }\n\n    return this.transform({ flip: direction, origin: origin }, true)\n  },\n\n  // Opacity\n  opacity: function (value) {\n    return this.attr('opacity', value)\n  }\n})\n\nregisterMethods('radius', {\n  // Add x and y radius\n  radius: function (x, y = x) {\n    const type = (this._element || this).type\n    return type === 'radialGradient'\n      ? this.attr('r', new SVGNumber(x))\n      : this.rx(x).ry(y)\n  }\n})\n\nregisterMethods('Path', {\n  // Get path length\n  length: function () {\n    return this.node.getTotalLength()\n  },\n  // Get point at length\n  pointAt: function (length) {\n    return new Point(this.node.getPointAtLength(length))\n  }\n})\n\nregisterMethods(['Element', 'Runner'], {\n  // Set font\n  font: function (a, v) {\n    if (typeof a === 'object') {\n      for (v in a) this.font(v, a[v])\n      return this\n    }\n\n    return a === 'leading'\n      ? this.leading(v)\n      : a === 'anchor'\n        ? this.attr('text-anchor', v)\n        : a === 'size' ||\n            a === 'family' ||\n            a === 'weight' ||\n            a === 'stretch' ||\n            a === 'variant' ||\n            a === 'style'\n          ? this.attr('font-' + a, v)\n          : this.attr(a, v)\n  }\n})\n\n// Add events to elements\nconst methods = [\n  'click',\n  'dblclick',\n  'mousedown',\n  'mouseup',\n  'mouseover',\n  'mouseout',\n  'mousemove',\n  'mouseenter',\n  'mouseleave',\n  'touchstart',\n  'touchmove',\n  'touchleave',\n  'touchend',\n  'touchcancel',\n  'contextmenu',\n  'wheel',\n  'pointerdown',\n  'pointermove',\n  'pointerup',\n  'pointerleave',\n  'pointercancel'\n].reduce(function (last, event) {\n  // add event to Element\n  const fn = function (f) {\n    if (f === null) {\n      this.off(event)\n    } else {\n      this.on(event, f)\n    }\n    return this\n  }\n\n  last[event] = fn\n  return last\n}, {})\n\nregisterMethods('Element', methods)\n","import { getOrigin, isDescriptive } from '../../utils/utils.js'\nimport { delimiter, transforms } from '../core/regex.js'\nimport { registerMethods } from '../../utils/methods.js'\nimport Matrix from '../../types/Matrix.js'\n\n// Reset all transformations\nexport function untransform() {\n  return this.attr('transform', null)\n}\n\n// merge the whole transformation chain into one matrix and returns it\nexport function matrixify() {\n  const matrix = (this.attr('transform') || '')\n    // split transformations\n    .split(transforms)\n    .slice(0, -1)\n    .map(function (str) {\n      // generate key => value pairs\n      const kv = str.trim().split('(')\n      return [\n        kv[0],\n        kv[1].split(delimiter).map(function (str) {\n          return parseFloat(str)\n        })\n      ]\n    })\n    .reverse()\n    // merge every transformation into one matrix\n    .reduce(function (matrix, transform) {\n      if (transform[0] === 'matrix') {\n        return matrix.lmultiply(Matrix.fromArray(transform[1]))\n      }\n      return matrix[transform[0]].apply(matrix, transform[1])\n    }, new Matrix())\n\n  return matrix\n}\n\n// add an element to another parent without changing the visual representation on the screen\nexport function toParent(parent, i) {\n  if (this === parent) return this\n\n  if (isDescriptive(this.node)) return this.addTo(parent, i)\n\n  const ctm = this.screenCTM()\n  const pCtm = parent.screenCTM().inverse()\n\n  this.addTo(parent, i).untransform().transform(pCtm.multiply(ctm))\n\n  return this\n}\n\n// same as above with parent equals root-svg\nexport function toRoot(i) {\n  return this.toParent(this.root(), i)\n}\n\n// Add transformations\nexport function transform(o, relative) {\n  // Act as a getter if no object was passed\n  if (o == null || typeof o === 'string') {\n    const decomposed = new Matrix(this).decompose()\n    return o == null ? decomposed : decomposed[o]\n  }\n\n  if (!Matrix.isMatrixLike(o)) {\n    // Set the origin according to the defined transform\n    o = { ...o, origin: getOrigin(o, this) }\n  }\n\n  // The user can pass a boolean, an Element or an Matrix or nothing\n  const cleanRelative = relative === true ? this : relative || false\n  const result = new Matrix(cleanRelative).transform(o)\n  return this.attr('transform', result)\n}\n\nregisterMethods('Element', {\n  untransform,\n  matrixify,\n  toParent,\n  toRoot,\n  transform\n})\n","import { register } from '../utils/adopter.js'\nimport Element from './Element.js'\n\nexport default class Container extends Element {\n  flatten() {\n    this.each(function () {\n      if (this instanceof Container) {\n        return this.flatten().ungroup()\n      }\n    })\n\n    return this\n  }\n\n  ungroup(parent = this.parent(), index = parent.index(this)) {\n    // when parent != this, we want append all elements to the end\n    index = index === -1 ? parent.children().length : index\n\n    this.each(function (i, children) {\n      // reverse each\n      return children[children.length - i - 1].toParent(parent, index)\n    })\n\n    return this.remove()\n  }\n}\n\nregister(Container, 'Container')\n","import { nodeOrNew, register } from '../utils/adopter.js'\nimport Container from './Container.js'\n\nexport default class Defs extends Container {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('defs', node), attrs)\n  }\n\n  flatten() {\n    return this\n  }\n\n  ungroup() {\n    return this\n  }\n}\n\nregister(Defs, 'Defs')\n","import { register } from '../utils/adopter.js'\nimport Element from './Element.js'\n\nexport default class Shape extends Element {}\n\nregister(Shape, 'Shape')\n","import SVGNumber from '../../types/SVGNumber.js'\n\n// Radius x value\nexport function rx(rx) {\n  return this.attr('rx', rx)\n}\n\n// Radius y value\nexport function ry(ry) {\n  return this.attr('ry', ry)\n}\n\n// Move over x-axis\nexport function x(x) {\n  return x == null ? this.cx() - this.rx() : this.cx(x + this.rx())\n}\n\n// Move over y-axis\nexport function y(y) {\n  return y == null ? this.cy() - this.ry() : this.cy(y + this.ry())\n}\n\n// Move by center over x-axis\nexport function cx(x) {\n  return this.attr('cx', x)\n}\n\n// Move by center over y-axis\nexport function cy(y) {\n  return this.attr('cy', y)\n}\n\n// Set width of element\nexport function width(width) {\n  return width == null ? this.rx() * 2 : this.rx(new SVGNumber(width).divide(2))\n}\n\n// Set height of element\nexport function height(height) {\n  return height == null\n    ? this.ry() * 2\n    : this.ry(new SVGNumber(height).divide(2))\n}\n","import {\n  extend,\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck\n} from '../utils/adopter.js'\nimport { proportionalSize } from '../utils/utils.js'\nimport { registerMethods } from '../utils/methods.js'\nimport SVGNumber from '../types/SVGNumber.js'\nimport Shape from './Shape.js'\nimport * as circled from '../modules/core/circled.js'\n\nexport default class Ellipse extends Shape {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('ellipse', node), attrs)\n  }\n\n  size(width, height) {\n    const p = proportionalSize(this, width, height)\n\n    return this.rx(new SVGNumber(p.width).divide(2)).ry(\n      new SVGNumber(p.height).divide(2)\n    )\n  }\n}\n\nextend(Ellipse, circled)\n\nregisterMethods('Container', {\n  // Create an ellipse\n  ellipse: wrapWithAttrCheck(function (width = 0, height = width) {\n    return this.put(new Ellipse()).size(width, height).move(0, 0)\n  })\n})\n\nregister(Ellipse, 'Ellipse')\n","import Dom from './Dom.js'\nimport { globals } from '../utils/window.js'\nimport { register, create } from '../utils/adopter.js'\n\nclass Fragment extends Dom {\n  constructor(node = globals.document.createDocumentFragment()) {\n    super(node)\n  }\n\n  // Import / Export raw xml\n  xml(xmlOrFn, outerXML, ns) {\n    if (typeof xmlOrFn === 'boolean') {\n      ns = outerXML\n      outerXML = xmlOrFn\n      xmlOrFn = null\n    }\n\n    // because this is a fragment we have to put all elements into a wrapper first\n    // before we can get the innerXML from it\n    if (xmlOrFn == null || typeof xmlOrFn === 'function') {\n      const wrapper = new Dom(create('wrapper', ns))\n      wrapper.add(this.node.cloneNode(true))\n\n      return wrapper.xml(false, ns)\n    }\n\n    // Act as setter if we got a string\n    return super.xml(xmlOrFn, false, ns)\n  }\n}\n\nregister(Fragment, 'Fragment')\n\nexport default Fragment\n","import SVGNumber from '../../types/SVGNumber.js'\n\nexport function from(x, y) {\n  return (this._element || this).type === 'radialGradient'\n    ? this.attr({ fx: new SVGNumber(x), fy: new SVGNumber(y) })\n    : this.attr({ x1: new SVGNumber(x), y1: new SVGNumber(y) })\n}\n\nexport function to(x, y) {\n  return (this._element || this).type === 'radialGradient'\n    ? this.attr({ cx: new SVGNumber(x), cy: new SVGNumber(y) })\n    : this.attr({ x2: new SVGNumber(x), y2: new SVGNumber(y) })\n}\n","import {\n  extend,\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck\n} from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Box from '../types/Box.js'\nimport Container from './Container.js'\nimport baseFind from '../modules/core/selector.js'\nimport * as gradiented from '../modules/core/gradiented.js'\n\nexport default class Gradient extends Container {\n  constructor(type, attrs) {\n    super(\n      nodeOrNew(type + 'Gradient', typeof type === 'string' ? null : type),\n      attrs\n    )\n  }\n\n  // custom attr to handle transform\n  attr(a, b, c) {\n    if (a === 'transform') a = 'gradientTransform'\n    return super.attr(a, b, c)\n  }\n\n  bbox() {\n    return new Box()\n  }\n\n  targets() {\n    return baseFind('svg [fill*=' + this.id() + ']')\n  }\n\n  // Alias string conversion to fill\n  toString() {\n    return this.url()\n  }\n\n  // Update gradient\n  update(block) {\n    // remove all stops\n    this.clear()\n\n    // invoke passed block\n    if (typeof block === 'function') {\n      block.call(this, this)\n    }\n\n    return this\n  }\n\n  // Return the fill id\n  url() {\n    return 'url(#' + this.id() + ')'\n  }\n}\n\nextend(Gradient, gradiented)\n\nregisterMethods({\n  Container: {\n    // Create gradient element in defs\n    gradient(...args) {\n      return this.defs().gradient(...args)\n    }\n  },\n  // define gradient\n  Defs: {\n    gradient: wrapWithAttrCheck(function (type, block) {\n      return this.put(new Gradient(type)).update(block)\n    })\n  }\n})\n\nregister(Gradient, 'Gradient')\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Box from '../types/Box.js'\nimport Container from './Container.js'\nimport baseFind from '../modules/core/selector.js'\n\nexport default class Pattern extends Container {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('pattern', node), attrs)\n  }\n\n  // custom attr to handle transform\n  attr(a, b, c) {\n    if (a === 'transform') a = 'patternTransform'\n    return super.attr(a, b, c)\n  }\n\n  bbox() {\n    return new Box()\n  }\n\n  targets() {\n    return baseFind('svg [fill*=' + this.id() + ']')\n  }\n\n  // Alias string conversion to fill\n  toString() {\n    return this.url()\n  }\n\n  // Update pattern by rebuilding\n  update(block) {\n    // remove content\n    this.clear()\n\n    // invoke passed block\n    if (typeof block === 'function') {\n      block.call(this, this)\n    }\n\n    return this\n  }\n\n  // Return the fill id\n  url() {\n    return 'url(#' + this.id() + ')'\n  }\n}\n\nregisterMethods({\n  Container: {\n    // Create pattern element in defs\n    pattern(...args) {\n      return this.defs().pattern(...args)\n    }\n  },\n  Defs: {\n    pattern: wrapWithAttrCheck(function (width, height, block) {\n      return this.put(new Pattern()).update(block).attr({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        patternUnits: 'userSpaceOnUse'\n      })\n    })\n  }\n})\n\nregister(Pattern, 'Pattern')\n","import { isImage } from '../modules/core/regex.js'\nimport { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\nimport { off, on } from '../modules/core/event.js'\nimport { registerAttrHook } from '../modules/core/attr.js'\nimport { registerMethods } from '../utils/methods.js'\nimport { xlink } from '../modules/core/namespaces.js'\nimport Pattern from './Pattern.js'\nimport Shape from './Shape.js'\nimport { globals } from '../utils/window.js'\n\nexport default class Image extends Shape {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('image', node), attrs)\n  }\n\n  // (re)load image\n  load(url, callback) {\n    if (!url) return this\n\n    const img = new globals.window.Image()\n\n    on(\n      img,\n      'load',\n      function (e) {\n        const p = this.parent(Pattern)\n\n        // ensure image size\n        if (this.width() === 0 && this.height() === 0) {\n          this.size(img.width, img.height)\n        }\n\n        if (p instanceof Pattern) {\n          // ensure pattern size if not set\n          if (p.width() === 0 && p.height() === 0) {\n            p.size(this.width(), this.height())\n          }\n        }\n\n        if (typeof callback === 'function') {\n          callback.call(this, e)\n        }\n      },\n      this\n    )\n\n    on(img, 'load error', function () {\n      // dont forget to unbind memory leaking events\n      off(img)\n    })\n\n    return this.attr('href', (img.src = url), xlink)\n  }\n}\n\nregisterAttrHook(function (attr, val, _this) {\n  // convert image fill and stroke to patterns\n  if (attr === 'fill' || attr === 'stroke') {\n    if (isImage.test(val)) {\n      val = _this.root().defs().image(val)\n    }\n  }\n\n  if (val instanceof Image) {\n    val = _this\n      .root()\n      .defs()\n      .pattern(0, 0, (pattern) => {\n        pattern.add(val)\n      })\n  }\n\n  return val\n})\n\nregisterMethods({\n  Container: {\n    // create image element, load image and set its size\n    image: wrapWithAttrCheck(function (source, callback) {\n      return this.put(new Image()).size(0, 0).load(source, callback)\n    })\n  }\n})\n\nregister(Image, 'Image')\n","import { delimiter } from '../modules/core/regex.js'\nimport SVGArray from './SVGArray.js'\nimport Box from './Box.js'\nimport Matrix from './Matrix.js'\n\nexport default class PointArray extends SVGArray {\n  // Get bounding box of points\n  bbox() {\n    let maxX = -Infinity\n    let maxY = -Infinity\n    let minX = Infinity\n    let minY = Infinity\n    this.forEach(function (el) {\n      maxX = Math.max(el[0], maxX)\n      maxY = Math.max(el[1], maxY)\n      minX = Math.min(el[0], minX)\n      minY = Math.min(el[1], minY)\n    })\n    return new Box(minX, minY, maxX - minX, maxY - minY)\n  }\n\n  // Move point string\n  move(x, y) {\n    const box = this.bbox()\n\n    // get relative offset\n    x -= box.x\n    y -= box.y\n\n    // move every point\n    if (!isNaN(x) && !isNaN(y)) {\n      for (let i = this.length - 1; i >= 0; i--) {\n        this[i] = [this[i][0] + x, this[i][1] + y]\n      }\n    }\n\n    return this\n  }\n\n  // Parse point string and flat array\n  parse(array = [0, 0]) {\n    const points = []\n\n    // if it is an array, we flatten it and therefore clone it to 1 depths\n    if (array instanceof Array) {\n      array = Array.prototype.concat.apply([], array)\n    } else {\n      // Else, it is considered as a string\n      // parse points\n      array = array.trim().split(delimiter).map(parseFloat)\n    }\n\n    // validate points - https://svgwg.org/svg2-draft/shapes.html#DataTypePoints\n    // Odd number of coordinates is an error. In such cases, drop the last odd coordinate.\n    if (array.length % 2 !== 0) array.pop()\n\n    // wrap points in two-tuples\n    for (let i = 0, len = array.length; i < len; i = i + 2) {\n      points.push([array[i], array[i + 1]])\n    }\n\n    return points\n  }\n\n  // Resize poly string\n  size(width, height) {\n    let i\n    const box = this.bbox()\n\n    // recalculate position of all points according to new size\n    for (i = this.length - 1; i >= 0; i--) {\n      if (box.width)\n        this[i][0] = ((this[i][0] - box.x) * width) / box.width + box.x\n      if (box.height)\n        this[i][1] = ((this[i][1] - box.y) * height) / box.height + box.y\n    }\n\n    return this\n  }\n\n  // Convert array to line object\n  toLine() {\n    return {\n      x1: this[0][0],\n      y1: this[0][1],\n      x2: this[1][0],\n      y2: this[1][1]\n    }\n  }\n\n  // Convert array to string\n  toString() {\n    const array = []\n    // convert to a poly point string\n    for (let i = 0, il = this.length; i < il; i++) {\n      array.push(this[i].join(','))\n    }\n\n    return array.join(' ')\n  }\n\n  transform(m) {\n    return this.clone().transformO(m)\n  }\n\n  // transform points with matrix (similar to Point.transform)\n  transformO(m) {\n    if (!Matrix.isMatrixLike(m)) {\n      m = new Matrix(m)\n    }\n\n    for (let i = this.length; i--; ) {\n      // Perform the matrix multiplication\n      const [x, y] = this[i]\n      this[i][0] = m.a * x + m.c * y + m.e\n      this[i][1] = m.b * x + m.d * y + m.f\n    }\n\n    return this\n  }\n}\n","import PointArray from '../../types/PointArray.js'\n\nexport const MorphArray = PointArray\n\n// Move by left top corner over x-axis\nexport function x(x) {\n  return x == null ? this.bbox().x : this.move(x, this.bbox().y)\n}\n\n// Move by left top corner over y-axis\nexport function y(y) {\n  return y == null ? this.bbox().y : this.move(this.bbox().x, y)\n}\n\n// Set width of element\nexport function width(width) {\n  const b = this.bbox()\n  return width == null ? b.width : this.size(width, b.height)\n}\n\n// Set height of element\nexport function height(height) {\n  const b = this.bbox()\n  return height == null ? b.height : this.size(b.width, height)\n}\n","import {\n  extend,\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck\n} from '../utils/adopter.js'\nimport { proportionalSize } from '../utils/utils.js'\nimport { registerMethods } from '../utils/methods.js'\nimport PointArray from '../types/PointArray.js'\nimport Shape from './Shape.js'\nimport * as pointed from '../modules/core/pointed.js'\n\nexport default class Line extends Shape {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('line', node), attrs)\n  }\n\n  // Get array\n  array() {\n    return new PointArray([\n      [this.attr('x1'), this.attr('y1')],\n      [this.attr('x2'), this.attr('y2')]\n    ])\n  }\n\n  // Move by left top corner\n  move(x, y) {\n    return this.attr(this.array().move(x, y).toLine())\n  }\n\n  // Overwrite native plot() method\n  plot(x1, y1, x2, y2) {\n    if (x1 == null) {\n      return this.array()\n    } else if (typeof y1 !== 'undefined') {\n      x1 = { x1, y1, x2, y2 }\n    } else {\n      x1 = new PointArray(x1).toLine()\n    }\n\n    return this.attr(x1)\n  }\n\n  // Set element size to given width and height\n  size(width, height) {\n    const p = proportionalSize(this, width, height)\n    return this.attr(this.array().size(p.width, p.height).toLine())\n  }\n}\n\nextend(Line, pointed)\n\nregisterMethods({\n  Container: {\n    // Create a line element\n    line: wrapWithAttrCheck(function (...args) {\n      // make sure plot is called as a setter\n      // x1 is not necessarily a number, it can also be an array, a string and a PointArray\n      return Line.prototype.plot.apply(\n        this.put(new Line()),\n        args[0] != null ? args : [0, 0, 0, 0]\n      )\n    })\n  }\n})\n\nregister(Line, 'Line')\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Container from './Container.js'\n\nexport default class Marker extends Container {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('marker', node), attrs)\n  }\n\n  // Set height of element\n  height(height) {\n    return this.attr('markerHeight', height)\n  }\n\n  orient(orient) {\n    return this.attr('orient', orient)\n  }\n\n  // Set marker refX and refY\n  ref(x, y) {\n    return this.attr('refX', x).attr('refY', y)\n  }\n\n  // Return the fill id\n  toString() {\n    return 'url(#' + this.id() + ')'\n  }\n\n  // Update marker\n  update(block) {\n    // remove all content\n    this.clear()\n\n    // invoke passed block\n    if (typeof block === 'function') {\n      block.call(this, this)\n    }\n\n    return this\n  }\n\n  // Set width of element\n  width(width) {\n    return this.attr('markerWidth', width)\n  }\n}\n\nregisterMethods({\n  Container: {\n    marker(...args) {\n      // Create marker element in defs\n      return this.defs().marker(...args)\n    }\n  },\n  Defs: {\n    // Create marker\n    marker: wrapWithAttrCheck(function (width, height, block) {\n      // Set default viewbox to match the width and height, set ref to cx and cy and set orient to auto\n      return this.put(new Marker())\n        .size(width, height)\n        .ref(width / 2, height / 2)\n        .viewbox(0, 0, width, height)\n        .attr('orient', 'auto')\n        .update(block)\n    })\n  },\n  marker: {\n    // Create and attach markers\n    marker(marker, width, height, block) {\n      let attr = ['marker']\n\n      // Build attribute name\n      if (marker !== 'all') attr.push(marker)\n      attr = attr.join('-')\n\n      // Set marker attribute\n      marker =\n        arguments[1] instanceof Marker\n          ? arguments[1]\n          : this.defs().marker(width, height, block)\n\n      return this.attr(attr, marker)\n    }\n  }\n})\n\nregister(Marker, 'Marker')\n","import { timeline } from '../modules/core/defaults.js'\nimport { extend } from '../utils/adopter.js'\n\n/***\nBase Class\n==========\nThe base stepper class that will be\n***/\n\nfunction makeSetterGetter(k, f) {\n  return function (v) {\n    if (v == null) return this[k]\n    this[k] = v\n    if (f) f.call(this)\n    return this\n  }\n}\n\nexport const easing = {\n  '-': function (pos) {\n    return pos\n  },\n  '<>': function (pos) {\n    return -Math.cos(pos * Math.PI) / 2 + 0.5\n  },\n  '>': function (pos) {\n    return Math.sin((pos * Math.PI) / 2)\n  },\n  '<': function (pos) {\n    return -Math.cos((pos * Math.PI) / 2) + 1\n  },\n  bezier: function (x1, y1, x2, y2) {\n    // see https://www.w3.org/TR/css-easing-1/#cubic-bezier-algo\n    return function (t) {\n      if (t < 0) {\n        if (x1 > 0) {\n          return (y1 / x1) * t\n        } else if (x2 > 0) {\n          return (y2 / x2) * t\n        } else {\n          return 0\n        }\n      } else if (t > 1) {\n        if (x2 < 1) {\n          return ((1 - y2) / (1 - x2)) * t + (y2 - x2) / (1 - x2)\n        } else if (x1 < 1) {\n          return ((1 - y1) / (1 - x1)) * t + (y1 - x1) / (1 - x1)\n        } else {\n          return 1\n        }\n      } else {\n        return 3 * t * (1 - t) ** 2 * y1 + 3 * t ** 2 * (1 - t) * y2 + t ** 3\n      }\n    }\n  },\n  // see https://www.w3.org/TR/css-easing-1/#step-timing-function-algo\n  steps: function (steps, stepPosition = 'end') {\n    // deal with \"jump-\" prefix\n    stepPosition = stepPosition.split('-').reverse()[0]\n\n    let jumps = steps\n    if (stepPosition === 'none') {\n      --jumps\n    } else if (stepPosition === 'both') {\n      ++jumps\n    }\n\n    // The beforeFlag is essentially useless\n    return (t, beforeFlag = false) => {\n      // Step is called currentStep in referenced url\n      let step = Math.floor(t * steps)\n      const jumping = (t * step) % 1 === 0\n\n      if (stepPosition === 'start' || stepPosition === 'both') {\n        ++step\n      }\n\n      if (beforeFlag && jumping) {\n        --step\n      }\n\n      if (t >= 0 && step < 0) {\n        step = 0\n      }\n\n      if (t <= 1 && step > jumps) {\n        step = jumps\n      }\n\n      return step / jumps\n    }\n  }\n}\n\nexport class Stepper {\n  done() {\n    return false\n  }\n}\n\n/***\nEasing Functions\n================\n***/\n\nexport class Ease extends Stepper {\n  constructor(fn = timeline.ease) {\n    super()\n    this.ease = easing[fn] || fn\n  }\n\n  step(from, to, pos) {\n    if (typeof from !== 'number') {\n      return pos < 1 ? from : to\n    }\n    return from + (to - from) * this.ease(pos)\n  }\n}\n\n/***\nController Types\n================\n***/\n\nexport class Controller extends Stepper {\n  constructor(fn) {\n    super()\n    this.stepper = fn\n  }\n\n  done(c) {\n    return c.done\n  }\n\n  step(current, target, dt, c) {\n    return this.stepper(current, target, dt, c)\n  }\n}\n\nfunction recalculate() {\n  // Apply the default parameters\n  const duration = (this._duration || 500) / 1000\n  const overshoot = this._overshoot || 0\n\n  // Calculate the PID natural response\n  const eps = 1e-10\n  const pi = Math.PI\n  const os = Math.log(overshoot / 100 + eps)\n  const zeta = -os / Math.sqrt(pi * pi + os * os)\n  const wn = 3.9 / (zeta * duration)\n\n  // Calculate the Spring values\n  this.d = 2 * zeta * wn\n  this.k = wn * wn\n}\n\nexport class Spring extends Controller {\n  constructor(duration = 500, overshoot = 0) {\n    super()\n    this.duration(duration).overshoot(overshoot)\n  }\n\n  step(current, target, dt, c) {\n    if (typeof current === 'string') return current\n    c.done = dt === Infinity\n    if (dt === Infinity) return target\n    if (dt === 0) return current\n\n    if (dt > 100) dt = 16\n\n    dt /= 1000\n\n    // Get the previous velocity\n    const velocity = c.velocity || 0\n\n    // Apply the control to get the new position and store it\n    const acceleration = -this.d * velocity - this.k * (current - target)\n    const newPosition = current + velocity * dt + (acceleration * dt * dt) / 2\n\n    // Store the velocity\n    c.velocity = velocity + acceleration * dt\n\n    // Figure out if we have converged, and if so, pass the value\n    c.done = Math.abs(target - newPosition) + Math.abs(velocity) < 0.002\n    return c.done ? target : newPosition\n  }\n}\n\nextend(Spring, {\n  duration: makeSetterGetter('_duration', recalculate),\n  overshoot: makeSetterGetter('_overshoot', recalculate)\n})\n\nexport class PID extends Controller {\n  constructor(p = 0.1, i = 0.01, d = 0, windup = 1000) {\n    super()\n    this.p(p).i(i).d(d).windup(windup)\n  }\n\n  step(current, target, dt, c) {\n    if (typeof current === 'string') return current\n    c.done = dt === Infinity\n\n    if (dt === Infinity) return target\n    if (dt === 0) return current\n\n    const p = target - current\n    let i = (c.integral || 0) + p * dt\n    const d = (p - (c.error || 0)) / dt\n    const windup = this._windup\n\n    // antiwindup\n    if (windup !== false) {\n      i = Math.max(-windup, Math.min(i, windup))\n    }\n\n    c.error = p\n    c.integral = i\n\n    c.done = Math.abs(p) < 0.001\n\n    return c.done ? target : current + (this.P * p + this.I * i + this.D * d)\n  }\n}\n\nextend(PID, {\n  windup: makeSetterGetter('_windup'),\n  p: makeSetterGetter('P'),\n  i: makeSetterGetter('I'),\n  d: makeSetterGetter('D')\n})\n","import { isPathLetter } from '../modules/core/regex.js'\nimport Point from '../types/Point.js'\n\nconst segmentParameters = {\n  M: 2,\n  L: 2,\n  H: 1,\n  V: 1,\n  C: 6,\n  S: 4,\n  Q: 4,\n  T: 2,\n  A: 7,\n  Z: 0\n}\n\nconst pathHandlers = {\n  M: function (c, p, p0) {\n    p.x = p0.x = c[0]\n    p.y = p0.y = c[1]\n\n    return ['M', p.x, p.y]\n  },\n  L: function (c, p) {\n    p.x = c[0]\n    p.y = c[1]\n    return ['L', c[0], c[1]]\n  },\n  H: function (c, p) {\n    p.x = c[0]\n    return ['H', c[0]]\n  },\n  V: function (c, p) {\n    p.y = c[0]\n    return ['V', c[0]]\n  },\n  C: function (c, p) {\n    p.x = c[4]\n    p.y = c[5]\n    return ['C', c[0], c[1], c[2], c[3], c[4], c[5]]\n  },\n  S: function (c, p) {\n    p.x = c[2]\n    p.y = c[3]\n    return ['S', c[0], c[1], c[2], c[3]]\n  },\n  Q: function (c, p) {\n    p.x = c[2]\n    p.y = c[3]\n    return ['Q', c[0], c[1], c[2], c[3]]\n  },\n  T: function (c, p) {\n    p.x = c[0]\n    p.y = c[1]\n    return ['T', c[0], c[1]]\n  },\n  Z: function (c, p, p0) {\n    p.x = p0.x\n    p.y = p0.y\n    return ['Z']\n  },\n  A: function (c, p) {\n    p.x = c[5]\n    p.y = c[6]\n    return ['A', c[0], c[1], c[2], c[3], c[4], c[5], c[6]]\n  }\n}\n\nconst mlhvqtcsaz = 'mlhvqtcsaz'.split('')\n\nfor (let i = 0, il = mlhvqtcsaz.length; i < il; ++i) {\n  pathHandlers[mlhvqtcsaz[i]] = (function (i) {\n    return function (c, p, p0) {\n      if (i === 'H') c[0] = c[0] + p.x\n      else if (i === 'V') c[0] = c[0] + p.y\n      else if (i === 'A') {\n        c[5] = c[5] + p.x\n        c[6] = c[6] + p.y\n      } else {\n        for (let j = 0, jl = c.length; j < jl; ++j) {\n          c[j] = c[j] + (j % 2 ? p.y : p.x)\n        }\n      }\n\n      return pathHandlers[i](c, p, p0)\n    }\n  })(mlhvqtcsaz[i].toUpperCase())\n}\n\nfunction makeAbsolut(parser) {\n  const command = parser.segment[0]\n  return pathHandlers[command](parser.segment.slice(1), parser.p, parser.p0)\n}\n\nfunction segmentComplete(parser) {\n  return (\n    parser.segment.length &&\n    parser.segment.length - 1 ===\n      segmentParameters[parser.segment[0].toUpperCase()]\n  )\n}\n\nfunction startNewSegment(parser, token) {\n  parser.inNumber && finalizeNumber(parser, false)\n  const pathLetter = isPathLetter.test(token)\n\n  if (pathLetter) {\n    parser.segment = [token]\n  } else {\n    const lastCommand = parser.lastCommand\n    const small = lastCommand.toLowerCase()\n    const isSmall = lastCommand === small\n    parser.segment = [small === 'm' ? (isSmall ? 'l' : 'L') : lastCommand]\n  }\n\n  parser.inSegment = true\n  parser.lastCommand = parser.segment[0]\n\n  return pathLetter\n}\n\nfunction finalizeNumber(parser, inNumber) {\n  if (!parser.inNumber) throw new Error('Parser Error')\n  parser.number && parser.segment.push(parseFloat(parser.number))\n  parser.inNumber = inNumber\n  parser.number = ''\n  parser.pointSeen = false\n  parser.hasExponent = false\n\n  if (segmentComplete(parser)) {\n    finalizeSegment(parser)\n  }\n}\n\nfunction finalizeSegment(parser) {\n  parser.inSegment = false\n  if (parser.absolute) {\n    parser.segment = makeAbsolut(parser)\n  }\n  parser.segments.push(parser.segment)\n}\n\nfunction isArcFlag(parser) {\n  if (!parser.segment.length) return false\n  const isArc = parser.segment[0].toUpperCase() === 'A'\n  const length = parser.segment.length\n\n  return isArc && (length === 4 || length === 5)\n}\n\nfunction isExponential(parser) {\n  return parser.lastToken.toUpperCase() === 'E'\n}\n\nconst pathDelimiters = new Set([' ', ',', '\\t', '\\n', '\\r', '\\f'])\nexport function pathParser(d, toAbsolute = true) {\n  let index = 0\n  let token = ''\n  const parser = {\n    segment: [],\n    inNumber: false,\n    number: '',\n    lastToken: '',\n    inSegment: false,\n    segments: [],\n    pointSeen: false,\n    hasExponent: false,\n    absolute: toAbsolute,\n    p0: new Point(),\n    p: new Point()\n  }\n\n  while (((parser.lastToken = token), (token = d.charAt(index++)))) {\n    if (!parser.inSegment) {\n      if (startNewSegment(parser, token)) {\n        continue\n      }\n    }\n\n    if (token === '.') {\n      if (parser.pointSeen || parser.hasExponent) {\n        finalizeNumber(parser, false)\n        --index\n        continue\n      }\n      parser.inNumber = true\n      parser.pointSeen = true\n      parser.number += token\n      continue\n    }\n\n    if (!isNaN(parseInt(token))) {\n      if (parser.number === '0' || isArcFlag(parser)) {\n        parser.inNumber = true\n        parser.number = token\n        finalizeNumber(parser, true)\n        continue\n      }\n\n      parser.inNumber = true\n      parser.number += token\n      continue\n    }\n\n    if (pathDelimiters.has(token)) {\n      if (parser.inNumber) {\n        finalizeNumber(parser, false)\n      }\n      continue\n    }\n\n    if (token === '-' || token === '+') {\n      if (parser.inNumber && !isExponential(parser)) {\n        finalizeNumber(parser, false)\n        --index\n        continue\n      }\n      parser.number += token\n      parser.inNumber = true\n      continue\n    }\n\n    if (token.toUpperCase() === 'E') {\n      parser.number += token\n      parser.hasExponent = true\n      continue\n    }\n\n    if (isPathLetter.test(token)) {\n      if (parser.inNumber) {\n        finalizeNumber(parser, false)\n      } else if (!segmentComplete(parser)) {\n        throw new Error('parser Error')\n      } else {\n        finalizeSegment(parser)\n      }\n      --index\n    }\n  }\n\n  if (parser.inNumber) {\n    finalizeNumber(parser, false)\n  }\n\n  if (parser.inSegment && segmentComplete(parser)) {\n    finalizeSegment(parser)\n  }\n\n  return parser.segments\n}\n","import SVGArray from './SVGArray.js'\nimport parser from '../modules/core/parser.js'\nimport Box from './Box.js'\nimport { pathParser } from '../utils/pathParser.js'\n\nfunction arrayToString(a) {\n  let s = ''\n  for (let i = 0, il = a.length; i < il; i++) {\n    s += a[i][0]\n\n    if (a[i][1] != null) {\n      s += a[i][1]\n\n      if (a[i][2] != null) {\n        s += ' '\n        s += a[i][2]\n\n        if (a[i][3] != null) {\n          s += ' '\n          s += a[i][3]\n          s += ' '\n          s += a[i][4]\n\n          if (a[i][5] != null) {\n            s += ' '\n            s += a[i][5]\n            s += ' '\n            s += a[i][6]\n\n            if (a[i][7] != null) {\n              s += ' '\n              s += a[i][7]\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return s + ' '\n}\n\nexport default class PathArray extends SVGArray {\n  // Get bounding box of path\n  bbox() {\n    parser().path.setAttribute('d', this.toString())\n    return new Box(parser.nodes.path.getBBox())\n  }\n\n  // Move path string\n  move(x, y) {\n    // get bounding box of current situation\n    const box = this.bbox()\n\n    // get relative offset\n    x -= box.x\n    y -= box.y\n\n    if (!isNaN(x) && !isNaN(y)) {\n      // move every point\n      for (let l, i = this.length - 1; i >= 0; i--) {\n        l = this[i][0]\n\n        if (l === 'M' || l === 'L' || l === 'T') {\n          this[i][1] += x\n          this[i][2] += y\n        } else if (l === 'H') {\n          this[i][1] += x\n        } else if (l === 'V') {\n          this[i][1] += y\n        } else if (l === 'C' || l === 'S' || l === 'Q') {\n          this[i][1] += x\n          this[i][2] += y\n          this[i][3] += x\n          this[i][4] += y\n\n          if (l === 'C') {\n            this[i][5] += x\n            this[i][6] += y\n          }\n        } else if (l === 'A') {\n          this[i][6] += x\n          this[i][7] += y\n        }\n      }\n    }\n\n    return this\n  }\n\n  // Absolutize and parse path to array\n  parse(d = 'M0 0') {\n    if (Array.isArray(d)) {\n      d = Array.prototype.concat.apply([], d).toString()\n    }\n\n    return pathParser(d)\n  }\n\n  // Resize path string\n  size(width, height) {\n    // get bounding box of current situation\n    const box = this.bbox()\n    let i, l\n\n    // If the box width or height is 0 then we ignore\n    // transformations on the respective axis\n    box.width = box.width === 0 ? 1 : box.width\n    box.height = box.height === 0 ? 1 : box.height\n\n    // recalculate position of all points according to new size\n    for (i = this.length - 1; i >= 0; i--) {\n      l = this[i][0]\n\n      if (l === 'M' || l === 'L' || l === 'T') {\n        this[i][1] = ((this[i][1] - box.x) * width) / box.width + box.x\n        this[i][2] = ((this[i][2] - box.y) * height) / box.height + box.y\n      } else if (l === 'H') {\n        this[i][1] = ((this[i][1] - box.x) * width) / box.width + box.x\n      } else if (l === 'V') {\n        this[i][1] = ((this[i][1] - box.y) * height) / box.height + box.y\n      } else if (l === 'C' || l === 'S' || l === 'Q') {\n        this[i][1] = ((this[i][1] - box.x) * width) / box.width + box.x\n        this[i][2] = ((this[i][2] - box.y) * height) / box.height + box.y\n        this[i][3] = ((this[i][3] - box.x) * width) / box.width + box.x\n        this[i][4] = ((this[i][4] - box.y) * height) / box.height + box.y\n\n        if (l === 'C') {\n          this[i][5] = ((this[i][5] - box.x) * width) / box.width + box.x\n          this[i][6] = ((this[i][6] - box.y) * height) / box.height + box.y\n        }\n      } else if (l === 'A') {\n        // resize radii\n        this[i][1] = (this[i][1] * width) / box.width\n        this[i][2] = (this[i][2] * height) / box.height\n\n        // move position values\n        this[i][6] = ((this[i][6] - box.x) * width) / box.width + box.x\n        this[i][7] = ((this[i][7] - box.y) * height) / box.height + box.y\n      }\n    }\n\n    return this\n  }\n\n  // Convert array to string\n  toString() {\n    return arrayToString(this)\n  }\n}\n","import { Ease } from './Controller.js'\nimport {\n  delimiter,\n  numberAndUnit,\n  isPathLetter\n} from '../modules/core/regex.js'\nimport { extend } from '../utils/adopter.js'\nimport Color from '../types/Color.js'\nimport PathArray from '../types/PathArray.js'\nimport SVGArray from '../types/SVGArray.js'\nimport SVGNumber from '../types/SVGNumber.js'\n\nconst getClassForType = (value) => {\n  const type = typeof value\n\n  if (type === 'number') {\n    return SVGNumber\n  } else if (type === 'string') {\n    if (Color.isColor(value)) {\n      return Color\n    } else if (delimiter.test(value)) {\n      return isPathLetter.test(value) ? PathArray : SVGArray\n    } else if (numberAndUnit.test(value)) {\n      return SVGNumber\n    } else {\n      return NonMorphable\n    }\n  } else if (morphableTypes.indexOf(value.constructor) > -1) {\n    return value.constructor\n  } else if (Array.isArray(value)) {\n    return SVGArray\n  } else if (type === 'object') {\n    return ObjectBag\n  } else {\n    return NonMorphable\n  }\n}\n\nexport default class Morphable {\n  constructor(stepper) {\n    this._stepper = stepper || new Ease('-')\n\n    this._from = null\n    this._to = null\n    this._type = null\n    this._context = null\n    this._morphObj = null\n  }\n\n  at(pos) {\n    return this._morphObj.morph(\n      this._from,\n      this._to,\n      pos,\n      this._stepper,\n      this._context\n    )\n  }\n\n  done() {\n    const complete = this._context.map(this._stepper.done).reduce(function (\n      last,\n      curr\n    ) {\n      return last && curr\n    }, true)\n    return complete\n  }\n\n  from(val) {\n    if (val == null) {\n      return this._from\n    }\n\n    this._from = this._set(val)\n    return this\n  }\n\n  stepper(stepper) {\n    if (stepper == null) return this._stepper\n    this._stepper = stepper\n    return this\n  }\n\n  to(val) {\n    if (val == null) {\n      return this._to\n    }\n\n    this._to = this._set(val)\n    return this\n  }\n\n  type(type) {\n    // getter\n    if (type == null) {\n      return this._type\n    }\n\n    // setter\n    this._type = type\n    return this\n  }\n\n  _set(value) {\n    if (!this._type) {\n      this.type(getClassForType(value))\n    }\n\n    let result = new this._type(value)\n    if (this._type === Color) {\n      result = this._to\n        ? result[this._to[4]]()\n        : this._from\n          ? result[this._from[4]]()\n          : result\n    }\n\n    if (this._type === ObjectBag) {\n      result = this._to\n        ? result.align(this._to)\n        : this._from\n          ? result.align(this._from)\n          : result\n    }\n\n    result = result.toConsumable()\n\n    this._morphObj = this._morphObj || new this._type()\n    this._context =\n      this._context ||\n      Array.apply(null, Array(result.length))\n        .map(Object)\n        .map(function (o) {\n          o.done = true\n          return o\n        })\n    return result\n  }\n}\n\nexport class NonMorphable {\n  constructor(...args) {\n    this.init(...args)\n  }\n\n  init(val) {\n    val = Array.isArray(val) ? val[0] : val\n    this.value = val\n    return this\n  }\n\n  toArray() {\n    return [this.value]\n  }\n\n  valueOf() {\n    return this.value\n  }\n}\n\nexport class TransformBag {\n  constructor(...args) {\n    this.init(...args)\n  }\n\n  init(obj) {\n    if (Array.isArray(obj)) {\n      obj = {\n        scaleX: obj[0],\n        scaleY: obj[1],\n        shear: obj[2],\n        rotate: obj[3],\n        translateX: obj[4],\n        translateY: obj[5],\n        originX: obj[6],\n        originY: obj[7]\n      }\n    }\n\n    Object.assign(this, TransformBag.defaults, obj)\n    return this\n  }\n\n  toArray() {\n    const v = this\n\n    return [\n      v.scaleX,\n      v.scaleY,\n      v.shear,\n      v.rotate,\n      v.translateX,\n      v.translateY,\n      v.originX,\n      v.originY\n    ]\n  }\n}\n\nTransformBag.defaults = {\n  scaleX: 1,\n  scaleY: 1,\n  shear: 0,\n  rotate: 0,\n  translateX: 0,\n  translateY: 0,\n  originX: 0,\n  originY: 0\n}\n\nconst sortByKey = (a, b) => {\n  return a[0] < b[0] ? -1 : a[0] > b[0] ? 1 : 0\n}\n\nexport class ObjectBag {\n  constructor(...args) {\n    this.init(...args)\n  }\n\n  align(other) {\n    const values = this.values\n    for (let i = 0, il = values.length; i < il; ++i) {\n      // If the type is the same we only need to check if the color is in the correct format\n      if (values[i + 1] === other[i + 1]) {\n        if (values[i + 1] === Color && other[i + 7] !== values[i + 7]) {\n          const space = other[i + 7]\n          const color = new Color(this.values.splice(i + 3, 5))\n            [space]()\n            .toArray()\n          this.values.splice(i + 3, 0, ...color)\n        }\n\n        i += values[i + 2] + 2\n        continue\n      }\n\n      if (!other[i + 1]) {\n        return this\n      }\n\n      // The types differ, so we overwrite the new type with the old one\n      // And initialize it with the types default (e.g. black for color or 0 for number)\n      const defaultObject = new other[i + 1]().toArray()\n\n      // Than we fix the values array\n      const toDelete = values[i + 2] + 3\n\n      values.splice(\n        i,\n        toDelete,\n        other[i],\n        other[i + 1],\n        other[i + 2],\n        ...defaultObject\n      )\n\n      i += values[i + 2] + 2\n    }\n    return this\n  }\n\n  init(objOrArr) {\n    this.values = []\n\n    if (Array.isArray(objOrArr)) {\n      this.values = objOrArr.slice()\n      return\n    }\n\n    objOrArr = objOrArr || {}\n    const entries = []\n\n    for (const i in objOrArr) {\n      const Type = getClassForType(objOrArr[i])\n      const val = new Type(objOrArr[i]).toArray()\n      entries.push([i, Type, val.length, ...val])\n    }\n\n    entries.sort(sortByKey)\n\n    this.values = entries.reduce((last, curr) => last.concat(curr), [])\n    return this\n  }\n\n  toArray() {\n    return this.values\n  }\n\n  valueOf() {\n    const obj = {}\n    const arr = this.values\n\n    // for (var i = 0, len = arr.length; i < len; i += 2) {\n    while (arr.length) {\n      const key = arr.shift()\n      const Type = arr.shift()\n      const num = arr.shift()\n      const values = arr.splice(0, num)\n      obj[key] = new Type(values) // .valueOf()\n    }\n\n    return obj\n  }\n}\n\nconst morphableTypes = [NonMorphable, TransformBag, ObjectBag]\n\nexport function registerMorphableType(type = []) {\n  morphableTypes.push(...[].concat(type))\n}\n\nexport function makeMorphable() {\n  extend(morphableTypes, {\n    to(val) {\n      return new Morphable()\n        .type(this.constructor)\n        .from(this.toArray()) // this.valueOf())\n        .to(val)\n    },\n    fromArray(arr) {\n      this.init(arr)\n      return this\n    },\n    toConsumable() {\n      return this.toArray()\n    },\n    morph(from, to, pos, stepper, context) {\n      const mapper = function (i, index) {\n        return stepper.step(i, to[index], pos, context[index], context)\n      }\n\n      return this.fromArray(from.map(mapper))\n    }\n  })\n}\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\nimport { proportionalSize } from '../utils/utils.js'\nimport { registerMethods } from '../utils/methods.js'\nimport PathArray from '../types/PathArray.js'\nimport Shape from './Shape.js'\n\nexport default class Path extends Shape {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('path', node), attrs)\n  }\n\n  // Get array\n  array() {\n    return this._array || (this._array = new PathArray(this.attr('d')))\n  }\n\n  // Clear array cache\n  clear() {\n    delete this._array\n    return this\n  }\n\n  // Set height of element\n  height(height) {\n    return height == null\n      ? this.bbox().height\n      : this.size(this.bbox().width, height)\n  }\n\n  // Move by left top corner\n  move(x, y) {\n    return this.attr('d', this.array().move(x, y))\n  }\n\n  // Plot new path\n  plot(d) {\n    return d == null\n      ? this.array()\n      : this.clear().attr(\n          'd',\n          typeof d === 'string' ? d : (this._array = new PathArray(d))\n        )\n  }\n\n  // Set element size to given width and height\n  size(width, height) {\n    const p = proportionalSize(this, width, height)\n    return this.attr('d', this.array().size(p.width, p.height))\n  }\n\n  // Set width of element\n  width(width) {\n    return width == null\n      ? this.bbox().width\n      : this.size(width, this.bbox().height)\n  }\n\n  // Move by left top corner over x-axis\n  x(x) {\n    return x == null ? this.bbox().x : this.move(x, this.bbox().y)\n  }\n\n  // Move by left top corner over y-axis\n  y(y) {\n    return y == null ? this.bbox().y : this.move(this.bbox().x, y)\n  }\n}\n\n// Define morphable array\nPath.prototype.MorphArray = PathArray\n\n// Add parent method\nregisterMethods({\n  Container: {\n    // Create a wrapped path element\n    path: wrapWithAttrCheck(function (d) {\n      // make sure plot is called as a setter\n      return this.put(new Path()).plot(d || new PathArray())\n    })\n  }\n})\n\nregister(Path, 'Path')\n","import { proportionalSize } from '../../utils/utils.js'\nimport PointArray from '../../types/PointArray.js'\n\n// Get array\nexport function array() {\n  return this._array || (this._array = new PointArray(this.attr('points')))\n}\n\n// Clear array cache\nexport function clear() {\n  delete this._array\n  return this\n}\n\n// Move by left top corner\nexport function move(x, y) {\n  return this.attr('points', this.array().move(x, y))\n}\n\n// Plot new path\nexport function plot(p) {\n  return p == null\n    ? this.array()\n    : this.clear().attr(\n        'points',\n        typeof p === 'string' ? p : (this._array = new PointArray(p))\n      )\n}\n\n// Set element size to given width and height\nexport function size(width, height) {\n  const p = proportionalSize(this, width, height)\n  return this.attr('points', this.array().size(p.width, p.height))\n}\n","import {\n  extend,\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck\n} from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport PointArray from '../types/PointArray.js'\nimport Shape from './Shape.js'\nimport * as pointed from '../modules/core/pointed.js'\nimport * as poly from '../modules/core/poly.js'\n\nexport default class Polygon extends Shape {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('polygon', node), attrs)\n  }\n}\n\nregisterMethods({\n  Container: {\n    // Create a wrapped polygon element\n    polygon: wrapWithAttrCheck(function (p) {\n      // make sure plot is called as a setter\n      return this.put(new Polygon()).plot(p || new PointArray())\n    })\n  }\n})\n\nextend(Polygon, pointed)\nextend(Polygon, poly)\nregister(Polygon, 'Polygon')\n","import {\n  extend,\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck\n} from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport PointArray from '../types/PointArray.js'\nimport Shape from './Shape.js'\nimport * as pointed from '../modules/core/pointed.js'\nimport * as poly from '../modules/core/poly.js'\n\nexport default class Polyline extends Shape {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('polyline', node), attrs)\n  }\n}\n\nregisterMethods({\n  Container: {\n    // Create a wrapped polygon element\n    polyline: wrapWithAttrCheck(function (p) {\n      // make sure plot is called as a setter\n      return this.put(new Polyline()).plot(p || new PointArray())\n    })\n  }\n})\n\nextend(Polyline, pointed)\nextend(Polyline, poly)\nregister(Polyline, 'Polyline')\n","import {\n  extend,\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck\n} from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport { rx, ry } from '../modules/core/circled.js'\nimport Shape from './Shape.js'\n\nexport default class Rect extends Shape {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('rect', node), attrs)\n  }\n}\n\nextend(Rect, { rx, ry })\n\nregisterMethods({\n  Container: {\n    // Create a rect element\n    rect: wrapWithAttrCheck(function (width, height) {\n      return this.put(new Rect()).size(width, height)\n    })\n  }\n})\n\nregister(Rect, 'Rect')\n","export default class Queue {\n  constructor() {\n    this._first = null\n    this._last = null\n  }\n\n  // Shows us the first item in the list\n  first() {\n    return this._first && this._first.value\n  }\n\n  // Shows us the last item in the list\n  last() {\n    return this._last && this._last.value\n  }\n\n  push(value) {\n    // An item stores an id and the provided value\n    const item =\n      typeof value.next !== 'undefined'\n        ? value\n        : { value: value, next: null, prev: null }\n\n    // Deal with the queue being empty or populated\n    if (this._last) {\n      item.prev = this._last\n      this._last.next = item\n      this._last = item\n    } else {\n      this._last = item\n      this._first = item\n    }\n\n    // Return the current item\n    return item\n  }\n\n  // Removes the item that was returned from the push\n  remove(item) {\n    // Relink the previous item\n    if (item.prev) item.prev.next = item.next\n    if (item.next) item.next.prev = item.prev\n    if (item === this._last) this._last = item.prev\n    if (item === this._first) this._first = item.next\n\n    // Invalidate item\n    item.prev = null\n    item.next = null\n  }\n\n  shift() {\n    // Check if we have a value\n    const remove = this._first\n    if (!remove) return null\n\n    // If we do, remove it and relink things\n    this._first = remove.next\n    if (this._first) this._first.prev = null\n    this._last = this._first ? this._last : null\n    return remove.value\n  }\n}\n","import { globals } from '../utils/window.js'\nimport Queue from './Queue.js'\n\nconst Animator = {\n  nextDraw: null,\n  frames: new Queue(),\n  timeouts: new Queue(),\n  immediates: new Queue(),\n  timer: () => globals.window.performance || globals.window.Date,\n  transforms: [],\n\n  frame(fn) {\n    // Store the node\n    const node = Animator.frames.push({ run: fn })\n\n    // Request an animation frame if we don't have one\n    if (Animator.nextDraw === null) {\n      Animator.nextDraw = globals.window.requestAnimationFrame(Animator._draw)\n    }\n\n    // Return the node so we can remove it easily\n    return node\n  },\n\n  timeout(fn, delay) {\n    delay = delay || 0\n\n    // Work out when the event should fire\n    const time = Animator.timer().now() + delay\n\n    // Add the timeout to the end of the queue\n    const node = Animator.timeouts.push({ run: fn, time: time })\n\n    // Request another animation frame if we need one\n    if (Animator.nextDraw === null) {\n      Animator.nextDraw = globals.window.requestAnimationFrame(Animator._draw)\n    }\n\n    return node\n  },\n\n  immediate(fn) {\n    // Add the immediate fn to the end of the queue\n    const node = Animator.immediates.push(fn)\n    // Request another animation frame if we need one\n    if (Animator.nextDraw === null) {\n      Animator.nextDraw = globals.window.requestAnimationFrame(Animator._draw)\n    }\n\n    return node\n  },\n\n  cancelFrame(node) {\n    node != null && Animator.frames.remove(node)\n  },\n\n  clearTimeout(node) {\n    node != null && Animator.timeouts.remove(node)\n  },\n\n  cancelImmediate(node) {\n    node != null && Animator.immediates.remove(node)\n  },\n\n  _draw(now) {\n    // Run all the timeouts we can run, if they are not ready yet, add them\n    // to the end of the queue immediately! (bad timeouts!!! [sarcasm])\n    let nextTimeout = null\n    const lastTimeout = Animator.timeouts.last()\n    while ((nextTimeout = Animator.timeouts.shift())) {\n      // Run the timeout if its time, or push it to the end\n      if (now >= nextTimeout.time) {\n        nextTimeout.run()\n      } else {\n        Animator.timeouts.push(nextTimeout)\n      }\n\n      // If we hit the last item, we should stop shifting out more items\n      if (nextTimeout === lastTimeout) break\n    }\n\n    // Run all of the animation frames\n    let nextFrame = null\n    const lastFrame = Animator.frames.last()\n    while (nextFrame !== lastFrame && (nextFrame = Animator.frames.shift())) {\n      nextFrame.run(now)\n    }\n\n    let nextImmediate = null\n    while ((nextImmediate = Animator.immediates.shift())) {\n      nextImmediate()\n    }\n\n    // If we have remaining timeouts or frames, draw until we don't anymore\n    Animator.nextDraw =\n      Animator.timeouts.first() || Animator.frames.first()\n        ? globals.window.requestAnimationFrame(Animator._draw)\n        : null\n  }\n}\n\nexport default Animator\n","import { globals } from '../utils/window.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Animator from './Animator.js'\nimport EventTarget from '../types/EventTarget.js'\n\nconst makeSchedule = function (runnerInfo) {\n  const start = runnerInfo.start\n  const duration = runnerInfo.runner.duration()\n  const end = start + duration\n  return {\n    start: start,\n    duration: duration,\n    end: end,\n    runner: runnerInfo.runner\n  }\n}\n\nconst defaultSource = function () {\n  const w = globals.window\n  return (w.performance || w.Date).now()\n}\n\nexport default class Timeline extends EventTarget {\n  // Construct a new timeline on the given element\n  constructor(timeSource = defaultSource) {\n    super()\n\n    this._timeSource = timeSource\n\n    // terminate resets all variables to their initial state\n    this.terminate()\n  }\n\n  active() {\n    return !!this._nextFrame\n  }\n\n  finish() {\n    // Go to end and pause\n    this.time(this.getEndTimeOfTimeline() + 1)\n    return this.pause()\n  }\n\n  // Calculates the end of the timeline\n  getEndTime() {\n    const lastRunnerInfo = this.getLastRunnerInfo()\n    const lastDuration = lastRunnerInfo ? lastRunnerInfo.runner.duration() : 0\n    const lastStartTime = lastRunnerInfo ? lastRunnerInfo.start : this._time\n    return lastStartTime + lastDuration\n  }\n\n  getEndTimeOfTimeline() {\n    const endTimes = this._runners.map((i) => i.start + i.runner.duration())\n    return Math.max(0, ...endTimes)\n  }\n\n  getLastRunnerInfo() {\n    return this.getRunnerInfoById(this._lastRunnerId)\n  }\n\n  getRunnerInfoById(id) {\n    return this._runners[this._runnerIds.indexOf(id)] || null\n  }\n\n  pause() {\n    this._paused = true\n    return this._continue()\n  }\n\n  persist(dtOrForever) {\n    if (dtOrForever == null) return this._persist\n    this._persist = dtOrForever\n    return this\n  }\n\n  play() {\n    // Now make sure we are not paused and continue the animation\n    this._paused = false\n    return this.updateTime()._continue()\n  }\n\n  reverse(yes) {\n    const currentSpeed = this.speed()\n    if (yes == null) return this.speed(-currentSpeed)\n\n    const positive = Math.abs(currentSpeed)\n    return this.speed(yes ? -positive : positive)\n  }\n\n  // schedules a runner on the timeline\n  schedule(runner, delay, when) {\n    if (runner == null) {\n      return this._runners.map(makeSchedule)\n    }\n\n    // The start time for the next animation can either be given explicitly,\n    // derived from the current timeline time or it can be relative to the\n    // last start time to chain animations directly\n\n    let absoluteStartTime = 0\n    const endTime = this.getEndTime()\n    delay = delay || 0\n\n    // Work out when to start the animation\n    if (when == null || when === 'last' || when === 'after') {\n      // Take the last time and increment\n      absoluteStartTime = endTime\n    } else if (when === 'absolute' || when === 'start') {\n      absoluteStartTime = delay\n      delay = 0\n    } else if (when === 'now') {\n      absoluteStartTime = this._time\n    } else if (when === 'relative') {\n      const runnerInfo = this.getRunnerInfoById(runner.id)\n      if (runnerInfo) {\n        absoluteStartTime = runnerInfo.start + delay\n        delay = 0\n      }\n    } else if (when === 'with-last') {\n      const lastRunnerInfo = this.getLastRunnerInfo()\n      const lastStartTime = lastRunnerInfo ? lastRunnerInfo.start : this._time\n      absoluteStartTime = lastStartTime\n    } else {\n      throw new Error('Invalid value for the \"when\" parameter')\n    }\n\n    // Manage runner\n    runner.unschedule()\n    runner.timeline(this)\n\n    const persist = runner.persist()\n    const runnerInfo = {\n      persist: persist === null ? this._persist : persist,\n      start: absoluteStartTime + delay,\n      runner\n    }\n\n    this._lastRunnerId = runner.id\n\n    this._runners.push(runnerInfo)\n    this._runners.sort((a, b) => a.start - b.start)\n    this._runnerIds = this._runners.map((info) => info.runner.id)\n\n    this.updateTime()._continue()\n    return this\n  }\n\n  seek(dt) {\n    return this.time(this._time + dt)\n  }\n\n  source(fn) {\n    if (fn == null) return this._timeSource\n    this._timeSource = fn\n    return this\n  }\n\n  speed(speed) {\n    if (speed == null) return this._speed\n    this._speed = speed\n    return this\n  }\n\n  stop() {\n    // Go to start and pause\n    this.time(0)\n    return this.pause()\n  }\n\n  time(time) {\n    if (time == null) return this._time\n    this._time = time\n    return this._continue(true)\n  }\n\n  // Remove the runner from this timeline\n  unschedule(runner) {\n    const index = this._runnerIds.indexOf(runner.id)\n    if (index < 0) return this\n\n    this._runners.splice(index, 1)\n    this._runnerIds.splice(index, 1)\n\n    runner.timeline(null)\n    return this\n  }\n\n  // Makes sure, that after pausing the time doesn't jump\n  updateTime() {\n    if (!this.active()) {\n      this._lastSourceTime = this._timeSource()\n    }\n    return this\n  }\n\n  // Checks if we are running and continues the animation\n  _continue(immediateStep = false) {\n    Animator.cancelFrame(this._nextFrame)\n    this._nextFrame = null\n\n    if (immediateStep) return this._stepImmediate()\n    if (this._paused) return this\n\n    this._nextFrame = Animator.frame(this._step)\n    return this\n  }\n\n  _stepFn(immediateStep = false) {\n    // Get the time delta from the last time and update the time\n    const time = this._timeSource()\n    let dtSource = time - this._lastSourceTime\n\n    if (immediateStep) dtSource = 0\n\n    const dtTime = this._speed * dtSource + (this._time - this._lastStepTime)\n    this._lastSourceTime = time\n\n    // Only update the time if we use the timeSource.\n    // Otherwise use the current time\n    if (!immediateStep) {\n      // Update the time\n      this._time += dtTime\n      this._time = this._time < 0 ? 0 : this._time\n    }\n    this._lastStepTime = this._time\n    this.fire('time', this._time)\n\n    // This is for the case that the timeline was seeked so that the time\n    // is now before the startTime of the runner. That is why we need to set\n    // the runner to position 0\n\n    // FIXME:\n    // However, resetting in insertion order leads to bugs. Considering the case,\n    // where 2 runners change the same attribute but in different times,\n    // resetting both of them will lead to the case where the later defined\n    // runner always wins the reset even if the other runner started earlier\n    // and therefore should win the attribute battle\n    // this can be solved by resetting them backwards\n    for (let k = this._runners.length; k--; ) {\n      // Get and run the current runner and ignore it if its inactive\n      const runnerInfo = this._runners[k]\n      const runner = runnerInfo.runner\n\n      // Make sure that we give the actual difference\n      // between runner start time and now\n      const dtToStart = this._time - runnerInfo.start\n\n      // Dont run runner if not started yet\n      // and try to reset it\n      if (dtToStart <= 0) {\n        runner.reset()\n      }\n    }\n\n    // Run all of the runners directly\n    let runnersLeft = false\n    for (let i = 0, len = this._runners.length; i < len; i++) {\n      // Get and run the current runner and ignore it if its inactive\n      const runnerInfo = this._runners[i]\n      const runner = runnerInfo.runner\n      let dt = dtTime\n\n      // Make sure that we give the actual difference\n      // between runner start time and now\n      const dtToStart = this._time - runnerInfo.start\n\n      // Dont run runner if not started yet\n      if (dtToStart <= 0) {\n        runnersLeft = true\n        continue\n      } else if (dtToStart < dt) {\n        // Adjust dt to make sure that animation is on point\n        dt = dtToStart\n      }\n\n      if (!runner.active()) continue\n\n      // If this runner is still going, signal that we need another animation\n      // frame, otherwise, remove the completed runner\n      const finished = runner.step(dt).done\n      if (!finished) {\n        runnersLeft = true\n        // continue\n      } else if (runnerInfo.persist !== true) {\n        // runner is finished. And runner might get removed\n        const endTime = runner.duration() - runner.time() + this._time\n\n        if (endTime + runnerInfo.persist < this._time) {\n          // Delete runner and correct index\n          runner.unschedule()\n          --i\n          --len\n        }\n      }\n    }\n\n    // Basically: we continue when there are runners right from us in time\n    // when -->, and when runners are left from us when <--\n    if (\n      (runnersLeft && !(this._speed < 0 && this._time === 0)) ||\n      (this._runnerIds.length && this._speed < 0 && this._time > 0)\n    ) {\n      this._continue()\n    } else {\n      this.pause()\n      this.fire('finished')\n    }\n\n    return this\n  }\n\n  terminate() {\n    // cleanup memory\n\n    // Store the timing variables\n    this._startTime = 0\n    this._speed = 1.0\n\n    // Determines how long a runner is hold in memory. Can be a dt or true/false\n    this._persist = 0\n\n    // Keep track of the running animations and their starting parameters\n    this._nextFrame = null\n    this._paused = true\n    this._runners = []\n    this._runnerIds = []\n    this._lastRunnerId = -1\n    this._time = 0\n    this._lastSourceTime = 0\n    this._lastStepTime = 0\n\n    // Make sure that step is always called in class context\n    this._step = this._stepFn.bind(this, false)\n    this._stepImmediate = this._stepFn.bind(this, true)\n  }\n}\n\nregisterMethods({\n  Element: {\n    timeline: function (timeline) {\n      if (timeline == null) {\n        this._timeline = this._timeline || new Timeline()\n        return this._timeline\n      } else {\n        this._timeline = timeline\n        return this\n      }\n    }\n  }\n})\n","import { Controller, Ease, Stepper } from './Controller.js'\nimport { extend, register } from '../utils/adopter.js'\nimport { from, to } from '../modules/core/gradiented.js'\nimport { getOrigin } from '../utils/utils.js'\nimport { noop, timeline } from '../modules/core/defaults.js'\nimport { registerMethods } from '../utils/methods.js'\nimport { rx, ry } from '../modules/core/circled.js'\nimport Animator from './Animator.js'\nimport Box from '../types/Box.js'\nimport EventTarget from '../types/EventTarget.js'\nimport Matrix from '../types/Matrix.js'\nimport Morphable, { TransformBag, ObjectBag } from './Morphable.js'\nimport Point from '../types/Point.js'\nimport SVGNumber from '../types/SVGNumber.js'\nimport Timeline from './Timeline.js'\n\nexport default class Runner extends EventTarget {\n  constructor(options) {\n    super()\n\n    // Store a unique id on the runner, so that we can identify it later\n    this.id = Runner.id++\n\n    // Ensure a default value\n    options = options == null ? timeline.duration : options\n\n    // Ensure that we get a controller\n    options = typeof options === 'function' ? new Controller(options) : options\n\n    // Declare all of the variables\n    this._element = null\n    this._timeline = null\n    this.done = false\n    this._queue = []\n\n    // Work out the stepper and the duration\n    this._duration = typeof options === 'number' && options\n    this._isDeclarative = options instanceof Controller\n    this._stepper = this._isDeclarative ? options : new Ease()\n\n    // We copy the current values from the timeline because they can change\n    this._history = {}\n\n    // Store the state of the runner\n    this.enabled = true\n    this._time = 0\n    this._lastTime = 0\n\n    // At creation, the runner is in reset state\n    this._reseted = true\n\n    // Save transforms applied to this runner\n    this.transforms = new Matrix()\n    this.transformId = 1\n\n    // Looping variables\n    this._haveReversed = false\n    this._reverse = false\n    this._loopsDone = 0\n    this._swing = false\n    this._wait = 0\n    this._times = 1\n\n    this._frameId = null\n\n    // Stores how long a runner is stored after being done\n    this._persist = this._isDeclarative ? true : null\n  }\n\n  static sanitise(duration, delay, when) {\n    // Initialise the default parameters\n    let times = 1\n    let swing = false\n    let wait = 0\n    duration = duration ?? timeline.duration\n    delay = delay ?? timeline.delay\n    when = when || 'last'\n\n    // If we have an object, unpack the values\n    if (typeof duration === 'object' && !(duration instanceof Stepper)) {\n      delay = duration.delay ?? delay\n      when = duration.when ?? when\n      swing = duration.swing || swing\n      times = duration.times ?? times\n      wait = duration.wait ?? wait\n      duration = duration.duration ?? timeline.duration\n    }\n\n    return {\n      duration: duration,\n      delay: delay,\n      swing: swing,\n      times: times,\n      wait: wait,\n      when: when\n    }\n  }\n\n  active(enabled) {\n    if (enabled == null) return this.enabled\n    this.enabled = enabled\n    return this\n  }\n\n  /*\n  Private Methods\n  ===============\n  Methods that shouldn't be used externally\n  */\n  addTransform(transform) {\n    this.transforms.lmultiplyO(transform)\n    return this\n  }\n\n  after(fn) {\n    return this.on('finished', fn)\n  }\n\n  animate(duration, delay, when) {\n    const o = Runner.sanitise(duration, delay, when)\n    const runner = new Runner(o.duration)\n    if (this._timeline) runner.timeline(this._timeline)\n    if (this._element) runner.element(this._element)\n    return runner.loop(o).schedule(o.delay, o.when)\n  }\n\n  clearTransform() {\n    this.transforms = new Matrix()\n    return this\n  }\n\n  // TODO: Keep track of all transformations so that deletion is faster\n  clearTransformsFromQueue() {\n    if (\n      !this.done ||\n      !this._timeline ||\n      !this._timeline._runnerIds.includes(this.id)\n    ) {\n      this._queue = this._queue.filter((item) => {\n        return !item.isTransform\n      })\n    }\n  }\n\n  delay(delay) {\n    return this.animate(0, delay)\n  }\n\n  duration() {\n    return this._times * (this._wait + this._duration) - this._wait\n  }\n\n  during(fn) {\n    return this.queue(null, fn)\n  }\n\n  ease(fn) {\n    this._stepper = new Ease(fn)\n    return this\n  }\n  /*\n  Runner Definitions\n  ==================\n  These methods help us define the runtime behaviour of the Runner or they\n  help us make new runners from the current runner\n  */\n\n  element(element) {\n    if (element == null) return this._element\n    this._element = element\n    element._prepareRunner()\n    return this\n  }\n\n  finish() {\n    return this.step(Infinity)\n  }\n\n  loop(times, swing, wait) {\n    // Deal with the user passing in an object\n    if (typeof times === 'object') {\n      swing = times.swing\n      wait = times.wait\n      times = times.times\n    }\n\n    // Sanitise the values and store them\n    this._times = times || Infinity\n    this._swing = swing || false\n    this._wait = wait || 0\n\n    // Allow true to be passed\n    if (this._times === true) {\n      this._times = Infinity\n    }\n\n    return this\n  }\n\n  loops(p) {\n    const loopDuration = this._duration + this._wait\n    if (p == null) {\n      const loopsDone = Math.floor(this._time / loopDuration)\n      const relativeTime = this._time - loopsDone * loopDuration\n      const position = relativeTime / this._duration\n      return Math.min(loopsDone + position, this._times)\n    }\n    const whole = Math.floor(p)\n    const partial = p % 1\n    const time = loopDuration * whole + this._duration * partial\n    return this.time(time)\n  }\n\n  persist(dtOrForever) {\n    if (dtOrForever == null) return this._persist\n    this._persist = dtOrForever\n    return this\n  }\n\n  position(p) {\n    // Get all of the variables we need\n    const x = this._time\n    const d = this._duration\n    const w = this._wait\n    const t = this._times\n    const s = this._swing\n    const r = this._reverse\n    let position\n\n    if (p == null) {\n      /*\n      This function converts a time to a position in the range [0, 1]\n      The full explanation can be found in this desmos demonstration\n        https://www.desmos.com/calculator/u4fbavgche\n      The logic is slightly simplified here because we can use booleans\n      */\n\n      // Figure out the value without thinking about the start or end time\n      const f = function (x) {\n        const swinging = s * Math.floor((x % (2 * (w + d))) / (w + d))\n        const backwards = (swinging && !r) || (!swinging && r)\n        const uncliped =\n          (Math.pow(-1, backwards) * (x % (w + d))) / d + backwards\n        const clipped = Math.max(Math.min(uncliped, 1), 0)\n        return clipped\n      }\n\n      // Figure out the value by incorporating the start time\n      const endTime = t * (w + d) - w\n      position =\n        x <= 0\n          ? Math.round(f(1e-5))\n          : x < endTime\n            ? f(x)\n            : Math.round(f(endTime - 1e-5))\n      return position\n    }\n\n    // Work out the loops done and add the position to the loops done\n    const loopsDone = Math.floor(this.loops())\n    const swingForward = s && loopsDone % 2 === 0\n    const forwards = (swingForward && !r) || (r && swingForward)\n    position = loopsDone + (forwards ? p : 1 - p)\n    return this.loops(position)\n  }\n\n  progress(p) {\n    if (p == null) {\n      return Math.min(1, this._time / this.duration())\n    }\n    return this.time(p * this.duration())\n  }\n\n  /*\n  Basic Functionality\n  ===================\n  These methods allow us to attach basic functions to the runner directly\n  */\n  queue(initFn, runFn, retargetFn, isTransform) {\n    this._queue.push({\n      initialiser: initFn || noop,\n      runner: runFn || noop,\n      retarget: retargetFn,\n      isTransform: isTransform,\n      initialised: false,\n      finished: false\n    })\n    const timeline = this.timeline()\n    timeline && this.timeline()._continue()\n    return this\n  }\n\n  reset() {\n    if (this._reseted) return this\n    this.time(0)\n    this._reseted = true\n    return this\n  }\n\n  reverse(reverse) {\n    this._reverse = reverse == null ? !this._reverse : reverse\n    return this\n  }\n\n  schedule(timeline, delay, when) {\n    // The user doesn't need to pass a timeline if we already have one\n    if (!(timeline instanceof Timeline)) {\n      when = delay\n      delay = timeline\n      timeline = this.timeline()\n    }\n\n    // If there is no timeline, yell at the user...\n    if (!timeline) {\n      throw Error('Runner cannot be scheduled without timeline')\n    }\n\n    // Schedule the runner on the timeline provided\n    timeline.schedule(this, delay, when)\n    return this\n  }\n\n  step(dt) {\n    // If we are inactive, this stepper just gets skipped\n    if (!this.enabled) return this\n\n    // Update the time and get the new position\n    dt = dt == null ? 16 : dt\n    this._time += dt\n    const position = this.position()\n\n    // Figure out if we need to run the stepper in this frame\n    const running = this._lastPosition !== position && this._time >= 0\n    this._lastPosition = position\n\n    // Figure out if we just started\n    const duration = this.duration()\n    const justStarted = this._lastTime <= 0 && this._time > 0\n    const justFinished = this._lastTime < duration && this._time >= duration\n\n    this._lastTime = this._time\n    if (justStarted) {\n      this.fire('start', this)\n    }\n\n    // Work out if the runner is finished set the done flag here so animations\n    // know, that they are running in the last step (this is good for\n    // transformations which can be merged)\n    const declarative = this._isDeclarative\n    this.done = !declarative && !justFinished && this._time >= duration\n\n    // Runner is running. So its not in reset state anymore\n    this._reseted = false\n\n    let converged = false\n    // Call initialise and the run function\n    if (running || declarative) {\n      this._initialise(running)\n\n      // clear the transforms on this runner so they dont get added again and again\n      this.transforms = new Matrix()\n      converged = this._run(declarative ? dt : position)\n\n      this.fire('step', this)\n    }\n    // correct the done flag here\n    // declarative animations itself know when they converged\n    this.done = this.done || (converged && declarative)\n    if (justFinished) {\n      this.fire('finished', this)\n    }\n    return this\n  }\n\n  /*\n  Runner animation methods\n  ========================\n  Control how the animation plays\n  */\n  time(time) {\n    if (time == null) {\n      return this._time\n    }\n    const dt = time - this._time\n    this.step(dt)\n    return this\n  }\n\n  timeline(timeline) {\n    // check explicitly for undefined so we can set the timeline to null\n    if (typeof timeline === 'undefined') return this._timeline\n    this._timeline = timeline\n    return this\n  }\n\n  unschedule() {\n    const timeline = this.timeline()\n    timeline && timeline.unschedule(this)\n    return this\n  }\n\n  // Run each initialise function in the runner if required\n  _initialise(running) {\n    // If we aren't running, we shouldn't initialise when not declarative\n    if (!running && !this._isDeclarative) return\n\n    // Loop through all of the initialisers\n    for (let i = 0, len = this._queue.length; i < len; ++i) {\n      // Get the current initialiser\n      const current = this._queue[i]\n\n      // Determine whether we need to initialise\n      const needsIt = this._isDeclarative || (!current.initialised && running)\n      running = !current.finished\n\n      // Call the initialiser if we need to\n      if (needsIt && running) {\n        current.initialiser.call(this)\n        current.initialised = true\n      }\n    }\n  }\n\n  // Save a morpher to the morpher list so that we can retarget it later\n  _rememberMorpher(method, morpher) {\n    this._history[method] = {\n      morpher: morpher,\n      caller: this._queue[this._queue.length - 1]\n    }\n\n    // We have to resume the timeline in case a controller\n    // is already done without being ever run\n    // This can happen when e.g. this is done:\n    //    anim = el.animate(new SVG.Spring)\n    // and later\n    //    anim.move(...)\n    if (this._isDeclarative) {\n      const timeline = this.timeline()\n      timeline && timeline.play()\n    }\n  }\n\n  // Try to set the target for a morpher if the morpher exists, otherwise\n  // Run each run function for the position or dt given\n  _run(positionOrDt) {\n    // Run all of the _queue directly\n    let allfinished = true\n    for (let i = 0, len = this._queue.length; i < len; ++i) {\n      // Get the current function to run\n      const current = this._queue[i]\n\n      // Run the function if its not finished, we keep track of the finished\n      // flag for the sake of declarative _queue\n      const converged = current.runner.call(this, positionOrDt)\n      current.finished = current.finished || converged === true\n      allfinished = allfinished && current.finished\n    }\n\n    // We report when all of the constructors are finished\n    return allfinished\n  }\n\n  // do nothing and return false\n  _tryRetarget(method, target, extra) {\n    if (this._history[method]) {\n      // if the last method wasn't even initialised, throw it away\n      if (!this._history[method].caller.initialised) {\n        const index = this._queue.indexOf(this._history[method].caller)\n        this._queue.splice(index, 1)\n        return false\n      }\n\n      // for the case of transformations, we use the special retarget function\n      // which has access to the outer scope\n      if (this._history[method].caller.retarget) {\n        this._history[method].caller.retarget.call(this, target, extra)\n        // for everything else a simple morpher change is sufficient\n      } else {\n        this._history[method].morpher.to(target)\n      }\n\n      this._history[method].caller.finished = false\n      const timeline = this.timeline()\n      timeline && timeline.play()\n      return true\n    }\n    return false\n  }\n}\n\nRunner.id = 0\n\nexport class FakeRunner {\n  constructor(transforms = new Matrix(), id = -1, done = true) {\n    this.transforms = transforms\n    this.id = id\n    this.done = done\n  }\n\n  clearTransformsFromQueue() {}\n}\n\nextend([Runner, FakeRunner], {\n  mergeWith(runner) {\n    return new FakeRunner(\n      runner.transforms.lmultiply(this.transforms),\n      runner.id\n    )\n  }\n})\n\n// FakeRunner.emptyRunner = new FakeRunner()\n\nconst lmultiply = (last, curr) => last.lmultiplyO(curr)\nconst getRunnerTransform = (runner) => runner.transforms\n\nfunction mergeTransforms() {\n  // Find the matrix to apply to the element and apply it\n  const runners = this._transformationRunners.runners\n  const netTransform = runners\n    .map(getRunnerTransform)\n    .reduce(lmultiply, new Matrix())\n\n  this.transform(netTransform)\n\n  this._transformationRunners.merge()\n\n  if (this._transformationRunners.length() === 1) {\n    this._frameId = null\n  }\n}\n\nexport class RunnerArray {\n  constructor() {\n    this.runners = []\n    this.ids = []\n  }\n\n  add(runner) {\n    if (this.runners.includes(runner)) return\n    const id = runner.id + 1\n\n    this.runners.push(runner)\n    this.ids.push(id)\n\n    return this\n  }\n\n  clearBefore(id) {\n    const deleteCnt = this.ids.indexOf(id + 1) || 1\n    this.ids.splice(0, deleteCnt, 0)\n    this.runners\n      .splice(0, deleteCnt, new FakeRunner())\n      .forEach((r) => r.clearTransformsFromQueue())\n    return this\n  }\n\n  edit(id, newRunner) {\n    const index = this.ids.indexOf(id + 1)\n    this.ids.splice(index, 1, id + 1)\n    this.runners.splice(index, 1, newRunner)\n    return this\n  }\n\n  getByID(id) {\n    return this.runners[this.ids.indexOf(id + 1)]\n  }\n\n  length() {\n    return this.ids.length\n  }\n\n  merge() {\n    let lastRunner = null\n    for (let i = 0; i < this.runners.length; ++i) {\n      const runner = this.runners[i]\n\n      const condition =\n        lastRunner &&\n        runner.done &&\n        lastRunner.done &&\n        // don't merge runner when persisted on timeline\n        (!runner._timeline ||\n          !runner._timeline._runnerIds.includes(runner.id)) &&\n        (!lastRunner._timeline ||\n          !lastRunner._timeline._runnerIds.includes(lastRunner.id))\n\n      if (condition) {\n        // the +1 happens in the function\n        this.remove(runner.id)\n        const newRunner = runner.mergeWith(lastRunner)\n        this.edit(lastRunner.id, newRunner)\n        lastRunner = newRunner\n        --i\n      } else {\n        lastRunner = runner\n      }\n    }\n\n    return this\n  }\n\n  remove(id) {\n    const index = this.ids.indexOf(id + 1)\n    this.ids.splice(index, 1)\n    this.runners.splice(index, 1)\n    return this\n  }\n}\n\nregisterMethods({\n  Element: {\n    animate(duration, delay, when) {\n      const o = Runner.sanitise(duration, delay, when)\n      const timeline = this.timeline()\n      return new Runner(o.duration)\n        .loop(o)\n        .element(this)\n        .timeline(timeline.play())\n        .schedule(o.delay, o.when)\n    },\n\n    delay(by, when) {\n      return this.animate(0, by, when)\n    },\n\n    // this function searches for all runners on the element and deletes the ones\n    // which run before the current one. This is because absolute transformations\n    // overwrite anything anyway so there is no need to waste time computing\n    // other runners\n    _clearTransformRunnersBefore(currentRunner) {\n      this._transformationRunners.clearBefore(currentRunner.id)\n    },\n\n    _currentTransform(current) {\n      return (\n        this._transformationRunners.runners\n          // we need the equal sign here to make sure, that also transformations\n          // on the same runner which execute before the current transformation are\n          // taken into account\n          .filter((runner) => runner.id <= current.id)\n          .map(getRunnerTransform)\n          .reduce(lmultiply, new Matrix())\n      )\n    },\n\n    _addRunner(runner) {\n      this._transformationRunners.add(runner)\n\n      // Make sure that the runner merge is executed at the very end of\n      // all Animator functions. That is why we use immediate here to execute\n      // the merge right after all frames are run\n      Animator.cancelImmediate(this._frameId)\n      this._frameId = Animator.immediate(mergeTransforms.bind(this))\n    },\n\n    _prepareRunner() {\n      if (this._frameId == null) {\n        this._transformationRunners = new RunnerArray().add(\n          new FakeRunner(new Matrix(this))\n        )\n      }\n    }\n  }\n})\n\n// Will output the elements from array A that are not in the array B\nconst difference = (a, b) => a.filter((x) => !b.includes(x))\n\nextend(Runner, {\n  attr(a, v) {\n    return this.styleAttr('attr', a, v)\n  },\n\n  // Add animatable styles\n  css(s, v) {\n    return this.styleAttr('css', s, v)\n  },\n\n  styleAttr(type, nameOrAttrs, val) {\n    if (typeof nameOrAttrs === 'string') {\n      return this.styleAttr(type, { [nameOrAttrs]: val })\n    }\n\n    let attrs = nameOrAttrs\n    if (this._tryRetarget(type, attrs)) return this\n\n    let morpher = new Morphable(this._stepper).to(attrs)\n    let keys = Object.keys(attrs)\n\n    this.queue(\n      function () {\n        morpher = morpher.from(this.element()[type](keys))\n      },\n      function (pos) {\n        this.element()[type](morpher.at(pos).valueOf())\n        return morpher.done()\n      },\n      function (newToAttrs) {\n        // Check if any new keys were added\n        const newKeys = Object.keys(newToAttrs)\n        const differences = difference(newKeys, keys)\n\n        // If their are new keys, initialize them and add them to morpher\n        if (differences.length) {\n          // Get the values\n          const addedFromAttrs = this.element()[type](differences)\n\n          // Get the already initialized values\n          const oldFromAttrs = new ObjectBag(morpher.from()).valueOf()\n\n          // Merge old and new\n          Object.assign(oldFromAttrs, addedFromAttrs)\n          morpher.from(oldFromAttrs)\n        }\n\n        // Get the object from the morpher\n        const oldToAttrs = new ObjectBag(morpher.to()).valueOf()\n\n        // Merge in new attributes\n        Object.assign(oldToAttrs, newToAttrs)\n\n        // Change morpher target\n        morpher.to(oldToAttrs)\n\n        // Make sure that we save the work we did so we don't need it to do again\n        keys = newKeys\n        attrs = newToAttrs\n      }\n    )\n\n    this._rememberMorpher(type, morpher)\n    return this\n  },\n\n  zoom(level, point) {\n    if (this._tryRetarget('zoom', level, point)) return this\n\n    let morpher = new Morphable(this._stepper).to(new SVGNumber(level))\n\n    this.queue(\n      function () {\n        morpher = morpher.from(this.element().zoom())\n      },\n      function (pos) {\n        this.element().zoom(morpher.at(pos), point)\n        return morpher.done()\n      },\n      function (newLevel, newPoint) {\n        point = newPoint\n        morpher.to(newLevel)\n      }\n    )\n\n    this._rememberMorpher('zoom', morpher)\n    return this\n  },\n\n  /**\n   ** absolute transformations\n   **/\n\n  //\n  // M v -----|-----(D M v = F v)------|----->  T v\n  //\n  // 1. define the final state (T) and decompose it (once)\n  //    t = [tx, ty, the, lam, sy, sx]\n  // 2. on every frame: pull the current state of all previous transforms\n  //    (M - m can change)\n  //   and then write this as m = [tx0, ty0, the0, lam0, sy0, sx0]\n  // 3. Find the interpolated matrix F(pos) = m + pos * (t - m)\n  //   - Note F(0) = M\n  //   - Note F(1) = T\n  // 4. Now you get the delta matrix as a result: D = F * inv(M)\n\n  transform(transforms, relative, affine) {\n    // If we have a declarative function, we should retarget it if possible\n    relative = transforms.relative || relative\n    if (\n      this._isDeclarative &&\n      !relative &&\n      this._tryRetarget('transform', transforms)\n    ) {\n      return this\n    }\n\n    // Parse the parameters\n    const isMatrix = Matrix.isMatrixLike(transforms)\n    affine =\n      transforms.affine != null\n        ? transforms.affine\n        : affine != null\n          ? affine\n          : !isMatrix\n\n    // Create a morpher and set its type\n    const morpher = new Morphable(this._stepper).type(\n      affine ? TransformBag : Matrix\n    )\n\n    let origin\n    let element\n    let current\n    let currentAngle\n    let startTransform\n\n    function setup() {\n      // make sure element and origin is defined\n      element = element || this.element()\n      origin = origin || getOrigin(transforms, element)\n\n      startTransform = new Matrix(relative ? undefined : element)\n\n      // add the runner to the element so it can merge transformations\n      element._addRunner(this)\n\n      // Deactivate all transforms that have run so far if we are absolute\n      if (!relative) {\n        element._clearTransformRunnersBefore(this)\n      }\n    }\n\n    function run(pos) {\n      // clear all other transforms before this in case something is saved\n      // on this runner. We are absolute. We dont need these!\n      if (!relative) this.clearTransform()\n\n      const { x, y } = new Point(origin).transform(\n        element._currentTransform(this)\n      )\n\n      let target = new Matrix({ ...transforms, origin: [x, y] })\n      let start = this._isDeclarative && current ? current : startTransform\n\n      if (affine) {\n        target = target.decompose(x, y)\n        start = start.decompose(x, y)\n\n        // Get the current and target angle as it was set\n        const rTarget = target.rotate\n        const rCurrent = start.rotate\n\n        // Figure out the shortest path to rotate directly\n        const possibilities = [rTarget - 360, rTarget, rTarget + 360]\n        const distances = possibilities.map((a) => Math.abs(a - rCurrent))\n        const shortest = Math.min(...distances)\n        const index = distances.indexOf(shortest)\n        target.rotate = possibilities[index]\n      }\n\n      if (relative) {\n        // we have to be careful here not to overwrite the rotation\n        // with the rotate method of Matrix\n        if (!isMatrix) {\n          target.rotate = transforms.rotate || 0\n        }\n        if (this._isDeclarative && currentAngle) {\n          start.rotate = currentAngle\n        }\n      }\n\n      morpher.from(start)\n      morpher.to(target)\n\n      const affineParameters = morpher.at(pos)\n      currentAngle = affineParameters.rotate\n      current = new Matrix(affineParameters)\n\n      this.addTransform(current)\n      element._addRunner(this)\n      return morpher.done()\n    }\n\n    function retarget(newTransforms) {\n      // only get a new origin if it changed since the last call\n      if (\n        (newTransforms.origin || 'center').toString() !==\n        (transforms.origin || 'center').toString()\n      ) {\n        origin = getOrigin(newTransforms, element)\n      }\n\n      // overwrite the old transformations with the new ones\n      transforms = { ...newTransforms, origin }\n    }\n\n    this.queue(setup, run, retarget, true)\n    this._isDeclarative && this._rememberMorpher('transform', morpher)\n    return this\n  },\n\n  // Animatable x-axis\n  x(x) {\n    return this._queueNumber('x', x)\n  },\n\n  // Animatable y-axis\n  y(y) {\n    return this._queueNumber('y', y)\n  },\n\n  ax(x) {\n    return this._queueNumber('ax', x)\n  },\n\n  ay(y) {\n    return this._queueNumber('ay', y)\n  },\n\n  dx(x = 0) {\n    return this._queueNumberDelta('x', x)\n  },\n\n  dy(y = 0) {\n    return this._queueNumberDelta('y', y)\n  },\n\n  dmove(x, y) {\n    return this.dx(x).dy(y)\n  },\n\n  _queueNumberDelta(method, to) {\n    to = new SVGNumber(to)\n\n    // Try to change the target if we have this method already registered\n    if (this._tryRetarget(method, to)) return this\n\n    // Make a morpher and queue the animation\n    const morpher = new Morphable(this._stepper).to(to)\n    let from = null\n    this.queue(\n      function () {\n        from = this.element()[method]()\n        morpher.from(from)\n        morpher.to(from + to)\n      },\n      function (pos) {\n        this.element()[method](morpher.at(pos))\n        return morpher.done()\n      },\n      function (newTo) {\n        morpher.to(from + new SVGNumber(newTo))\n      }\n    )\n\n    // Register the morpher so that if it is changed again, we can retarget it\n    this._rememberMorpher(method, morpher)\n    return this\n  },\n\n  _queueObject(method, to) {\n    // Try to change the target if we have this method already registered\n    if (this._tryRetarget(method, to)) return this\n\n    // Make a morpher and queue the animation\n    const morpher = new Morphable(this._stepper).to(to)\n    this.queue(\n      function () {\n        morpher.from(this.element()[method]())\n      },\n      function (pos) {\n        this.element()[method](morpher.at(pos))\n        return morpher.done()\n      }\n    )\n\n    // Register the morpher so that if it is changed again, we can retarget it\n    this._rememberMorpher(method, morpher)\n    return this\n  },\n\n  _queueNumber(method, value) {\n    return this._queueObject(method, new SVGNumber(value))\n  },\n\n  // Animatable center x-axis\n  cx(x) {\n    return this._queueNumber('cx', x)\n  },\n\n  // Animatable center y-axis\n  cy(y) {\n    return this._queueNumber('cy', y)\n  },\n\n  // Add animatable move\n  move(x, y) {\n    return this.x(x).y(y)\n  },\n\n  amove(x, y) {\n    return this.ax(x).ay(y)\n  },\n\n  // Add animatable center\n  center(x, y) {\n    return this.cx(x).cy(y)\n  },\n\n  // Add animatable size\n  size(width, height) {\n    // animate bbox based size for all other elements\n    let box\n\n    if (!width || !height) {\n      box = this._element.bbox()\n    }\n\n    if (!width) {\n      width = (box.width / box.height) * height\n    }\n\n    if (!height) {\n      height = (box.height / box.width) * width\n    }\n\n    return this.width(width).height(height)\n  },\n\n  // Add animatable width\n  width(width) {\n    return this._queueNumber('width', width)\n  },\n\n  // Add animatable height\n  height(height) {\n    return this._queueNumber('height', height)\n  },\n\n  // Add animatable plot\n  plot(a, b, c, d) {\n    // Lines can be plotted with 4 arguments\n    if (arguments.length === 4) {\n      return this.plot([a, b, c, d])\n    }\n\n    if (this._tryRetarget('plot', a)) return this\n\n    const morpher = new Morphable(this._stepper)\n      .type(this._element.MorphArray)\n      .to(a)\n\n    this.queue(\n      function () {\n        morpher.from(this._element.array())\n      },\n      function (pos) {\n        this._element.plot(morpher.at(pos))\n        return morpher.done()\n      }\n    )\n\n    this._rememberMorpher('plot', morpher)\n    return this\n  },\n\n  // Add leading method\n  leading(value) {\n    return this._queueNumber('leading', value)\n  },\n\n  // Add animatable viewbox\n  viewbox(x, y, width, height) {\n    return this._queueObject('viewbox', new Box(x, y, width, height))\n  },\n\n  update(o) {\n    if (typeof o !== 'object') {\n      return this.update({\n        offset: arguments[0],\n        color: arguments[1],\n        opacity: arguments[2]\n      })\n    }\n\n    if (o.opacity != null) this.attr('stop-opacity', o.opacity)\n    if (o.color != null) this.attr('stop-color', o.color)\n    if (o.offset != null) this.attr('offset', o.offset)\n\n    return this\n  }\n})\n\nextend(Runner, { rx, ry, from, to })\nregister(Runner, 'Runner')\n","import {\n  adopt,\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck\n} from '../utils/adopter.js'\nimport { svg, xlink, xmlns } from '../modules/core/namespaces.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Container from './Container.js'\nimport Defs from './Defs.js'\nimport { globals } from '../utils/window.js'\n\nexport default class Svg extends Container {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('svg', node), attrs)\n    this.namespace()\n  }\n\n  // Creates and returns defs element\n  defs() {\n    if (!this.isRoot()) return this.root().defs()\n\n    return adopt(this.node.querySelector('defs')) || this.put(new Defs())\n  }\n\n  isRoot() {\n    return (\n      !this.node.parentNode ||\n      (!(this.node.parentNode instanceof globals.window.SVGElement) &&\n        this.node.parentNode.nodeName !== '#document-fragment')\n    )\n  }\n\n  // Add namespaces\n  namespace() {\n    if (!this.isRoot()) return this.root().namespace()\n    return this.attr({ xmlns: svg, version: '1.1' }).attr(\n      'xmlns:xlink',\n      xlink,\n      xmlns\n    )\n  }\n\n  removeNamespace() {\n    return this.attr({ xmlns: null, version: null })\n      .attr('xmlns:xlink', null, xmlns)\n      .attr('xmlns:svgjs', null, xmlns)\n  }\n\n  // Check if this is a root svg\n  // If not, call root() from this element\n  root() {\n    if (this.isRoot()) return this\n    return super.root()\n  }\n}\n\nregisterMethods({\n  Container: {\n    // Create nested svg document\n    nested: wrapWithAttrCheck(function () {\n      return this.put(new Svg())\n    })\n  }\n})\n\nregister(Svg, 'Svg', true)\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Container from './Container.js'\n\nexport default class Symbol extends Container {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('symbol', node), attrs)\n  }\n}\n\nregisterMethods({\n  Container: {\n    symbol: wrapWithAttrCheck(function () {\n      return this.put(new Symbol())\n    })\n  }\n})\n\nregister(Symbol, 'Symbol')\n","import { globals } from '../../utils/window.js'\n\n// Create plain text node\nexport function plain(text) {\n  // clear if build mode is disabled\n  if (this._build === false) {\n    this.clear()\n  }\n\n  // create text node\n  this.node.appendChild(globals.document.createTextNode(text))\n\n  return this\n}\n\n// Get length of text element\nexport function length() {\n  return this.node.getComputedTextLength()\n}\n\n// Move over x-axis\n// Text is moved by its bounding box\n// text-anchor does NOT matter\nexport function x(x, box = this.bbox()) {\n  if (x == null) {\n    return box.x\n  }\n\n  return this.attr('x', this.attr('x') + x - box.x)\n}\n\n// Move over y-axis\nexport function y(y, box = this.bbox()) {\n  if (y == null) {\n    return box.y\n  }\n\n  return this.attr('y', this.attr('y') + y - box.y)\n}\n\nexport function move(x, y, box = this.bbox()) {\n  return this.x(x, box).y(y, box)\n}\n\n// Move center over x-axis\nexport function cx(x, box = this.bbox()) {\n  if (x == null) {\n    return box.cx\n  }\n\n  return this.attr('x', this.attr('x') + x - box.cx)\n}\n\n// Move center over y-axis\nexport function cy(y, box = this.bbox()) {\n  if (y == null) {\n    return box.cy\n  }\n\n  return this.attr('y', this.attr('y') + y - box.cy)\n}\n\nexport function center(x, y, box = this.bbox()) {\n  return this.cx(x, box).cy(y, box)\n}\n\nexport function ax(x) {\n  return this.attr('x', x)\n}\n\nexport function ay(y) {\n  return this.attr('y', y)\n}\n\nexport function amove(x, y) {\n  return this.ax(x).ay(y)\n}\n\n// Enable / disable build mode\nexport function build(build) {\n  this._build = !!build\n  return this\n}\n","import {\n  adopt,\n  extend,\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck\n} from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport SVGNumber from '../types/SVGNumber.js'\nimport Shape from './Shape.js'\nimport { globals } from '../utils/window.js'\nimport * as textable from '../modules/core/textable.js'\nimport { isDescriptive, writeDataToDom } from '../utils/utils.js'\n\nexport default class Text extends Shape {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('text', node), attrs)\n\n    this.dom.leading = this.dom.leading ?? new SVGNumber(1.3) // store leading value for rebuilding\n    this._rebuild = true // enable automatic updating of dy values\n    this._build = false // disable build mode for adding multiple lines\n  }\n\n  // Set / get leading\n  leading(value) {\n    // act as getter\n    if (value == null) {\n      return this.dom.leading\n    }\n\n    // act as setter\n    this.dom.leading = new SVGNumber(value)\n\n    return this.rebuild()\n  }\n\n  // Rebuild appearance type\n  rebuild(rebuild) {\n    // store new rebuild flag if given\n    if (typeof rebuild === 'boolean') {\n      this._rebuild = rebuild\n    }\n\n    // define position of all lines\n    if (this._rebuild) {\n      const self = this\n      let blankLineOffset = 0\n      const leading = this.dom.leading\n\n      this.each(function (i) {\n        if (isDescriptive(this.node)) return\n\n        const fontSize = globals.window\n          .getComputedStyle(this.node)\n          .getPropertyValue('font-size')\n\n        const dy = leading * new SVGNumber(fontSize)\n\n        if (this.dom.newLined) {\n          this.attr('x', self.attr('x'))\n\n          if (this.text() === '\\n') {\n            blankLineOffset += dy\n          } else {\n            this.attr('dy', i ? dy + blankLineOffset : 0)\n            blankLineOffset = 0\n          }\n        }\n      })\n\n      this.fire('rebuild')\n    }\n\n    return this\n  }\n\n  // overwrite method from parent to set data properly\n  setData(o) {\n    this.dom = o\n    this.dom.leading = new SVGNumber(o.leading || 1.3)\n    return this\n  }\n\n  writeDataToDom() {\n    writeDataToDom(this, this.dom, { leading: 1.3 })\n    return this\n  }\n\n  // Set the text content\n  text(text) {\n    // act as getter\n    if (text === undefined) {\n      const children = this.node.childNodes\n      let firstLine = 0\n      text = ''\n\n      for (let i = 0, len = children.length; i < len; ++i) {\n        // skip textPaths - they are no lines\n        if (children[i].nodeName === 'textPath' || isDescriptive(children[i])) {\n          if (i === 0) firstLine = i + 1\n          continue\n        }\n\n        // add newline if its not the first child and newLined is set to true\n        if (\n          i !== firstLine &&\n          children[i].nodeType !== 3 &&\n          adopt(children[i]).dom.newLined === true\n        ) {\n          text += '\\n'\n        }\n\n        // add content of this node\n        text += children[i].textContent\n      }\n\n      return text\n    }\n\n    // remove existing content\n    this.clear().build(true)\n\n    if (typeof text === 'function') {\n      // call block\n      text.call(this, this)\n    } else {\n      // store text and make sure text is not blank\n      text = (text + '').split('\\n')\n\n      // build new lines\n      for (let j = 0, jl = text.length; j < jl; j++) {\n        this.newLine(text[j])\n      }\n    }\n\n    // disable build mode and rebuild lines\n    return this.build(false).rebuild()\n  }\n}\n\nextend(Text, textable)\n\nregisterMethods({\n  Container: {\n    // Create text element\n    text: wrapWithAttrCheck(function (text = '') {\n      return this.put(new Text()).text(text)\n    }),\n\n    // Create plain text element\n    plain: wrapWithAttrCheck(function (text = '') {\n      return this.put(new Text()).plain(text)\n    })\n  }\n})\n\nregister(Text, 'Text')\n","import {\n  extend,\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck\n} from '../utils/adopter.js'\nimport { globals } from '../utils/window.js'\nimport { registerMethods } from '../utils/methods.js'\nimport SVGNumber from '../types/SVGNumber.js'\nimport Shape from './Shape.js'\nimport Text from './Text.js'\nimport * as textable from '../modules/core/textable.js'\n\nexport default class Tspan extends Shape {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('tspan', node), attrs)\n    this._build = false // disable build mode for adding multiple lines\n  }\n\n  // Shortcut dx\n  dx(dx) {\n    return this.attr('dx', dx)\n  }\n\n  // Shortcut dy\n  dy(dy) {\n    return this.attr('dy', dy)\n  }\n\n  // Create new line\n  newLine() {\n    // mark new line\n    this.dom.newLined = true\n\n    // fetch parent\n    const text = this.parent()\n\n    // early return in case we are not in a text element\n    if (!(text instanceof Text)) {\n      return this\n    }\n\n    const i = text.index(this)\n\n    const fontSize = globals.window\n      .getComputedStyle(this.node)\n      .getPropertyValue('font-size')\n    const dy = text.dom.leading * new SVGNumber(fontSize)\n\n    // apply new position\n    return this.dy(i ? dy : 0).attr('x', text.x())\n  }\n\n  // Set text content\n  text(text) {\n    if (text == null)\n      return this.node.textContent + (this.dom.newLined ? '\\n' : '')\n\n    if (typeof text === 'function') {\n      this.clear().build(true)\n      text.call(this, this)\n      this.build(false)\n    } else {\n      this.plain(text)\n    }\n\n    return this\n  }\n}\n\nextend(Tspan, textable)\n\nregisterMethods({\n  Tspan: {\n    tspan: wrapWithAttrCheck(function (text = '') {\n      const tspan = new Tspan()\n\n      // clear if build mode is disabled\n      if (!this._build) {\n        this.clear()\n      }\n\n      // add new tspan\n      return this.put(tspan).text(text)\n    })\n  },\n  Text: {\n    newLine: function (text = '') {\n      return this.tspan(text).newLine()\n    }\n  }\n})\n\nregister(Tspan, 'Tspan')\n","import { cx, cy, height, width, x, y } from '../modules/core/circled.js'\nimport {\n  extend,\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck\n} from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport SVGNumber from '../types/SVGNumber.js'\nimport Shape from './Shape.js'\n\nexport default class Circle extends Shape {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('circle', node), attrs)\n  }\n\n  radius(r) {\n    return this.attr('r', r)\n  }\n\n  // Radius x value\n  rx(rx) {\n    return this.attr('r', rx)\n  }\n\n  // Alias radius x value\n  ry(ry) {\n    return this.rx(ry)\n  }\n\n  size(size) {\n    return this.radius(new SVGNumber(size).divide(2))\n  }\n}\n\nextend(Circle, { x, y, cx, cy, width, height })\n\nregisterMethods({\n  Container: {\n    // Create circle element\n    circle: wrapWithAttrCheck(function (size = 0) {\n      return this.put(new Circle()).size(size).move(0, 0)\n    })\n  }\n})\n\nregister(Circle, 'Circle')\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Container from './Container.js'\nimport baseFind from '../modules/core/selector.js'\n\nexport default class ClipPath extends Container {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('clipPath', node), attrs)\n  }\n\n  // Unclip all clipped elements and remove itself\n  remove() {\n    // unclip all targets\n    this.targets().forEach(function (el) {\n      el.unclip()\n    })\n\n    // remove clipPath from parent\n    return super.remove()\n  }\n\n  targets() {\n    return baseFind('svg [clip-path*=' + this.id() + ']')\n  }\n}\n\nregisterMethods({\n  Container: {\n    // Create clipping element\n    clip: wrapWithAttrCheck(function () {\n      return this.defs().put(new ClipPath())\n    })\n  },\n  Element: {\n    // Distribute clipPath to svg element\n    clipper() {\n      return this.reference('clip-path')\n    },\n\n    clipWith(element) {\n      // use given clip or create a new one\n      const clipper =\n        element instanceof ClipPath\n          ? element\n          : this.parent().clip().add(element)\n\n      // apply mask\n      return this.attr('clip-path', 'url(#' + clipper.id() + ')')\n    },\n\n    // Unclip element\n    unclip() {\n      return this.attr('clip-path', null)\n    }\n  }\n})\n\nregister(ClipPath, 'ClipPath')\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Element from './Element.js'\n\nexport default class ForeignObject extends Element {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('foreignObject', node), attrs)\n  }\n}\n\nregisterMethods({\n  Container: {\n    foreignObject: wrapWithAttrCheck(function (width, height) {\n      return this.put(new ForeignObject()).size(width, height)\n    })\n  }\n})\n\nregister(ForeignObject, 'ForeignObject')\n","import Matrix from '../../types/Matrix.js'\nimport Point from '../../types/Point.js'\nimport Box from '../../types/Box.js'\nimport { proportionalSize } from '../../utils/utils.js'\nimport { getWindow } from '../../utils/window.js'\n\nexport function dmove(dx, dy) {\n  this.children().forEach((child) => {\n    let bbox\n\n    // We have to wrap this for elements that dont have a bbox\n    // e.g. title and other descriptive elements\n    try {\n      // Get the childs bbox\n      // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1905039\n      // Because bbox for nested svgs returns the contents bbox in the coordinate space of the svg itself (weird!), we cant use bbox for svgs\n      // Therefore we have to use getBoundingClientRect. But THAT is broken (as explained in the bug).\n      // Funnily enough the broken behavior would work for us but that breaks it in chrome\n      // So we have to replicate the broken behavior of FF by just reading the attributes of the svg itself\n      bbox =\n        child.node instanceof getWindow().SVGSVGElement\n          ? new Box(child.attr(['x', 'y', 'width', 'height']))\n          : child.bbox()\n    } catch (e) {\n      return\n    }\n\n    // Get childs matrix\n    const m = new Matrix(child)\n    // Translate childs matrix by amount and\n    // transform it back into parents space\n    const matrix = m.translate(dx, dy).transform(m.inverse())\n    // Calculate new x and y from old box\n    const p = new Point(bbox.x, bbox.y).transform(matrix)\n    // Move element\n    child.move(p.x, p.y)\n  })\n\n  return this\n}\n\nexport function dx(dx) {\n  return this.dmove(dx, 0)\n}\n\nexport function dy(dy) {\n  return this.dmove(0, dy)\n}\n\nexport function height(height, box = this.bbox()) {\n  if (height == null) return box.height\n  return this.size(box.width, height, box)\n}\n\nexport function move(x = 0, y = 0, box = this.bbox()) {\n  const dx = x - box.x\n  const dy = y - box.y\n\n  return this.dmove(dx, dy)\n}\n\nexport function size(width, height, box = this.bbox()) {\n  const p = proportionalSize(this, width, height, box)\n  const scaleX = p.width / box.width\n  const scaleY = p.height / box.height\n\n  this.children().forEach((child) => {\n    const o = new Point(box).transform(new Matrix(child).inverse())\n    child.scale(scaleX, scaleY, o.x, o.y)\n  })\n\n  return this\n}\n\nexport function width(width, box = this.bbox()) {\n  if (width == null) return box.width\n  return this.size(width, box.height, box)\n}\n\nexport function x(x, box = this.bbox()) {\n  if (x == null) return box.x\n  return this.move(x, box.y, box)\n}\n\nexport function y(y, box = this.bbox()) {\n  if (y == null) return box.y\n  return this.move(box.x, y, box)\n}\n","import {\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck,\n  extend\n} from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Container from './Container.js'\nimport * as containerGeometry from '../modules/core/containerGeometry.js'\n\nexport default class G extends Container {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('g', node), attrs)\n  }\n}\n\nextend(G, containerGeometry)\n\nregisterMethods({\n  Container: {\n    // Create a group element\n    group: wrapWithAttrCheck(function () {\n      return this.put(new G())\n    })\n  }\n})\n\nregister(G, 'G')\n","import {\n  nodeOrNew,\n  register,\n  wrapWithAttrCheck,\n  extend\n} from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport { xlink } from '../modules/core/namespaces.js'\nimport Container from './Container.js'\nimport * as containerGeometry from '../modules/core/containerGeometry.js'\n\nexport default class A extends Container {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('a', node), attrs)\n  }\n\n  // Link target attribute\n  target(target) {\n    return this.attr('target', target)\n  }\n\n  // Link url\n  to(url) {\n    return this.attr('href', url, xlink)\n  }\n}\n\nextend(A, containerGeometry)\n\nregisterMethods({\n  Container: {\n    // Create a hyperlink element\n    link: wrapWithAttrCheck(function (url) {\n      return this.put(new A()).to(url)\n    })\n  },\n  Element: {\n    unlink() {\n      const link = this.linker()\n\n      if (!link) return this\n\n      const parent = link.parent()\n\n      if (!parent) {\n        return this.remove()\n      }\n\n      const index = parent.index(link)\n      parent.add(this, index)\n\n      link.remove()\n      return this\n    },\n    linkTo(url) {\n      // reuse old link if possible\n      let link = this.linker()\n\n      if (!link) {\n        link = new A()\n        this.wrap(link)\n      }\n\n      if (typeof url === 'function') {\n        url.call(link, link)\n      } else {\n        link.to(url)\n      }\n\n      return this\n    },\n    linker() {\n      const link = this.parent()\n      if (link && link.node.nodeName.toLowerCase() === 'a') {\n        return link\n      }\n\n      return null\n    }\n  }\n})\n\nregister(A, 'A')\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport Container from './Container.js'\nimport baseFind from '../modules/core/selector.js'\n\nexport default class Mask extends Container {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('mask', node), attrs)\n  }\n\n  // Unmask all masked elements and remove itself\n  remove() {\n    // unmask all targets\n    this.targets().forEach(function (el) {\n      el.unmask()\n    })\n\n    // remove mask from parent\n    return super.remove()\n  }\n\n  targets() {\n    return baseFind('svg [mask*=' + this.id() + ']')\n  }\n}\n\nregisterMethods({\n  Container: {\n    mask: wrapWithAttrCheck(function () {\n      return this.defs().put(new Mask())\n    })\n  },\n  Element: {\n    // Distribute mask to svg element\n    masker() {\n      return this.reference('mask')\n    },\n\n    maskWith(element) {\n      // use given mask or create a new one\n      const masker =\n        element instanceof Mask ? element : this.parent().mask().add(element)\n\n      // apply mask\n      return this.attr('mask', 'url(#' + masker.id() + ')')\n    },\n\n    // Unmask element\n    unmask() {\n      return this.attr('mask', null)\n    }\n  }\n})\n\nregister(Mask, 'Mask')\n","import { nodeOrNew, register } from '../utils/adopter.js'\nimport Element from './Element.js'\nimport SVGNumber from '../types/SVGNumber.js'\nimport { registerMethods } from '../utils/methods.js'\n\nexport default class Stop extends Element {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('stop', node), attrs)\n  }\n\n  // add color stops\n  update(o) {\n    if (typeof o === 'number' || o instanceof SVGNumber) {\n      o = {\n        offset: arguments[0],\n        color: arguments[1],\n        opacity: arguments[2]\n      }\n    }\n\n    // set attributes\n    if (o.opacity != null) this.attr('stop-opacity', o.opacity)\n    if (o.color != null) this.attr('stop-color', o.color)\n    if (o.offset != null) this.attr('offset', new SVGNumber(o.offset))\n\n    return this\n  }\n}\n\nregisterMethods({\n  Gradient: {\n    // Add a color stop\n    stop: function (offset, color, opacity) {\n      return this.put(new Stop()).update(offset, color, opacity)\n    }\n  }\n})\n\nregister(Stop, 'Stop')\n","import { nodeOrNew, register } from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport { unCamelCase } from '../utils/utils.js'\nimport Element from './Element.js'\n\nfunction cssRule(selector, rule) {\n  if (!selector) return ''\n  if (!rule) return selector\n\n  let ret = selector + '{'\n\n  for (const i in rule) {\n    ret += unCamelCase(i) + ':' + rule[i] + ';'\n  }\n\n  ret += '}'\n\n  return ret\n}\n\nexport default class Style extends Element {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('style', node), attrs)\n  }\n\n  addText(w = '') {\n    this.node.textContent += w\n    return this\n  }\n\n  font(name, src, params = {}) {\n    return this.rule('@font-face', {\n      fontFamily: name,\n      src: src,\n      ...params\n    })\n  }\n\n  rule(selector, obj) {\n    return this.addText(cssRule(selector, obj))\n  }\n}\n\nregisterMethods('Dom', {\n  style(selector, obj) {\n    return this.put(new Style()).rule(selector, obj)\n  },\n  fontface(name, src, params) {\n    return this.put(new Style()).font(name, src, params)\n  }\n})\n\nregister(Style, 'Style')\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport { xlink } from '../modules/core/namespaces.js'\nimport Path from './Path.js'\nimport PathArray from '../types/PathArray.js'\nimport Text from './Text.js'\nimport baseFind from '../modules/core/selector.js'\n\nexport default class TextPath extends Text {\n  // Initialize node\n  constructor(node, attrs = node) {\n    super(nodeOrNew('textPath', node), attrs)\n  }\n\n  // return the array of the path track element\n  array() {\n    const track = this.track()\n\n    return track ? track.array() : null\n  }\n\n  // Plot path if any\n  plot(d) {\n    const track = this.track()\n    let pathArray = null\n\n    if (track) {\n      pathArray = track.plot(d)\n    }\n\n    return d == null ? pathArray : this\n  }\n\n  // Get the path element\n  track() {\n    return this.reference('href')\n  }\n}\n\nregisterMethods({\n  Container: {\n    textPath: wrapWithAttrCheck(function (text, path) {\n      // Convert text to instance if needed\n      if (!(text instanceof Text)) {\n        text = this.text(text)\n      }\n\n      return text.path(path)\n    })\n  },\n  Text: {\n    // Create path for text to run on\n    path: wrapWithAttrCheck(function (track, importNodes = true) {\n      const textPath = new TextPath()\n\n      // if track is a path, reuse it\n      if (!(track instanceof Path)) {\n        // create path element\n        track = this.defs().path(track)\n      }\n\n      // link textPath to path and add content\n      textPath.attr('href', '#' + track, xlink)\n\n      // Transplant all nodes from text to textPath\n      let node\n      if (importNodes) {\n        while ((node = this.node.firstChild)) {\n          textPath.node.appendChild(node)\n        }\n      }\n\n      // add textPath element as child node and return textPath\n      return this.put(textPath)\n    }),\n\n    // Get the textPath children\n    textPath() {\n      return this.findOne('textPath')\n    }\n  },\n  Path: {\n    // creates a textPath from this path\n    text: wrapWithAttrCheck(function (text) {\n      // Convert text to instance if needed\n      if (!(text instanceof Text)) {\n        text = new Text().addTo(this.parent()).text(text)\n      }\n\n      // Create textPath from text and path and return\n      return text.path(this)\n    }),\n\n    targets() {\n      return baseFind('svg textPath').filter((node) => {\n        return (node.attr('href') || '').includes(this.id())\n      })\n\n      // Does not work in IE11. Use when IE support is dropped\n      // return baseFind('svg textPath[*|href*=' + this.id() + ']')\n    }\n  }\n})\n\nTextPath.prototype.MorphArray = PathArray\nregister(TextPath, 'TextPath')\n","import { nodeOrNew, register, wrapWithAttrCheck } from '../utils/adopter.js'\nimport { registerMethods } from '../utils/methods.js'\nimport { xlink } from '../modules/core/namespaces.js'\nimport Shape from './Shape.js'\n\nexport default class Use extends Shape {\n  constructor(node, attrs = node) {\n    super(nodeOrNew('use', node), attrs)\n  }\n\n  // Use element as a reference\n  use(element, file) {\n    // Set lined element\n    return this.attr('href', (file || '') + '#' + element, xlink)\n  }\n}\n\nregisterMethods({\n  Container: {\n    // Create a use element\n    use: wrapWithAttrCheck(function (element, file) {\n      return this.put(new Use()).use(element, file)\n    })\n  }\n})\n\nregister(Use, 'Use')\n","/* Optional Modules */\nimport './modules/optional/arrange.js'\nimport './modules/optional/class.js'\nimport './modules/optional/css.js'\nimport './modules/optional/data.js'\nimport './modules/optional/memory.js'\nimport './modules/optional/sugar.js'\nimport './modules/optional/transform.js'\n\nimport { extend, makeInstance } from './utils/adopter.js'\nimport { getMethodNames, getMethodsFor } from './utils/methods.js'\nimport Box from './types/Box.js'\nimport Color from './types/Color.js'\nimport Container from './elements/Container.js'\nimport Defs from './elements/Defs.js'\nimport Dom from './elements/Dom.js'\nimport Element from './elements/Element.js'\nimport Ellipse from './elements/Ellipse.js'\nimport EventTarget from './types/EventTarget.js'\nimport Fragment from './elements/Fragment.js'\nimport Gradient from './elements/Gradient.js'\nimport Image from './elements/Image.js'\nimport Line from './elements/Line.js'\nimport List from './types/List.js'\nimport Marker from './elements/Marker.js'\nimport Matrix from './types/Matrix.js'\nimport Morphable, {\n  NonMorphable,\n  ObjectBag,\n  TransformBag,\n  makeMorphable,\n  registerMorphableType\n} from './animation/Morphable.js'\nimport Path from './elements/Path.js'\nimport PathArray from './types/PathArray.js'\nimport Pattern from './elements/Pattern.js'\nimport PointArray from './types/PointArray.js'\nimport Point from './types/Point.js'\nimport Polygon from './elements/Polygon.js'\nimport Polyline from './elements/Polyline.js'\nimport Rect from './elements/Rect.js'\nimport Runner from './animation/Runner.js'\nimport SVGArray from './types/SVGArray.js'\nimport SVGNumber from './types/SVGNumber.js'\nimport Shape from './elements/Shape.js'\nimport Svg from './elements/Svg.js'\nimport Symbol from './elements/Symbol.js'\nimport Text from './elements/Text.js'\nimport Tspan from './elements/Tspan.js'\nimport * as defaults from './modules/core/defaults.js'\nimport * as utils from './utils/utils.js'\nimport * as namespaces from './modules/core/namespaces.js'\nimport * as regex from './modules/core/regex.js'\n\nexport {\n  Morphable,\n  registerMorphableType,\n  makeMorphable,\n  TransformBag,\n  ObjectBag,\n  NonMorphable\n}\n\nexport { defaults, utils, namespaces, regex }\nexport const SVG = makeInstance\nexport { default as parser } from './modules/core/parser.js'\nexport { default as find } from './modules/core/selector.js'\nexport * from './modules/core/event.js'\nexport * from './utils/adopter.js'\nexport {\n  getWindow,\n  registerWindow,\n  restoreWindow,\n  saveWindow,\n  withWindow\n} from './utils/window.js'\n\n/* Animation Modules */\nexport { default as Animator } from './animation/Animator.js'\nexport {\n  Controller,\n  Ease,\n  PID,\n  Spring,\n  easing\n} from './animation/Controller.js'\nexport { default as Queue } from './animation/Queue.js'\nexport { default as Runner } from './animation/Runner.js'\nexport { default as Timeline } from './animation/Timeline.js'\n\n/* Types */\nexport { default as Array } from './types/SVGArray.js'\nexport { default as Box } from './types/Box.js'\nexport { default as Color } from './types/Color.js'\nexport { default as EventTarget } from './types/EventTarget.js'\nexport { default as Matrix } from './types/Matrix.js'\nexport { default as Number } from './types/SVGNumber.js'\nexport { default as PathArray } from './types/PathArray.js'\nexport { default as Point } from './types/Point.js'\nexport { default as PointArray } from './types/PointArray.js'\nexport { default as List } from './types/List.js'\n\n/* Elements */\nexport { default as Circle } from './elements/Circle.js'\nexport { default as ClipPath } from './elements/ClipPath.js'\nexport { default as Container } from './elements/Container.js'\nexport { default as Defs } from './elements/Defs.js'\nexport { default as Dom } from './elements/Dom.js'\nexport { default as Element } from './elements/Element.js'\nexport { default as Ellipse } from './elements/Ellipse.js'\nexport { default as ForeignObject } from './elements/ForeignObject.js'\nexport { default as Fragment } from './elements/Fragment.js'\nexport { default as Gradient } from './elements/Gradient.js'\nexport { default as G } from './elements/G.js'\nexport { default as A } from './elements/A.js'\nexport { default as Image } from './elements/Image.js'\nexport { default as Line } from './elements/Line.js'\nexport { default as Marker } from './elements/Marker.js'\nexport { default as Mask } from './elements/Mask.js'\nexport { default as Path } from './elements/Path.js'\nexport { default as Pattern } from './elements/Pattern.js'\nexport { default as Polygon } from './elements/Polygon.js'\nexport { default as Polyline } from './elements/Polyline.js'\nexport { default as Rect } from './elements/Rect.js'\nexport { default as Shape } from './elements/Shape.js'\nexport { default as Stop } from './elements/Stop.js'\nexport { default as Style } from './elements/Style.js'\nexport { default as Svg } from './elements/Svg.js'\nexport { default as Symbol } from './elements/Symbol.js'\nexport { default as Text } from './elements/Text.js'\nexport { default as TextPath } from './elements/TextPath.js'\nexport { default as Tspan } from './elements/Tspan.js'\nexport { default as Use } from './elements/Use.js'\n\nextend([Svg, Symbol, Image, Pattern, Marker], getMethodsFor('viewbox'))\n\nextend([Line, Polyline, Polygon, Path], getMethodsFor('marker'))\n\nextend(Text, getMethodsFor('Text'))\nextend(Path, getMethodsFor('Path'))\n\nextend(Defs, getMethodsFor('Defs'))\n\nextend([Text, Tspan], getMethodsFor('Tspan'))\n\nextend([Rect, Ellipse, Gradient, Runner], getMethodsFor('radius'))\n\nextend(EventTarget, getMethodsFor('EventTarget'))\nextend(Dom, getMethodsFor('Dom'))\nextend(Element, getMethodsFor('Element'))\nextend(Shape, getMethodsFor('Shape'))\nextend([Container, Fragment], getMethodsFor('Container'))\nextend(Gradient, getMethodsFor('Gradient'))\n\nextend(Runner, getMethodsFor('Runner'))\n\nList.extend(getMethodNames())\n\nregisterMorphableType([\n  SVGNumber,\n  Color,\n  Box,\n  Matrix,\n  SVGArray,\n  PointArray,\n  PathArray,\n  Point\n])\n\nmakeMorphable()\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n",null,"/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/data.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n/**\n * Constants\n */\n\nconst elementMap = new Map()\n\nexport default {\n  set(element, key, instance) {\n    if (!elementMap.has(element)) {\n      elementMap.set(element, new Map())\n    }\n\n    const instanceMap = elementMap.get(element)\n\n    // make it clear we only want one instance per element\n    // can be removed later when multiple key/instances are fine to be used\n    if (!instanceMap.has(key) && instanceMap.size !== 0) {\n      // eslint-disable-next-line no-console\n      console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(instanceMap.keys())[0]}.`)\n      return\n    }\n\n    instanceMap.set(key, instance)\n  },\n\n  get(element, key) {\n    if (elementMap.has(element)) {\n      return elementMap.get(element).get(key) || null\n    }\n\n    return null\n  },\n\n  remove(element, key) {\n    if (!elementMap.has(element)) {\n      return\n    }\n\n    const instanceMap = elementMap.get(element)\n\n    instanceMap.delete(key)\n\n    // free up element references if there are no instances left for an element\n    if (instanceMap.size === 0) {\n      elementMap.delete(element)\n    }\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap util/index.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MAX_UID = 1_000_000\nconst MILLISECONDS_MULTIPLIER = 1000\nconst TRANSITION_END = 'transitionend'\n\n/**\n * Properly escape IDs selectors to handle weird IDs\n * @param {string} selector\n * @returns {string}\n */\nconst parseSelector = selector => {\n  if (selector && window.CSS && window.CSS.escape) {\n    // document.querySelector needs escaping to handle IDs (html5+) containing for instance /\n    selector = selector.replace(/#([^\\s\"#']+)/g, (match, id) => `#${CSS.escape(id)}`)\n  }\n\n  return selector\n}\n\n// Shout-out Angus Croll (https://goo.gl/pxwQGp)\nconst toType = object => {\n  if (object === null || object === undefined) {\n    return `${object}`\n  }\n\n  return Object.prototype.toString.call(object).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\n/**\n * Public Util API\n */\n\nconst getUID = prefix => {\n  do {\n    prefix += Math.floor(Math.random() * MAX_UID)\n  } while (document.getElementById(prefix))\n\n  return prefix\n}\n\nconst getTransitionDurationFromElement = element => {\n  if (!element) {\n    return 0\n  }\n\n  // Get transition-duration of the element\n  let { transitionDuration, transitionDelay } = window.getComputedStyle(element)\n\n  const floatTransitionDuration = Number.parseFloat(transitionDuration)\n  const floatTransitionDelay = Number.parseFloat(transitionDelay)\n\n  // Return 0 if element or transition duration is not found\n  if (!floatTransitionDuration && !floatTransitionDelay) {\n    return 0\n  }\n\n  // If multiple durations are defined, take the first\n  transitionDuration = transitionDuration.split(',')[0]\n  transitionDelay = transitionDelay.split(',')[0]\n\n  return (Number.parseFloat(transitionDuration) + Number.parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER\n}\n\nconst triggerTransitionEnd = element => {\n  element.dispatchEvent(new Event(TRANSITION_END))\n}\n\nconst isElement = object => {\n  if (!object || typeof object !== 'object') {\n    return false\n  }\n\n  if (typeof object.jquery !== 'undefined') {\n    object = object[0]\n  }\n\n  return typeof object.nodeType !== 'undefined'\n}\n\nconst getElement = object => {\n  // it's a jQuery object or a node element\n  if (isElement(object)) {\n    return object.jquery ? object[0] : object\n  }\n\n  if (typeof object === 'string' && object.length > 0) {\n    return document.querySelector(parseSelector(object))\n  }\n\n  return null\n}\n\nconst isVisible = element => {\n  if (!isElement(element) || element.getClientRects().length === 0) {\n    return false\n  }\n\n  const elementIsVisible = getComputedStyle(element).getPropertyValue('visibility') === 'visible'\n  // Handle `details` element as its content may falsie appear visible when it is closed\n  const closedDetails = element.closest('details:not([open])')\n\n  if (!closedDetails) {\n    return elementIsVisible\n  }\n\n  if (closedDetails !== element) {\n    const summary = element.closest('summary')\n    if (summary && summary.parentNode !== closedDetails) {\n      return false\n    }\n\n    if (summary === null) {\n      return false\n    }\n  }\n\n  return elementIsVisible\n}\n\nconst isDisabled = element => {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    return true\n  }\n\n  if (element.classList.contains('disabled')) {\n    return true\n  }\n\n  if (typeof element.disabled !== 'undefined') {\n    return element.disabled\n  }\n\n  return element.hasAttribute('disabled') && element.getAttribute('disabled') !== 'false'\n}\n\nconst findShadowRoot = element => {\n  if (!document.documentElement.attachShadow) {\n    return null\n  }\n\n  // Can find the shadow root otherwise it'll return the document\n  if (typeof element.getRootNode === 'function') {\n    const root = element.getRootNode()\n    return root instanceof ShadowRoot ? root : null\n  }\n\n  if (element instanceof ShadowRoot) {\n    return element\n  }\n\n  // when we don't find a shadow root\n  if (!element.parentNode) {\n    return null\n  }\n\n  return findShadowRoot(element.parentNode)\n}\n\nconst noop = () => {}\n\n/**\n * Trick to restart an element's animation\n *\n * @param {HTMLElement} element\n * @return void\n *\n * @see https://www.harrytheo.com/blog/2021/02/restart-a-css-animation-with-javascript/#restarting-a-css-animation\n */\nconst reflow = element => {\n  element.offsetHeight // eslint-disable-line no-unused-expressions\n}\n\nconst getjQuery = () => {\n  if (window.jQuery && !document.body.hasAttribute('data-bs-no-jquery')) {\n    return window.jQuery\n  }\n\n  return null\n}\n\nconst DOMContentLoadedCallbacks = []\n\nconst onDOMContentLoaded = callback => {\n  if (document.readyState === 'loading') {\n    // add listener on the first call when the document is in loading state\n    if (!DOMContentLoadedCallbacks.length) {\n      document.addEventListener('DOMContentLoaded', () => {\n        for (const callback of DOMContentLoadedCallbacks) {\n          callback()\n        }\n      })\n    }\n\n    DOMContentLoadedCallbacks.push(callback)\n  } else {\n    callback()\n  }\n}\n\nconst isRTL = () => document.documentElement.dir === 'rtl'\n\nconst defineJQueryPlugin = plugin => {\n  onDOMContentLoaded(() => {\n    const $ = getjQuery()\n    /* istanbul ignore if */\n    if ($) {\n      const name = plugin.NAME\n      const JQUERY_NO_CONFLICT = $.fn[name]\n      $.fn[name] = plugin.jQueryInterface\n      $.fn[name].Constructor = plugin\n      $.fn[name].noConflict = () => {\n        $.fn[name] = JQUERY_NO_CONFLICT\n        return plugin.jQueryInterface\n      }\n    }\n  })\n}\n\nconst execute = (possibleCallback, args = [], defaultValue = possibleCallback) => {\n  return typeof possibleCallback === 'function' ? possibleCallback.call(...args) : defaultValue\n}\n\nconst executeAfterTransition = (callback, transitionElement, waitForTransition = true) => {\n  if (!waitForTransition) {\n    execute(callback)\n    return\n  }\n\n  const durationPadding = 5\n  const emulatedDuration = getTransitionDurationFromElement(transitionElement) + durationPadding\n\n  let called = false\n\n  const handler = ({ target }) => {\n    if (target !== transitionElement) {\n      return\n    }\n\n    called = true\n    transitionElement.removeEventListener(TRANSITION_END, handler)\n    execute(callback)\n  }\n\n  transitionElement.addEventListener(TRANSITION_END, handler)\n  setTimeout(() => {\n    if (!called) {\n      triggerTransitionEnd(transitionElement)\n    }\n  }, emulatedDuration)\n}\n\n/**\n * Return the previous/next element of a list.\n *\n * @param {array} list    The list of elements\n * @param activeElement   The active element\n * @param shouldGetNext   Choose to get next or previous element\n * @param isCycleAllowed\n * @return {Element|elem} The proper element\n */\nconst getNextActiveElement = (list, activeElement, shouldGetNext, isCycleAllowed) => {\n  const listLength = list.length\n  let index = list.indexOf(activeElement)\n\n  // if the element does not exist in the list return an element\n  // depending on the direction and if cycle is allowed\n  if (index === -1) {\n    return !shouldGetNext && isCycleAllowed ? list[listLength - 1] : list[0]\n  }\n\n  index += shouldGetNext ? 1 : -1\n\n  if (isCycleAllowed) {\n    index = (index + listLength) % listLength\n  }\n\n  return list[Math.max(0, Math.min(index, listLength - 1))]\n}\n\nexport {\n  defineJQueryPlugin,\n  execute,\n  executeAfterTransition,\n  findShadowRoot,\n  getElement,\n  getjQuery,\n  getNextActiveElement,\n  getTransitionDurationFromElement,\n  getUID,\n  isDisabled,\n  isElement,\n  isRTL,\n  isVisible,\n  noop,\n  onDOMContentLoaded,\n  parseSelector,\n  reflow,\n  triggerTransitionEnd,\n  toType\n}\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/event-handler.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { getjQuery } from '../util/index.js'\n\n/**\n * Constants\n */\n\nconst namespaceRegex = /[^.]*(?=\\..*)\\.|.*/\nconst stripNameRegex = /\\..*/\nconst stripUidRegex = /::\\d+$/\nconst eventRegistry = {} // Events storage\nlet uidEvent = 1\nconst customEvents = {\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout'\n}\n\nconst nativeEvents = new Set([\n  'click',\n  'dblclick',\n  'mouseup',\n  'mousedown',\n  'contextmenu',\n  'mousewheel',\n  'DOMMouseScroll',\n  'mouseover',\n  'mouseout',\n  'mousemove',\n  'selectstart',\n  'selectend',\n  'keydown',\n  'keypress',\n  'keyup',\n  'orientationchange',\n  'touchstart',\n  'touchmove',\n  'touchend',\n  'touchcancel',\n  'pointerdown',\n  'pointermove',\n  'pointerup',\n  'pointerleave',\n  'pointercancel',\n  'gesturestart',\n  'gesturechange',\n  'gestureend',\n  'focus',\n  'blur',\n  'change',\n  'reset',\n  'select',\n  'submit',\n  'focusin',\n  'focusout',\n  'load',\n  'unload',\n  'beforeunload',\n  'resize',\n  'move',\n  'DOMContentLoaded',\n  'readystatechange',\n  'error',\n  'abort',\n  'scroll'\n])\n\n/**\n * Private methods\n */\n\nfunction makeEventUid(element, uid) {\n  return (uid && `${uid}::${uidEvent++}`) || element.uidEvent || uidEvent++\n}\n\nfunction getElementEvents(element) {\n  const uid = makeEventUid(element)\n\n  element.uidEvent = uid\n  eventRegistry[uid] = eventRegistry[uid] || {}\n\n  return eventRegistry[uid]\n}\n\nfunction bootstrapHandler(element, fn) {\n  return function handler(event) {\n    hydrateObj(event, { delegateTarget: element })\n\n    if (handler.oneOff) {\n      EventHandler.off(element, event.type, fn)\n    }\n\n    return fn.apply(element, [event])\n  }\n}\n\nfunction bootstrapDelegationHandler(element, selector, fn) {\n  return function handler(event) {\n    const domElements = element.querySelectorAll(selector)\n\n    for (let { target } = event; target && target !== this; target = target.parentNode) {\n      for (const domElement of domElements) {\n        if (domElement !== target) {\n          continue\n        }\n\n        hydrateObj(event, { delegateTarget: target })\n\n        if (handler.oneOff) {\n          EventHandler.off(element, event.type, selector, fn)\n        }\n\n        return fn.apply(target, [event])\n      }\n    }\n  }\n}\n\nfunction findHandler(events, callable, delegationSelector = null) {\n  return Object.values(events)\n    .find(event => event.callable === callable && event.delegationSelector === delegationSelector)\n}\n\nfunction normalizeParameters(originalTypeEvent, handler, delegationFunction) {\n  const isDelegated = typeof handler === 'string'\n  // TODO: tooltip passes `false` instead of selector, so we need to check\n  const callable = isDelegated ? delegationFunction : (handler || delegationFunction)\n  let typeEvent = getTypeEvent(originalTypeEvent)\n\n  if (!nativeEvents.has(typeEvent)) {\n    typeEvent = originalTypeEvent\n  }\n\n  return [isDelegated, callable, typeEvent]\n}\n\nfunction addHandler(element, originalTypeEvent, handler, delegationFunction, oneOff) {\n  if (typeof originalTypeEvent !== 'string' || !element) {\n    return\n  }\n\n  let [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction)\n\n  // in case of mouseenter or mouseleave wrap the handler within a function that checks for its DOM position\n  // this prevents the handler from being dispatched the same way as mouseover or mouseout does\n  if (originalTypeEvent in customEvents) {\n    const wrapFunction = fn => {\n      return function (event) {\n        if (!event.relatedTarget || (event.relatedTarget !== event.delegateTarget && !event.delegateTarget.contains(event.relatedTarget))) {\n          return fn.call(this, event)\n        }\n      }\n    }\n\n    callable = wrapFunction(callable)\n  }\n\n  const events = getElementEvents(element)\n  const handlers = events[typeEvent] || (events[typeEvent] = {})\n  const previousFunction = findHandler(handlers, callable, isDelegated ? handler : null)\n\n  if (previousFunction) {\n    previousFunction.oneOff = previousFunction.oneOff && oneOff\n\n    return\n  }\n\n  const uid = makeEventUid(callable, originalTypeEvent.replace(namespaceRegex, ''))\n  const fn = isDelegated ?\n    bootstrapDelegationHandler(element, handler, callable) :\n    bootstrapHandler(element, callable)\n\n  fn.delegationSelector = isDelegated ? handler : null\n  fn.callable = callable\n  fn.oneOff = oneOff\n  fn.uidEvent = uid\n  handlers[uid] = fn\n\n  element.addEventListener(typeEvent, fn, isDelegated)\n}\n\nfunction removeHandler(element, events, typeEvent, handler, delegationSelector) {\n  const fn = findHandler(events[typeEvent], handler, delegationSelector)\n\n  if (!fn) {\n    return\n  }\n\n  element.removeEventListener(typeEvent, fn, Boolean(delegationSelector))\n  delete events[typeEvent][fn.uidEvent]\n}\n\nfunction removeNamespacedHandlers(element, events, typeEvent, namespace) {\n  const storeElementEvent = events[typeEvent] || {}\n\n  for (const [handlerKey, event] of Object.entries(storeElementEvent)) {\n    if (handlerKey.includes(namespace)) {\n      removeHandler(element, events, typeEvent, event.callable, event.delegationSelector)\n    }\n  }\n}\n\nfunction getTypeEvent(event) {\n  // allow to get the native events from namespaced events ('click.bs.button' --> 'click')\n  event = event.replace(stripNameRegex, '')\n  return customEvents[event] || event\n}\n\nconst EventHandler = {\n  on(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, false)\n  },\n\n  one(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, true)\n  },\n\n  off(element, originalTypeEvent, handler, delegationFunction) {\n    if (typeof originalTypeEvent !== 'string' || !element) {\n      return\n    }\n\n    const [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction)\n    const inNamespace = typeEvent !== originalTypeEvent\n    const events = getElementEvents(element)\n    const storeElementEvent = events[typeEvent] || {}\n    const isNamespace = originalTypeEvent.startsWith('.')\n\n    if (typeof callable !== 'undefined') {\n      // Simplest case: handler is passed, remove that listener ONLY.\n      if (!Object.keys(storeElementEvent).length) {\n        return\n      }\n\n      removeHandler(element, events, typeEvent, callable, isDelegated ? handler : null)\n      return\n    }\n\n    if (isNamespace) {\n      for (const elementEvent of Object.keys(events)) {\n        removeNamespacedHandlers(element, events, elementEvent, originalTypeEvent.slice(1))\n      }\n    }\n\n    for (const [keyHandlers, event] of Object.entries(storeElementEvent)) {\n      const handlerKey = keyHandlers.replace(stripUidRegex, '')\n\n      if (!inNamespace || originalTypeEvent.includes(handlerKey)) {\n        removeHandler(element, events, typeEvent, event.callable, event.delegationSelector)\n      }\n    }\n  },\n\n  trigger(element, event, args) {\n    if (typeof event !== 'string' || !element) {\n      return null\n    }\n\n    const $ = getjQuery()\n    const typeEvent = getTypeEvent(event)\n    const inNamespace = event !== typeEvent\n\n    let jQueryEvent = null\n    let bubbles = true\n    let nativeDispatch = true\n    let defaultPrevented = false\n\n    if (inNamespace && $) {\n      jQueryEvent = $.Event(event, args)\n\n      $(element).trigger(jQueryEvent)\n      bubbles = !jQueryEvent.isPropagationStopped()\n      nativeDispatch = !jQueryEvent.isImmediatePropagationStopped()\n      defaultPrevented = jQueryEvent.isDefaultPrevented()\n    }\n\n    const evt = hydrateObj(new Event(event, { bubbles, cancelable: true }), args)\n\n    if (defaultPrevented) {\n      evt.preventDefault()\n    }\n\n    if (nativeDispatch) {\n      element.dispatchEvent(evt)\n    }\n\n    if (evt.defaultPrevented && jQueryEvent) {\n      jQueryEvent.preventDefault()\n    }\n\n    return evt\n  }\n}\n\nfunction hydrateObj(obj, meta = {}) {\n  for (const [key, value] of Object.entries(meta)) {\n    try {\n      obj[key] = value\n    } catch {\n      Object.defineProperty(obj, key, {\n        configurable: true,\n        get() {\n          return value\n        }\n      })\n    }\n  }\n\n  return obj\n}\n\nexport default EventHandler\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/manipulator.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nfunction normalizeData(value) {\n  if (value === 'true') {\n    return true\n  }\n\n  if (value === 'false') {\n    return false\n  }\n\n  if (value === Number(value).toString()) {\n    return Number(value)\n  }\n\n  if (value === '' || value === 'null') {\n    return null\n  }\n\n  if (typeof value !== 'string') {\n    return value\n  }\n\n  try {\n    return JSON.parse(decodeURIComponent(value))\n  } catch {\n    return value\n  }\n}\n\nfunction normalizeDataKey(key) {\n  return key.replace(/[A-Z]/g, chr => `-${chr.toLowerCase()}`)\n}\n\nconst Manipulator = {\n  setDataAttribute(element, key, value) {\n    element.setAttribute(`data-bs-${normalizeDataKey(key)}`, value)\n  },\n\n  removeDataAttribute(element, key) {\n    element.removeAttribute(`data-bs-${normalizeDataKey(key)}`)\n  },\n\n  getDataAttributes(element) {\n    if (!element) {\n      return {}\n    }\n\n    const attributes = {}\n    const bsKeys = Object.keys(element.dataset).filter(key => key.startsWith('bs') && !key.startsWith('bsConfig'))\n\n    for (const key of bsKeys) {\n      let pureKey = key.replace(/^bs/, '')\n      pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1)\n      attributes[pureKey] = normalizeData(element.dataset[key])\n    }\n\n    return attributes\n  },\n\n  getDataAttribute(element, key) {\n    return normalizeData(element.getAttribute(`data-bs-${normalizeDataKey(key)}`))\n  }\n}\n\nexport default Manipulator\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap util/config.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Manipulator from '../dom/manipulator.js'\nimport { isElement, toType } from './index.js'\n\n/**\n * Class definition\n */\n\nclass Config {\n  // Getters\n  static get Default() {\n    return {}\n  }\n\n  static get DefaultType() {\n    return {}\n  }\n\n  static get NAME() {\n    throw new Error('You have to implement the static method \"NAME\", for each component!')\n  }\n\n  _getConfig(config) {\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  _configAfterMerge(config) {\n    return config\n  }\n\n  _mergeConfigObj(config, element) {\n    const jsonConfig = isElement(element) ? Manipulator.getDataAttribute(element, 'config') : {} // try to parse\n\n    return {\n      ...this.constructor.Default,\n      ...(typeof jsonConfig === 'object' ? jsonConfig : {}),\n      ...(isElement(element) ? Manipulator.getDataAttributes(element) : {}),\n      ...(typeof config === 'object' ? config : {})\n    }\n  }\n\n  _typeCheckConfig(config, configTypes = this.constructor.DefaultType) {\n    for (const [property, expectedTypes] of Object.entries(configTypes)) {\n      const value = config[property]\n      const valueType = isElement(value) ? 'element' : toType(value)\n\n      if (!new RegExp(expectedTypes).test(valueType)) {\n        throw new TypeError(\n          `${this.constructor.NAME.toUpperCase()}: Option \"${property}\" provided type \"${valueType}\" but expected type \"${expectedTypes}\".`\n        )\n      }\n    }\n  }\n}\n\nexport default Config\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap base-component.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Data from './dom/data.js'\nimport EventHandler from './dom/event-handler.js'\nimport Config from './util/config.js'\nimport { executeAfterTransition, getElement } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst VERSION = '5.3.7'\n\n/**\n * Class definition\n */\n\nclass BaseComponent extends Config {\n  constructor(element, config) {\n    super()\n\n    element = getElement(element)\n    if (!element) {\n      return\n    }\n\n    this._element = element\n    this._config = this._getConfig(config)\n\n    Data.set(this._element, this.constructor.DATA_KEY, this)\n  }\n\n  // Public\n  dispose() {\n    Data.remove(this._element, this.constructor.DATA_KEY)\n    EventHandler.off(this._element, this.constructor.EVENT_KEY)\n\n    for (const propertyName of Object.getOwnPropertyNames(this)) {\n      this[propertyName] = null\n    }\n  }\n\n  // Private\n  _queueCallback(callback, element, isAnimated = true) {\n    executeAfterTransition(callback, element, isAnimated)\n  }\n\n  _getConfig(config) {\n    config = this._mergeConfigObj(config, this._element)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  // Static\n  static getInstance(element) {\n    return Data.get(getElement(element), this.DATA_KEY)\n  }\n\n  static getOrCreateInstance(element, config = {}) {\n    return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null)\n  }\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get DATA_KEY() {\n    return `bs.${this.NAME}`\n  }\n\n  static get EVENT_KEY() {\n    return `.${this.DATA_KEY}`\n  }\n\n  static eventName(name) {\n    return `${name}${this.EVENT_KEY}`\n  }\n}\n\nexport default BaseComponent\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/selector-engine.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { isDisabled, isVisible, parseSelector } from '../util/index.js'\n\nconst getSelector = element => {\n  let selector = element.getAttribute('data-bs-target')\n\n  if (!selector || selector === '#') {\n    let hrefAttribute = element.getAttribute('href')\n\n    // The only valid content that could double as a selector are IDs or classes,\n    // so everything starting with `#` or `.`. If a \"real\" URL is used as the selector,\n    // `document.querySelector` will rightfully complain it is invalid.\n    // See https://github.com/twbs/bootstrap/issues/32273\n    if (!hrefAttribute || (!hrefAttribute.includes('#') && !hrefAttribute.startsWith('.'))) {\n      return null\n    }\n\n    // Just in case some CMS puts out a full URL with the anchor appended\n    if (hrefAttribute.includes('#') && !hrefAttribute.startsWith('#')) {\n      hrefAttribute = `#${hrefAttribute.split('#')[1]}`\n    }\n\n    selector = hrefAttribute && hrefAttribute !== '#' ? hrefAttribute.trim() : null\n  }\n\n  return selector ? selector.split(',').map(sel => parseSelector(sel)).join(',') : null\n}\n\nconst SelectorEngine = {\n  find(selector, element = document.documentElement) {\n    return [].concat(...Element.prototype.querySelectorAll.call(element, selector))\n  },\n\n  findOne(selector, element = document.documentElement) {\n    return Element.prototype.querySelector.call(element, selector)\n  },\n\n  children(element, selector) {\n    return [].concat(...element.children).filter(child => child.matches(selector))\n  },\n\n  parents(element, selector) {\n    const parents = []\n    let ancestor = element.parentNode.closest(selector)\n\n    while (ancestor) {\n      parents.push(ancestor)\n      ancestor = ancestor.parentNode.closest(selector)\n    }\n\n    return parents\n  },\n\n  prev(element, selector) {\n    let previous = element.previousElementSibling\n\n    while (previous) {\n      if (previous.matches(selector)) {\n        return [previous]\n      }\n\n      previous = previous.previousElementSibling\n    }\n\n    return []\n  },\n  // TODO: this is now unused; remove later along with prev()\n  next(element, selector) {\n    let next = element.nextElementSibling\n\n    while (next) {\n      if (next.matches(selector)) {\n        return [next]\n      }\n\n      next = next.nextElementSibling\n    }\n\n    return []\n  },\n\n  focusableChildren(element) {\n    const focusables = [\n      'a',\n      'button',\n      'input',\n      'textarea',\n      'select',\n      'details',\n      '[tabindex]',\n      '[contenteditable=\"true\"]'\n    ].map(selector => `${selector}:not([tabindex^=\"-\"])`).join(',')\n\n    return this.find(focusables, element).filter(el => !isDisabled(el) && isVisible(el))\n  },\n\n  getSelectorFromElement(element) {\n    const selector = getSelector(element)\n\n    if (selector) {\n      return SelectorEngine.findOne(selector) ? selector : null\n    }\n\n    return null\n  },\n\n  getElementFromSelector(element) {\n    const selector = getSelector(element)\n\n    return selector ? SelectorEngine.findOne(selector) : null\n  },\n\n  getMultipleElementsFromSelector(element) {\n    const selector = getSelector(element)\n\n    return selector ? SelectorEngine.find(selector) : []\n  }\n}\n\nexport default SelectorEngine\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap util/component-functions.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport SelectorEngine from '../dom/selector-engine.js'\nimport { isDisabled } from './index.js'\n\nconst enableDismissTrigger = (component, method = 'hide') => {\n  const clickEvent = `click.dismiss${component.EVENT_KEY}`\n  const name = component.NAME\n\n  EventHandler.on(document, clickEvent, `[data-bs-dismiss=\"${name}\"]`, function (event) {\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault()\n    }\n\n    if (isDisabled(this)) {\n      return\n    }\n\n    const target = SelectorEngine.getElementFromSelector(this) || this.closest(`.${name}`)\n    const instance = component.getOrCreateInstance(target)\n\n    // Method argument is left, for Alert and only, as it doesn't implement the 'hide' method\n    instance[method]()\n  })\n}\n\nexport {\n  enableDismissTrigger\n}\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'alert'\nconst DATA_KEY = 'bs.alert'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_CLOSE = `close${EVENT_KEY}`\nconst EVENT_CLOSED = `closed${EVENT_KEY}`\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\n\n/**\n * Class definition\n */\n\nclass Alert extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  close() {\n    const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE)\n\n    if (closeEvent.defaultPrevented) {\n      return\n    }\n\n    this._element.classList.remove(CLASS_NAME_SHOW)\n\n    const isAnimated = this._element.classList.contains(CLASS_NAME_FADE)\n    this._queueCallback(() => this._destroyElement(), this._element, isAnimated)\n  }\n\n  // Private\n  _destroyElement() {\n    this._element.remove()\n    EventHandler.trigger(this._element, EVENT_CLOSED)\n    this.dispose()\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Alert.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nenableDismissTrigger(Alert, 'close')\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Alert)\n\nexport default Alert\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap button.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'button'\nconst DATA_KEY = 'bs.button'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst CLASS_NAME_ACTIVE = 'active'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"button\"]'\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\n/**\n * Class definition\n */\n\nclass Button extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    // Toggle class and sync the `aria-pressed` attribute with the return value of the `.toggle()` method\n    this._element.setAttribute('aria-pressed', this._element.classList.toggle(CLASS_NAME_ACTIVE))\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Button.getOrCreateInstance(this)\n\n      if (config === 'toggle') {\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, event => {\n  event.preventDefault()\n\n  const button = event.target.closest(SELECTOR_DATA_TOGGLE)\n  const data = Button.getOrCreateInstance(button)\n\n  data.toggle()\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Button)\n\nexport default Button\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap util/swipe.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport Config from './config.js'\nimport { execute } from './index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'swipe'\nconst EVENT_KEY = '.bs.swipe'\nconst EVENT_TOUCHSTART = `touchstart${EVENT_KEY}`\nconst EVENT_TOUCHMOVE = `touchmove${EVENT_KEY}`\nconst EVENT_TOUCHEND = `touchend${EVENT_KEY}`\nconst EVENT_POINTERDOWN = `pointerdown${EVENT_KEY}`\nconst EVENT_POINTERUP = `pointerup${EVENT_KEY}`\nconst POINTER_TYPE_TOUCH = 'touch'\nconst POINTER_TYPE_PEN = 'pen'\nconst CLASS_NAME_POINTER_EVENT = 'pointer-event'\nconst SWIPE_THRESHOLD = 40\n\nconst Default = {\n  endCallback: null,\n  leftCallback: null,\n  rightCallback: null\n}\n\nconst DefaultType = {\n  endCallback: '(function|null)',\n  leftCallback: '(function|null)',\n  rightCallback: '(function|null)'\n}\n\n/**\n * Class definition\n */\n\nclass Swipe extends Config {\n  constructor(element, config) {\n    super()\n    this._element = element\n\n    if (!element || !Swipe.isSupported()) {\n      return\n    }\n\n    this._config = this._getConfig(config)\n    this._deltaX = 0\n    this._supportPointerEvents = Boolean(window.PointerEvent)\n    this._initEvents()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  dispose() {\n    EventHandler.off(this._element, EVENT_KEY)\n  }\n\n  // Private\n  _start(event) {\n    if (!this._supportPointerEvents) {\n      this._deltaX = event.touches[0].clientX\n\n      return\n    }\n\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX\n    }\n  }\n\n  _end(event) {\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX - this._deltaX\n    }\n\n    this._handleSwipe()\n    execute(this._config.endCallback)\n  }\n\n  _move(event) {\n    this._deltaX = event.touches && event.touches.length > 1 ?\n      0 :\n      event.touches[0].clientX - this._deltaX\n  }\n\n  _handleSwipe() {\n    const absDeltaX = Math.abs(this._deltaX)\n\n    if (absDeltaX <= SWIPE_THRESHOLD) {\n      return\n    }\n\n    const direction = absDeltaX / this._deltaX\n\n    this._deltaX = 0\n\n    if (!direction) {\n      return\n    }\n\n    execute(direction > 0 ? this._config.rightCallback : this._config.leftCallback)\n  }\n\n  _initEvents() {\n    if (this._supportPointerEvents) {\n      EventHandler.on(this._element, EVENT_POINTERDOWN, event => this._start(event))\n      EventHandler.on(this._element, EVENT_POINTERUP, event => this._end(event))\n\n      this._element.classList.add(CLASS_NAME_POINTER_EVENT)\n    } else {\n      EventHandler.on(this._element, EVENT_TOUCHSTART, event => this._start(event))\n      EventHandler.on(this._element, EVENT_TOUCHMOVE, event => this._move(event))\n      EventHandler.on(this._element, EVENT_TOUCHEND, event => this._end(event))\n    }\n  }\n\n  _eventIsPointerPenTouch(event) {\n    return this._supportPointerEvents && (event.pointerType === POINTER_TYPE_PEN || event.pointerType === POINTER_TYPE_TOUCH)\n  }\n\n  // Static\n  static isSupported() {\n    return 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0\n  }\n}\n\nexport default Swipe\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap carousel.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin,\n  getNextActiveElement,\n  isRTL,\n  isVisible,\n  reflow,\n  triggerTransitionEnd\n} from './util/index.js'\nimport Swipe from './util/swipe.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'carousel'\nconst DATA_KEY = 'bs.carousel'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst ARROW_LEFT_KEY = 'ArrowLeft'\nconst ARROW_RIGHT_KEY = 'ArrowRight'\nconst TOUCHEVENT_COMPAT_WAIT = 500 // Time for mouse compat events to fire after touch\n\nconst ORDER_NEXT = 'next'\nconst ORDER_PREV = 'prev'\nconst DIRECTION_LEFT = 'left'\nconst DIRECTION_RIGHT = 'right'\n\nconst EVENT_SLIDE = `slide${EVENT_KEY}`\nconst EVENT_SLID = `slid${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`\nconst EVENT_DRAG_START = `dragstart${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_CAROUSEL = 'carousel'\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_SLIDE = 'slide'\nconst CLASS_NAME_END = 'carousel-item-end'\nconst CLASS_NAME_START = 'carousel-item-start'\nconst CLASS_NAME_NEXT = 'carousel-item-next'\nconst CLASS_NAME_PREV = 'carousel-item-prev'\n\nconst SELECTOR_ACTIVE = '.active'\nconst SELECTOR_ITEM = '.carousel-item'\nconst SELECTOR_ACTIVE_ITEM = SELECTOR_ACTIVE + SELECTOR_ITEM\nconst SELECTOR_ITEM_IMG = '.carousel-item img'\nconst SELECTOR_INDICATORS = '.carousel-indicators'\nconst SELECTOR_DATA_SLIDE = '[data-bs-slide], [data-bs-slide-to]'\nconst SELECTOR_DATA_RIDE = '[data-bs-ride=\"carousel\"]'\n\nconst KEY_TO_DIRECTION = {\n  [ARROW_LEFT_KEY]: DIRECTION_RIGHT,\n  [ARROW_RIGHT_KEY]: DIRECTION_LEFT\n}\n\nconst Default = {\n  interval: 5000,\n  keyboard: true,\n  pause: 'hover',\n  ride: false,\n  touch: true,\n  wrap: true\n}\n\nconst DefaultType = {\n  interval: '(number|boolean)', // TODO:v6 remove boolean support\n  keyboard: 'boolean',\n  pause: '(string|boolean)',\n  ride: '(boolean|string)',\n  touch: 'boolean',\n  wrap: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Carousel extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._interval = null\n    this._activeElement = null\n    this._isSliding = false\n    this.touchTimeout = null\n    this._swipeHelper = null\n\n    this._indicatorsElement = SelectorEngine.findOne(SELECTOR_INDICATORS, this._element)\n    this._addEventListeners()\n\n    if (this._config.ride === CLASS_NAME_CAROUSEL) {\n      this.cycle()\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  next() {\n    this._slide(ORDER_NEXT)\n  }\n\n  nextWhenVisible() {\n    // FIXME TODO use `document.visibilityState`\n    // Don't call next when the page isn't visible\n    // or the carousel or its parent isn't visible\n    if (!document.hidden && isVisible(this._element)) {\n      this.next()\n    }\n  }\n\n  prev() {\n    this._slide(ORDER_PREV)\n  }\n\n  pause() {\n    if (this._isSliding) {\n      triggerTransitionEnd(this._element)\n    }\n\n    this._clearInterval()\n  }\n\n  cycle() {\n    this._clearInterval()\n    this._updateInterval()\n\n    this._interval = setInterval(() => this.nextWhenVisible(), this._config.interval)\n  }\n\n  _maybeEnableCycle() {\n    if (!this._config.ride) {\n      return\n    }\n\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.cycle())\n      return\n    }\n\n    this.cycle()\n  }\n\n  to(index) {\n    const items = this._getItems()\n    if (index > items.length - 1 || index < 0) {\n      return\n    }\n\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.to(index))\n      return\n    }\n\n    const activeIndex = this._getItemIndex(this._getActive())\n    if (activeIndex === index) {\n      return\n    }\n\n    const order = index > activeIndex ? ORDER_NEXT : ORDER_PREV\n\n    this._slide(order, items[index])\n  }\n\n  dispose() {\n    if (this._swipeHelper) {\n      this._swipeHelper.dispose()\n    }\n\n    super.dispose()\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    config.defaultInterval = config.interval\n    return config\n  }\n\n  _addEventListeners() {\n    if (this._config.keyboard) {\n      EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event))\n    }\n\n    if (this._config.pause === 'hover') {\n      EventHandler.on(this._element, EVENT_MOUSEENTER, () => this.pause())\n      EventHandler.on(this._element, EVENT_MOUSELEAVE, () => this._maybeEnableCycle())\n    }\n\n    if (this._config.touch && Swipe.isSupported()) {\n      this._addTouchEventListeners()\n    }\n  }\n\n  _addTouchEventListeners() {\n    for (const img of SelectorEngine.find(SELECTOR_ITEM_IMG, this._element)) {\n      EventHandler.on(img, EVENT_DRAG_START, event => event.preventDefault())\n    }\n\n    const endCallBack = () => {\n      if (this._config.pause !== 'hover') {\n        return\n      }\n\n      // If it's a touch-enabled device, mouseenter/leave are fired as\n      // part of the mouse compatibility events on first tap - the carousel\n      // would stop cycling until user tapped out of it;\n      // here, we listen for touchend, explicitly pause the carousel\n      // (as if it's the second time we tap on it, mouseenter compat event\n      // is NOT fired) and after a timeout (to allow for mouse compatibility\n      // events to fire) we explicitly restart cycling\n\n      this.pause()\n      if (this.touchTimeout) {\n        clearTimeout(this.touchTimeout)\n      }\n\n      this.touchTimeout = setTimeout(() => this._maybeEnableCycle(), TOUCHEVENT_COMPAT_WAIT + this._config.interval)\n    }\n\n    const swipeConfig = {\n      leftCallback: () => this._slide(this._directionToOrder(DIRECTION_LEFT)),\n      rightCallback: () => this._slide(this._directionToOrder(DIRECTION_RIGHT)),\n      endCallback: endCallBack\n    }\n\n    this._swipeHelper = new Swipe(this._element, swipeConfig)\n  }\n\n  _keydown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return\n    }\n\n    const direction = KEY_TO_DIRECTION[event.key]\n    if (direction) {\n      event.preventDefault()\n      this._slide(this._directionToOrder(direction))\n    }\n  }\n\n  _getItemIndex(element) {\n    return this._getItems().indexOf(element)\n  }\n\n  _setActiveIndicatorElement(index) {\n    if (!this._indicatorsElement) {\n      return\n    }\n\n    const activeIndicator = SelectorEngine.findOne(SELECTOR_ACTIVE, this._indicatorsElement)\n\n    activeIndicator.classList.remove(CLASS_NAME_ACTIVE)\n    activeIndicator.removeAttribute('aria-current')\n\n    const newActiveIndicator = SelectorEngine.findOne(`[data-bs-slide-to=\"${index}\"]`, this._indicatorsElement)\n\n    if (newActiveIndicator) {\n      newActiveIndicator.classList.add(CLASS_NAME_ACTIVE)\n      newActiveIndicator.setAttribute('aria-current', 'true')\n    }\n  }\n\n  _updateInterval() {\n    const element = this._activeElement || this._getActive()\n\n    if (!element) {\n      return\n    }\n\n    const elementInterval = Number.parseInt(element.getAttribute('data-bs-interval'), 10)\n\n    this._config.interval = elementInterval || this._config.defaultInterval\n  }\n\n  _slide(order, element = null) {\n    if (this._isSliding) {\n      return\n    }\n\n    const activeElement = this._getActive()\n    const isNext = order === ORDER_NEXT\n    const nextElement = element || getNextActiveElement(this._getItems(), activeElement, isNext, this._config.wrap)\n\n    if (nextElement === activeElement) {\n      return\n    }\n\n    const nextElementIndex = this._getItemIndex(nextElement)\n\n    const triggerEvent = eventName => {\n      return EventHandler.trigger(this._element, eventName, {\n        relatedTarget: nextElement,\n        direction: this._orderToDirection(order),\n        from: this._getItemIndex(activeElement),\n        to: nextElementIndex\n      })\n    }\n\n    const slideEvent = triggerEvent(EVENT_SLIDE)\n\n    if (slideEvent.defaultPrevented) {\n      return\n    }\n\n    if (!activeElement || !nextElement) {\n      // Some weirdness is happening, so we bail\n      // TODO: change tests that use empty divs to avoid this check\n      return\n    }\n\n    const isCycling = Boolean(this._interval)\n    this.pause()\n\n    this._isSliding = true\n\n    this._setActiveIndicatorElement(nextElementIndex)\n    this._activeElement = nextElement\n\n    const directionalClassName = isNext ? CLASS_NAME_START : CLASS_NAME_END\n    const orderClassName = isNext ? CLASS_NAME_NEXT : CLASS_NAME_PREV\n\n    nextElement.classList.add(orderClassName)\n\n    reflow(nextElement)\n\n    activeElement.classList.add(directionalClassName)\n    nextElement.classList.add(directionalClassName)\n\n    const completeCallBack = () => {\n      nextElement.classList.remove(directionalClassName, orderClassName)\n      nextElement.classList.add(CLASS_NAME_ACTIVE)\n\n      activeElement.classList.remove(CLASS_NAME_ACTIVE, orderClassName, directionalClassName)\n\n      this._isSliding = false\n\n      triggerEvent(EVENT_SLID)\n    }\n\n    this._queueCallback(completeCallBack, activeElement, this._isAnimated())\n\n    if (isCycling) {\n      this.cycle()\n    }\n  }\n\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_SLIDE)\n  }\n\n  _getActive() {\n    return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM, this._element)\n  }\n\n  _getItems() {\n    return SelectorEngine.find(SELECTOR_ITEM, this._element)\n  }\n\n  _clearInterval() {\n    if (this._interval) {\n      clearInterval(this._interval)\n      this._interval = null\n    }\n  }\n\n  _directionToOrder(direction) {\n    if (isRTL()) {\n      return direction === DIRECTION_LEFT ? ORDER_PREV : ORDER_NEXT\n    }\n\n    return direction === DIRECTION_LEFT ? ORDER_NEXT : ORDER_PREV\n  }\n\n  _orderToDirection(order) {\n    if (isRTL()) {\n      return order === ORDER_PREV ? DIRECTION_LEFT : DIRECTION_RIGHT\n    }\n\n    return order === ORDER_PREV ? DIRECTION_RIGHT : DIRECTION_LEFT\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Carousel.getOrCreateInstance(this, config)\n\n      if (typeof config === 'number') {\n        data.to(config)\n        return\n      }\n\n      if (typeof config === 'string') {\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_SLIDE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (!target || !target.classList.contains(CLASS_NAME_CAROUSEL)) {\n    return\n  }\n\n  event.preventDefault()\n\n  const carousel = Carousel.getOrCreateInstance(target)\n  const slideIndex = this.getAttribute('data-bs-slide-to')\n\n  if (slideIndex) {\n    carousel.to(slideIndex)\n    carousel._maybeEnableCycle()\n    return\n  }\n\n  if (Manipulator.getDataAttribute(this, 'slide') === 'next') {\n    carousel.next()\n    carousel._maybeEnableCycle()\n    return\n  }\n\n  carousel.prev()\n  carousel._maybeEnableCycle()\n})\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const carousels = SelectorEngine.find(SELECTOR_DATA_RIDE)\n\n  for (const carousel of carousels) {\n    Carousel.getOrCreateInstance(carousel)\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Carousel)\n\nexport default Carousel\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap collapse.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin,\n  getElement,\n  reflow\n} from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'collapse'\nconst DATA_KEY = 'bs.collapse'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_COLLAPSE = 'collapse'\nconst CLASS_NAME_COLLAPSING = 'collapsing'\nconst CLASS_NAME_COLLAPSED = 'collapsed'\nconst CLASS_NAME_DEEPER_CHILDREN = `:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`\nconst CLASS_NAME_HORIZONTAL = 'collapse-horizontal'\n\nconst WIDTH = 'width'\nconst HEIGHT = 'height'\n\nconst SELECTOR_ACTIVES = '.collapse.show, .collapse.collapsing'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"collapse\"]'\n\nconst Default = {\n  parent: null,\n  toggle: true\n}\n\nconst DefaultType = {\n  parent: '(null|element)',\n  toggle: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Collapse extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._isTransitioning = false\n    this._triggerArray = []\n\n    const toggleList = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n\n    for (const elem of toggleList) {\n      const selector = SelectorEngine.getSelectorFromElement(elem)\n      const filterElement = SelectorEngine.find(selector)\n        .filter(foundElement => foundElement === this._element)\n\n      if (selector !== null && filterElement.length) {\n        this._triggerArray.push(elem)\n      }\n    }\n\n    this._initializeChildren()\n\n    if (!this._config.parent) {\n      this._addAriaAndCollapsedClass(this._triggerArray, this._isShown())\n    }\n\n    if (this._config.toggle) {\n      this.toggle()\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    if (this._isShown()) {\n      this.hide()\n    } else {\n      this.show()\n    }\n  }\n\n  show() {\n    if (this._isTransitioning || this._isShown()) {\n      return\n    }\n\n    let activeChildren = []\n\n    // find active children\n    if (this._config.parent) {\n      activeChildren = this._getFirstLevelChildren(SELECTOR_ACTIVES)\n        .filter(element => element !== this._element)\n        .map(element => Collapse.getOrCreateInstance(element, { toggle: false }))\n    }\n\n    if (activeChildren.length && activeChildren[0]._isTransitioning) {\n      return\n    }\n\n    const startEvent = EventHandler.trigger(this._element, EVENT_SHOW)\n    if (startEvent.defaultPrevented) {\n      return\n    }\n\n    for (const activeInstance of activeChildren) {\n      activeInstance.hide()\n    }\n\n    const dimension = this._getDimension()\n\n    this._element.classList.remove(CLASS_NAME_COLLAPSE)\n    this._element.classList.add(CLASS_NAME_COLLAPSING)\n\n    this._element.style[dimension] = 0\n\n    this._addAriaAndCollapsedClass(this._triggerArray, true)\n    this._isTransitioning = true\n\n    const complete = () => {\n      this._isTransitioning = false\n\n      this._element.classList.remove(CLASS_NAME_COLLAPSING)\n      this._element.classList.add(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW)\n\n      this._element.style[dimension] = ''\n\n      EventHandler.trigger(this._element, EVENT_SHOWN)\n    }\n\n    const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1)\n    const scrollSize = `scroll${capitalizedDimension}`\n\n    this._queueCallback(complete, this._element, true)\n    this._element.style[dimension] = `${this._element[scrollSize]}px`\n  }\n\n  hide() {\n    if (this._isTransitioning || !this._isShown()) {\n      return\n    }\n\n    const startEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n    if (startEvent.defaultPrevented) {\n      return\n    }\n\n    const dimension = this._getDimension()\n\n    this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`\n\n    reflow(this._element)\n\n    this._element.classList.add(CLASS_NAME_COLLAPSING)\n    this._element.classList.remove(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW)\n\n    for (const trigger of this._triggerArray) {\n      const element = SelectorEngine.getElementFromSelector(trigger)\n\n      if (element && !this._isShown(element)) {\n        this._addAriaAndCollapsedClass([trigger], false)\n      }\n    }\n\n    this._isTransitioning = true\n\n    const complete = () => {\n      this._isTransitioning = false\n      this._element.classList.remove(CLASS_NAME_COLLAPSING)\n      this._element.classList.add(CLASS_NAME_COLLAPSE)\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._element.style[dimension] = ''\n\n    this._queueCallback(complete, this._element, true)\n  }\n\n  // Private\n  _isShown(element = this._element) {\n    return element.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _configAfterMerge(config) {\n    config.toggle = Boolean(config.toggle) // Coerce string values\n    config.parent = getElement(config.parent)\n    return config\n  }\n\n  _getDimension() {\n    return this._element.classList.contains(CLASS_NAME_HORIZONTAL) ? WIDTH : HEIGHT\n  }\n\n  _initializeChildren() {\n    if (!this._config.parent) {\n      return\n    }\n\n    const children = this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE)\n\n    for (const element of children) {\n      const selected = SelectorEngine.getElementFromSelector(element)\n\n      if (selected) {\n        this._addAriaAndCollapsedClass([element], this._isShown(selected))\n      }\n    }\n  }\n\n  _getFirstLevelChildren(selector) {\n    const children = SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN, this._config.parent)\n    // remove children if greater depth\n    return SelectorEngine.find(selector, this._config.parent).filter(element => !children.includes(element))\n  }\n\n  _addAriaAndCollapsedClass(triggerArray, isOpen) {\n    if (!triggerArray.length) {\n      return\n    }\n\n    for (const element of triggerArray) {\n      element.classList.toggle(CLASS_NAME_COLLAPSED, !isOpen)\n      element.setAttribute('aria-expanded', isOpen)\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    const _config = {}\n    if (typeof config === 'string' && /show|hide/.test(config)) {\n      _config.toggle = false\n    }\n\n    return this.each(function () {\n      const data = Collapse.getOrCreateInstance(this, _config)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n  if (event.target.tagName === 'A' || (event.delegateTarget && event.delegateTarget.tagName === 'A')) {\n    event.preventDefault()\n  }\n\n  for (const element of SelectorEngine.getMultipleElementsFromSelector(this)) {\n    Collapse.getOrCreateInstance(element, { toggle: false }).toggle()\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Collapse)\n\nexport default Collapse\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap dropdown.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin,\n  execute,\n  getElement,\n  getNextActiveElement,\n  isDisabled,\n  isElement,\n  isRTL,\n  isVisible,\n  noop\n} from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'dropdown'\nconst DATA_KEY = 'bs.dropdown'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst ESCAPE_KEY = 'Escape'\nconst TAB_KEY = 'Tab'\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst RIGHT_MOUSE_BUTTON = 2 // MouseEvent.button value for the secondary button, usually the right button\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_DROPUP = 'dropup'\nconst CLASS_NAME_DROPEND = 'dropend'\nconst CLASS_NAME_DROPSTART = 'dropstart'\nconst CLASS_NAME_DROPUP_CENTER = 'dropup-center'\nconst CLASS_NAME_DROPDOWN_CENTER = 'dropdown-center'\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)'\nconst SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE}.${CLASS_NAME_SHOW}`\nconst SELECTOR_MENU = '.dropdown-menu'\nconst SELECTOR_NAVBAR = '.navbar'\nconst SELECTOR_NAVBAR_NAV = '.navbar-nav'\nconst SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)'\n\nconst PLACEMENT_TOP = isRTL() ? 'top-end' : 'top-start'\nconst PLACEMENT_TOPEND = isRTL() ? 'top-start' : 'top-end'\nconst PLACEMENT_BOTTOM = isRTL() ? 'bottom-end' : 'bottom-start'\nconst PLACEMENT_BOTTOMEND = isRTL() ? 'bottom-start' : 'bottom-end'\nconst PLACEMENT_RIGHT = isRTL() ? 'left-start' : 'right-start'\nconst PLACEMENT_LEFT = isRTL() ? 'right-start' : 'left-start'\nconst PLACEMENT_TOPCENTER = 'top'\nconst PLACEMENT_BOTTOMCENTER = 'bottom'\n\nconst Default = {\n  autoClose: true,\n  boundary: 'clippingParents',\n  display: 'dynamic',\n  offset: [0, 2],\n  popperConfig: null,\n  reference: 'toggle'\n}\n\nconst DefaultType = {\n  autoClose: '(boolean|string)',\n  boundary: '(string|element)',\n  display: 'string',\n  offset: '(array|string|function)',\n  popperConfig: '(null|object|function)',\n  reference: '(string|element|object)'\n}\n\n/**\n * Class definition\n */\n\nclass Dropdown extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._popper = null\n    this._parent = this._element.parentNode // dropdown wrapper\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    this._menu = SelectorEngine.next(this._element, SELECTOR_MENU)[0] ||\n      SelectorEngine.prev(this._element, SELECTOR_MENU)[0] ||\n      SelectorEngine.findOne(SELECTOR_MENU, this._parent)\n    this._inNavbar = this._detectNavbar()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    return this._isShown() ? this.hide() : this.show()\n  }\n\n  show() {\n    if (isDisabled(this._element) || this._isShown()) {\n      return\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, relatedTarget)\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._createPopper()\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement && !this._parent.closest(SELECTOR_NAVBAR_NAV)) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    this._element.focus()\n    this._element.setAttribute('aria-expanded', true)\n\n    this._menu.classList.add(CLASS_NAME_SHOW)\n    this._element.classList.add(CLASS_NAME_SHOW)\n    EventHandler.trigger(this._element, EVENT_SHOWN, relatedTarget)\n  }\n\n  hide() {\n    if (isDisabled(this._element) || !this._isShown()) {\n      return\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n\n    this._completeHide(relatedTarget)\n  }\n\n  dispose() {\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    super.dispose()\n  }\n\n  update() {\n    this._inNavbar = this._detectNavbar()\n    if (this._popper) {\n      this._popper.update()\n    }\n  }\n\n  // Private\n  _completeHide(relatedTarget) {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE, relatedTarget)\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    this._menu.classList.remove(CLASS_NAME_SHOW)\n    this._element.classList.remove(CLASS_NAME_SHOW)\n    this._element.setAttribute('aria-expanded', 'false')\n    Manipulator.removeDataAttribute(this._menu, 'popper')\n    EventHandler.trigger(this._element, EVENT_HIDDEN, relatedTarget)\n\n    // Explicitly return focus to the trigger element\n    this._element.focus()\n  }\n\n  _getConfig(config) {\n    config = super._getConfig(config)\n\n    if (typeof config.reference === 'object' && !isElement(config.reference) &&\n      typeof config.reference.getBoundingClientRect !== 'function'\n    ) {\n      // Popper virtual elements require a getBoundingClientRect method\n      throw new TypeError(`${NAME.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`)\n    }\n\n    return config\n  }\n\n  _createPopper() {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s dropdowns require Popper (https://popper.js.org/docs/v2/)')\n    }\n\n    let referenceElement = this._element\n\n    if (this._config.reference === 'parent') {\n      referenceElement = this._parent\n    } else if (isElement(this._config.reference)) {\n      referenceElement = getElement(this._config.reference)\n    } else if (typeof this._config.reference === 'object') {\n      referenceElement = this._config.reference\n    }\n\n    const popperConfig = this._getPopperConfig()\n    this._popper = Popper.createPopper(referenceElement, this._menu, popperConfig)\n  }\n\n  _isShown() {\n    return this._menu.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _getPlacement() {\n    const parentDropdown = this._parent\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPEND)) {\n      return PLACEMENT_RIGHT\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPSTART)) {\n      return PLACEMENT_LEFT\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP_CENTER)) {\n      return PLACEMENT_TOPCENTER\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPDOWN_CENTER)) {\n      return PLACEMENT_BOTTOMCENTER\n    }\n\n    // We need to trim the value because custom properties can also include spaces\n    const isEnd = getComputedStyle(this._menu).getPropertyValue('--bs-position').trim() === 'end'\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP)) {\n      return isEnd ? PLACEMENT_TOPEND : PLACEMENT_TOP\n    }\n\n    return isEnd ? PLACEMENT_BOTTOMEND : PLACEMENT_BOTTOM\n  }\n\n  _detectNavbar() {\n    return this._element.closest(SELECTOR_NAVBAR) !== null\n  }\n\n  _getOffset() {\n    const { offset } = this._config\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10))\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element)\n    }\n\n    return offset\n  }\n\n  _getPopperConfig() {\n    const defaultBsPopperConfig = {\n      placement: this._getPlacement(),\n      modifiers: [{\n        name: 'preventOverflow',\n        options: {\n          boundary: this._config.boundary\n        }\n      },\n      {\n        name: 'offset',\n        options: {\n          offset: this._getOffset()\n        }\n      }]\n    }\n\n    // Disable Popper if we have a static display or Dropdown is in Navbar\n    if (this._inNavbar || this._config.display === 'static') {\n      Manipulator.setDataAttribute(this._menu, 'popper', 'static') // TODO: v6 remove\n      defaultBsPopperConfig.modifiers = [{\n        name: 'applyStyles',\n        enabled: false\n      }]\n    }\n\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [undefined, defaultBsPopperConfig])\n    }\n  }\n\n  _selectMenuItem({ key, target }) {\n    const items = SelectorEngine.find(SELECTOR_VISIBLE_ITEMS, this._menu).filter(element => isVisible(element))\n\n    if (!items.length) {\n      return\n    }\n\n    // if target isn't included in items (e.g. when expanding the dropdown)\n    // allow cycling to get the last item in case key equals ARROW_UP_KEY\n    getNextActiveElement(items, target, key === ARROW_DOWN_KEY, !items.includes(target)).focus()\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Dropdown.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n\n  static clearMenus(event) {\n    if (event.button === RIGHT_MOUSE_BUTTON || (event.type === 'keyup' && event.key !== TAB_KEY)) {\n      return\n    }\n\n    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN)\n\n    for (const toggle of openToggles) {\n      const context = Dropdown.getInstance(toggle)\n      if (!context || context._config.autoClose === false) {\n        continue\n      }\n\n      const composedPath = event.composedPath()\n      const isMenuTarget = composedPath.includes(context._menu)\n      if (\n        composedPath.includes(context._element) ||\n        (context._config.autoClose === 'inside' && !isMenuTarget) ||\n        (context._config.autoClose === 'outside' && isMenuTarget)\n      ) {\n        continue\n      }\n\n      // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu\n      if (context._menu.contains(event.target) && ((event.type === 'keyup' && event.key === TAB_KEY) || /input|select|option|textarea|form/i.test(event.target.tagName))) {\n        continue\n      }\n\n      const relatedTarget = { relatedTarget: context._element }\n\n      if (event.type === 'click') {\n        relatedTarget.clickEvent = event\n      }\n\n      context._completeHide(relatedTarget)\n    }\n  }\n\n  static dataApiKeydownHandler(event) {\n    // If not an UP | DOWN | ESCAPE key => not a dropdown command\n    // If input/textarea && if key is other than ESCAPE => not a dropdown command\n\n    const isInput = /input|textarea/i.test(event.target.tagName)\n    const isEscapeEvent = event.key === ESCAPE_KEY\n    const isUpOrDownEvent = [ARROW_UP_KEY, ARROW_DOWN_KEY].includes(event.key)\n\n    if (!isUpOrDownEvent && !isEscapeEvent) {\n      return\n    }\n\n    if (isInput && !isEscapeEvent) {\n      return\n    }\n\n    event.preventDefault()\n\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE) ?\n      this :\n      (SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE)[0] ||\n        SelectorEngine.next(this, SELECTOR_DATA_TOGGLE)[0] ||\n        SelectorEngine.findOne(SELECTOR_DATA_TOGGLE, event.delegateTarget.parentNode))\n\n    const instance = Dropdown.getOrCreateInstance(getToggleButton)\n\n    if (isUpOrDownEvent) {\n      event.stopPropagation()\n      instance.show()\n      instance._selectMenuItem(event)\n      return\n    }\n\n    if (instance._isShown()) { // else is escape and we check if it is shown\n      event.stopPropagation()\n      instance.hide()\n      getToggleButton.focus()\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE, Dropdown.dataApiKeydownHandler)\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler)\nEventHandler.on(document, EVENT_CLICK_DATA_API, Dropdown.clearMenus)\nEventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus)\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  event.preventDefault()\n  Dropdown.getOrCreateInstance(this).toggle()\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Dropdown)\n\nexport default Dropdown\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap util/backdrop.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport Config from './config.js'\nimport {\n  execute, executeAfterTransition, getElement, reflow\n} from './index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'backdrop'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst EVENT_MOUSEDOWN = `mousedown.bs.${NAME}`\n\nconst Default = {\n  className: 'modal-backdrop',\n  clickCallback: null,\n  isAnimated: false,\n  isVisible: true, // if false, we use the backdrop helper without adding any element to the dom\n  rootElement: 'body' // give the choice to place backdrop under different elements\n}\n\nconst DefaultType = {\n  className: 'string',\n  clickCallback: '(function|null)',\n  isAnimated: 'boolean',\n  isVisible: 'boolean',\n  rootElement: '(element|string)'\n}\n\n/**\n * Class definition\n */\n\nclass Backdrop extends Config {\n  constructor(config) {\n    super()\n    this._config = this._getConfig(config)\n    this._isAppended = false\n    this._element = null\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  show(callback) {\n    if (!this._config.isVisible) {\n      execute(callback)\n      return\n    }\n\n    this._append()\n\n    const element = this._getElement()\n    if (this._config.isAnimated) {\n      reflow(element)\n    }\n\n    element.classList.add(CLASS_NAME_SHOW)\n\n    this._emulateAnimation(() => {\n      execute(callback)\n    })\n  }\n\n  hide(callback) {\n    if (!this._config.isVisible) {\n      execute(callback)\n      return\n    }\n\n    this._getElement().classList.remove(CLASS_NAME_SHOW)\n\n    this._emulateAnimation(() => {\n      this.dispose()\n      execute(callback)\n    })\n  }\n\n  dispose() {\n    if (!this._isAppended) {\n      return\n    }\n\n    EventHandler.off(this._element, EVENT_MOUSEDOWN)\n\n    this._element.remove()\n    this._isAppended = false\n  }\n\n  // Private\n  _getElement() {\n    if (!this._element) {\n      const backdrop = document.createElement('div')\n      backdrop.className = this._config.className\n      if (this._config.isAnimated) {\n        backdrop.classList.add(CLASS_NAME_FADE)\n      }\n\n      this._element = backdrop\n    }\n\n    return this._element\n  }\n\n  _configAfterMerge(config) {\n    // use getElement() with the default \"body\" to get a fresh Element on each instantiation\n    config.rootElement = getElement(config.rootElement)\n    return config\n  }\n\n  _append() {\n    if (this._isAppended) {\n      return\n    }\n\n    const element = this._getElement()\n    this._config.rootElement.append(element)\n\n    EventHandler.on(element, EVENT_MOUSEDOWN, () => {\n      execute(this._config.clickCallback)\n    })\n\n    this._isAppended = true\n  }\n\n  _emulateAnimation(callback) {\n    executeAfterTransition(callback, this._getElement(), this._config.isAnimated)\n  }\n}\n\nexport default Backdrop\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap util/focustrap.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from '../dom/event-handler.js'\nimport SelectorEngine from '../dom/selector-engine.js'\nimport Config from './config.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'focustrap'\nconst DATA_KEY = 'bs.focustrap'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`\nconst EVENT_KEYDOWN_TAB = `keydown.tab${EVENT_KEY}`\n\nconst TAB_KEY = 'Tab'\nconst TAB_NAV_FORWARD = 'forward'\nconst TAB_NAV_BACKWARD = 'backward'\n\nconst Default = {\n  autofocus: true,\n  trapElement: null // The element to trap focus inside of\n}\n\nconst DefaultType = {\n  autofocus: 'boolean',\n  trapElement: 'element'\n}\n\n/**\n * Class definition\n */\n\nclass FocusTrap extends Config {\n  constructor(config) {\n    super()\n    this._config = this._getConfig(config)\n    this._isActive = false\n    this._lastTabNavDirection = null\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  activate() {\n    if (this._isActive) {\n      return\n    }\n\n    if (this._config.autofocus) {\n      this._config.trapElement.focus()\n    }\n\n    EventHandler.off(document, EVENT_KEY) // guard against infinite focus loop\n    EventHandler.on(document, EVENT_FOCUSIN, event => this._handleFocusin(event))\n    EventHandler.on(document, EVENT_KEYDOWN_TAB, event => this._handleKeydown(event))\n\n    this._isActive = true\n  }\n\n  deactivate() {\n    if (!this._isActive) {\n      return\n    }\n\n    this._isActive = false\n    EventHandler.off(document, EVENT_KEY)\n  }\n\n  // Private\n  _handleFocusin(event) {\n    const { trapElement } = this._config\n\n    if (event.target === document || event.target === trapElement || trapElement.contains(event.target)) {\n      return\n    }\n\n    const elements = SelectorEngine.focusableChildren(trapElement)\n\n    if (elements.length === 0) {\n      trapElement.focus()\n    } else if (this._lastTabNavDirection === TAB_NAV_BACKWARD) {\n      elements[elements.length - 1].focus()\n    } else {\n      elements[0].focus()\n    }\n  }\n\n  _handleKeydown(event) {\n    if (event.key !== TAB_KEY) {\n      return\n    }\n\n    this._lastTabNavDirection = event.shiftKey ? TAB_NAV_BACKWARD : TAB_NAV_FORWARD\n  }\n}\n\nexport default FocusTrap\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap util/scrollBar.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Manipulator from '../dom/manipulator.js'\nimport SelectorEngine from '../dom/selector-engine.js'\nimport { isElement } from './index.js'\n\n/**\n * Constants\n */\n\nconst SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top'\nconst SELECTOR_STICKY_CONTENT = '.sticky-top'\nconst PROPERTY_PADDING = 'padding-right'\nconst PROPERTY_MARGIN = 'margin-right'\n\n/**\n * Class definition\n */\n\nclass ScrollBarHelper {\n  constructor() {\n    this._element = document.body\n  }\n\n  // Public\n  getWidth() {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth#usage_notes\n    const documentWidth = document.documentElement.clientWidth\n    return Math.abs(window.innerWidth - documentWidth)\n  }\n\n  hide() {\n    const width = this.getWidth()\n    this._disableOverFlow()\n    // give padding to element to balance the hidden scrollbar width\n    this._setElementAttributes(this._element, PROPERTY_PADDING, calculatedValue => calculatedValue + width)\n    // trick: We adjust positive paddingRight and negative marginRight to sticky-top elements to keep showing fullwidth\n    this._setElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING, calculatedValue => calculatedValue + width)\n    this._setElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN, calculatedValue => calculatedValue - width)\n  }\n\n  reset() {\n    this._resetElementAttributes(this._element, 'overflow')\n    this._resetElementAttributes(this._element, PROPERTY_PADDING)\n    this._resetElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING)\n    this._resetElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN)\n  }\n\n  isOverflowing() {\n    return this.getWidth() > 0\n  }\n\n  // Private\n  _disableOverFlow() {\n    this._saveInitialAttribute(this._element, 'overflow')\n    this._element.style.overflow = 'hidden'\n  }\n\n  _setElementAttributes(selector, styleProperty, callback) {\n    const scrollbarWidth = this.getWidth()\n    const manipulationCallBack = element => {\n      if (element !== this._element && window.innerWidth > element.clientWidth + scrollbarWidth) {\n        return\n      }\n\n      this._saveInitialAttribute(element, styleProperty)\n      const calculatedValue = window.getComputedStyle(element).getPropertyValue(styleProperty)\n      element.style.setProperty(styleProperty, `${callback(Number.parseFloat(calculatedValue))}px`)\n    }\n\n    this._applyManipulationCallback(selector, manipulationCallBack)\n  }\n\n  _saveInitialAttribute(element, styleProperty) {\n    const actualValue = element.style.getPropertyValue(styleProperty)\n    if (actualValue) {\n      Manipulator.setDataAttribute(element, styleProperty, actualValue)\n    }\n  }\n\n  _resetElementAttributes(selector, styleProperty) {\n    const manipulationCallBack = element => {\n      const value = Manipulator.getDataAttribute(element, styleProperty)\n      // We only want to remove the property if the value is `null`; the value can also be zero\n      if (value === null) {\n        element.style.removeProperty(styleProperty)\n        return\n      }\n\n      Manipulator.removeDataAttribute(element, styleProperty)\n      element.style.setProperty(styleProperty, value)\n    }\n\n    this._applyManipulationCallback(selector, manipulationCallBack)\n  }\n\n  _applyManipulationCallback(selector, callBack) {\n    if (isElement(selector)) {\n      callBack(selector)\n      return\n    }\n\n    for (const sel of SelectorEngine.find(selector, this._element)) {\n      callBack(sel)\n    }\n  }\n}\n\nexport default ScrollBarHelper\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap modal.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport Backdrop from './util/backdrop.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport FocusTrap from './util/focustrap.js'\nimport {\n  defineJQueryPlugin, isRTL, isVisible, reflow\n} from './util/index.js'\nimport ScrollBarHelper from './util/scrollbar.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'modal'\nconst DATA_KEY = 'bs.modal'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst ESCAPE_KEY = 'Escape'\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\nconst EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY}`\nconst EVENT_MOUSEDOWN_DISMISS = `mousedown.dismiss${EVENT_KEY}`\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_OPEN = 'modal-open'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_STATIC = 'modal-static'\n\nconst OPEN_SELECTOR = '.modal.show'\nconst SELECTOR_DIALOG = '.modal-dialog'\nconst SELECTOR_MODAL_BODY = '.modal-body'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"modal\"]'\n\nconst Default = {\n  backdrop: true,\n  focus: true,\n  keyboard: true\n}\n\nconst DefaultType = {\n  backdrop: '(boolean|string)',\n  focus: 'boolean',\n  keyboard: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Modal extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._dialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element)\n    this._backdrop = this._initializeBackDrop()\n    this._focustrap = this._initializeFocusTrap()\n    this._isShown = false\n    this._isTransitioning = false\n    this._scrollBar = new ScrollBarHelper()\n\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget)\n  }\n\n  show(relatedTarget) {\n    if (this._isShown || this._isTransitioning) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, {\n      relatedTarget\n    })\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = true\n    this._isTransitioning = true\n\n    this._scrollBar.hide()\n\n    document.body.classList.add(CLASS_NAME_OPEN)\n\n    this._adjustDialog()\n\n    this._backdrop.show(() => this._showElement(relatedTarget))\n  }\n\n  hide() {\n    if (!this._isShown || this._isTransitioning) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = false\n    this._isTransitioning = true\n    this._focustrap.deactivate()\n\n    this._element.classList.remove(CLASS_NAME_SHOW)\n\n    this._queueCallback(() => this._hideModal(), this._element, this._isAnimated())\n  }\n\n  dispose() {\n    EventHandler.off(window, EVENT_KEY)\n    EventHandler.off(this._dialog, EVENT_KEY)\n\n    this._backdrop.dispose()\n    this._focustrap.deactivate()\n\n    super.dispose()\n  }\n\n  handleUpdate() {\n    this._adjustDialog()\n  }\n\n  // Private\n  _initializeBackDrop() {\n    return new Backdrop({\n      isVisible: Boolean(this._config.backdrop), // 'static' option will be translated to true, and booleans will keep their value,\n      isAnimated: this._isAnimated()\n    })\n  }\n\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    })\n  }\n\n  _showElement(relatedTarget) {\n    // try to append dynamic modal\n    if (!document.body.contains(this._element)) {\n      document.body.append(this._element)\n    }\n\n    this._element.style.display = 'block'\n    this._element.removeAttribute('aria-hidden')\n    this._element.setAttribute('aria-modal', true)\n    this._element.setAttribute('role', 'dialog')\n    this._element.scrollTop = 0\n\n    const modalBody = SelectorEngine.findOne(SELECTOR_MODAL_BODY, this._dialog)\n    if (modalBody) {\n      modalBody.scrollTop = 0\n    }\n\n    reflow(this._element)\n\n    this._element.classList.add(CLASS_NAME_SHOW)\n\n    const transitionComplete = () => {\n      if (this._config.focus) {\n        this._focustrap.activate()\n      }\n\n      this._isTransitioning = false\n      EventHandler.trigger(this._element, EVENT_SHOWN, {\n        relatedTarget\n      })\n    }\n\n    this._queueCallback(transitionComplete, this._dialog, this._isAnimated())\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return\n      }\n\n      if (this._config.keyboard) {\n        this.hide()\n        return\n      }\n\n      this._triggerBackdropTransition()\n    })\n\n    EventHandler.on(window, EVENT_RESIZE, () => {\n      if (this._isShown && !this._isTransitioning) {\n        this._adjustDialog()\n      }\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEDOWN_DISMISS, event => {\n      // a bad trick to segregate clicks that may start inside dialog but end outside, and avoid listen to scrollbar clicks\n      EventHandler.one(this._element, EVENT_CLICK_DISMISS, event2 => {\n        if (this._element !== event.target || this._element !== event2.target) {\n          return\n        }\n\n        if (this._config.backdrop === 'static') {\n          this._triggerBackdropTransition()\n          return\n        }\n\n        if (this._config.backdrop) {\n          this.hide()\n        }\n      })\n    })\n  }\n\n  _hideModal() {\n    this._element.style.display = 'none'\n    this._element.setAttribute('aria-hidden', true)\n    this._element.removeAttribute('aria-modal')\n    this._element.removeAttribute('role')\n    this._isTransitioning = false\n\n    this._backdrop.hide(() => {\n      document.body.classList.remove(CLASS_NAME_OPEN)\n      this._resetAdjustments()\n      this._scrollBar.reset()\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    })\n  }\n\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_FADE)\n  }\n\n  _triggerBackdropTransition() {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight\n    const initialOverflowY = this._element.style.overflowY\n    // return if the following background transition hasn't yet completed\n    if (initialOverflowY === 'hidden' || this._element.classList.contains(CLASS_NAME_STATIC)) {\n      return\n    }\n\n    if (!isModalOverflowing) {\n      this._element.style.overflowY = 'hidden'\n    }\n\n    this._element.classList.add(CLASS_NAME_STATIC)\n    this._queueCallback(() => {\n      this._element.classList.remove(CLASS_NAME_STATIC)\n      this._queueCallback(() => {\n        this._element.style.overflowY = initialOverflowY\n      }, this._dialog)\n    }, this._dialog)\n\n    this._element.focus()\n  }\n\n  /**\n   * The following methods are used to handle overflowing modals\n   */\n\n  _adjustDialog() {\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight\n    const scrollbarWidth = this._scrollBar.getWidth()\n    const isBodyOverflowing = scrollbarWidth > 0\n\n    if (isBodyOverflowing && !isModalOverflowing) {\n      const property = isRTL() ? 'paddingLeft' : 'paddingRight'\n      this._element.style[property] = `${scrollbarWidth}px`\n    }\n\n    if (!isBodyOverflowing && isModalOverflowing) {\n      const property = isRTL() ? 'paddingRight' : 'paddingLeft'\n      this._element.style[property] = `${scrollbarWidth}px`\n    }\n  }\n\n  _resetAdjustments() {\n    this._element.style.paddingLeft = ''\n    this._element.style.paddingRight = ''\n  }\n\n  // Static\n  static jQueryInterface(config, relatedTarget) {\n    return this.each(function () {\n      const data = Modal.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](relatedTarget)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  EventHandler.one(target, EVENT_SHOW, showEvent => {\n    if (showEvent.defaultPrevented) {\n      // only register focus restorer if modal will actually get shown\n      return\n    }\n\n    EventHandler.one(target, EVENT_HIDDEN, () => {\n      if (isVisible(this)) {\n        this.focus()\n      }\n    })\n  })\n\n  // avoid conflict when clicking modal toggler while another one is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR)\n  if (alreadyOpen) {\n    Modal.getInstance(alreadyOpen).hide()\n  }\n\n  const data = Modal.getOrCreateInstance(target)\n\n  data.toggle(this)\n})\n\nenableDismissTrigger(Modal)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Modal)\n\nexport default Modal\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap offcanvas.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport Backdrop from './util/backdrop.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport FocusTrap from './util/focustrap.js'\nimport {\n  defineJQueryPlugin,\n  isDisabled,\n  isVisible\n} from './util/index.js'\nimport ScrollBarHelper from './util/scrollbar.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'offcanvas'\nconst DATA_KEY = 'bs.offcanvas'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst ESCAPE_KEY = 'Escape'\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_SHOWING = 'showing'\nconst CLASS_NAME_HIDING = 'hiding'\nconst CLASS_NAME_BACKDROP = 'offcanvas-backdrop'\nconst OPEN_SELECTOR = '.offcanvas.show'\n\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"offcanvas\"]'\n\nconst Default = {\n  backdrop: true,\n  keyboard: true,\n  scroll: false\n}\n\nconst DefaultType = {\n  backdrop: '(boolean|string)',\n  keyboard: 'boolean',\n  scroll: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Offcanvas extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._isShown = false\n    this._backdrop = this._initializeBackDrop()\n    this._focustrap = this._initializeFocusTrap()\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget)\n  }\n\n  show(relatedTarget) {\n    if (this._isShown) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, { relatedTarget })\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = true\n    this._backdrop.show()\n\n    if (!this._config.scroll) {\n      new ScrollBarHelper().hide()\n    }\n\n    this._element.setAttribute('aria-modal', true)\n    this._element.setAttribute('role', 'dialog')\n    this._element.classList.add(CLASS_NAME_SHOWING)\n\n    const completeCallBack = () => {\n      if (!this._config.scroll || this._config.backdrop) {\n        this._focustrap.activate()\n      }\n\n      this._element.classList.add(CLASS_NAME_SHOW)\n      this._element.classList.remove(CLASS_NAME_SHOWING)\n      EventHandler.trigger(this._element, EVENT_SHOWN, { relatedTarget })\n    }\n\n    this._queueCallback(completeCallBack, this._element, true)\n  }\n\n  hide() {\n    if (!this._isShown) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    this._focustrap.deactivate()\n    this._element.blur()\n    this._isShown = false\n    this._element.classList.add(CLASS_NAME_HIDING)\n    this._backdrop.hide()\n\n    const completeCallback = () => {\n      this._element.classList.remove(CLASS_NAME_SHOW, CLASS_NAME_HIDING)\n      this._element.removeAttribute('aria-modal')\n      this._element.removeAttribute('role')\n\n      if (!this._config.scroll) {\n        new ScrollBarHelper().reset()\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._queueCallback(completeCallback, this._element, true)\n  }\n\n  dispose() {\n    this._backdrop.dispose()\n    this._focustrap.deactivate()\n    super.dispose()\n  }\n\n  // Private\n  _initializeBackDrop() {\n    const clickCallback = () => {\n      if (this._config.backdrop === 'static') {\n        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n        return\n      }\n\n      this.hide()\n    }\n\n    // 'static' option will be translated to true, and booleans will keep their value\n    const isVisible = Boolean(this._config.backdrop)\n\n    return new Backdrop({\n      className: CLASS_NAME_BACKDROP,\n      isVisible,\n      isAnimated: true,\n      rootElement: this._element.parentNode,\n      clickCallback: isVisible ? clickCallback : null\n    })\n  }\n\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    })\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return\n      }\n\n      if (this._config.keyboard) {\n        this.hide()\n        return\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n    })\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Offcanvas.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  if (isDisabled(this)) {\n    return\n  }\n\n  EventHandler.one(target, EVENT_HIDDEN, () => {\n    // focus on trigger when it is closed\n    if (isVisible(this)) {\n      this.focus()\n    }\n  })\n\n  // avoid conflict when clicking a toggler of an offcanvas, while another is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR)\n  if (alreadyOpen && alreadyOpen !== target) {\n    Offcanvas.getInstance(alreadyOpen).hide()\n  }\n\n  const data = Offcanvas.getOrCreateInstance(target)\n  data.toggle(this)\n})\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const selector of SelectorEngine.find(OPEN_SELECTOR)) {\n    Offcanvas.getOrCreateInstance(selector).show()\n  }\n})\n\nEventHandler.on(window, EVENT_RESIZE, () => {\n  for (const element of SelectorEngine.find('[aria-modal][class*=show][class*=offcanvas-]')) {\n    if (getComputedStyle(element).position !== 'fixed') {\n      Offcanvas.getOrCreateInstance(element).hide()\n    }\n  }\n})\n\nenableDismissTrigger(Offcanvas)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Offcanvas)\n\nexport default Offcanvas\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap util/sanitizer.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// js-docs-start allow-list\nconst ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i\n\nexport const DefaultAllowlist = {\n  // Global attributes allowed on any supplied element below.\n  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n  a: ['target', 'href', 'title', 'rel'],\n  area: [],\n  b: [],\n  br: [],\n  col: [],\n  code: [],\n  dd: [],\n  div: [],\n  dl: [],\n  dt: [],\n  em: [],\n  hr: [],\n  h1: [],\n  h2: [],\n  h3: [],\n  h4: [],\n  h5: [],\n  h6: [],\n  i: [],\n  img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],\n  li: [],\n  ol: [],\n  p: [],\n  pre: [],\n  s: [],\n  small: [],\n  span: [],\n  sub: [],\n  sup: [],\n  strong: [],\n  u: [],\n  ul: []\n}\n// js-docs-end allow-list\n\nconst uriAttributes = new Set([\n  'background',\n  'cite',\n  'href',\n  'itemtype',\n  'longdesc',\n  'poster',\n  'src',\n  'xlink:href'\n])\n\n/**\n * A pattern that recognizes URLs that are safe wrt. XSS in URL navigation\n * contexts.\n *\n * Shout-out to Angular https://github.com/angular/angular/blob/15.2.8/packages/core/src/sanitization/url_sanitizer.ts#L38\n */\nconst SAFE_URL_PATTERN = /^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i\n\nconst allowedAttribute = (attribute, allowedAttributeList) => {\n  const attributeName = attribute.nodeName.toLowerCase()\n\n  if (allowedAttributeList.includes(attributeName)) {\n    if (uriAttributes.has(attributeName)) {\n      return Boolean(SAFE_URL_PATTERN.test(attribute.nodeValue))\n    }\n\n    return true\n  }\n\n  // Check if a regular expression validates the attribute.\n  return allowedAttributeList.filter(attributeRegex => attributeRegex instanceof RegExp)\n    .some(regex => regex.test(attributeName))\n}\n\nexport function sanitizeHtml(unsafeHtml, allowList, sanitizeFunction) {\n  if (!unsafeHtml.length) {\n    return unsafeHtml\n  }\n\n  if (sanitizeFunction && typeof sanitizeFunction === 'function') {\n    return sanitizeFunction(unsafeHtml)\n  }\n\n  const domParser = new window.DOMParser()\n  const createdDocument = domParser.parseFromString(unsafeHtml, 'text/html')\n  const elements = [].concat(...createdDocument.body.querySelectorAll('*'))\n\n  for (const element of elements) {\n    const elementName = element.nodeName.toLowerCase()\n\n    if (!Object.keys(allowList).includes(elementName)) {\n      element.remove()\n      continue\n    }\n\n    const attributeList = [].concat(...element.attributes)\n    const allowedAttributes = [].concat(allowList['*'] || [], allowList[elementName] || [])\n\n    for (const attribute of attributeList) {\n      if (!allowedAttribute(attribute, allowedAttributes)) {\n        element.removeAttribute(attribute.nodeName)\n      }\n    }\n  }\n\n  return createdDocument.body.innerHTML\n}\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap util/template-factory.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport SelectorEngine from '../dom/selector-engine.js'\nimport Config from './config.js'\nimport { DefaultAllowlist, sanitizeHtml } from './sanitizer.js'\nimport { execute, getElement, isElement } from './index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'TemplateFactory'\n\nconst Default = {\n  allowList: DefaultAllowlist,\n  content: {}, // { selector : text ,  selector2 : text2 , }\n  extraClass: '',\n  html: false,\n  sanitize: true,\n  sanitizeFn: null,\n  template: '<div></div>'\n}\n\nconst DefaultType = {\n  allowList: 'object',\n  content: 'object',\n  extraClass: '(string|function)',\n  html: 'boolean',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  template: 'string'\n}\n\nconst DefaultContentType = {\n  entry: '(string|element|function|null)',\n  selector: '(string|element)'\n}\n\n/**\n * Class definition\n */\n\nclass TemplateFactory extends Config {\n  constructor(config) {\n    super()\n    this._config = this._getConfig(config)\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  getContent() {\n    return Object.values(this._config.content)\n      .map(config => this._resolvePossibleFunction(config))\n      .filter(Boolean)\n  }\n\n  hasContent() {\n    return this.getContent().length > 0\n  }\n\n  changeContent(content) {\n    this._checkContent(content)\n    this._config.content = { ...this._config.content, ...content }\n    return this\n  }\n\n  toHtml() {\n    const templateWrapper = document.createElement('div')\n    templateWrapper.innerHTML = this._maybeSanitize(this._config.template)\n\n    for (const [selector, text] of Object.entries(this._config.content)) {\n      this._setContent(templateWrapper, text, selector)\n    }\n\n    const template = templateWrapper.children[0]\n    const extraClass = this._resolvePossibleFunction(this._config.extraClass)\n\n    if (extraClass) {\n      template.classList.add(...extraClass.split(' '))\n    }\n\n    return template\n  }\n\n  // Private\n  _typeCheckConfig(config) {\n    super._typeCheckConfig(config)\n    this._checkContent(config.content)\n  }\n\n  _checkContent(arg) {\n    for (const [selector, content] of Object.entries(arg)) {\n      super._typeCheckConfig({ selector, entry: content }, DefaultContentType)\n    }\n  }\n\n  _setContent(template, content, selector) {\n    const templateElement = SelectorEngine.findOne(selector, template)\n\n    if (!templateElement) {\n      return\n    }\n\n    content = this._resolvePossibleFunction(content)\n\n    if (!content) {\n      templateElement.remove()\n      return\n    }\n\n    if (isElement(content)) {\n      this._putElementInTemplate(getElement(content), templateElement)\n      return\n    }\n\n    if (this._config.html) {\n      templateElement.innerHTML = this._maybeSanitize(content)\n      return\n    }\n\n    templateElement.textContent = content\n  }\n\n  _maybeSanitize(arg) {\n    return this._config.sanitize ? sanitizeHtml(arg, this._config.allowList, this._config.sanitizeFn) : arg\n  }\n\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [undefined, this])\n  }\n\n  _putElementInTemplate(element, templateElement) {\n    if (this._config.html) {\n      templateElement.innerHTML = ''\n      templateElement.append(element)\n      return\n    }\n\n    templateElement.textContent = element.textContent\n  }\n}\n\nexport default TemplateFactory\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport {\n  defineJQueryPlugin, execute, findShadowRoot, getElement, getUID, isRTL, noop\n} from './util/index.js'\nimport { DefaultAllowlist } from './util/sanitizer.js'\nimport TemplateFactory from './util/template-factory.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'tooltip'\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn'])\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_MODAL = 'modal'\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner'\nconst SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`\n\nconst EVENT_MODAL_HIDE = 'hide.bs.modal'\n\nconst TRIGGER_HOVER = 'hover'\nconst TRIGGER_FOCUS = 'focus'\nconst TRIGGER_CLICK = 'click'\nconst TRIGGER_MANUAL = 'manual'\n\nconst EVENT_HIDE = 'hide'\nconst EVENT_HIDDEN = 'hidden'\nconst EVENT_SHOW = 'show'\nconst EVENT_SHOWN = 'shown'\nconst EVENT_INSERTED = 'inserted'\nconst EVENT_CLICK = 'click'\nconst EVENT_FOCUSIN = 'focusin'\nconst EVENT_FOCUSOUT = 'focusout'\nconst EVENT_MOUSEENTER = 'mouseenter'\nconst EVENT_MOUSELEAVE = 'mouseleave'\n\nconst AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: isRTL() ? 'left' : 'right',\n  BOTTOM: 'bottom',\n  LEFT: isRTL() ? 'right' : 'left'\n}\n\nconst Default = {\n  allowList: DefaultAllowlist,\n  animation: true,\n  boundary: 'clippingParents',\n  container: false,\n  customClass: '',\n  delay: 0,\n  fallbackPlacements: ['top', 'right', 'bottom', 'left'],\n  html: false,\n  offset: [0, 6],\n  placement: 'top',\n  popperConfig: null,\n  sanitize: true,\n  sanitizeFn: null,\n  selector: false,\n  template: '<div class=\"tooltip\" role=\"tooltip\">' +\n            '<div class=\"tooltip-arrow\"></div>' +\n            '<div class=\"tooltip-inner\"></div>' +\n            '</div>',\n  title: '',\n  trigger: 'hover focus'\n}\n\nconst DefaultType = {\n  allowList: 'object',\n  animation: 'boolean',\n  boundary: '(string|element)',\n  container: '(string|element|boolean)',\n  customClass: '(string|function)',\n  delay: '(number|object)',\n  fallbackPlacements: 'array',\n  html: 'boolean',\n  offset: '(array|string|function)',\n  placement: '(string|function)',\n  popperConfig: '(null|object|function)',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  selector: '(string|boolean)',\n  template: 'string',\n  title: '(string|element|function)',\n  trigger: 'string'\n}\n\n/**\n * Class definition\n */\n\nclass Tooltip extends BaseComponent {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org/docs/v2/)')\n    }\n\n    super(element, config)\n\n    // Private\n    this._isEnabled = true\n    this._timeout = 0\n    this._isHovered = null\n    this._activeTrigger = {}\n    this._popper = null\n    this._templateFactory = null\n    this._newContent = null\n\n    // Protected\n    this.tip = null\n\n    this._setListeners()\n\n    if (!this._config.selector) {\n      this._fixTitle()\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  enable() {\n    this._isEnabled = true\n  }\n\n  disable() {\n    this._isEnabled = false\n  }\n\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled\n  }\n\n  toggle() {\n    if (!this._isEnabled) {\n      return\n    }\n\n    if (this._isShown()) {\n      this._leave()\n      return\n    }\n\n    this._enter()\n  }\n\n  dispose() {\n    clearTimeout(this._timeout)\n\n    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n\n    if (this._element.getAttribute('data-bs-original-title')) {\n      this._element.setAttribute('title', this._element.getAttribute('data-bs-original-title'))\n    }\n\n    this._disposePopper()\n    super.dispose()\n  }\n\n  show() {\n    if (this._element.style.display === 'none') {\n      throw new Error('Please use show on visible elements')\n    }\n\n    if (!(this._isWithContent() && this._isEnabled)) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOW))\n    const shadowRoot = findShadowRoot(this._element)\n    const isInTheDom = (shadowRoot || this._element.ownerDocument.documentElement).contains(this._element)\n\n    if (showEvent.defaultPrevented || !isInTheDom) {\n      return\n    }\n\n    // TODO: v6 remove this or make it optional\n    this._disposePopper()\n\n    const tip = this._getTipElement()\n\n    this._element.setAttribute('aria-describedby', tip.getAttribute('id'))\n\n    const { container } = this._config\n\n    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\n      container.append(tip)\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_INSERTED))\n    }\n\n    this._popper = this._createPopper(tip)\n\n    tip.classList.add(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    const complete = () => {\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOWN))\n\n      if (this._isHovered === false) {\n        this._leave()\n      }\n\n      this._isHovered = false\n    }\n\n    this._queueCallback(complete, this.tip, this._isAnimated())\n  }\n\n  hide() {\n    if (!this._isShown()) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDE))\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const tip = this._getTipElement()\n    tip.classList.remove(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    this._activeTrigger[TRIGGER_CLICK] = false\n    this._activeTrigger[TRIGGER_FOCUS] = false\n    this._activeTrigger[TRIGGER_HOVER] = false\n    this._isHovered = null // it is a trick to support manual triggering\n\n    const complete = () => {\n      if (this._isWithActiveTrigger()) {\n        return\n      }\n\n      if (!this._isHovered) {\n        this._disposePopper()\n      }\n\n      this._element.removeAttribute('aria-describedby')\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDDEN))\n    }\n\n    this._queueCallback(complete, this.tip, this._isAnimated())\n  }\n\n  update() {\n    if (this._popper) {\n      this._popper.update()\n    }\n  }\n\n  // Protected\n  _isWithContent() {\n    return Boolean(this._getTitle())\n  }\n\n  _getTipElement() {\n    if (!this.tip) {\n      this.tip = this._createTipElement(this._newContent || this._getContentForTemplate())\n    }\n\n    return this.tip\n  }\n\n  _createTipElement(content) {\n    const tip = this._getTemplateFactory(content).toHtml()\n\n    // TODO: remove this check in v6\n    if (!tip) {\n      return null\n    }\n\n    tip.classList.remove(CLASS_NAME_FADE, CLASS_NAME_SHOW)\n    // TODO: v6 the following can be achieved with CSS only\n    tip.classList.add(`bs-${this.constructor.NAME}-auto`)\n\n    const tipId = getUID(this.constructor.NAME).toString()\n\n    tip.setAttribute('id', tipId)\n\n    if (this._isAnimated()) {\n      tip.classList.add(CLASS_NAME_FADE)\n    }\n\n    return tip\n  }\n\n  setContent(content) {\n    this._newContent = content\n    if (this._isShown()) {\n      this._disposePopper()\n      this.show()\n    }\n  }\n\n  _getTemplateFactory(content) {\n    if (this._templateFactory) {\n      this._templateFactory.changeContent(content)\n    } else {\n      this._templateFactory = new TemplateFactory({\n        ...this._config,\n        // the `content` var has to be after `this._config`\n        // to override config.content in case of popover\n        content,\n        extraClass: this._resolvePossibleFunction(this._config.customClass)\n      })\n    }\n\n    return this._templateFactory\n  }\n\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TOOLTIP_INNER]: this._getTitle()\n    }\n  }\n\n  _getTitle() {\n    return this._resolvePossibleFunction(this._config.title) || this._element.getAttribute('data-bs-original-title')\n  }\n\n  // Private\n  _initializeOnDelegatedTarget(event) {\n    return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig())\n  }\n\n  _isAnimated() {\n    return this._config.animation || (this.tip && this.tip.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _isShown() {\n    return this.tip && this.tip.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _createPopper(tip) {\n    const placement = execute(this._config.placement, [this, tip, this._element])\n    const attachment = AttachmentMap[placement.toUpperCase()]\n    return Popper.createPopper(this._element, tip, this._getPopperConfig(attachment))\n  }\n\n  _getOffset() {\n    const { offset } = this._config\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10))\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element)\n    }\n\n    return offset\n  }\n\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [this._element, this._element])\n  }\n\n  _getPopperConfig(attachment) {\n    const defaultBsPopperConfig = {\n      placement: attachment,\n      modifiers: [\n        {\n          name: 'flip',\n          options: {\n            fallbackPlacements: this._config.fallbackPlacements\n          }\n        },\n        {\n          name: 'offset',\n          options: {\n            offset: this._getOffset()\n          }\n        },\n        {\n          name: 'preventOverflow',\n          options: {\n            boundary: this._config.boundary\n          }\n        },\n        {\n          name: 'arrow',\n          options: {\n            element: `.${this.constructor.NAME}-arrow`\n          }\n        },\n        {\n          name: 'preSetPlacement',\n          enabled: true,\n          phase: 'beforeMain',\n          fn: data => {\n            // Pre-set Popper's placement attribute in order to read the arrow sizes properly.\n            // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement\n            this._getTipElement().setAttribute('data-popper-placement', data.state.placement)\n          }\n        }\n      ]\n    }\n\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [undefined, defaultBsPopperConfig])\n    }\n  }\n\n  _setListeners() {\n    const triggers = this._config.trigger.split(' ')\n\n    for (const trigger of triggers) {\n      if (trigger === 'click') {\n        EventHandler.on(this._element, this.constructor.eventName(EVENT_CLICK), this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[TRIGGER_CLICK] = !(context._isShown() && context._activeTrigger[TRIGGER_CLICK])\n          context.toggle()\n        })\n      } else if (trigger !== TRIGGER_MANUAL) {\n        const eventIn = trigger === TRIGGER_HOVER ?\n          this.constructor.eventName(EVENT_MOUSEENTER) :\n          this.constructor.eventName(EVENT_FOCUSIN)\n        const eventOut = trigger === TRIGGER_HOVER ?\n          this.constructor.eventName(EVENT_MOUSELEAVE) :\n          this.constructor.eventName(EVENT_FOCUSOUT)\n\n        EventHandler.on(this._element, eventIn, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true\n          context._enter()\n        })\n        EventHandler.on(this._element, eventOut, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] =\n            context._element.contains(event.relatedTarget)\n\n          context._leave()\n        })\n      }\n    }\n\n    this._hideModalHandler = () => {\n      if (this._element) {\n        this.hide()\n      }\n    }\n\n    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n  }\n\n  _fixTitle() {\n    const title = this._element.getAttribute('title')\n\n    if (!title) {\n      return\n    }\n\n    if (!this._element.getAttribute('aria-label') && !this._element.textContent.trim()) {\n      this._element.setAttribute('aria-label', title)\n    }\n\n    this._element.setAttribute('data-bs-original-title', title) // DO NOT USE IT. Is only for backwards compatibility\n    this._element.removeAttribute('title')\n  }\n\n  _enter() {\n    if (this._isShown() || this._isHovered) {\n      this._isHovered = true\n      return\n    }\n\n    this._isHovered = true\n\n    this._setTimeout(() => {\n      if (this._isHovered) {\n        this.show()\n      }\n    }, this._config.delay.show)\n  }\n\n  _leave() {\n    if (this._isWithActiveTrigger()) {\n      return\n    }\n\n    this._isHovered = false\n\n    this._setTimeout(() => {\n      if (!this._isHovered) {\n        this.hide()\n      }\n    }, this._config.delay.hide)\n  }\n\n  _setTimeout(handler, timeout) {\n    clearTimeout(this._timeout)\n    this._timeout = setTimeout(handler, timeout)\n  }\n\n  _isWithActiveTrigger() {\n    return Object.values(this._activeTrigger).includes(true)\n  }\n\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element)\n\n    for (const dataAttribute of Object.keys(dataAttributes)) {\n      if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {\n        delete dataAttributes[dataAttribute]\n      }\n    }\n\n    config = {\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    }\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  _configAfterMerge(config) {\n    config.container = config.container === false ? document.body : getElement(config.container)\n\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      }\n    }\n\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString()\n    }\n\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString()\n    }\n\n    return config\n  }\n\n  _getDelegateConfig() {\n    const config = {}\n\n    for (const [key, value] of Object.entries(this._config)) {\n      if (this.constructor.Default[key] !== value) {\n        config[key] = value\n      }\n    }\n\n    config.selector = false\n    config.trigger = 'manual'\n\n    // In the future can be replaced with:\n    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\n    // `Object.fromEntries(keysWithDifferentValues)`\n    return config\n  }\n\n  _disposePopper() {\n    if (this._popper) {\n      this._popper.destroy()\n      this._popper = null\n    }\n\n    if (this.tip) {\n      this.tip.remove()\n      this.tip = null\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tooltip.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tooltip)\n\nexport default Tooltip\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap popover.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Tooltip from './tooltip.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'popover'\n\nconst SELECTOR_TITLE = '.popover-header'\nconst SELECTOR_CONTENT = '.popover-body'\n\nconst Default = {\n  ...Tooltip.Default,\n  content: '',\n  offset: [0, 8],\n  placement: 'right',\n  template: '<div class=\"popover\" role=\"tooltip\">' +\n    '<div class=\"popover-arrow\"></div>' +\n    '<h3 class=\"popover-header\"></h3>' +\n    '<div class=\"popover-body\"></div>' +\n    '</div>',\n  trigger: 'click'\n}\n\nconst DefaultType = {\n  ...Tooltip.DefaultType,\n  content: '(null|string|element|function)'\n}\n\n/**\n * Class definition\n */\n\nclass Popover extends Tooltip {\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Overrides\n  _isWithContent() {\n    return this._getTitle() || this._getContent()\n  }\n\n  // Private\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TITLE]: this._getTitle(),\n      [SELECTOR_CONTENT]: this._getContent()\n    }\n  }\n\n  _getContent() {\n    return this._resolvePossibleFunction(this._config.content)\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Popover.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Popover)\n\nexport default Popover\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap scrollspy.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin, getElement, isDisabled, isVisible\n} from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'scrollspy'\nconst DATA_KEY = 'bs.scrollspy'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_ACTIVATE = `activate${EVENT_KEY}`\nconst EVENT_CLICK = `click${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item'\nconst CLASS_NAME_ACTIVE = 'active'\n\nconst SELECTOR_DATA_SPY = '[data-bs-spy=\"scroll\"]'\nconst SELECTOR_TARGET_LINKS = '[href]'\nconst SELECTOR_NAV_LIST_GROUP = '.nav, .list-group'\nconst SELECTOR_NAV_LINKS = '.nav-link'\nconst SELECTOR_NAV_ITEMS = '.nav-item'\nconst SELECTOR_LIST_ITEMS = '.list-group-item'\nconst SELECTOR_LINK_ITEMS = `${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`\nconst SELECTOR_DROPDOWN = '.dropdown'\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle'\n\nconst Default = {\n  offset: null, // TODO: v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: '0px 0px -25%',\n  smoothScroll: false,\n  target: null,\n  threshold: [0.1, 0.5, 1]\n}\n\nconst DefaultType = {\n  offset: '(number|null)', // TODO v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: 'string',\n  smoothScroll: 'boolean',\n  target: 'element',\n  threshold: 'array'\n}\n\n/**\n * Class definition\n */\n\nclass ScrollSpy extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    // this._element is the observablesContainer and config.target the menu links wrapper\n    this._targetLinks = new Map()\n    this._observableSections = new Map()\n    this._rootElement = getComputedStyle(this._element).overflowY === 'visible' ? null : this._element\n    this._activeTarget = null\n    this._observer = null\n    this._previousScrollData = {\n      visibleEntryTop: 0,\n      parentScrollTop: 0\n    }\n    this.refresh() // initialize\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  refresh() {\n    this._initializeTargetsAndObservables()\n    this._maybeEnableSmoothScroll()\n\n    if (this._observer) {\n      this._observer.disconnect()\n    } else {\n      this._observer = this._getNewObserver()\n    }\n\n    for (const section of this._observableSections.values()) {\n      this._observer.observe(section)\n    }\n  }\n\n  dispose() {\n    this._observer.disconnect()\n    super.dispose()\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    // TODO: on v6 target should be given explicitly & remove the {target: 'ss-target'} case\n    config.target = getElement(config.target) || document.body\n\n    // TODO: v6 Only for backwards compatibility reasons. Use rootMargin only\n    config.rootMargin = config.offset ? `${config.offset}px 0px -30%` : config.rootMargin\n\n    if (typeof config.threshold === 'string') {\n      config.threshold = config.threshold.split(',').map(value => Number.parseFloat(value))\n    }\n\n    return config\n  }\n\n  _maybeEnableSmoothScroll() {\n    if (!this._config.smoothScroll) {\n      return\n    }\n\n    // unregister any previous listeners\n    EventHandler.off(this._config.target, EVENT_CLICK)\n\n    EventHandler.on(this._config.target, EVENT_CLICK, SELECTOR_TARGET_LINKS, event => {\n      const observableSection = this._observableSections.get(event.target.hash)\n      if (observableSection) {\n        event.preventDefault()\n        const root = this._rootElement || window\n        const height = observableSection.offsetTop - this._element.offsetTop\n        if (root.scrollTo) {\n          root.scrollTo({ top: height, behavior: 'smooth' })\n          return\n        }\n\n        // Chrome 60 doesn't support `scrollTo`\n        root.scrollTop = height\n      }\n    })\n  }\n\n  _getNewObserver() {\n    const options = {\n      root: this._rootElement,\n      threshold: this._config.threshold,\n      rootMargin: this._config.rootMargin\n    }\n\n    return new IntersectionObserver(entries => this._observerCallback(entries), options)\n  }\n\n  // The logic of selection\n  _observerCallback(entries) {\n    const targetElement = entry => this._targetLinks.get(`#${entry.target.id}`)\n    const activate = entry => {\n      this._previousScrollData.visibleEntryTop = entry.target.offsetTop\n      this._process(targetElement(entry))\n    }\n\n    const parentScrollTop = (this._rootElement || document.documentElement).scrollTop\n    const userScrollsDown = parentScrollTop >= this._previousScrollData.parentScrollTop\n    this._previousScrollData.parentScrollTop = parentScrollTop\n\n    for (const entry of entries) {\n      if (!entry.isIntersecting) {\n        this._activeTarget = null\n        this._clearActiveClass(targetElement(entry))\n\n        continue\n      }\n\n      const entryIsLowerThanPrevious = entry.target.offsetTop >= this._previousScrollData.visibleEntryTop\n      // if we are scrolling down, pick the bigger offsetTop\n      if (userScrollsDown && entryIsLowerThanPrevious) {\n        activate(entry)\n        // if parent isn't scrolled, let's keep the first visible item, breaking the iteration\n        if (!parentScrollTop) {\n          return\n        }\n\n        continue\n      }\n\n      // if we are scrolling up, pick the smallest offsetTop\n      if (!userScrollsDown && !entryIsLowerThanPrevious) {\n        activate(entry)\n      }\n    }\n  }\n\n  _initializeTargetsAndObservables() {\n    this._targetLinks = new Map()\n    this._observableSections = new Map()\n\n    const targetLinks = SelectorEngine.find(SELECTOR_TARGET_LINKS, this._config.target)\n\n    for (const anchor of targetLinks) {\n      // ensure that the anchor has an id and is not disabled\n      if (!anchor.hash || isDisabled(anchor)) {\n        continue\n      }\n\n      const observableSection = SelectorEngine.findOne(decodeURI(anchor.hash), this._element)\n\n      // ensure that the observableSection exists & is visible\n      if (isVisible(observableSection)) {\n        this._targetLinks.set(decodeURI(anchor.hash), anchor)\n        this._observableSections.set(anchor.hash, observableSection)\n      }\n    }\n  }\n\n  _process(target) {\n    if (this._activeTarget === target) {\n      return\n    }\n\n    this._clearActiveClass(this._config.target)\n    this._activeTarget = target\n    target.classList.add(CLASS_NAME_ACTIVE)\n    this._activateParents(target)\n\n    EventHandler.trigger(this._element, EVENT_ACTIVATE, { relatedTarget: target })\n  }\n\n  _activateParents(target) {\n    // Activate dropdown parents\n    if (target.classList.contains(CLASS_NAME_DROPDOWN_ITEM)) {\n      SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE, target.closest(SELECTOR_DROPDOWN))\n        .classList.add(CLASS_NAME_ACTIVE)\n      return\n    }\n\n    for (const listGroup of SelectorEngine.parents(target, SELECTOR_NAV_LIST_GROUP)) {\n      // Set triggered links parents as active\n      // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor\n      for (const item of SelectorEngine.prev(listGroup, SELECTOR_LINK_ITEMS)) {\n        item.classList.add(CLASS_NAME_ACTIVE)\n      }\n    }\n  }\n\n  _clearActiveClass(parent) {\n    parent.classList.remove(CLASS_NAME_ACTIVE)\n\n    const activeNodes = SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE}`, parent)\n    for (const node of activeNodes) {\n      node.classList.remove(CLASS_NAME_ACTIVE)\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = ScrollSpy.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const spy of SelectorEngine.find(SELECTOR_DATA_SPY)) {\n    ScrollSpy.getOrCreateInstance(spy)\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(ScrollSpy)\n\nexport default ScrollSpy\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap tab.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { defineJQueryPlugin, getNextActiveElement, isDisabled } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'tab'\nconst DATA_KEY = 'bs.tab'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}`\n\nconst ARROW_LEFT_KEY = 'ArrowLeft'\nconst ARROW_RIGHT_KEY = 'ArrowRight'\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst HOME_KEY = 'Home'\nconst END_KEY = 'End'\n\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_DROPDOWN = 'dropdown'\n\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle'\nconst SELECTOR_DROPDOWN_MENU = '.dropdown-menu'\nconst NOT_SELECTOR_DROPDOWN_TOGGLE = `:not(${SELECTOR_DROPDOWN_TOGGLE})`\n\nconst SELECTOR_TAB_PANEL = '.list-group, .nav, [role=\"tablist\"]'\nconst SELECTOR_OUTER = '.nav-item, .list-group-item'\nconst SELECTOR_INNER = `.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role=\"tab\"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]' // TODO: could only be `tab` in v6\nconst SELECTOR_INNER_ELEM = `${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`\n\nconst SELECTOR_DATA_TOGGLE_ACTIVE = `.${CLASS_NAME_ACTIVE}[data-bs-toggle=\"tab\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"pill\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"list\"]`\n\n/**\n * Class definition\n */\n\nclass Tab extends BaseComponent {\n  constructor(element) {\n    super(element)\n    this._parent = this._element.closest(SELECTOR_TAB_PANEL)\n\n    if (!this._parent) {\n      return\n      // TODO: should throw exception in v6\n      // throw new TypeError(`${element.outerHTML} has not a valid parent ${SELECTOR_INNER_ELEM}`)\n    }\n\n    // Set up initial aria attributes\n    this._setInitialAttributes(this._parent, this._getChildren())\n\n    EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event))\n  }\n\n  // Getters\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  show() { // Shows this elem and deactivate the active sibling if exists\n    const innerElem = this._element\n    if (this._elemIsActive(innerElem)) {\n      return\n    }\n\n    // Search for active tab on same parent to deactivate it\n    const active = this._getActiveElem()\n\n    const hideEvent = active ?\n      EventHandler.trigger(active, EVENT_HIDE, { relatedTarget: innerElem }) :\n      null\n\n    const showEvent = EventHandler.trigger(innerElem, EVENT_SHOW, { relatedTarget: active })\n\n    if (showEvent.defaultPrevented || (hideEvent && hideEvent.defaultPrevented)) {\n      return\n    }\n\n    this._deactivate(active, innerElem)\n    this._activate(innerElem, active)\n  }\n\n  // Private\n  _activate(element, relatedElem) {\n    if (!element) {\n      return\n    }\n\n    element.classList.add(CLASS_NAME_ACTIVE)\n\n    this._activate(SelectorEngine.getElementFromSelector(element)) // Search and activate/show the proper section\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.add(CLASS_NAME_SHOW)\n        return\n      }\n\n      element.removeAttribute('tabindex')\n      element.setAttribute('aria-selected', true)\n      this._toggleDropDown(element, true)\n      EventHandler.trigger(element, EVENT_SHOWN, {\n        relatedTarget: relatedElem\n      })\n    }\n\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _deactivate(element, relatedElem) {\n    if (!element) {\n      return\n    }\n\n    element.classList.remove(CLASS_NAME_ACTIVE)\n    element.blur()\n\n    this._deactivate(SelectorEngine.getElementFromSelector(element)) // Search and deactivate the shown section too\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.remove(CLASS_NAME_SHOW)\n        return\n      }\n\n      element.setAttribute('aria-selected', false)\n      element.setAttribute('tabindex', '-1')\n      this._toggleDropDown(element, false)\n      EventHandler.trigger(element, EVENT_HIDDEN, { relatedTarget: relatedElem })\n    }\n\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _keydown(event) {\n    if (!([ARROW_LEFT_KEY, ARROW_RIGHT_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY, HOME_KEY, END_KEY].includes(event.key))) {\n      return\n    }\n\n    event.stopPropagation()// stopPropagation/preventDefault both added to support up/down keys without scrolling the page\n    event.preventDefault()\n\n    const children = this._getChildren().filter(element => !isDisabled(element))\n    let nextActiveElement\n\n    if ([HOME_KEY, END_KEY].includes(event.key)) {\n      nextActiveElement = children[event.key === HOME_KEY ? 0 : children.length - 1]\n    } else {\n      const isNext = [ARROW_RIGHT_KEY, ARROW_DOWN_KEY].includes(event.key)\n      nextActiveElement = getNextActiveElement(children, event.target, isNext, true)\n    }\n\n    if (nextActiveElement) {\n      nextActiveElement.focus({ preventScroll: true })\n      Tab.getOrCreateInstance(nextActiveElement).show()\n    }\n  }\n\n  _getChildren() { // collection of inner elements\n    return SelectorEngine.find(SELECTOR_INNER_ELEM, this._parent)\n  }\n\n  _getActiveElem() {\n    return this._getChildren().find(child => this._elemIsActive(child)) || null\n  }\n\n  _setInitialAttributes(parent, children) {\n    this._setAttributeIfNotExists(parent, 'role', 'tablist')\n\n    for (const child of children) {\n      this._setInitialAttributesOnChild(child)\n    }\n  }\n\n  _setInitialAttributesOnChild(child) {\n    child = this._getInnerElement(child)\n    const isActive = this._elemIsActive(child)\n    const outerElem = this._getOuterElement(child)\n    child.setAttribute('aria-selected', isActive)\n\n    if (outerElem !== child) {\n      this._setAttributeIfNotExists(outerElem, 'role', 'presentation')\n    }\n\n    if (!isActive) {\n      child.setAttribute('tabindex', '-1')\n    }\n\n    this._setAttributeIfNotExists(child, 'role', 'tab')\n\n    // set attributes to the related panel too\n    this._setInitialAttributesOnTargetPanel(child)\n  }\n\n  _setInitialAttributesOnTargetPanel(child) {\n    const target = SelectorEngine.getElementFromSelector(child)\n\n    if (!target) {\n      return\n    }\n\n    this._setAttributeIfNotExists(target, 'role', 'tabpanel')\n\n    if (child.id) {\n      this._setAttributeIfNotExists(target, 'aria-labelledby', `${child.id}`)\n    }\n  }\n\n  _toggleDropDown(element, open) {\n    const outerElem = this._getOuterElement(element)\n    if (!outerElem.classList.contains(CLASS_DROPDOWN)) {\n      return\n    }\n\n    const toggle = (selector, className) => {\n      const element = SelectorEngine.findOne(selector, outerElem)\n      if (element) {\n        element.classList.toggle(className, open)\n      }\n    }\n\n    toggle(SELECTOR_DROPDOWN_TOGGLE, CLASS_NAME_ACTIVE)\n    toggle(SELECTOR_DROPDOWN_MENU, CLASS_NAME_SHOW)\n    outerElem.setAttribute('aria-expanded', open)\n  }\n\n  _setAttributeIfNotExists(element, attribute, value) {\n    if (!element.hasAttribute(attribute)) {\n      element.setAttribute(attribute, value)\n    }\n  }\n\n  _elemIsActive(elem) {\n    return elem.classList.contains(CLASS_NAME_ACTIVE)\n  }\n\n  // Try to get the inner element (usually the .nav-link)\n  _getInnerElement(elem) {\n    return elem.matches(SELECTOR_INNER_ELEM) ? elem : SelectorEngine.findOne(SELECTOR_INNER_ELEM, elem)\n  }\n\n  // Try to get the outer element (usually the .nav-item)\n  _getOuterElement(elem) {\n    return elem.closest(SELECTOR_OUTER) || elem\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tab.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  if (isDisabled(this)) {\n    return\n  }\n\n  Tab.getOrCreateInstance(this).show()\n})\n\n/**\n * Initialize on focus\n */\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE)) {\n    Tab.getOrCreateInstance(element)\n  }\n})\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tab)\n\nexport default Tab\n","/**\n * --------------------------------------------------------------------------\n * Bootstrap toast.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport { defineJQueryPlugin, reflow } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'toast'\nconst DATA_KEY = 'bs.toast'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_MOUSEOVER = `mouseover${EVENT_KEY}`\nconst EVENT_MOUSEOUT = `mouseout${EVENT_KEY}`\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`\nconst EVENT_FOCUSOUT = `focusout${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_HIDE = 'hide' // @deprecated - kept here only for backwards compatibility\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_SHOWING = 'showing'\n\nconst DefaultType = {\n  animation: 'boolean',\n  autohide: 'boolean',\n  delay: 'number'\n}\n\nconst Default = {\n  animation: true,\n  autohide: true,\n  delay: 5000\n}\n\n/**\n * Class definition\n */\n\nclass Toast extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._timeout = null\n    this._hasMouseInteraction = false\n    this._hasKeyboardInteraction = false\n    this._setListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  show() {\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW)\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._clearTimeout()\n\n    if (this._config.animation) {\n      this._element.classList.add(CLASS_NAME_FADE)\n    }\n\n    const complete = () => {\n      this._element.classList.remove(CLASS_NAME_SHOWING)\n      EventHandler.trigger(this._element, EVENT_SHOWN)\n\n      this._maybeScheduleHide()\n    }\n\n    this._element.classList.remove(CLASS_NAME_HIDE) // @deprecated\n    reflow(this._element)\n    this._element.classList.add(CLASS_NAME_SHOW, CLASS_NAME_SHOWING)\n\n    this._queueCallback(complete, this._element, this._config.animation)\n  }\n\n  hide() {\n    if (!this.isShown()) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const complete = () => {\n      this._element.classList.add(CLASS_NAME_HIDE) // @deprecated\n      this._element.classList.remove(CLASS_NAME_SHOWING, CLASS_NAME_SHOW)\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._element.classList.add(CLASS_NAME_SHOWING)\n    this._queueCallback(complete, this._element, this._config.animation)\n  }\n\n  dispose() {\n    this._clearTimeout()\n\n    if (this.isShown()) {\n      this._element.classList.remove(CLASS_NAME_SHOW)\n    }\n\n    super.dispose()\n  }\n\n  isShown() {\n    return this._element.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  // Private\n  _maybeScheduleHide() {\n    if (!this._config.autohide) {\n      return\n    }\n\n    if (this._hasMouseInteraction || this._hasKeyboardInteraction) {\n      return\n    }\n\n    this._timeout = setTimeout(() => {\n      this.hide()\n    }, this._config.delay)\n  }\n\n  _onInteraction(event, isInteracting) {\n    switch (event.type) {\n      case 'mouseover':\n      case 'mouseout': {\n        this._hasMouseInteraction = isInteracting\n        break\n      }\n\n      case 'focusin':\n      case 'focusout': {\n        this._hasKeyboardInteraction = isInteracting\n        break\n      }\n\n      default: {\n        break\n      }\n    }\n\n    if (isInteracting) {\n      this._clearTimeout()\n      return\n    }\n\n    const nextElement = event.relatedTarget\n    if (this._element === nextElement || this._element.contains(nextElement)) {\n      return\n    }\n\n    this._maybeScheduleHide()\n  }\n\n  _setListeners() {\n    EventHandler.on(this._element, EVENT_MOUSEOVER, event => this._onInteraction(event, true))\n    EventHandler.on(this._element, EVENT_MOUSEOUT, event => this._onInteraction(event, false))\n    EventHandler.on(this._element, EVENT_FOCUSIN, event => this._onInteraction(event, true))\n    EventHandler.on(this._element, EVENT_FOCUSOUT, event => this._onInteraction(event, false))\n  }\n\n  _clearTimeout() {\n    clearTimeout(this._timeout)\n    this._timeout = null\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Toast.getOrCreateInstance(this, config)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config](this)\n      }\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nenableDismissTrigger(Toast)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Toast)\n\nexport default Toast\n","export * from \"./enums.js\";\nexport * from \"./modifiers/index.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { popperGenerator, detectOverflow, createPopper as createPopperBase } from \"./createPopper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper } from \"./popper.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\";","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","export { default as applyStyles } from \"./applyStyles.js\";\nexport { default as arrow } from \"./arrow.js\";\nexport { default as computeStyles } from \"./computeStyles.js\";\nexport { default as eventListeners } from \"./eventListeners.js\";\nexport { default as flip } from \"./flip.js\";\nexport { default as hide } from \"./hide.js\";\nexport { default as offset } from \"./offset.js\";\nexport { default as popperOffsets } from \"./popperOffsets.js\";\nexport { default as preventOverflow } from \"./preventOverflow.js\";","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}","export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref, win) {\n  var x = _ref.x,\n      y = _ref.y;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }, getWindow(popper)) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        });\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref) {\n        var name = _ref.name,\n            _ref$options = _ref.options,\n            options = _ref$options === void 0 ? {} : _ref$options,\n            effect = _ref.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","/**\n * Adds useful functions both to SVG.Number and SVG.Point.\n *\n * @module impSVGNumber\n */\n\nimport * as SVG from \"@svgdotjs/svg.js\"\nimport { roundTikz } from \"./selectionHelper\"\n\ndeclare module \"@svgdotjs/svg.js\" {\n\tinterface Number {\n\t\t/**\n\t\t * Convert a SVGNumber to another unit. Does actually change the value.\n\t\t * @param unit - the unit to convert to\n\t\t * @returns {Number}\n\t\t */\n\t\tconvertToUnit(unit: \"px\" | \"in\" | \"cm\" | \"mm\" | \"pt\" | \"pc\"): Number\n\t\t/**\n\t\t * Converts number alike values to a plain `number` in the unit pixel.\n\t\t * @static\n\t\t * @param number\n\t\t * @returns {number} a plain `number` in px\n\t\t */\n\t\tensureInPx(number: string | number | Number): number\n\t\t/**\n\t\t * Divides this number by another svg number.\n\t\t * Returns a new instance.\n\t\t * @param number - the divisor\n\t\t * @returns the result\n\t\t */\n\t\tdivide(number: Number | number): Number\n\t\t/**\n\t\t * Subtracts another svg number.\n\t\t * Returns a new instance.\n\t\t * @param number - the subtrahend\n\t\t * @returns the result\n\t\t */\n\t\tminus(number: Number | number): Number\n\t\t/**\n\t\t * Calculates the sum of this number and another svg number.\n\t\t * Returns a new instance.\n\t\t * @param number - the other summand\n\t\t * @returns the result\n\t\t */\n\t\tplus(number: Number | number): Number\n\t\t/**\n\t\t * Multiplies this number with another svg number.\n\t\t * Returns a new instance.\n\t\t * @param number - the other operand\n\t\t * @returns the result\n\t\t */\n\t\ttimes(number: Number | number): Number\n\t\t/**\n\t\t * Calculates the exponentiation using this number as base.\n\t\t * Returns a new instance.\n\t\t * @param exponent - the exponent\n\t\t * @returns the result\n\t\t */\n\t\tpow(exponent: number): Number\n\t\t/**\n\t\t * Calculates the remainder (modulo) of an division.\n\t\t * Returns a new instance.\n\t\t * @param number - the divisor\n\t\t * @returns the result\n\t\t */\n\t\tmod(number: number): Number\n\t\t/**\n\t\t * Checks if this svg number is greater than the other one.\n\t\t * @param number - the other number\n\t\t * @returns the result\n\t\t */\n\t\tgt(number: Number | number): boolean\n\t\t/**\n\t\t * Checks if this svg number is greater than the other one or equal.\n\t\t * @param number - the other number\n\t\t * @returns the result\n\t\t */\n\t\tgte(number: Number | number): boolean\n\t\t/**\n\t\t * Checks if this svg number is less than the other one.\n\t\t * @param number - the other number\n\t\t * @returns the result\n\t\t */\n\t\tlt(number: Number | number): boolean\n\t\t/**\n\t\t * Checks if this svg number is less than the other one or equal.\n\t\t * @param number - the other number\n\t\t * @returns the result\n\t\t */\n\t\tlte(number: Number | number): boolean\n\t\t/**\n\t\t * Checks if this svg number is equal the other one.\n\t\t * @param number - the other number\n\t\t * @returns the result\n\t\t */\n\t\teq(number: Number | number): boolean\n\t}\n\n\tinterface Point {\n\t\t/**\n\t\t * Calculate the squared distance of two points.\n\t\t * @param other - the other point\n\t\t * @returns the squared distance (px^2)\n\t\t */\n\t\tdistanceSquared(other: Point): number\n\t\t/**\n\t\t * Calculate the distance of two points.\n\t\t * @param other - the other point\n\t\t * @returns the squared distance (px)\n\t\t */\n\t\tdistance(other: Point): number\n\t\t/**\n\t\t * Calculate the length of the vector resp. the distance from (0|0).\n\t\t * @returns the squared length (px^2)\n\t\t */\n\t\tabsSquared(): number\n\t\t/**\n\t\t * Calculate the length of the vector resp. the distance from (0|0).\n\t\t * @returns the length (px)\n\t\t */\n\t\tabs(): number\n\t\t/**\n\t\t * Subtracts another svg point.\n\t\t * Returns a new instance.\n\t\t */\n\t\tsub(other: Point | number): Point\n\t\t/**\n\t\t * Calculates the sum of this and another svg point.\n\t\t * Returns a new instance.\n\t\t */\n\t\tadd(other: Point | number): Point\n\t\t/**\n\t\t * Calculates the multiplication of this point and another svg point or number (elementwise).\n\t\t * Returns a new instance.\n\t\t */\n\t\tmul(other: Point | number): Point\n\t\t/**\n\t\t * Calculates the division of this point and another svg point or number (elementwise).\n\t\t * Returns a new instance.\n\t\t */\n\t\tdiv(other: number | Point): Point\n\t\t/**\n\t\t * calculates the dot product between this point and the other point\n\t\t */\n\t\tdot(other: SVG.Point): number\n\t\t/**\n\t\t * Rotate the Coordinate around `centerCoord`. The rotation is counter clockwise, like the default mathematical\n\t\t * rotation.\n\t\t * @param angle - rotation angle in degrees or radians\n\t\t * @param centerCoord - center of rotation\n\t\t * @param inRad - set to `true`, if the angle is in radians\n\t\t * @returns the result\n\t\t */\n\t\trotate(angle: number, centerCoord?: Point, inRad?: boolean): Point\n\t\t/**\n\t\t * Checks if to points are equal up to a given epsilon(how far the Xs and Ys can be apart to still count as being equal)\n\t\t *\n\t\t * @returns true if the points are equal\n\t\t */\n\t\teq(other: Point, eps?: number): boolean\n\t\ttoTikzString(noParantheses?: boolean): string\n\t\ttoSVGPathString(precision?: number): string\n\t\tsimplifyForJson(): Point\n\t}\n\n\tinterface Color {\n\t\t/**\n\t\t * convert the color to tikz format\n\t\t */\n\t\ttoTikzString(): string\n\t}\n}\n\ntype ToUnit = {\n\tpx: number\n\tin: number\n\tcm: number\n\tmm: number\n\tpt: number\n\tpc: number\n}\n\n/**\n * Conversion constants from/to any svg unit.\n *\n * @readonly\n * @enum {ToUnit}\n */\nconst unitConvertMap = {\n\tpx: {\n\t\tpx: 1,\n\t\tin: 1 / 96,\n\t\tcm: 127 / 4800,\n\t\tmm: 127 / 480,\n\t\tpt: 3 / 4,\n\t\tpc: 1 / 16,\n\t},\n\tin: {\n\t\tpx: 96,\n\t\tin: 1,\n\t\tcm: 2.54,\n\t\tmm: 25.4,\n\t\tpt: 72,\n\t\tpc: 6,\n\t},\n\tcm: {\n\t\tpx: 4800 / 127,\n\t\tin: 50 / 127,\n\t\tcm: 1,\n\t\tmm: 10,\n\t\tpt: 3600 / 127,\n\t\tpc: 300 / 127,\n\t},\n\tmm: {\n\t\tpx: 480 / 127,\n\t\tin: 5 / 127,\n\t\tcm: 0.1,\n\t\tmm: 1,\n\t\tpt: 360 / 127,\n\t\tpc: 30 / 127,\n\t},\n\tpt: {\n\t\tpx: 4 / 3,\n\t\tin: 1 / 72,\n\t\tcm: 127 / 3600,\n\t\tmm: 127 / 360,\n\t\tpt: 1,\n\t\tpc: 1 / 12,\n\t},\n\tpc: {\n\t\tpx: 16,\n\t\tin: 1 / 6,\n\t\tcm: 127 / 300,\n\t\tmm: 127 / 30,\n\t\tpt: 12,\n\t\tpc: 1,\n\t},\n}\n\n/**\n * List of unit names. The unit with the lowest index is the most preferred one.\n *\n * @type {string[]}\n */\nconst unitPriority: string[] = [\"px\", \"in\", \"pt\", \"pc\", \"cm\", \"mm\"]\n\n/**\n * Convert two values to the same unit. The priority for unit is determined using {@link unitPriority}.\n * If the second number is not a instance of {@link SVG.Number}, it is assumed, that both numbers have the same unit.\n *\n * @param {SVG.Number} thisNumber - the first number; this number will be cloned\n * @param {SVG.Number | number} otherNumber - the second number\n * @returns {SVG.Number[]} an array of both numbers\n */\nfunction toSameUnit(thisNumber: SVG.Number, otherNumber: SVG.Number | number): SVG.Number[] {\n\tconst thisNumberUnit = thisNumber.unit || \"px\" // Empty == \"px\"\n\tconst otherNumberUnit = otherNumber instanceof SVG.Number ? otherNumber.unit || \"px\" : \"px\"\n\n\tlet numberA: SVG.Number = new SVG.Number(thisNumber)\n\tlet numberB: SVG.Number\n\tif (!(otherNumber instanceof SVG.Number)) {\n\t\tnumberB = new SVG.Number(otherNumber, thisNumberUnit) // assume same unit\n\t} else if (thisNumberUnit !== otherNumberUnit) {\n\t\tconst thisNumberPrio = unitPriority.indexOf(thisNumberUnit)\n\t\tconst otherNumberPrio = unitPriority.indexOf(otherNumberUnit)\n\n\t\tnumberB = new SVG.Number(otherNumber)\n\t\tif (thisNumberPrio < otherNumberPrio) {\n\t\t\tnumberB = numberB.convertToUnit(thisNumberUnit)\n\t\t} else {\n\t\t\tnumberA = numberA.convertToUnit(otherNumberUnit)\n\t\t}\n\t} else {\n\t\tnumberB = new SVG.Number(otherNumber)\n\t}\n\n\treturn [numberA, numberB]\n}\n\nSVG.extend(SVG.Number, {\n\t/**\n\t * Convert a SVGNumber to another unit. Does actually change the value.\n\t *\n\t * @function convertToUnit\n\t * @memberof SVG.Number\n\t * @instance\n\t * @this {SVG.Number}\n\t * @param {\"px\"|\"in\"|\"cm\"|\"mm\"|\"pt\"|\"pc\"} unit - the unit to convert to\n\t * @returns {SVG.Number}\n\t */\n\tconvertToUnit(unit: \"px\" | \"in\" | \"cm\" | \"mm\" | \"pt\" | \"pc\"): SVG.Number {\n\t\t/** @type {ToUnit} */\n\t\tconst factors: ToUnit = unitConvertMap[this.unit || \"px\"] || null\n\t\tconst factor = factors?.[unit] ?? null\n\t\tif (factor !== null) return new SVG.Number(this.value * factor, unit)\n\t\telse throw new Error(\"Invalid unit\")\n\t},\n\n\t/**\n\t * Divides this number by another svg number.\n\t * Returns a new instance.\n\t *\n\t * @this {SVG.Number}\n\t * @param {SVG.Number|number} number - the divisor\n\t * @returns {SVG.Number} the result\n\t */\n\tdivide(number: SVG.Number | number): SVG.Number {\n\t\tlet [thisNumber, otherNumber] = toSameUnit(this, number)\n\t\tthisNumber.value /= otherNumber.value\n\t\treturn thisNumber\n\t},\n\n\t/**\n\t * Subtracts another svg number.\n\t * Returns a new instance.\n\t *\n\t * @this {SVG.Number}\n\t * @param {SVG.Number|number} number - the subtrahend\n\t * @returns {SVG.Number} the result\n\t */\n\tminus(number: SVG.Number | number): SVG.Number {\n\t\tlet [thisNumber, otherNumber] = toSameUnit(this, number)\n\t\tthisNumber.value -= otherNumber.value\n\t\treturn thisNumber\n\t},\n\n\t/**\n\t * Calculates the sum of this number and another svg number.\n\t * Returns a new instance.\n\t *\n\t * @this {SVG.Number}\n\t * @param {SVG.Number|number} number - the other summand\n\t * @returns {SVG.Number} the result\n\t */\n\tplus(number: SVG.Number | number): SVG.Number {\n\t\tlet [thisNumber, otherNumber] = toSameUnit(this, number)\n\t\tthisNumber.value += otherNumber.value\n\t\treturn thisNumber\n\t},\n\n\t/**\n\t * Multiplies this number with another svg number.\n\t * Returns a new instance.\n\t *\n\t * @this {SVG.Number}\n\t * @param {SVG.Number|number} number - the other operand\n\t * @returns {SVG.Number} the result\n\t */\n\ttimes(number: SVG.Number | number): SVG.Number {\n\t\tlet [thisNumber, otherNumber] = toSameUnit(this, number)\n\t\tthisNumber.value *= otherNumber.value\n\t\treturn thisNumber\n\t},\n\n\t/**\n\t * Calculates the exponentiation using this number as base.\n\t * Returns a new instance.\n\t *\n\t * @this {SVG.Number}\n\t * @param {number} exponent - the exponent\n\t * @returns {SVG.Number} the result\n\t */\n\tpow(exponent: number): SVG.Number {\n\t\tlet thisNumber = new SVG.Number(this)\n\t\tthisNumber.value **= exponent\n\t\treturn thisNumber\n\t},\n\n\t/**\n\t * Calculates the remainder (modulo) of an division.\n\t * Returns a new instance.\n\t *\n\t * @this {SVG.Number}\n\t * @param {number} number - the divisor\n\t * @returns {SVG.Number} the result\n\t */\n\tmod(number: number): SVG.Number {\n\t\tlet thisNumber = new SVG.Number(this)\n\t\tthisNumber.value %= number\n\t\treturn thisNumber\n\t},\n\n\t/**\n\t * Checks if this svg number is greater than the other one.\n\t *\n\t * @this {SVG.Number}\n\t * @param {SVG.Number|number} number - the other number\n\t * @returns {boolean} the result\n\t */\n\tgt(number: SVG.Number | number): boolean {\n\t\tlet [thisNumber, otherNumber] = toSameUnit(this, number)\n\t\treturn thisNumber.value > otherNumber.value\n\t},\n\n\t/**\n\t * Checks if this svg number is greater than the other one or equal.\n\t *\n\t * @this {SVG.Number}\n\t * @param {SVG.Number|number} number - the other number\n\t * @returns {boolean} the result\n\t */\n\tgte(number: SVG.Number | number): boolean {\n\t\tlet [thisNumber, otherNumber] = toSameUnit(this, number)\n\t\treturn thisNumber.value >= otherNumber.value\n\t},\n\n\t/**\n\t * Checks if this svg number is less than the other one.\n\t *\n\t * @this {SVG.Number}\n\t * @param {SVG.Number|number} number - the other number\n\t * @returns {boolean} the result\n\t */\n\tlt(number: SVG.Number | number): boolean {\n\t\tlet [thisNumber, otherNumber] = toSameUnit(this, number)\n\t\treturn thisNumber.value < otherNumber.value\n\t},\n\n\t/**\n\t * Checks if this svg number is less than the other one or equal.\n\t *\n\t * @this {SVG.Number}\n\t * @param {SVG.Number|number} number - the other number\n\t * @returns {boolean} the result\n\t */\n\tlte(number: SVG.Number | number): boolean {\n\t\tlet [thisNumber, otherNumber] = toSameUnit(this, number)\n\t\treturn thisNumber.value <= otherNumber.value\n\t},\n\n\t/**\n\t * Checks if this svg number is equal the other one.\n\t *\n\t * @this {SVG.Number}\n\t * @param {SVG.Number|number} number - the other number\n\t * @returns {boolean} the result\n\t */\n\teq(number: SVG.Number | number): boolean {\n\t\tlet [thisNumber, otherNumber] = toSameUnit(this, number)\n\t\treturn thisNumber.value == otherNumber.value\n\t},\n})\n\n/**\n * Converts number alike values to a plain `number` in the unit pixel.\n *\n * @function ensureInPx\n * @memberof SVG.Number\n * @static\n * @param {string|Number|number|SVG.Number} number\n * @returns {number} a plain `number` in px\n */\nexport function ensureInPx(nmbr: string | number | SVG.Number | SVGLength): number {\n\tif (nmbr instanceof SVG.Number) return nmbr.convertToUnit(\"px\").value\n\tlet num = Number(nmbr)\n\tif (Number.isNaN(num)) {\n\t\tif (typeof nmbr === \"string\") {\n\t\t\treturn new SVG.Number(nmbr).convertToUnit(\"px\").value\n\t\t} else if (typeof nmbr === \"number\") {\n\t\t\treturn new SVG.Number(nmbr).convertToUnit(\"px\").value\n\t\t} else {\n\t\t\tnmbr.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX)\n\t\t\treturn nmbr.value\n\t\t}\n\t} else return num\n}\n\nSVG.extend(SVG.Point, {\n\t/**\n\t * Calculate the squared distance of two points.\n\t *\n\t * @this {SVG.Point}\n\t * @param {SVG.Point} other - the other point\n\t * @returns {number} the squared distance (px^2)\n\t */\n\tdistanceSquared(other: SVG.Point): number {\n\t\treturn (this.x - other.x) ** 2 + (this.y - other.y) ** 2\n\t},\n\n\t/**\n\t * Calculate the distance of two points.\n\t *\n\t * @this {SVG.Point}\n\t * @param {SVG.Point} other - the other point\n\t * @returns {number} the squared distance (px)\n\t */\n\tdistance(other: SVG.Point): number {\n\t\treturn Math.sqrt((this.x - other.x) ** 2 + (this.y - other.y) ** 2)\n\t},\n\n\t/**\n\t * Calculate the length of the vector resp. the distance from (0|0).\n\t *\n\t * @this {SVG.Point}\n\t * @returns {number} the squared length (px^2)\n\t */\n\tabsSquared(): number {\n\t\treturn this.x ** 2 + this.y ** 2\n\t},\n\n\t/**\n\t * Calculate the length of the vector resp. the distance from (0|0).\n\t *\n\t * @this {SVG.Point}\n\t * @returns {number} the length (px)\n\t */\n\tabs(): number {\n\t\treturn Math.sqrt(this.x ** 2 + this.y ** 2)\n\t},\n\n\t/**\n\t * Subtracts another svg point.\n\t * Returns a new instance.\n\t *\n\t * @this {SVG.Point}\n\t * @param {SVG.Point|number} other - the subtrahend\n\t * @returns {SVG.Point} the result\n\t */\n\tsub(other: SVG.Point | number): SVG.Point {\n\t\tif (other instanceof SVG.Point) {\n\t\t\treturn new SVG.Point(this.x - other.x, this.y - other.y)\n\t\t} else {\n\t\t\treturn new SVG.Point(this.x - other, this.y - other)\n\t\t}\n\t},\n\n\t/**\n\t * Calculates the sum of this and another svg point.\n\t * Returns a new instance.\n\t *\n\t * @this {SVG.Point}\n\t * @param {SVG.Point|number} other - the other summand\n\t * @returns {SVG.Point} the result\n\t */\n\tadd(other: SVG.Point | number): SVG.Point {\n\t\tif (other instanceof SVG.Point) {\n\t\t\treturn new SVG.Point(this.x + other.x, this.y + other.y)\n\t\t} else {\n\t\t\treturn new SVG.Point(this.x + other, this.y + other)\n\t\t}\n\t},\n\t/**\n\t * Calculates the multiplication of this point and another svg point or number (elementwise).\n\t * Returns a new instance.\n\t */\n\tmul(other: SVG.Point | number): SVG.Point {\n\t\tif (other instanceof SVG.Point) {\n\t\t\treturn new SVG.Point(this.x * other.x, this.y * other.y)\n\t\t} else {\n\t\t\treturn new SVG.Point(this.x * other, this.y * other)\n\t\t}\n\t},\n\t/**\n\t * Calculates the division of this point and another svg point or number (elementwise).\n\t * Returns a new instance.\n\t */\n\tdiv(other: SVG.Point | number): SVG.Point {\n\t\tif (other instanceof SVG.Point) {\n\t\t\treturn new SVG.Point(this.x / other.x, this.y / other.y)\n\t\t} else {\n\t\t\treturn new SVG.Point(this.x / other, this.y / other)\n\t\t}\n\t},\n\t/**\n\t * calculates the dot product between this point and the other point\n\t */\n\tdot(other: SVG.Point): number {\n\t\treturn this.x * other.x + this.y * other.y\n\t},\n\n\t/**\n\t * Rotate the Coordinate around `centerCoord`. The rotation is counter clockwise, like the default mathematical\n\t * rotation.\n\t *\n\t * @this {SVG.Point}\n\t * @param {number} angle - rotation angle in degrees or radians\n\t * @param {SVG.Point} [centerCoord] - center of rotation\n\t * @param {boolean} [inRad=false] - set to `true`, if the angle is in radians\n\t * @returns {SVG.Point} the result\n\t */\n\trotate(angle: number, centerCoord: SVG.Point, inRad: boolean = false): SVG.Point {\n\t\tlet result = centerCoord ? this.sub(centerCoord) : this.clone()\n\n\t\tconst oldX = result.x\n\t\tconst oldY = result.y\n\t\tconst radians = inRad ? angle : (Math.PI / 180) * angle,\n\t\t\tcos = Math.cos(radians),\n\t\t\tsin = Math.sin(radians)\n\n\t\tresult.x = cos * oldX + sin * oldY\n\t\tresult.y = -sin * oldX + cos * oldY\n\n\t\tif (!!centerCoord) {\n\t\t\tresult.x += centerCoord.x\n\t\t\tresult.y += centerCoord.y\n\t\t}\n\n\t\treturn result\n\t},\n\t/**\n\t * Checks if to points are equal up to a given epsilon(how far the Xs and Ys can be apart to still count as being equal)\n\t *\n\t * @param other the other point\n\t * @param [eps=1e-7] how far the points can be apart\n\t * @returns true if the points are equal\n\t */\n\teq(other: SVG.Point, eps: number = 1e-7): boolean {\n\t\tif (this.x > other.x - eps && this.x < other.x + eps && this.y > other.y - eps && this.y < other.y + eps) {\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t},\n\n\t/**\n\t * Formats the point for usage with (Circui)TikZ.\n\t *\n\t * Converts from px to cm and rounds to 2 digits after the decimal point.\n\t *\n\t * @this {SVG.Point}\n\t * @returns {string} the TikZ representation, e.g. \"(0.1, 1.23)\"\n\t */\n\ttoTikzString(noParantheses = false): string {\n\t\tif (noParantheses) {\n\t\t\treturn `${roundTikz(this.x * unitConvertMap.px.cm)}, ${roundTikz(-this.y * unitConvertMap.px.cm)}`\n\t\t} else {\n\t\t\treturn `(${roundTikz(this.x * unitConvertMap.px.cm)}, ${roundTikz(-this.y * unitConvertMap.px.cm)})`\n\t\t}\n\t},\n\ttoSVGPathString() {\n\t\treturn this.x + \" \" + this.y\n\t},\n\tsimplifyForJson(digits: 2 | 3 | 4 | 5 = 3): SVG.Point {\n\t\tlet factor = 10 ** digits\n\t\treturn new SVG.Point(Math.round(this.x * factor) / factor, Math.round(this.y * factor) / factor)\n\t},\n})\n\nSVG.extend(SVG.Color, {\n\ttoTikzString(): string {\n\t\tlet color: SVG.Color = this.rgb()\n\t\treturn `{rgb,255:red,${color.r.toFixed(0)};green,${color.g.toFixed(0)};blue,${color.b.toFixed(0)}}`\n\t},\n})\n\n//helper functions\n\n/**\n * get the point on the line (through A and B) which is closest to the point P including its relation to the anchor points of the line (i.e. line segment)\n * @param P which point to check\n * @param A first point on the line\n * @param B second point on the line\n * @returns array of the closest point on the line S to the point P and t: how far along the line the point is according to S=A+t*(B-A). A value between 0 and 1 indicates the point is on the line segment AB\n */\nexport const closestPointOnLine = (P: SVG.Point, A: SVG.Point, B: SVG.Point): [SVG.Point, number] => {\n\tlet dir = B.sub(A)\n\tlet t = P.sub(A).dot(dir) / dir.dot(dir)\n\treturn [A.add(dir.mul(t)), t]\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport { CanvasController } from \"../internal\"\n\nexport const selectedBoxWidth = 1\nexport const selectionColor = \"var(--bs-red)\"\nexport const referenceColor = \"var(--bs-cyan)\"\nexport const hoverColor = \"#FF00FF\" // magenta\n\nexport const selectionSize = 16\nexport function pathPointSVG() {\n\tlet circle = CanvasController.instance.canvas.circle(selectionSize).fill(\"transparent\")\n\tcircle.node.classList.add(\"pathPoint\")\n\treturn circle\n}\n\nexport function resizeSVG(): SVG.Element {\n\tlet g = CanvasController.instance.canvas.group()\n\tg.add(CanvasController.instance.canvas.rect(10, 10).fill(\"transparent\").stroke(\"none\"))\n\tg.add(CanvasController.instance.canvas.rect(5, 5).fill(\"var(--bs-cyan)\").stroke(\"none\").move(2.5, 2.5))\n\treturn g\n}\n\nexport function roundTikz(n: number): string {\n\treturn n.toLocaleString(\"en\", {\n\t\tmaximumFractionDigits: 3,\n\t\tnotation: \"standard\",\n\t})\n}\n\n/**\n *\n * @param {[[number,number], [number,number]]|SVG.line} line1\n * @param {[[number,number], [number,number]]|SVG.Line} line2\n */\nexport function linelineIntersection(line1: SVG.Line | number[][], line2: SVG.Line | number[][]) {\n\tlet l1 = line1 instanceof SVG.Line ? line1.array() : line1\n\tlet l2 = line2 instanceof SVG.Line ? line2.array() : line2\n\n\tlet det = (l1[0][0] - l1[1][0]) * (l2[0][1] - l2[1][1]) - (l1[0][1] - l1[1][1]) * (l2[0][0] - l2[1][0])\n\tif (det == 0) return false\n\tlet t = ((l1[0][0] - l2[0][0]) * (l2[0][1] - l2[1][1]) - (l1[0][1] - l2[0][1]) * (l2[0][0] - l2[1][0])) / det\n\tlet u = -((l1[0][0] - l1[1][0]) * (l1[0][1] - l2[0][1]) - (l1[0][1] - l1[1][1]) * (l1[0][0] - l2[0][0])) / det\n\treturn t >= 0 && t <= 1 && u >= 0 && u <= 1\n}\n\nexport function lineRectIntersection(line: SVG.Line | [[number, number], [number, number]], rect: SVG.Box) {\n\tlet boxPoints = [\n\t\t[rect.x, rect.y],\n\t\t[rect.x2, rect.y],\n\t\t[rect.x2, rect.y2],\n\t\t[rect.x, rect.y2],\n\t\t[rect.x, rect.y],\n\t]\n\n\t// line and any line of rect intersect?\n\tfor (let index = 0; index < boxPoints.length - 1; index++) {\n\t\tif (linelineIntersection(line, [boxPoints[index], boxPoints[index + 1]])) {\n\t\t\treturn true\n\t\t}\n\t}\n\n\t// line inside rect?\n\tif (pointInsideRect(line instanceof SVG.Line ? new SVG.Point(line.cx(), line.cy()) : line[0], rect)) {\n\t\treturn true\n\t}\n\n\treturn false\n}\n\n/**\n * check if two rectangles intersect\n * @param {SVG.Box} rect1\n * @param {SVG.Box} rect2\n * @returns {boolean}\n */\nexport function rectRectIntersection(rect1: SVG.Box, rect2: SVG.Box, rotationDeg1: number = 0): boolean {\n\tif (rotationDeg1 == 0) {\n\t\tlet l1 = new SVG.Point(rect1.x, rect1.y)\n\t\tlet r1 = new SVG.Point(rect1.x2, rect1.y2)\n\t\tlet l2 = new SVG.Point(rect2.x, rect2.y)\n\t\tlet r2 = new SVG.Point(rect2.x2, rect2.y2)\n\n\t\t// If one rectangle is on left side of other\n\t\tif (l1.x > r2.x || l2.x > r1.x) {\n\t\t\treturn false\n\t\t}\n\n\t\t// If one rectangle is above other\n\t\tif (r1.y < l2.y || r2.y < l1.y) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn true\n\t}\n\n\tconst rect1Center = new SVG.Point(rect1.cx, rect1.cy)\n\n\t// rect2 center inside rect1?\n\tif (pointInsideRect(new SVG.Point(rect2.cx, rect2.cy).rotate(-rotationDeg1, rect1Center), rect1)) {\n\t\treturn true\n\t}\n\n\tlet boxPoints = [\n\t\t[rect1.x, rect1.y],\n\t\t[rect1.x2, rect1.y],\n\t\t[rect1.x2, rect1.y2],\n\t\t[rect1.x, rect1.y2],\n\t]\n\tconst points = boxPoints.map((point) => new SVG.Point(point[0], point[1]).rotate(rotationDeg1, rect1Center))\n\n\tfor (let index = 0; index < points.length - 1; index++) {\n\t\tconst A = points[index]\n\t\tconst B = points[(index + 1) % points.length]\n\n\t\tif (\n\t\t\tlineRectIntersection(\n\t\t\t\t[\n\t\t\t\t\t[A.x, A.y],\n\t\t\t\t\t[B.x, B.y],\n\t\t\t\t],\n\t\t\t\trect2\n\t\t\t)\n\t\t) {\n\t\t\treturn true\n\t\t}\n\t}\n}\n\nexport function pointInsideRect(point: SVG.Point | [number, number], rect: SVG.Box): boolean {\n\tlet p = point instanceof SVG.Point ? [point.x, point.y] : point\n\treturn p[0] >= rect.x && p[0] <= rect.x2 && p[1] >= rect.y && p[1] <= rect.y2\n}\n","/**\n * Functions for waiting on DOM loading/DOM changes applying.\n *\n * @module DOMWatcher\n */\n\n/**\n * Wait for a document load state.\n * Does by default wait for the `\"interactive\"` state (DOM loaded), but the `targetState` can also be set to\n * `\"complete\"` (document fully loaded).\n *\n * @param {Document} [doc=document] - the document to check the `readyState`\n * @param {\"interactive\"|\"complete\"} [targetState=\"complete\"] - the \"minimum\" state to wait for\n * @returns {Promise<Document>} the loaded document\n */\nexport async function waitForDOMLoaded(doc = document, targetState = \"interactive\") {\n\t/** @type {DocumentReadyState[]} */\n\tconst targetStates = targetState == \"complete\" ? [\"complete\"] : [\"interactive\", \"complete\"]\n\tif (!targetStates.includes(doc.readyState)) {\n\t\t// not yet loaded\n\t\treturn new Promise((resolve) => {\n\t\t\tconst eventListener = (/** @type {Event} */ event) => {\n\t\t\t\tif (targetStates.includes(event.target.readyState)) {\n\t\t\t\t\t// DOM loaded\n\t\t\t\t\tdoc.removeEventListener(\"readystatechange\", eventListener)\n\t\t\t\t\tresolve(event.target)\n\t\t\t\t}\n\t\t\t}\n\t\t\tdoc.addEventListener(\"readystatechange\", eventListener)\n\t\t})\n\t}\n\treturn doc\n}\n\n/**\n * Wait for an element to be done loading.\n *\n * Supported elements:\n *\n * \t- {@link HTMLScriptElement}: waits on entire document to be complete\n * \t- {@link HTMLImageElement}: fully supported\n * \t- {@link HTMLObjectElement}: fully supported for object containing XML-like data\n *\n * @template {HTMLElement|string} T\n * @param {T} id - the element or its id\n * @param {Document} [doc=document] - the containing document\n * @returns {Promise<T extends HTMLElement ? (T|null) : HTMLElement>} the element\n */\nexport async function waitForElementLoaded(id, doc = document) {\n\t/** @type {HTMLElement|null} */\n\tlet element\n\tif (id instanceof HTMLElement) {\n\t\telement = id\n\t} else {\n\t\t// Minimum document state: DOM loaded\n\t\tdoc = (await waitForDOMLoaded(doc, \"interactive\")) as Document\n\t\telement = doc.getElementById(id)\n\t\tif (!element) return element // Not found\n\t}\n\n\t// There is no good solution for scripts --> entire document should be loaded completely\n\tif (element instanceof HTMLScriptElement) return waitForDOMLoaded(doc, \"complete\").then(() => element)\n\n\tconst objDocumentStates = [\"inactive\", \"complete\"]\n\tconst SVG_MIME = \"image/svg+xml\"\n\n\tif (\n\t\t!(element instanceof HTMLImageElement || element instanceof HTMLObjectElement) || // element without external source? --> done\n\t\t(element instanceof HTMLImageElement && element.complete) || // <-- for images\n\t\t(element instanceof HTMLObjectElement &&\n\t\t\t(!element.data ||\n\t\t\t\t(element.type === SVG_MIME &&\n\t\t\t\t\tobjDocumentStates.includes(element.getSVGDocument?.()?.readyState ?? \"\")) ||\n\t\t\t\t(element.type !== SVG_MIME && objDocumentStates.includes(element.contentDocument?.readyState ?? \"\"))))\n\t)\n\t\treturn element\n\n\treturn new Promise((resolve) => element.addEventListener(\"load\", () => resolve(element), { once: true }))\n}\n\n/**\n * @todo Test & document\n * @template {Element} T\n * @param {T} element\n * @returns {Promise<T>}\n */\nexport function waitForElementHasChildren(element) {\n\treturn new Promise((resolve) => {\n\t\tif (element.children && element.children.length > 0) resolve(element)\n\t\twindow.requestAnimationFrame(() => waitForElementHasChildren(element).then(() => resolve(element)))\n\t})\n}\n","/**! \n * hotkeys-js v3.13.15 \n * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies. \n * \n * Copyright (c) 2025 kenny wong <wowohoo@qq.com> \n * https://github.com/jaywcjlove/hotkeys-js.git \n * \n * @website: https://jaywcjlove.github.io/hotkeys-js\n \n * Licensed under the MIT license \n */\n\nconst isff = typeof navigator !== 'undefined' ? navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : false;\n\n/** Bind event */\nfunction addEvent(object, event, method, useCapture) {\n  if (object.addEventListener) {\n    object.addEventListener(event, method, useCapture);\n  } else if (object.attachEvent) {\n    object.attachEvent(\"on\".concat(event), method);\n  }\n}\nfunction removeEvent(object, event, method, useCapture) {\n  if (object.removeEventListener) {\n    object.removeEventListener(event, method, useCapture);\n  } else if (object.detachEvent) {\n    object.detachEvent(\"on\".concat(event), method);\n  }\n}\n\n/** Convert modifier keys to their corresponding key codes */\nfunction getMods(modifier, key) {\n  const mods = key.slice(0, key.length - 1);\n  for (let i = 0; i < mods.length; i++) mods[i] = modifier[mods[i].toLowerCase()];\n  return mods;\n}\n\n/** Process the input key string and convert it to an array */\nfunction getKeys(key) {\n  if (typeof key !== 'string') key = '';\n  key = key.replace(/\\s/g, ''); // Match any whitespace character, including spaces, tabs, form feeds, etc.\n  const keys = key.split(','); // Allow multiple shortcuts separated by ','\n  let index = keys.lastIndexOf('');\n\n  // Shortcut may include ','  special handling needed\n  for (; index >= 0;) {\n    keys[index - 1] += ',';\n    keys.splice(index, 1);\n    index = keys.lastIndexOf('');\n  }\n  return keys;\n}\n\n/** Compare arrays of modifier keys */\nfunction compareArray(a1, a2) {\n  const arr1 = a1.length >= a2.length ? a1 : a2;\n  const arr2 = a1.length >= a2.length ? a2 : a1;\n  let isIndex = true;\n  for (let i = 0; i < arr1.length; i++) {\n    if (arr2.indexOf(arr1[i]) === -1) isIndex = false;\n  }\n  return isIndex;\n}\n\n// Special Keys\nconst _keyMap = {\n  backspace: 8,\n  '': 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  '': 13,\n  return: 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  /// https://w3c.github.io/uievents/#events-keyboard-key-location\n  arrowup: 38,\n  arrowdown: 40,\n  arrowleft: 37,\n  arrowright: 39,\n  del: 46,\n  delete: 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  num_0: 96,\n  num_1: 97,\n  num_2: 98,\n  num_3: 99,\n  num_4: 100,\n  num_5: 101,\n  num_6: 102,\n  num_7: 103,\n  num_8: 104,\n  num_9: 105,\n  num_multiply: 106,\n  num_add: 107,\n  num_enter: 108,\n  num_subtract: 109,\n  num_decimal: 110,\n  num_divide: 111,\n  '': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '{': 219,\n  '}': 221,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220\n};\n\n// Modifier Keys\nconst _modifier = {\n  // shiftKey\n  '': 16,\n  shift: 16,\n  // altKey\n  '': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '': 91,\n  cmd: 91,\n  meta: 91,\n  command: 91\n};\nconst modifierMap = {\n  16: 'shiftKey',\n  18: 'altKey',\n  17: 'ctrlKey',\n  91: 'metaKey',\n  shiftKey: 16,\n  ctrlKey: 17,\n  altKey: 18,\n  metaKey: 91\n};\nconst _mods = {\n  16: false,\n  18: false,\n  17: false,\n  91: false\n};\nconst _handlers = {};\n\n// F1~F12 special key\nfor (let k = 1; k < 20; k++) {\n  _keyMap[\"f\".concat(k)] = 111 + k;\n}\n\n/** Record the pressed keys */\nlet _downKeys = [];\n/** Whether the window has already listened to the focus event */\nlet winListendFocus = null;\n/** Default hotkey scope */\nlet _scope = 'all';\n/** Map to record elements with bound events */\nconst elementEventMap = new Map();\n\n/** Return key code */\nconst code = x => _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);\nconst getKey = x => Object.keys(_keyMap).find(k => _keyMap[k] === x);\nconst getModifier = x => Object.keys(_modifier).find(k => _modifier[k] === x);\n\n/** Set or get the current scope (defaults to 'all') */\nfunction setScope(scope) {\n  _scope = scope || 'all';\n}\n/** Get the current scope */\nfunction getScope() {\n  return _scope || 'all';\n}\n/** Get the key codes of the currently pressed keys */\nfunction getPressedKeyCodes() {\n  return _downKeys.slice(0);\n}\nfunction getPressedKeyString() {\n  return _downKeys.map(c => getKey(c) || getModifier(c) || String.fromCharCode(c));\n}\nfunction getAllKeyCodes() {\n  const result = [];\n  Object.keys(_handlers).forEach(k => {\n    _handlers[k].forEach(_ref => {\n      let {\n        key,\n        scope,\n        mods,\n        shortcut\n      } = _ref;\n      result.push({\n        scope,\n        shortcut,\n        mods,\n        keys: key.split('+').map(v => code(v))\n      });\n    });\n  });\n  return result;\n}\n\n/** hotkey is effective only when filter return true */\nfunction filter(event) {\n  const target = event.target || event.srcElement;\n  const {\n    tagName\n  } = target;\n  let flag = true;\n  const isInput = tagName === 'INPUT' && !['checkbox', 'radio', 'range', 'button', 'file', 'reset', 'submit', 'color'].includes(target.type);\n  // ignore: isContentEditable === 'true', <input> and <textarea> when readOnly state is false, <select>\n  if (target.isContentEditable || (isInput || tagName === 'TEXTAREA' || tagName === 'SELECT') && !target.readOnly) {\n    flag = false;\n  }\n  return flag;\n}\n\n/** Determine whether the pressed key matches a specific key, returns true or false */\nfunction isPressed(keyCode) {\n  if (typeof keyCode === 'string') {\n    keyCode = code(keyCode); // Convert to key code\n  }\n  return _downKeys.indexOf(keyCode) !== -1;\n}\n\n/** Loop through and delete all handlers with the specified scope */\nfunction deleteScope(scope, newScope) {\n  let handlers;\n  let i;\n\n  // If no scope is specified, get the current scope\n  if (!scope) scope = getScope();\n  for (const key in _handlers) {\n    if (Object.prototype.hasOwnProperty.call(_handlers, key)) {\n      handlers = _handlers[key];\n      for (i = 0; i < handlers.length;) {\n        if (handlers[i].scope === scope) {\n          const deleteItems = handlers.splice(i, 1);\n          deleteItems.forEach(_ref2 => {\n            let {\n              element\n            } = _ref2;\n            return removeKeyEvent(element);\n          });\n        } else {\n          i++;\n        }\n      }\n    }\n  }\n\n  // If the current scope has been deleted, reset the scope to 'all'\n  if (getScope() === scope) setScope(newScope || 'all');\n}\n\n/** Clear modifier keys */\nfunction clearModifier(event) {\n  let key = event.keyCode || event.which || event.charCode;\n  if (event.key && event.key.toLowerCase() === 'capslock') {\n    // Ensure that when capturing keystrokes in modern browsers,\n    // uppercase and lowercase letters (such as R and r) return the same key value.\n    // https://github.com/jaywcjlove/hotkeys-js/pull/514\n    // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n    key = code(event.key);\n  }\n  const i = _downKeys.indexOf(key);\n\n  // Remove the pressed key from the list\n  if (i >= 0) {\n    _downKeys.splice(i, 1);\n  }\n  // Special handling for the command key: fix the issue where keyup only triggers once for command combos\n  if (event.key && event.key.toLowerCase() === 'meta') {\n    _downKeys.splice(0, _downKeys.length);\n  }\n\n  // Clear modifier keys: shiftKey, altKey, ctrlKey, (command || metaKey)\n  if (key === 93 || key === 224) key = 91;\n  if (key in _mods) {\n    _mods[key] = false;\n\n    // Reset the modifier key status to false\n    for (const k in _modifier) if (_modifier[k] === key) hotkeys[k] = false;\n  }\n}\nfunction unbind(keysInfo) {\n  // unbind(), unbind all keys\n  if (typeof keysInfo === 'undefined') {\n    Object.keys(_handlers).forEach(key => {\n      Array.isArray(_handlers[key]) && _handlers[key].forEach(info => eachUnbind(info));\n      delete _handlers[key];\n    });\n    removeKeyEvent(null);\n  } else if (Array.isArray(keysInfo)) {\n    // support like : unbind([{key: 'ctrl+a', scope: 's1'}, {key: 'ctrl-a', scope: 's2', splitKey: '-'}])\n    keysInfo.forEach(info => {\n      if (info.key) eachUnbind(info);\n    });\n  } else if (typeof keysInfo === 'object') {\n    // support like unbind({key: 'ctrl+a, ctrl+b', scope:'abc'})\n    if (keysInfo.key) eachUnbind(keysInfo);\n  } else if (typeof keysInfo === 'string') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    // support old method\n    // eslint-disable-line\n    let [scope, method] = args;\n    if (typeof scope === 'function') {\n      method = scope;\n      scope = '';\n    }\n    eachUnbind({\n      key: keysInfo,\n      scope,\n      method,\n      splitKey: '+'\n    });\n  }\n}\n\n/** Unbind hotkeys for a specific scope */\nconst eachUnbind = _ref3 => {\n  let {\n    key,\n    scope,\n    method,\n    splitKey = '+'\n  } = _ref3;\n  const multipleKeys = getKeys(key);\n  multipleKeys.forEach(originKey => {\n    const unbindKeys = originKey.split(splitKey);\n    const len = unbindKeys.length;\n    const lastKey = unbindKeys[len - 1];\n    const keyCode = lastKey === '*' ? '*' : code(lastKey);\n    if (!_handlers[keyCode]) return;\n    // If scope is not provided, get the current scope\n    if (!scope) scope = getScope();\n    const mods = len > 1 ? getMods(_modifier, unbindKeys) : [];\n    const unbindElements = [];\n    _handlers[keyCode] = _handlers[keyCode].filter(record => {\n      // Check if the method matches; if method is provided, must be equal to unbind\n      const isMatchingMethod = method ? record.method === method : true;\n      const isUnbind = isMatchingMethod && record.scope === scope && compareArray(record.mods, mods);\n      if (isUnbind) unbindElements.push(record.element);\n      return !isUnbind;\n    });\n    unbindElements.forEach(element => removeKeyEvent(element));\n  });\n};\n\n/** Handle the callback function for the corresponding hotkey */\nfunction eventHandler(event, handler, scope, element) {\n  if (handler.element !== element) {\n    return;\n  }\n  let modifiersMatch;\n\n  // Check if it is within the current scope\n  if (handler.scope === scope || handler.scope === 'all') {\n    // Check whether modifier keys match (returns true if they do)\n    modifiersMatch = handler.mods.length > 0;\n    for (const y in _mods) {\n      if (Object.prototype.hasOwnProperty.call(_mods, y)) {\n        if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {\n          modifiersMatch = false;\n        }\n      }\n    }\n\n    // Call the handler function; ignore if it's only a modifier key\n    if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === '*') {\n      handler.keys = [];\n      handler.keys = handler.keys.concat(_downKeys);\n      if (handler.method(event, handler) === false) {\n        if (event.preventDefault) event.preventDefault();else event.returnValue = false;\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.cancelBubble) event.cancelBubble = true;\n      }\n    }\n  }\n}\n\n/** Handle the keydown event */\nfunction dispatch(event, element) {\n  const asterisk = _handlers['*'];\n  let key = event.keyCode || event.which || event.charCode;\n  // Ensure that when capturing keystrokes in modern browsers,\n  // uppercase and lowercase letters (such as R and r) return the same key value.\n  // https://github.com/jaywcjlove/hotkeys-js/pull/514\n  // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n  // CapsLock key\n  // There's an issue where `keydown` and `keyup` events are not triggered after CapsLock is enabled to activate uppercase.\n  if (event.key && event.key.toLowerCase() === 'capslock') {\n    return;\n  }\n  // Form control filter: by default, shortcut keys are not triggered in form elements\n  if (!hotkeys.filter.call(this, event)) return;\n\n  // In Gecko (Firefox), the command key code is 224; unify it with WebKit (Chrome)\n  // In WebKit, left and right command keys have different codes\n  if (key === 93 || key === 224) key = 91;\n\n  /**\n   * Collect bound keys\n   * If an Input Method Editor is processing key input and the event is keydown, return 229.\n   * https://stackoverflow.com/questions/25043934/is-it-ok-to-ignore-keydown-events-with-keycode-229\n   * http://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html\n   */\n  if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);\n  /**\n   * Jest test cases are required.\n   * ===============================\n   */\n  ['metaKey', 'ctrlKey', 'altKey', 'shiftKey'].forEach(keyName => {\n    const keyNum = modifierMap[keyName];\n    if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {\n      _downKeys.push(keyNum);\n    } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {\n      _downKeys.splice(_downKeys.indexOf(keyNum), 1);\n    } else if (keyName === 'metaKey' && event[keyName]) {\n      // If the command key is pressed, clear all non-modifier keys except the current event key.\n      // This is because keyup for non-modifier keys will NEVER be triggered when command is pressed.\n      // This is a known browser limitation.\n      _downKeys = _downKeys.filter(k => k in modifierMap || k === key);\n    }\n  });\n  /**\n   * -------------------------------\n   */\n  if (key in _mods) {\n    _mods[key] = true;\n    // Register special modifier keys to the `hotkeys` object\n    for (const k in _modifier) {\n      if (Object.prototype.hasOwnProperty.call(_modifier, k)) {\n        const eventKey = modifierMap[_modifier[k]];\n        hotkeys[k] = event[eventKey];\n      }\n    }\n    if (!asterisk) return;\n  }\n\n  // Bind the modifier keys in modifierMap to the event\n  for (const e in _mods) {\n    if (Object.prototype.hasOwnProperty.call(_mods, e)) {\n      _mods[e] = event[modifierMap[e]];\n    }\n  }\n  /**\n   * https://github.com/jaywcjlove/hotkeys/pull/129\n   * This solves the issue in Firefox on Windows where hotkeys corresponding to special characters would not trigger.\n   * An example of this is ctrl+alt+m on a Swedish keyboard which is used to type .\n   * Browser support: https://caniuse.com/#feat=keyboardevent-getmodifierstate\n   */\n  if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState('AltGraph')) {\n    if (_downKeys.indexOf(17) === -1) {\n      _downKeys.push(17);\n    }\n    if (_downKeys.indexOf(18) === -1) {\n      _downKeys.push(18);\n    }\n    _mods[17] = true;\n    _mods[18] = true;\n  }\n\n  // Get the current scope (defaults to 'all')\n  const scope = getScope();\n  // Handle any hotkeys registered as '*'\n  if (asterisk) {\n    for (let i = 0; i < asterisk.length; i++) {\n      if (asterisk[i].scope === scope && (event.type === 'keydown' && asterisk[i].keydown || event.type === 'keyup' && asterisk[i].keyup)) {\n        eventHandler(event, asterisk[i], scope, element);\n      }\n    }\n  }\n  // If the key is not registered, return\n  if (!(key in _handlers)) return;\n  const handlerKey = _handlers[key];\n  const keyLen = handlerKey.length;\n  for (let i = 0; i < keyLen; i++) {\n    if (event.type === 'keydown' && handlerKey[i].keydown || event.type === 'keyup' && handlerKey[i].keyup) {\n      if (handlerKey[i].key) {\n        const record = handlerKey[i];\n        const {\n          splitKey\n        } = record;\n        const keyShortcut = record.key.split(splitKey);\n        const _downKeysCurrent = []; // Store the current key codes\n        for (let a = 0; a < keyShortcut.length; a++) {\n          _downKeysCurrent.push(code(keyShortcut[a]));\n        }\n        if (_downKeysCurrent.sort().join('') === _downKeys.sort().join('')) {\n          // Match found, call the handler\n          eventHandler(event, record, scope, element);\n        }\n      }\n    }\n  }\n}\nfunction hotkeys(key, option, method) {\n  _downKeys = [];\n  /** List of hotkeys to handle */\n  const keys = getKeys(key);\n  let mods = [];\n  /** Default scope is 'all', meaning effective in all scopes */\n  let scope = 'all';\n  /** Element to which the hotkey events are bound */\n  let element = document;\n  let i = 0;\n  let keyup = false;\n  let keydown = true;\n  let splitKey = '+';\n  let capture = false;\n  /** Allow only a single callback */\n  let single = false;\n\n  // Determine if the second argument is a function (no options provided)\n  if (method === undefined && typeof option === 'function') {\n    method = option;\n  }\n\n  // Parse options object\n  if (Object.prototype.toString.call(option) === '[object Object]') {\n    if (option.scope) scope = option.scope; // Set scope\n    if (option.element) element = option.element; // Set binding element\n    if (option.keyup) keyup = option.keyup;\n    if (option.keydown !== undefined) keydown = option.keydown;\n    if (option.capture !== undefined) capture = option.capture;\n    if (typeof option.splitKey === 'string') splitKey = option.splitKey;\n    if (option.single === true) single = true;\n  }\n  if (typeof option === 'string') scope = option;\n\n  // If only one callback is allowed, unbind the existing one first\n  if (single) unbind(key, scope);\n\n  // Handle each hotkey\n  for (; i < keys.length; i++) {\n    key = keys[i].split(splitKey); // Split into individual keys\n    mods = [];\n\n    // If it's a combination, extract modifier keys\n    if (key.length > 1) mods = getMods(_modifier, key);\n\n    // Convert non-modifier key to key code\n    key = key[key.length - 1];\n    key = key === '*' ? '*' : code(key); // '*' means match all hotkeys\n\n    // Initialize handler array if this key has no handlers yet\n    if (!(key in _handlers)) _handlers[key] = [];\n    _handlers[key].push({\n      keyup,\n      keydown,\n      scope,\n      mods,\n      shortcut: keys[i],\n      method,\n      key: keys[i],\n      splitKey,\n      element\n    });\n  }\n  // Register hotkey event listeners on the global document\n  if (typeof element !== 'undefined' && window) {\n    if (!elementEventMap.has(element)) {\n      const keydownListener = function () {\n        let event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.event;\n        return dispatch(event, element);\n      };\n      const keyupListenr = function () {\n        let event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.event;\n        dispatch(event, element);\n        clearModifier(event);\n      };\n      elementEventMap.set(element, {\n        keydownListener,\n        keyupListenr,\n        capture\n      });\n      addEvent(element, 'keydown', keydownListener, capture);\n      addEvent(element, 'keyup', keyupListenr, capture);\n    }\n    // Register focus event listener once to clear pressed keys on window focus\n    if (!winListendFocus) {\n      const listener = () => {\n        _downKeys = [];\n      };\n      winListendFocus = {\n        listener,\n        capture\n      };\n      addEvent(window, 'focus', listener, capture);\n    }\n  }\n}\nfunction trigger(shortcut) {\n  let scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'all';\n  Object.keys(_handlers).forEach(key => {\n    const dataList = _handlers[key].filter(item => item.scope === scope && item.shortcut === shortcut);\n    dataList.forEach(data => {\n      if (data && data.method) {\n        data.method();\n      }\n    });\n  });\n}\n\n/** Clean up event listeners. After unbinding, check whether the element still has any hotkeys bound. If not, remove its event listeners. */\nfunction removeKeyEvent(element) {\n  const values = Object.values(_handlers).flat();\n  const findindex = values.findIndex(_ref4 => {\n    let {\n      element: el\n    } = _ref4;\n    return el === element;\n  });\n  if (findindex < 0) {\n    const {\n      keydownListener,\n      keyupListenr,\n      capture\n    } = elementEventMap.get(element) || {};\n    if (keydownListener && keyupListenr) {\n      removeEvent(element, 'keyup', keyupListenr, capture);\n      removeEvent(element, 'keydown', keydownListener, capture);\n      elementEventMap.delete(element);\n    }\n  }\n  if (values.length <= 0 || elementEventMap.size <= 0) {\n    // Remove all event listeners from all elements\n    const eventKeys = Object.keys(elementEventMap);\n    eventKeys.forEach(el => {\n      const {\n        keydownListener,\n        keyupListenr,\n        capture\n      } = elementEventMap.get(el) || {};\n      if (keydownListener && keyupListenr) {\n        removeEvent(el, 'keyup', keyupListenr, capture);\n        removeEvent(el, 'keydown', keydownListener, capture);\n        elementEventMap.delete(el);\n      }\n    });\n    // Clear the elementEventMap\n    elementEventMap.clear();\n    // Clear all handlers\n    Object.keys(_handlers).forEach(key => delete _handlers[key]);\n    // Remove the global window focus event listener\n    if (winListendFocus) {\n      const {\n        listener,\n        capture\n      } = winListendFocus;\n      removeEvent(window, 'focus', listener, capture);\n      winListendFocus = null;\n    }\n  }\n}\nconst _api = {\n  getPressedKeyString,\n  setScope,\n  getScope,\n  deleteScope,\n  getPressedKeyCodes,\n  getAllKeyCodes,\n  isPressed,\n  filter,\n  trigger,\n  unbind,\n  keyMap: _keyMap,\n  modifier: _modifier,\n  modifierMap\n};\nfor (const a in _api) {\n  if (Object.prototype.hasOwnProperty.call(_api, a)) {\n    hotkeys[a] = _api[a];\n  }\n}\nif (typeof window !== 'undefined') {\n  const _hotkeys = window.hotkeys;\n  hotkeys.noConflict = deep => {\n    if (deep && window.hotkeys === hotkeys) {\n      window.hotkeys = _hotkeys;\n    }\n    return hotkeys;\n  };\n  window.hotkeys = hotkeys;\n}\n\nexport { hotkeys as default };\n","{\n\t\"name\": \"circutikz-designer\",\n\t\"version\": \"8.0.1\",\n\t\"private\": \"true\",\n\t\"description\": \"An interactive, visual, online editor for creating electrical circuit diagrams for LaTeX/CircuiTikZ with ease.\",\n\t\"license\": \"GPL-3.0-only\",\n\t\"author\": \"Manuel Kirzinger\",\n\t\"contributors\": [\n\t\t{\n\t\t\t\"name\": \"Philipp Wiedemann\",\n\t\t\t\"email\": \"jan.p.wiedemann@fau.de\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"Christof Pfannenmller\",\n\t\t\t\"email\": \"christof.pfannenmueller@fau.de\"\n\t\t}\n\t],\n\t\"source\": \"src/pages/index.html\",\n\t\"main\": \"src/scripts/main.js\",\n\t\"targets\": {\n\t\t\"main\": false\n\t},\n\t\"scripts\": {\n\t\t\"build\": \"parcel build --public-url ./\",\n\t\t\"update\": \"npx npm-check-updates -u\",\n\t\t\"prepack\": \"npm run build\",\n\t\t\"start\": \"parcel serve --lazy\",\n\t\t\"postversion\": \"git push && git push origin tag $(git describe --tags --abbrev=0)\",\n\t\t\"standalone\": \"electron-forge start\",\n\t\t\"electron\": \"npm run build && electron .\",\n\t\t\"package\": \"electron-forge package\",\n\t\t\"make\": \"electron-forge make\"\n\t},\n\t\"browserslist\": \"> 0.5%, last 2 versions, not dead\",\n\t\"dependencies\": {\n\t\t\"@prettier/plugin-xml\": \"^3.4.2\",\n\t\t\"@svgdotjs/svg.draggable.js\": \"^3.0.6\",\n\t\t\"@svgdotjs/svg.js\": \"^3.2.4\",\n\t\t\"@svgdotjs/svg.panzoom.js\": \"^2.1.2\",\n\t\t\"bootstrap\": \"^5.3.7\",\n\t\t\"electron-squirrel-startup\": \"^1.0.1\",\n\t\t\"file-saver\": \"^2.0.5\",\n\t\t\"hotkeys-js\": \"^3.13.15\",\n\t\t\"prettier\": \"^3.6.2\",\n\t\t\"text-to-svg\": \"^3.1.5\"\n\t},\n\t\"devDependencies\": {\n\t\t\"@electron-forge/cli\": \"^7.8.2\",\n\t\t\"@electron-forge/maker-deb\": \"^7.8.2\",\n\t\t\"@electron-forge/maker-rpm\": \"^7.8.2\",\n\t\t\"@electron-forge/maker-squirrel\": \"^7.8.2\",\n\t\t\"@electron-forge/maker-wix\": \"^7.8.2\",\n\t\t\"@electron-forge/maker-zip\": \"^7.8.2\",\n\t\t\"@electron-forge/plugin-auto-unpack-natives\": \"^7.8.2\",\n\t\t\"@electron-forge/plugin-fuses\": \"^7.8.2\",\n\t\t\"@electron/fuses\": \"^2.0.0\",\n\t\t\"@parcel/config-default\": \"^2.15.4\",\n\t\t\"@parcel/packager-raw-url\": \"^2.16.1\",\n\t\t\"@parcel/plugin\": \"^2.15.4\",\n\t\t\"@parcel/transformer-css\": \"^2.15.4\",\n\t\t\"@parcel/transformer-html\": \"^2.15.4\",\n\t\t\"@parcel/transformer-js\": \"^2.15.4\",\n\t\t\"@parcel/transformer-posthtml\": \"^2.15.4\",\n\t\t\"@parcel/transformer-sass\": \"^2.15.4\",\n\t\t\"@parcel/transformer-svg\": \"^2.15.4\",\n\t\t\"@parcel/transformer-typescript-tsc\": \"^2.15.4\",\n\t\t\"@parcel/transformer-webmanifest\": \"^2.16.1\",\n\t\t\"@parcel/transformer-xml\": \"^2.15.4\",\n\t\t\"@types/bootstrap\": \"^5.2.10\",\n\t\t\"@types/file-saver\": \"^2.0.7\",\n\t\t\"@types/text-to-svg\": \"^3.1.4\",\n\t\t\"buffer\": \"^6.0.3\",\n\t\t\"electron\": \"^37.2.5\",\n\t\t\"parcel\": \"^2.15.4\",\n\t\t\"path-browserify\": \"^1.0.1\",\n\t\t\"posthtml-include\": \"^2.0.1\",\n\t\t\"process\": \"^0.11.10\",\n\t\t\"sass\": \"^1.89.2\",\n\t\t\"typescript\": \"^5.9.2\"\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport \"@svgdotjs/svg.panzoom.js\"\nimport {\n\tSnapController,\n\tUndo,\n\tCircuitComponent,\n\tMainController,\n\tSelectionController,\n\tCanvasSettings,\n\tPropertyController,\n} from \"../internal\"\n\ntype PanningEventDetail = {\n\tbox: SVG.Box\n\tevent: MouseEvent\n}\n\ntype WheelZoomEventDetail = {\n\tlevel: number\n\tfocus: SVG.Point\n}\n\ntype PinchZoomEventDetail = {\n\tbox: SVG.Box\n\tfocus: SVG.Point\n}\n\n/**\n * Controller for the SVG canvas. Enables/disables zooming and panning. Manages selections\n * @class\n */\nexport class CanvasController {\n\t/**\n\t * Static variable holding the instance.\n\t */\n\tpublic static instance: CanvasController\n\t/**\n\t * The (root) SVG Element. All lines and components are children of this element.\n\t */\n\tpublic canvas: SVG.Svg\n\t/**\n\t * The background (grid)\n\t */\n\tpublic paper: SVG.Rect\n\t/**\n\t * The line marking the x axis\n\t */\n\tpublic xAxis: SVG.Line\n\t/**\n\t * The line marking the y axis\n\t */\n\tpublic yAxis: SVG.Line\n\n\t/** Distance between major grid lines\n\t */\n\tpublic majorGridSizecm = 1\n\t/** How many minor grid lines are drawn for every major grid line\n\t */\n\tpublic majorGridSubdivisions = 4\n\tpublic gridVisible = true\n\n\t/**\n\t * Needed for window size changes to reconstruct the old zoom level.\n\t */\n\tprivate canvasBounds: DOMRect | null = null\n\n\tprivate invScreenCTM: SVG.Matrix | null = null\n\n\t/** zoom parameters; small zoomFactor for more granular control\n\t */\n\tprivate zoomFactor = 0.1\n\tprivate zoomMin = 0.25\n\tprivate zoomMax = 10\n\tprivate zoomCurrent = 2\n\tpublic get currentZoom() {\n\t\treturn this.zoomCurrent\n\t}\n\n\t/**\n\t * the last point on the canvas\n\t */\n\tpublic lastCanvasPoint = new SVG.Point(0, 0)\n\n\t/**\n\t * set this to the input element where a drag started to prevent the svg canvas from stealing the focus off the input element\n\t */\n\tpublic draggingFromInput: HTMLElement = null\n\n\t/**\n\t * Create the canvas controller.\n\t * @param {SVG.Svg} canvas - the (wrapped) svg element\n\t */\n\tconstructor(canvas: SVG.Svg) {\n\t\tif (CanvasController.instance) {\n\t\t\treturn\n\t\t}\n\t\tlocalStorage.removeItem(\"circuitikz-designer-view\")\n\t\tCanvasController.instance = this\n\n\t\tthis.canvas = canvas\n\t\tthis.paper = SVG.SVG(\"#grid\") as SVG.Rect\n\t\tthis.xAxis = SVG.SVG(\"#xAxis\") as SVG.Line\n\t\tthis.yAxis = SVG.SVG(\"#yAxis\") as SVG.Line\n\n\t\tdocument.addEventListener(\"mouseup\", (ev) => {\n\t\t\tCanvasController.instance.draggingFromInput = null\n\t\t})\n\n\t\tconst panFactor = 20\n\t\tlet body = document.getElementsByTagName(\"body\")[0]\n\t\tdocument.addEventListener(\"keydown\", (ev) => {\n\t\t\t// pan canvas manually/ move selection slightly\n\t\t\tif (!ev.key) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (ev.key.startsWith(\"Arrow\") && ev.target == body) {\n\t\t\t\tlet direction = new SVG.Point()\n\t\t\t\tdirection.x =\n\t\t\t\t\tev.key == \"ArrowRight\" ? 1\n\t\t\t\t\t: ev.key == \"ArrowLeft\" ? -1\n\t\t\t\t\t: 0\n\t\t\t\tdirection.y =\n\t\t\t\t\tev.key == \"ArrowUp\" ? -1\n\t\t\t\t\t: ev.key == \"ArrowDown\" ? 1\n\t\t\t\t\t: 0\n\n\t\t\t\tif (SelectionController.instance.hasSelection()) {\n\t\t\t\t\tSelectionController.instance.moveSelectionRel(direction.mul(1 / this.zoomCurrent))\n\t\t\t\t} else {\n\t\t\t\t\t//move canvas\n\t\t\t\t\tlet currentViewBox = this.canvas.viewbox()\n\t\t\t\t\tlet newPos = new SVG.Point(currentViewBox.x, currentViewBox.y).add(\n\t\t\t\t\t\tdirection.mul(panFactor / this.zoomCurrent)\n\t\t\t\t\t)\n\t\t\t\t\t// this.canvas.zoom(this.zoomCurrent,newPos)\n\t\t\t\t\tthis.canvas.viewbox(newPos.x, newPos.y, currentViewBox.w, currentViewBox.h)\n\t\t\t\t\tthis.movePaper({ detail: {} } as CustomEvent)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tthis.onResizeCanvas()\n\t\tthis.resetView()\n\n\t\t// observe page size change\n\t\tnew ResizeObserver(this.onResizeCanvas.bind(this)).observe(this.canvas.node)\n\n\t\t// init pan & zoom\n\t\tthis.activatePanning()\n\n\t\t// Drag picture with mouse\n\t\tcanvas.on(\"panning\", this.movePaper, this, { passive: false })\n\n\t\t// Mouse wheel OR pinch zoom\n\t\t// Wheel zoom is fired before the actual change and has no detail.box and is thus ignored. It will be handled by wheel.panZoom.\n\t\tcanvas.on(\"zoom\", this.movePaper, this, { passive: true })\n\n\t\tcanvas.on(\"mousemove\", (evt: MouseEvent) => {\n\t\t\tthis.lastCanvasPoint = CanvasController.eventToPoint(evt, false)\n\t\t})\n\t\tcanvas.on(\"touchmove\", (evt: TouchEvent) => {\n\t\t\tthis.lastCanvasPoint = CanvasController.eventToPoint(evt, false)\n\t\t})\n\n\t\tconst oldViewBoxFunction = this.canvas.viewbox\n\t\tthis.canvas.viewbox = (...args) => {\n\t\t\tif (arguments.length > 0) this.invScreenCTM = null\n\t\t\treturn oldViewBoxFunction.apply(this.canvas, args)\n\t\t}\n\n\t\tconst oldZoomFunction = this.canvas.zoom\n\t\tthis.canvas.zoom = (...args) => {\n\t\t\tif (arguments.length > 0) this.invScreenCTM = null\n\t\t\treturn oldZoomFunction.apply(this.canvas, args)\n\t\t}\n\n\t\tlet gridVisibleToggle = document.getElementById(\"gridVisible\") as HTMLInputElement\n\n\t\tgridVisibleToggle.addEventListener(\"change\", (ev) => {\n\t\t\tthis.gridVisible = gridVisibleToggle.checked\n\t\t\tif (this.gridVisible) {\n\t\t\t\tif (this.paper.hasClass(\"d-none\")) {\n\t\t\t\t\tthis.paper.removeClass(\"d-none\")\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.paper.addClass(\"d-none\")\n\t\t\t}\n\t\t})\n\t}\n\n\tpublic setSettings(settings: CanvasSettings) {\n\t\tthis.majorGridSizecm = settings.majorGridSizecm || this.majorGridSizecm\n\t\tthis.majorGridSubdivisions = settings.majorGridSubdivisions || this.majorGridSubdivisions\n\t\tPropertyController.instance.setSliderValues(this.majorGridSizecm, this.majorGridSubdivisions)\n\t\tthis.gridVisible = settings.gridVisible || this.gridVisible\n\t\tlet gridVisibleToggle = document.getElementById(\"gridVisible\") as HTMLInputElement\n\t\tgridVisibleToggle.checked = this.gridVisible\n\t\tif (!this.gridVisible) {\n\t\t\tthis.paper.addClass(\"d-none\")\n\t\t}\n\t\tif (settings.viewBox) {\n\t\t\tthis.canvas.viewbox(settings.viewBox)\n\t\t\tthis.canvas.zoom(settings.viewZoom, new SVG.Point())\n\t\t\tthis.zoomCurrent = settings.viewZoom\n\t\t\tthis.onResizeCanvas()\n\t\t}\n\t}\n\n\tpublic resetView() {\n\t\t// shift whole canvas down such that the origin is in the bottom left corner\n\t\tlet box = this.canvas.viewbox()\n\t\tbox.x = 0\n\t\tbox.y = 0\n\n\t\tbox.y -= box.h\n\t\t// shift canvas up right to see the axes with the default view\n\t\tlet moveAmount = Math.max(0.05 * Math.min(box.w, box.h), 10)\n\t\tbox.x -= moveAmount\n\t\tbox.y += moveAmount\n\t\tthis.canvas.viewbox(box)\n\t\tthis.zoomCurrent = 2\n\t\tthis.canvas.zoom(this.zoomCurrent, new SVG.Point())\n\t\tthis.onResizeCanvas()\n\t}\n\n\tpublic fitView() {\n\t\tlet bbox: SVG.Box = null\n\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\tlet compBBox = component.visualization.bbox()\n\t\t\tif (bbox) {\n\t\t\t\tbbox = bbox.merge(compBBox)\n\t\t\t} else {\n\t\t\t\tbbox = compBBox\n\t\t\t}\n\t\t}\n\n\t\tif (bbox) {\n\t\t\tlet canvasBox = this.canvas.viewbox()\n\t\t\tlet zoomFactor = Math.min(canvasBox.w / bbox.w, canvasBox.h / bbox.h) * 0.98 // sligtly more zoomed out\n\t\t\tif (zoomFactor * this.zoomCurrent > this.zoomMax) {\n\t\t\t\tzoomFactor = this.zoomMax / this.zoomCurrent\n\t\t\t} else if (zoomFactor * this.zoomCurrent < this.zoomMin) {\n\t\t\t\tzoomFactor = this.zoomMin / this.zoomCurrent\n\t\t\t}\n\t\t\tlet newSize = new SVG.Point(canvasBox.w, canvasBox.h).mul(zoomFactor)\n\t\t\tcanvasBox = new SVG.Box(bbox.cx - newSize.x / 2, bbox.cy - newSize.y / 2, newSize.x, newSize.y)\n\t\t\tthis.canvas.viewbox(canvasBox)\n\t\t\tthis.zoomCurrent *= zoomFactor\n\t\t\tthis.canvas.zoom(this.zoomCurrent, new SVG.Point(bbox.cx, bbox.cy))\n\t\t\tthis.onResizeCanvas()\n\t\t} else {\n\t\t\tthis.resetView()\n\t\t}\n\t}\n\n\tpublic moveComponentsForward(components: CircuitComponent[]) {\n\t\tif (MainController.instance.circuitComponents.length < 2 || components.length == 0) {\n\t\t\treturn\n\t\t}\n\t\tlet idxComps = components.map((c) => {\n\t\t\treturn { idx: MainController.instance.circuitComponents.findIndex((cc) => cc === c), component: c }\n\t\t})\n\t\tidxComps.sort((a, b) => a.idx - b.idx).reverse()\n\t\tlet lastSelectedIndex = MainController.instance.circuitComponents.length\n\t\tlet switched = false\n\t\tfor (const idxComp of idxComps) {\n\t\t\tif (idxComp.idx !== lastSelectedIndex - 1) {\n\t\t\t\t//switch the components\n\t\t\t\tlet switchComponent = MainController.instance.circuitComponents[idxComp.idx + 1]\n\t\t\t\tidxComp.component.visualization.insertAfter(switchComponent.visualization)\n\t\t\t\tMainController.instance.circuitComponents[idxComp.idx] = switchComponent\n\t\t\t\tMainController.instance.circuitComponents[idxComp.idx + 1] = idxComp.component\n\t\t\t\tlastSelectedIndex = idxComp.idx + 1\n\t\t\t\tswitched = true\n\t\t\t} else {\n\t\t\t\tlastSelectedIndex = idxComp.idx\n\t\t\t}\n\t\t}\n\t\tif (switched) {\n\t\t\tUndo.addState()\n\t\t}\n\t}\n\n\tpublic moveComponentsBackward(components: CircuitComponent[]) {\n\t\tif (MainController.instance.circuitComponents.length < 2 || components.length == 0) {\n\t\t\treturn\n\t\t}\n\t\tlet idxComps = components.map((c) => {\n\t\t\treturn { idx: MainController.instance.circuitComponents.findIndex((cc) => cc === c), component: c }\n\t\t})\n\t\tidxComps.sort((a, b) => a.idx - b.idx)\n\t\tlet lastSelectedIndex = -1\n\t\tlet switched = false\n\t\tfor (const idxComp of idxComps) {\n\t\t\tif (idxComp.idx !== lastSelectedIndex + 1) {\n\t\t\t\t//switch the components\n\t\t\t\tlet switchComponent = MainController.instance.circuitComponents[idxComp.idx - 1]\n\t\t\t\tidxComp.component.visualization.insertBefore(switchComponent.visualization)\n\t\t\t\tMainController.instance.circuitComponents[idxComp.idx] = switchComponent\n\t\t\t\tMainController.instance.circuitComponents[idxComp.idx - 1] = idxComp.component\n\t\t\t\tlastSelectedIndex = idxComp.idx - 1\n\t\t\t\tswitched = true\n\t\t\t} else {\n\t\t\t\tlastSelectedIndex = idxComp.idx\n\t\t\t}\n\t\t}\n\t\tif (switched) {\n\t\t\tUndo.addState()\n\t\t}\n\t}\n\n\tpublic componentsToForeground(components: CircuitComponent[]) {\n\t\tif (MainController.instance.circuitComponents.length < 2 || components.length == 0) {\n\t\t\treturn\n\t\t}\n\t\tlet idxComps = components.map((c) => {\n\t\t\treturn { idx: MainController.instance.circuitComponents.findIndex((cc) => cc === c), component: c }\n\t\t})\n\t\tidxComps.sort((a, b) => a.idx - b.idx)\n\t\tif (components.length < MainController.instance.circuitComponents.length - idxComps[0].idx) {\n\t\t\tfor (const idxComp of idxComps) {\n\t\t\t\tidxComp.component.visualization.insertAfter(\n\t\t\t\t\tMainController.instance.circuitComponents.at(-1).visualization\n\t\t\t\t)\n\t\t\t\tMainController.instance.circuitComponents.push(\n\t\t\t\t\t...MainController.instance.circuitComponents.splice(idxComp.idx, 1)\n\t\t\t\t)\n\t\t\t}\n\t\t\tUndo.addState()\n\t\t}\n\t}\n\n\tpublic componentsToBackground(components: CircuitComponent[]) {\n\t\tif (MainController.instance.circuitComponents.length < 2 || components.length == 0) {\n\t\t\treturn\n\t\t}\n\t\tlet idxComps = components.map((c) => {\n\t\t\treturn { idx: MainController.instance.circuitComponents.findIndex((cc) => cc === c), component: c }\n\t\t})\n\t\tidxComps.sort((a, b) => a.idx - b.idx).reverse()\n\t\tif (components.length <= idxComps[0].idx) {\n\t\t\tlet offset = 0\n\t\t\tfor (const idxComp of idxComps) {\n\t\t\t\tidxComp.component.visualization.insertBefore(MainController.instance.circuitComponents[0].visualization)\n\t\t\t\tMainController.instance.circuitComponents = MainController.instance.circuitComponents\n\t\t\t\t\t.splice(idxComp.idx + offset, 1)\n\t\t\t\t\t.concat(MainController.instance.circuitComponents)\n\t\t\t\toffset++\n\t\t\t}\n\t\t\tUndo.addState()\n\t\t}\n\t}\n\n\t/**\n\t * Deactivate the mouse and touch panning feature temporary.\n\t *\n\t * Removes listeners from the canvas.\n\t */\n\tpublic deactivatePanning() {\n\t\t// this listener must be inserted after the normal panZoom listeners --> unregister first\n\t\tthis.canvas.off(\"wheel.panZoom\", this.movePaper)\n\t\t// re-init pan & zoom\n\t\tthis.canvas.panZoom({\n\t\t\tpanning: false, // still enabled for two finger & wheel zoom panning\n\t\t\tpinchZoom: true,\n\t\t\twheelZoom: true,\n\t\t\tpanButton: 99, // deactivates panning using any mouse button\n\t\t\toneFingerPan: false,\n\t\t\tzoomFactor: this.zoomFactor,\n\t\t\tzoomMin: this.zoomMin,\n\t\t\tzoomMax: this.zoomMax, // dbg; default 5\n\t\t})\n\n\t\t// Listens for same event as svg.panzoom.js, but is added thereafter. Thus this gets called after panzoom is\n\t\t// done moving the picture.\n\t\t// @param {WheelEvent} evt\n\t\tthis.canvas.on(\"wheel.panZoom\", this.movePaper, this, { passive: true })\n\t}\n\n\t/**\n\t * Activate the mouse and touch panning  feature. The initial state is active. Call this function only, if you\n\t * previously called {@link deactivatePanning}.\n\t *\n\t * Adds listeners to the canvas.\n\t */\n\tpublic activatePanning() {\n\t\t// this listener must be inserted after the normal panZoom listeners --> unregister first\n\t\tthis.canvas.off(\"wheel.panZoom\", this.movePaper)\n\t\t// init pan & zoom\n\t\tthis.canvas.panZoom({\n\t\t\tpanning: true,\n\t\t\tpinchZoom: true,\n\t\t\twheelZoom: true,\n\t\t\tpanButton: 2,\n\t\t\toneFingerPan: false,\n\t\t\tzoomFactor: this.zoomFactor,\n\t\t\tzoomMin: this.zoomMin,\n\t\t\tzoomMax: this.zoomMax,\n\t\t})\n\n\t\t// Listens for same event as svg.panzoom.js, but is added thereafter. Thus this gets called after panzoom is\n\t\t// done moving the picture.\n\t\t// @param {WheelEvent} evt\n\t\tthis.canvas.on(\"wheel.panZoom\", this.movePaper, this, { passive: true })\n\t}\n\n\t/**\n\t * Converts a point from an event to the SVG coordinate system.\n\t *\n\t * @param {PointerEvent|MouseEvent|TouchEvent} event\n\t * @param {boolean} snap if the pointer should check if snapping should be done\n\t * @returns {SVG.Point}\n\t */\n\tpublic static eventToPoint(event: PointerEvent | MouseEvent | TouchEvent, snap: boolean = true): SVG.Point {\n\t\t//                touchstart/-move             touchend             mouse*\n\t\t//               /----------------\\    /-----------------------\\    /---\\\n\t\t// clientXY = event.touches?.[0] ?? event.changedTouches?.[0] ?? event;\n\t\tlet clientXY: SVG.Point\n\t\tif (window.TouchEvent && event instanceof TouchEvent) {\n\t\t\tlet touch = event.touches.item(0) ?? event.changedTouches.item(0)\n\t\t\tclientXY = new SVG.Point(touch.clientX, touch.clientY)\n\t\t} else {\n\t\t\t//@ts-ignore\n\t\t\tclientXY = new SVG.Point(event.clientX, event.clientY)\n\t\t}\n\t\tif (!CanvasController.instance.invScreenCTM) {\n\t\t\tCanvasController.instance.invScreenCTM = CanvasController.instance.canvas.screenCTM().inverseO()\n\t\t}\n\t\tlet pt = new SVG.Point(clientXY.x, clientXY.y).transformO(CanvasController.instance.invScreenCTM)\n\t\treturn (event instanceof MouseEvent && event.shiftKey) || !snap ?\n\t\t\t\tpt\n\t\t\t:\tSnapController.instance.snapPoint(pt, undefined)\n\t}\n\n\t/** how the grid should be drawn\n\t * @param {number} majorSizecm the distance between two major grid lines in cm\n\t * @param {int} majorSubdivisions how many minor grid lines are drawn per major grid line (>=1)\n\t */\n\tpublic changeGrid(majorSizecm: number, majorSubdivisions: number) {\n\t\tthis.majorGridSubdivisions = majorSubdivisions\n\t\tthis.majorGridSizecm = majorSizecm\n\t\tlet minorGridDistance = majorSizecm / majorSubdivisions\n\t\tconst snapDistanceNum = new SVG.Number(minorGridDistance, \"cm\").toString()\n\t\tconst snapDistancePx = new SVG.Number(minorGridDistance, \"cm\").convertToUnit(\"px\").value\n\t\tconst majorDistanceNum = new SVG.Number(majorSizecm, \"cm\").toString()\n\t\tconst majorDistancePx = new SVG.Number(majorSizecm, \"cm\").convertToUnit(\"px\").value\n\n\t\t// change small grid\n\t\tconst minorGrid = document.getElementById(\"smallGridPattern\")\n\t\tminorGrid.setAttribute(\"width\", snapDistanceNum)\n\t\tminorGrid.setAttribute(\"height\", snapDistanceNum)\n\t\tminorGrid.children[0]?.setAttribute(\"d\", `M ${snapDistancePx} 0 L 0 0 0 ${snapDistancePx}`)\n\n\t\t// change large grid\n\t\tconst majorGrid = document.getElementById(\"gridPattern\")\n\t\tmajorGrid.setAttribute(\"width\", majorDistanceNum)\n\t\tmajorGrid.setAttribute(\"height\", majorDistanceNum)\n\t\tmajorGrid.children[0]?.setAttribute(\"width\", majorDistanceNum)\n\t\tmajorGrid.children[0]?.setAttribute(\"height\", majorDistanceNum)\n\t\tmajorGrid.children[1]?.setAttribute(\"d\", `M ${majorDistancePx} 0 L 0 0 0 ${majorDistancePx}`)\n\t}\n\n\t/**\n\t * Called if the window/page is resized.\n\t *\n\t * Corrects the canvas viewBox. Also calls `#movePaper` to fix the axis.\n\t */\n\tprivate onResizeCanvas() {\n\t\tconst newCanvasBounds = this.canvas.node.getBoundingClientRect()\n\t\t/** @type {SVG.Box} */\n\t\tconst oldViewbox: SVG.Box = this.canvas.viewbox() || new SVG.Box()\n\t\tconst zoom =\n\t\t\t!this.canvasBounds ? 1 : (\n\t\t\t\tMath.max(\n\t\t\t\t\t0.25,\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\t10,\n\t\t\t\t\t\tthis.canvasBounds.width / oldViewbox.width,\n\t\t\t\t\t\tthis.canvasBounds.height / oldViewbox.height\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\n\t\tconst newViewbox = new SVG.Box(\n\t\t\toldViewbox.x,\n\t\t\toldViewbox.y,\n\t\t\tnewCanvasBounds.width / zoom,\n\t\t\tnewCanvasBounds.height / zoom\n\t\t)\n\t\tthis.canvas.viewbox(newViewbox)\n\n\t\tlet customEvent = new CustomEvent<PanningEventDetail>(\"\", {\n\t\t\tdetail: {\n\t\t\t\tbox: newViewbox,\n\t\t\t\tevent: null,\n\t\t\t},\n\t\t})\n\t\tthis.movePaper(customEvent) // fixes axis\n\n\t\tthis.canvasBounds = newCanvasBounds\n\t}\n\n\t/**\n\t * Move paper/grid and axis on zoom/pan.\n\t */\n\tprivate movePaper(\n\t\tevt: CustomEvent<PanningEventDetail> | CustomEvent<WheelZoomEventDetail> | CustomEvent<PinchZoomEventDetail>\n\t) {\n\t\tif (evt.detail instanceof Object && \"level\" in evt.detail) {\n\t\t\tthis.zoomCurrent = evt.detail.level\n\t\t}\n\t\tlet box: SVG.Box = this.canvas.viewbox()\n\t\tthis.paper.move(box.x, box.y)\n\t\tthis.xAxis.attr({ x1: box.x, x2: box.x2 })\n\t\tthis.yAxis.attr({ y1: box.y, y2: box.y2 })\n\t}\n}\n",null,"import { Svg, on, off, extend, Matrix, Box } from '@svgdotjs/svg.js'\n\nconst normalizeEvent = ev =>\n  ev.touches || [{ clientX: ev.clientX, clientY: ev.clientY }]\n\nextend(Svg, {\n  panZoom (options) {\n    this.off('.panZoom')\n\n    // when called with false, disable panZoom\n    if (options === false) return this\n\n    options = options ?? {}\n    const zoomFactor = options.zoomFactor ?? 2\n    const zoomMin = options.zoomMin ?? Number.MIN_VALUE\n    const zoomMax = options.zoomMax ?? Number.MAX_VALUE\n    const doWheelZoom = options.wheelZoom ?? true\n    const doPinchZoom = options.pinchZoom ?? true\n    const doPanning = options.panning ?? true\n    const panButton = options.panButton ?? 0\n    const oneFingerPan = options.oneFingerPan ?? false\n    const margins = options.margins ?? false\n    const wheelZoomDeltaModeLinePixels = options.wheelZoomDeltaModeLinePixels ?? 17\n    const wheelZoomDeltaModeScreenPixels = options.wheelZoomDeltaModeScreenPixels ?? 53\n\n    let lastP\n    let lastTouches\n    let zoomInProgress = false\n\n    const viewbox = this.viewbox()\n\n    const restrictToMargins = box => {\n      if (!margins) return box\n      const { top, left, bottom, right } = margins\n\n      const { width, height } = this.attr(['width', 'height'])\n      const preserveAspectRatio = this.node.preserveAspectRatio.baseVal\n\n      // The current viewport (exactly what is shown on the screen, what we ultimately want to restrict)\n      // is not always exactly the same as current viewbox. They are different when the viewbox aspectRatio and the svg aspectRatio\n      // are different and preserveAspectRatio is not \"none\". These offsets represent the difference in user coordinates\n      // between the side of the viewbox and the side of the viewport.\n      let viewportLeftOffset = 0\n      let viewportRightOffset = 0\n      let viewportTopOffset = 0\n      let viewportBottomOffset = 0\n\n      // preserveAspectRatio none has no offsets\n      if (preserveAspectRatio.align !== preserveAspectRatio.SVG_PRESERVEASPECTRATIO_NONE) {\n        const svgAspectRatio = width / height\n        const viewboxAspectRatio = viewbox.width / viewbox.height\n        // when aspectRatios are the same, there are no offsets\n        if (viewboxAspectRatio !== svgAspectRatio) {\n          // aspectRatio unknown is like meet because that's the default\n          const isMeet = preserveAspectRatio.meetOrSlice !== preserveAspectRatio.SVG_MEETORSLICE_SLICE\n          const changedAxis = svgAspectRatio > viewboxAspectRatio ? 'width' : 'height'\n          const isWidth = changedAxis === 'width'\n          const changeHorizontal = (isMeet && isWidth) || (!isMeet && !isWidth)\n          const ratio = changeHorizontal\n            ? svgAspectRatio / viewboxAspectRatio\n            : viewboxAspectRatio / svgAspectRatio\n\n          const offset = box[changedAxis] - box[changedAxis] * ratio\n          if (changeHorizontal) {\n            if (\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMIN ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMAX) {\n              viewportLeftOffset = offset / 2\n              viewportRightOffset = -offset / 2\n            } else if (\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMIN ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMID ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMAX) {\n              viewportRightOffset = -offset\n            } else if (\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMAXYMIN ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMAXYMID ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMAXYMAX) {\n              viewportLeftOffset = offset\n            }\n          } else {\n            if (\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMID ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMAXYMID) {\n              viewportTopOffset = offset / 2\n              viewportBottomOffset = -offset / 2\n            } else if (\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMIN ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMIN ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMAXYMIN) {\n              viewportBottomOffset = -offset\n            } else if (\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMAX ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMAX ||\n              preserveAspectRatio.align === preserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMAXYMAX) {\n              viewportTopOffset = offset\n            }\n          }\n\n        }\n      }\n\n      // when box.x == leftLimit, the image is panned to the left,\n      // i.e the current box is to the right of the initial viewbox,\n      // and only the right part of the initial image is visible, i.e.\n      // the right side of the initial viewbox minus left margin (viewbox.x+viewbox.width-left)\n      // is aligned with the left side of the viewport (box.x + viewportLeftOffset):\n      // viewbox.width + viewbox.x - left = box.x + viewportLeftOffset\n      // viewbox.width + viewbox.x - left - viewportLeftOffset = box.x (= leftLimit)\n      const leftLimit = viewbox.width + viewbox.x - left - viewportLeftOffset\n      // when box.x == rightLimit, the image is panned to the right,\n      // i.e the current box is to the left of the initial viewbox\n      // and only the left part of the initial image is visible, i.e\n      // the left side of the initial viewbox plus right margin (viewbox.x + right)\n      // is aligned with the right side of the viewport (box.x + box.width + viewportRightOffset)\n      // viewbox.x + right = box.x + box.width + viewportRightOffset\n      // viewbox.x + right - box.width - viewportRightOffset = box.x (= rightLimit)\n      const rightLimit = viewbox.x + right - box.width - viewportRightOffset\n      // same with top and bottom\n      const topLimit = viewbox.height + viewbox.y - top - viewportTopOffset\n      const bottomLimit = viewbox.y + bottom - box.height - viewportBottomOffset\n\n      box.x = Math.min(leftLimit, Math.max(rightLimit, box.x)) // enforce rightLimit <= box.x <= leftLimit\n      box.y = Math.min(topLimit, Math.max(bottomLimit, box.y)) // enforce bottomLimit <= box.y <= topLimit\n      return box\n    }\n\n    const wheelZoom = function (ev) {\n      ev.preventDefault()\n\n      // When wheeling on a mouse,\n      // - chrome by default uses deltaY = 53, deltaMode = 0 (pixel)\n      // - firefox by default uses deltaY = 3, deltaMode = 1 (line)\n      // - chrome and firefox on windows after configuring \"One screen at a time\"\n      //   use deltaY = 1, deltaMode = 2 (screen)\n      //\n      // Note that when when wheeling on a touchpad, deltaY depends on how fast\n      // you swipe, but the deltaMode is still different between the browsers.\n      //\n      // Normalize everything so that zooming speed is approximately the same in all cases\n      let normalizedPixelDeltaY\n      switch (ev.deltaMode) {\n      case 1:\n        normalizedPixelDeltaY = ev.deltaY * wheelZoomDeltaModeLinePixels\n        break\n      case 2:\n        normalizedPixelDeltaY = ev.deltaY * wheelZoomDeltaModeScreenPixels\n        break\n      default:\n        // 0 (already pixels) or new mode (avoid crashing)\n        normalizedPixelDeltaY = ev.deltaY\n        break\n      }\n\n      let lvl = Math.pow(1 + zoomFactor, (-1 * normalizedPixelDeltaY) / 100) * this.zoom()\n      const p = this.point(ev.clientX, ev.clientY)\n\n      if (lvl > zoomMax) {\n        lvl = zoomMax\n      }\n\n      if (lvl < zoomMin) {\n        lvl = zoomMin\n      }\n\n      if (this.dispatch('zoom', { level: lvl, focus: p }).defaultPrevented) {\n        return this\n      }\n\n      this.zoom(lvl, p)\n\n      if (margins) {\n        const box = restrictToMargins(this.viewbox())\n        this.viewbox(box)\n      }\n    }\n\n    const pinchZoomStart = function (ev) {\n      lastTouches = normalizeEvent(ev)\n\n      // Start panning in case only one touch is found\n      if (lastTouches.length < 2) {\n        if (doPanning && oneFingerPan) {\n          panStart.call(this, ev)\n        }\n        return\n      }\n\n      // Stop panning for more than one touch\n      if (doPanning && oneFingerPan) {\n        panStop.call(this, ev)\n      }\n\n      // We call it so late, so the user is still able to scroll / reload the page via gesture\n      // In case oneFingerPan is not active\n      ev.preventDefault()\n\n      if (this.dispatch('pinchZoomStart', { event: ev }).defaultPrevented) {\n        return\n      }\n\n      this.off('touchstart.panZoom', pinchZoomStart)\n\n      zoomInProgress = true\n      on(document, 'touchmove.panZoom', pinchZoom, this, { passive: false })\n      on(document, 'touchend.panZoom', pinchZoomStop, this, { passive: false })\n    }\n\n    const pinchZoomStop = function (ev) {\n      ev.preventDefault()\n\n      const currentTouches = normalizeEvent(ev)\n      if (currentTouches.length > 1) {\n        return\n      }\n\n      zoomInProgress = false\n\n      this.dispatch('pinchZoomEnd', { event: ev })\n\n      off(document, 'touchmove.panZoom', pinchZoom)\n      off(document, 'touchend.panZoom', pinchZoomStop)\n      this.on('touchstart.panZoom', pinchZoomStart)\n\n      if (currentTouches.length && doPanning && oneFingerPan) {\n        panStart.call(this, ev)\n      }\n    }\n\n    const pinchZoom = function (ev) {\n      ev.preventDefault()\n\n      const currentTouches = normalizeEvent(ev)\n      const zoom = this.zoom()\n\n      // Distance Formula\n      const lastDelta = Math.sqrt(\n        Math.pow(lastTouches[0].clientX - lastTouches[1].clientX, 2) +\n          Math.pow(lastTouches[0].clientY - lastTouches[1].clientY, 2)\n      )\n\n      const currentDelta = Math.sqrt(\n        Math.pow(currentTouches[0].clientX - currentTouches[1].clientX, 2) +\n          Math.pow(currentTouches[0].clientY - currentTouches[1].clientY, 2)\n      )\n\n      let zoomAmount = lastDelta / currentDelta\n\n      if (\n        (zoom < zoomMin && zoomAmount > 1) ||\n        (zoom > zoomMax && zoomAmount < 1)\n      ) {\n        zoomAmount = 1\n      }\n\n      const currentFocus = {\n        x:\n          currentTouches[0].clientX +\n          0.5 * (currentTouches[1].clientX - currentTouches[0].clientX),\n        y:\n          currentTouches[0].clientY +\n          0.5 * (currentTouches[1].clientY - currentTouches[0].clientY)\n      }\n\n      const lastFocus = {\n        x:\n          lastTouches[0].clientX +\n          0.5 * (lastTouches[1].clientX - lastTouches[0].clientX),\n        y:\n          lastTouches[0].clientY +\n          0.5 * (lastTouches[1].clientY - lastTouches[0].clientY)\n      }\n\n      const p = this.point(currentFocus.x, currentFocus.y)\n      const focusP = this.point(\n        2 * currentFocus.x - lastFocus.x,\n        2 * currentFocus.y - lastFocus.y\n      )\n      const box = new Box(this.viewbox()).transform(\n        new Matrix()\n          .translate(-focusP.x, -focusP.y)\n          .scale(zoomAmount, 0, 0)\n          .translate(p.x, p.y)\n      )\n\n      restrictToMargins(box)\n      this.viewbox(box)\n\n      lastTouches = currentTouches\n\n      this.dispatch('zoom', { box: box, focus: focusP })\n    }\n\n    const panStart = function (ev) {\n      const isMouse = ev.type.indexOf('mouse') > -1\n\n      // In case panStart is called with touch, ev.button is undefined\n      if (isMouse && ev.button !== panButton && ev.which !== panButton + 1) {\n        return\n      }\n\n      ev.preventDefault()\n\n      this.off('mousedown.panZoom', panStart)\n\n      lastTouches = normalizeEvent(ev)\n\n      if (zoomInProgress) return\n\n      this.dispatch('panStart', { event: ev })\n\n      lastP = { x: lastTouches[0].clientX, y: lastTouches[0].clientY }\n\n      on(document, 'touchmove.panZoom mousemove.panZoom', panning, this, {\n        passive: false\n      })\n\n      on(document, 'touchend.panZoom mouseup.panZoom', panStop, this, {\n        passive: false\n      })\n    }\n\n    const panStop = function (ev) {\n      ev.preventDefault()\n\n      off(document, 'touchmove.panZoom mousemove.panZoom', panning)\n      off(document, 'touchend.panZoom mouseup.panZoom', panStop)\n      this.on('mousedown.panZoom', panStart)\n\n      this.dispatch('panEnd', { event: ev })\n    }\n\n    const panning = function (ev) {\n      ev.preventDefault()\n\n      const currentTouches = normalizeEvent(ev)\n\n      const currentP = {\n        x: currentTouches[0].clientX,\n        y: currentTouches[0].clientY\n      }\n\n      const p1 = this.point(currentP.x, currentP.y)\n\n      const p2 = this.point(lastP.x, lastP.y)\n\n      const deltaP = [p2.x - p1.x, p2.y - p1.y]\n\n      if (!deltaP[0] && !deltaP[1]) {\n        return\n      }\n\n      const box = new Box(this.viewbox()).transform(\n        new Matrix().translate(deltaP[0], deltaP[1])\n      )\n\n      lastP = currentP\n\n      restrictToMargins(box)\n\n      if (this.dispatch('panning', { box, event: ev }).defaultPrevented) {\n        return\n      }\n\n      this.viewbox(box)\n    }\n\n    if (doWheelZoom) {\n      this.on('wheel.panZoom', wheelZoom, this, { passive: false })\n    }\n\n    if (doPinchZoom) {\n      this.on('touchstart.panZoom', pinchZoomStart, this, { passive: false })\n    }\n\n    if (doPanning) {\n      this.on('mousedown.panZoom', panStart, this, { passive: false })\n    }\n\n    return this\n  }\n})\n","import * as SVG from \"@svgdotjs/svg.js\"\n\nimport { MainController, CanvasController, Undo } from \"../internal\"\n\n/**\n * Controller for the erase function/mode.\n */\nexport class EraseController {\n\tprivate static _instance: EraseController\n\n\tprivate constructor() {\n\t\tthis.moveStart = this.moveStart.bind(this)\n\t\tthis.moveListener = this.moveListener.bind(this)\n\t\tthis.addUndo = this.addUndo.bind(this)\n\t}\n\n\tpublic static get instance(): EraseController {\n\t\tif (!EraseController._instance) {\n\t\t\tEraseController._instance = new EraseController()\n\t\t}\n\t\treturn EraseController._instance\n\t}\n\n\tprivate dragging = false\n\tprivate didErase = false\n\n\tpublic deactivate() {\n\t\t// unregister move listener\n\t\tCanvasController.instance.canvas.node.classList.remove(\"eraseCursor\")\n\n\t\tCanvasController.instance.canvas.off(\"mousedown\", this.moveStart)\n\t\tCanvasController.instance.canvas.off(\"touchdown\", this.moveStart)\n\n\t\tCanvasController.instance.canvas.off(\"mousemove\", this.moveListener)\n\t\tCanvasController.instance.canvas.off(\"touchmove\", this.moveListener)\n\n\t\tCanvasController.instance.canvas.off(\"mouseup\", this.addUndo)\n\t\tCanvasController.instance.canvas.off(\"touchend\", this.addUndo)\n\t}\n\n\tpublic activate() {\n\t\tCanvasController.instance.canvas.node.classList.add(\"eraseCursor\")\n\n\t\tCanvasController.instance.canvas.on(\"mousedown\", this.moveStart)\n\t\tCanvasController.instance.canvas.on(\"touchstart\", this.moveStart)\n\n\t\tCanvasController.instance.canvas.on(\"mousemove\", this.moveListener)\n\t\tCanvasController.instance.canvas.on(\"touchmove\", this.moveListener)\n\n\t\tCanvasController.instance.canvas.on(\"mouseup\", this.addUndo)\n\t\tCanvasController.instance.canvas.on(\"touchend\", this.addUndo)\n\t}\n\n\tprivate moveStart(event: MouseEvent | TouchEvent) {\n\t\tif (event instanceof MouseEvent && event.button !== 0) {\n\t\t\treturn\n\t\t}\n\n\t\tif (window.TouchEvent && event instanceof TouchEvent && event.touches.length !== 1) {\n\t\t\treturn\n\t\t}\n\t\tthis.dragging = true\n\t}\n\n\tprivate moveListener(event: MouseEvent | TouchEvent) {\n\t\tif (!this.dragging) {\n\t\t\treturn\n\t\t}\n\n\t\tif (\n\t\t\t(event instanceof MouseEvent &&\n\t\t\t\t(event.buttons & 1 || (event.type !== \"mousemove\" && event.button === 0))) ||\n\t\t\t(window.TouchEvent && event instanceof TouchEvent && window.TouchEvent && event.touches.length === 1)\n\t\t) {\n\t\t\tthis.findAndErase(CanvasController.eventToPoint(event, false))\n\t\t}\n\t}\n\n\tprivate addUndo(event: MouseEvent | TouchEvent) {\n\t\tif (event instanceof MouseEvent && event.button !== 0) {\n\t\t\treturn\n\t\t}\n\t\tif (window.TouchEvent && event instanceof TouchEvent && event.touches.length !== 0) {\n\t\t\treturn\n\t\t}\n\t\tif (this.didErase) {\n\t\t\tUndo.addState()\n\t\t\tthis.didErase = false\n\t\t}\n\t\tthis.dragging = false\n\t}\n\n\tprivate findAndErase(pos: SVG.Point) {\n\t\tlet intersectionRect = new SVG.Box(pos.x - 5, pos.y - 5, 10, 10)\n\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\tif (component.isInsideSelectionRectangle(intersectionRect)) {\n\t\t\t\tMainController.instance.removeComponent(component)\n\t\t\t\tthis.didErase = true\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Modal, Tooltip } from \"bootstrap\"\nimport { SelectionController, MainController, defaultStroke, defaultFill, TextProperty } from \"../internal\"\nimport FileSaver from \"file-saver\"\nimport * as prettier from \"prettier\"\nimport * as SVG from \"@svgdotjs/svg.js\"\nconst parserXML = require(\"@prettier/plugin-xml\").default\n\n/**\n * Contains export functions and controls the \"exportModal\" (~dialog).\n * @class\n */\nexport class ExportController {\n\tprivate static _instance: ExportController\n\tpublic static get instance(): ExportController {\n\t\tif (!ExportController._instance) {\n\t\t\tExportController._instance = new ExportController()\n\t\t}\n\t\treturn ExportController._instance\n\t}\n\n\tprivate modalElement: HTMLDivElement\n\tprivate modal: Modal\n\tprivate heading: HTMLHeadingElement\n\tprivate exportedContent: HTMLTextAreaElement\n\tprivate fileBasename: HTMLInputElement\n\tprivate fileExtension: HTMLInputElement\n\tprivate fileExtensionDropdown: HTMLUListElement\n\tprivate copyButton: HTMLDivElement\n\tprivate saveButton: HTMLButtonElement\n\tprivate imagePreview: HTMLDivElement\n\tprivate imagePreviewCanvas: HTMLCanvasElement\n\n\tprivate copyTooltip: Tooltip\n\n\tprivate defaultDisplay: string\n\tprivate exportImageCanvas: HTMLCanvasElement | null = null\n\n\tprivate usedIDs: Map<string, number>\n\tpublic createExportID(prefix = \"N\"): string {\n\t\tlet currentID: number\n\t\tif (this.usedIDs.has(prefix)) {\n\t\t\tcurrentID = this.usedIDs.get(prefix)\n\t\t\tcurrentID++\n\t\t} else {\n\t\t\tcurrentID = 1\n\t\t}\n\t\twhile (this.isIDUsed(prefix + currentID)) currentID++\n\t\tthis.usedIDs.set(prefix, currentID)\n\t\treturn prefix + currentID\n\t}\n\n\tprivate isIDUsed(id: string): boolean {\n\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\t// check if another component with the same name already exists\n\t\t\tif (\"name\" in component) {\n\t\t\t\tlet name = component.name as TextProperty\n\t\t\t\tif (name.value == id) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\n\t/**\n\t * Init the ExportController\n\t */\n\tprivate constructor() {\n\t\tthis.modalElement = document.getElementById(\"exportModal\") as HTMLDivElement\n\t\tthis.modal = new Modal(this.modalElement)\n\t\tthis.heading = document.getElementById(\"exportModalLabel\") as HTMLHeadingElement\n\t\tthis.exportedContent = document.getElementById(\"exportedContent\") as HTMLTextAreaElement\n\t\tthis.fileBasename = document.getElementById(\"exportModalFileBasename\") as HTMLInputElement\n\t\tthis.fileExtension = document.getElementById(\"exportModalFileExtension\") as HTMLInputElement\n\t\tthis.fileExtensionDropdown = document.getElementById(\"exportModalFileExtensionDropdown\") as HTMLUListElement\n\t\tthis.copyButton = document.getElementById(\"copyExportedContent\") as HTMLDivElement\n\t\tthis.saveButton = document.getElementById(\"exportModalSave\") as HTMLButtonElement\n\t\tthis.imagePreview = document.getElementById(\"exportImagePreview\") as HTMLDivElement\n\t\tthis.imagePreviewCanvas = document.getElementById(\"exportImagePreviewCanvas\") as HTMLCanvasElement\n\n\t\tthis.defaultDisplay = this.exportedContent.parentElement.style.display\n\n\t\tlet copyButtonDefaultTooltipText = \"Copy to clipboard!\"\n\t\tthis.copyButton.addEventListener(\"hidden.bs.tooltip\", (evt) => {\n\t\t\tthis.copyButton.setAttribute(\"data-bs-title\", copyButtonDefaultTooltipText)\n\t\t\tthis.copyTooltip.dispose()\n\t\t\tthis.copyTooltip = new Tooltip(this.copyButton)\n\t\t})\n\t\tthis.copyButton.setAttribute(\"data-bs-toggle\", \"tooltip\")\n\t\tthis.copyButton.setAttribute(\"data-bs-title\", copyButtonDefaultTooltipText)\n\t\tthis.copyTooltip = new Tooltip(this.copyButton)\n\n\t\tthis.usedIDs = new Map<string, number>()\n\t}\n\n\texportJSON(text: string) {\n\t\tthis.heading.textContent = \"Save JSON\"\n\n\t\t// create extension select list\n\t\tconst extensions = [\".json\", \".txt\"]\n\n\t\tthis.exportedContent.rows = Math.max(text.split(\"\\n\").length, 2)\n\t\tthis.exportedContent.value = text\n\n\t\tthis.export(extensions)\n\t}\n\n\t/**\n\t * Shows the exportModal with the CitcuiTikZ code.\n\t */\n\texportCircuiTikZ() {\n\t\tthis.heading.innerHTML = \"Export CircuiTi<i>k</i>Z code\"\n\t\tthis.exportedContent.parentElement.style.display = this.defaultDisplay\n\t\t// create extension select list\n\t\tconst extensions = [\".tikz\", \".tex\", \".pgf\"]\n\n\t\t// actually export/create the string\n\t\t{\n\t\t\tlet circuitElements = []\n\t\t\tlet requiredTikzLibraries: Set<string> = new Set<string>()\n\t\t\tfor (const circuitElement of MainController.instance.circuitComponents) {\n\t\t\t\tcircuitElement.requiredTikzLibraries().forEach((item) => requiredTikzLibraries.add(item))\n\t\t\t\tcircuitElements.push(\"\\t\" + circuitElement.toTikzString())\n\t\t\t}\n\t\t\tlet libraryStr =\n\t\t\t\trequiredTikzLibraries.size > 0 ?\n\t\t\t\t\t\"\\\\usetikzlibrary{\" + requiredTikzLibraries.values().toArray().join(\", \") + \"}\"\n\t\t\t\t:\t\"\"\n\n\t\t\tlet arr = [\"\\\\begin{tikzpicture}\", \"\\t% Paths, nodes and wires:\", ...circuitElements, \"\\\\end{tikzpicture}\"]\n\t\t\tif (libraryStr) {\n\t\t\t\tarr = [libraryStr].concat(arr)\n\t\t\t}\n\t\t\tthis.exportedContent.rows = arr.length\n\t\t\tthis.exportedContent.value = arr.join(\"\\n\")\n\t\t}\n\t\tthis.usedIDs.clear()\n\t\tthis.export(extensions)\n\t}\n\n\t/**\n\t * Shows the exportModal with the SVG code.\n\t */\n\texportSVG() {\n\t\tthis.heading.textContent = \"Export SVG\"\n\t\tthis.exportedContent.parentElement.style.display = this.defaultDisplay\n\t\t// prepare selection and bounding box\n\t\tSelectionController.instance.selectAll()\n\t\tSelectionController.instance.deactivateSelection()\n\n\t\tlet colorTheme = MainController.instance.darkMode\n\t\tMainController.instance.darkMode = false\n\t\tMainController.instance.updateTheme()\n\n\t\t//Get the canvas\n\t\tlet svgObj = new SVG.Svg()\n\t\tsvgObj.node.style.fontSize = \"10pt\"\n\t\tsvgObj.node.style.overflow = \"visible\"\n\n\t\t// get all used node/symbol names\n\t\tlet defsMap: Map<string, SVG.Element> = new Map<string, SVG.Element>()\n\t\tlet components: SVG.Element[] = []\n\t\tfor (const instance of MainController.instance.circuitComponents) {\n\t\t\tcomponents.push(instance.toSVG(defsMap))\n\t\t}\n\n\t\t// add to defs\n\t\tif (defsMap.size > 0) {\n\t\t\tconst defs = new SVG.Defs()\n\t\t\tfor (const element of defsMap) {\n\t\t\t\tdefs.add(element[1])\n\t\t\t}\n\t\t\tsvgObj.add(defs)\n\t\t}\n\n\t\tfor (const component of components) {\n\t\t\tsvgObj.add(component)\n\t\t}\n\n\t\t//basic cleanup of invisible components (fill and stroke both need to be invisible)\n\t\tfor (const removeElement of svgObj.find(\n\t\t\t':is([fill-opacity=\"0\"],[fill=\"none\"],[fill=\"transparent\"]):is([stroke-opacity=\"0\"],[stroke=\"none\"],[stroke-width=\"0\"],[stroke=\"transparent\"])'\n\t\t)) {\n\t\t\tremoveElement.remove()\n\t\t}\n\t\t//basic draggable class\n\t\tfor (const removeClass of svgObj.find(\".draggable\")) {\n\t\t\tremoveClass.removeClass(\"draggable\")\n\t\t}\n\n\t\t// bounding box to include all elements\n\t\tlet bbox = svgObj.bbox()\n\t\tif (bbox) {\n\t\t\t//make bbox 2px larger in every direction to not cut of tiny bits of some objects\n\t\t\tbbox.x -= 2\n\t\t\tbbox.y -= 2\n\t\t\tbbox.width += 4\n\t\t\tbbox.height += 4\n\t\t\tsvgObj.viewbox(bbox)\n\t\t}\n\n\t\t// convert to text and make pretty\n\t\tlet tempDiv = document.createElement(\"div\")\n\t\ttempDiv.appendChild(svgObj.node)\n\t\ttempDiv.innerHTML = tempDiv.innerHTML.replaceAll(defaultStroke, \"#000\").replaceAll(defaultFill, \"#fff\")\n\t\tprettier\n\t\t\t.format(tempDiv.innerHTML.replaceAll(\"<br>\", \"<br/>\"), {\n\t\t\t\tparser: \"xml\",\n\t\t\t\tplugins: [parserXML],\n\t\t\t\ttabWidth: 4,\n\t\t\t\tsingleAttributePerLine: true,\n\t\t\t\txmlWhitespaceSensitivity: \"preserve\",\n\t\t\t})\n\t\t\t.then((textContent) => {\n\t\t\t\tthis.exportedContent.rows = textContent.split(\"\\n\").length\n\t\t\t\tthis.exportedContent.value = textContent\n\t\t\t\tconst extensions = [\".svg\", \".txt\"]\n\t\t\t\tthis.export(extensions)\n\t\t\t\tSelectionController.instance.activateSelection()\n\t\t\t\ttempDiv.remove()\n\t\t\t})\n\t\tMainController.instance.darkMode = colorTheme\n\t\tMainController.instance.updateTheme()\n\t}\n\n\t/**\n\t * Exports the circuit as an image (PNG or JPG).\n\t * Converts SVG to raster image format using Canvas API.\n\t */\n\texportImage() {\n\t\tthis.heading.textContent = \"Export Image\"\n\t\tthis.exportedContent.parentElement.style.display = \"none\" // Hide textarea for image export\n\t\tthis.imagePreview.style.display = \"block\" // Show image preview\n\n\t\t// prepare selection and bounding box\n\t\tSelectionController.instance.selectAll()\n\t\tSelectionController.instance.deactivateSelection()\n\n\t\tlet colorTheme = MainController.instance.darkMode\n\t\tMainController.instance.darkMode = false\n\t\tMainController.instance.updateTheme()\n\n\t\t//Get the canvas\n\t\tlet svgObj = new SVG.Svg()\n\t\tsvgObj.node.style.fontSize = \"10pt\"\n\t\tsvgObj.node.style.overflow = \"visible\"\n\n\t\t// get all used node/symbol names\n\t\tlet defsMap: Map<string, SVG.Element> = new Map<string, SVG.Element>()\n\t\tlet components: SVG.Element[] = []\n\t\tfor (const instance of MainController.instance.circuitComponents) {\n\t\t\tcomponents.push(instance.toSVG(defsMap))\n\t\t}\n\n\t\t// add to defs\n\t\tif (defsMap.size > 0) {\n\t\t\tconst defs = new SVG.Defs()\n\t\t\tfor (const element of defsMap) {\n\t\t\t\tdefs.add(element[1])\n\t\t\t}\n\t\t\tsvgObj.add(defs)\n\t\t}\n\n\t\tfor (const component of components) {\n\t\t\tsvgObj.add(component)\n\t\t}\n\n\t\t//basic cleanup of invisible components (fill and stroke both need to be invisible)\n\t\tfor (const removeElement of svgObj.find(\n\t\t\t':is([fill-opacity=\"0\"],[fill=\"none\"],[fill=\"transparent\"]):is([stroke-opacity=\"0\"],[stroke=\"none\"],[stroke-width=\"0\"],[stroke=\"transparent\"])'\n\t\t)) {\n\t\t\tremoveElement.remove()\n\t\t}\n\t\t//basic draggable class\n\t\tfor (const removeClass of svgObj.find(\".draggable\")) {\n\t\t\tremoveClass.removeClass(\"draggable\")\n\t\t}\n\n\t\t// bounding box to include all elements\n\t\tlet bbox = svgObj.bbox()\n\t\tif (!bbox || bbox.width === 0 || bbox.height === 0) {\n\t\t\t// If no valid bbox, use default size\n\t\t\tbbox = { x: 0, y: 0, width: 800, height: 600 }\n\t\t} else {\n\t\t\t//make bbox 2px larger in every direction to not cut of tiny bits of some objects\n\t\t\tbbox.x -= 2\n\t\t\tbbox.y -= 2\n\t\t\tbbox.width += 4\n\t\t\tbbox.height += 4\n\t\t}\n\t\tsvgObj.viewbox(bbox)\n\n\t\t// convert SVG to image\n\t\tlet tempDiv = document.createElement(\"div\")\n\t\ttempDiv.appendChild(svgObj.node)\n\t\tlet svgString = tempDiv.innerHTML.replaceAll(defaultStroke, \"#000\").replaceAll(defaultFill, \"#fff\")\n\n\t\t// Add XML namespace if not present\n\t\tif (!svgString.includes('xmlns=\"http://www.w3.org/2000/svg\"')) {\n\t\t\tsvgString = svgString.replace('<svg', '<svg xmlns=\"http://www.w3.org/2000/svg\"')\n\t\t}\n\n\t\tconsole.log(\"SVG String length:\", svgString.length)\n\t\tconsole.log(\"SVG preview:\", svgString.substring(0, 200))\n\n\t\t// Create image from SVG\n\t\tconst img = new Image()\n\t\timg.crossOrigin = \"anonymous\"\n\n\t\tconst svgBlob = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" })\n\t\tconst url = URL.createObjectURL(svgBlob)\n\n\t\tconsole.log(\"Blob URL created:\", url)\n\n\t\timg.onload = () => {\n\t\t\ttry {\n\t\t\t\tconsole.log(\"Image loaded successfully, bbox:\", bbox)\n\n\t\t\t\t// Create canvas with appropriate size\n\t\t\t\t// Use higher scale for small circuits to prevent blurry images\n\t\t\t\t// Minimum dimension of 800px to ensure good quality even for single components\n\t\t\t\tconst minDimension = 800\n\t\t\t\tconst baseScale = 4 // Higher base scale for better quality\n\n\t\t\t\tlet scale = baseScale\n\t\t\t\t// If bbox is very small, scale up more to reach minimum dimension\n\t\t\t\tif (bbox.width * scale < minDimension || bbox.height * scale < minDimension) {\n\t\t\t\t\tconst scaleForWidth = minDimension / bbox.width\n\t\t\t\t\tconst scaleForHeight = minDimension / bbox.height\n\t\t\t\t\tscale = Math.max(scaleForWidth, scaleForHeight)\n\t\t\t\t}\n\n\t\t\t\tconst canvas = document.createElement(\"canvas\")\n\t\t\t\tcanvas.width = bbox.width * scale\n\t\t\t\tcanvas.height = bbox.height * scale\n\t\t\t\tconst ctx = canvas.getContext(\"2d\")\n\n\t\t\t\tif (!ctx) {\n\t\t\t\t\tconsole.error(\"Failed to get canvas context\")\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tconsole.log(\"Canvas created:\", canvas.width, \"x\", canvas.height)\n\n\t\t\t\t// Fill with white background\n\t\t\t\tctx.fillStyle = \"#ffffff\"\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height)\n\n\t\t\t\t// Draw image\n\t\t\t\tctx.drawImage(img, 0, 0, canvas.width, canvas.height)\n\n\t\t\t\tconsole.log(\"Image drawn to canvas\")\n\n\t\t\t\t// Store canvas for export\n\t\t\t\tthis.exportedContent.value = \"\" // Clear text content\n\t\t\t\tthis.exportImageCanvas = canvas\n\n\t\t\t\t// Show preview\n\t\t\t\tconst previewCtx = this.imagePreviewCanvas.getContext(\"2d\")\n\t\t\t\tthis.imagePreviewCanvas.width = canvas.width\n\t\t\t\tthis.imagePreviewCanvas.height = canvas.height\n\t\t\t\tif (previewCtx) {\n\t\t\t\t\tpreviewCtx.drawImage(canvas, 0, 0)\n\t\t\t\t}\n\n\t\t\t\tconst extensions = [\".png\", \".jpg\"]\n\t\t\t\tthis.export(extensions)\n\n\t\t\t\t// Cleanup\n\t\t\t\tURL.revokeObjectURL(url)\n\t\t\t\tSelectionController.instance.activateSelection()\n\t\t\t\ttempDiv.remove()\n\n\t\t\t\tMainController.instance.darkMode = colorTheme\n\t\t\t\tMainController.instance.updateTheme()\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error creating image:\", error)\n\t\t\t\tURL.revokeObjectURL(url)\n\t\t\t\tSelectionController.instance.activateSelection()\n\t\t\t\ttempDiv.remove()\n\t\t\t\tMainController.instance.darkMode = colorTheme\n\t\t\t\tMainController.instance.updateTheme()\n\t\t\t}\n\t\t}\n\n\t\timg.onerror = (error) => {\n\t\t\tconsole.error(\"Error loading SVG image:\", error)\n\t\t\tURL.revokeObjectURL(url)\n\t\t\tSelectionController.instance.activateSelection()\n\t\t\ttempDiv.remove()\n\t\t\tMainController.instance.darkMode = colorTheme\n\t\t\tMainController.instance.updateTheme()\n\t\t}\n\n\t\timg.src = url\n\t}\n\n\tprivate export(extensions: string[]) {\n\t\tconst isImageExport = this.exportImageCanvas !== null\n\n\t\t// copy text and adjust tooltip for feedback (only for text exports)\n\t\tconst copyText = () => {\n\t\t\tif (!isImageExport) {\n\t\t\t\tnavigator.clipboard.writeText(this.exportedContent.value).then(() => {\n\t\t\t\t\tthis.copyButton.setAttribute(\"data-bs-title\", \"Copied!\")\n\t\t\t\t\tthis.copyTooltip.dispose()\n\t\t\t\t\tthis.copyTooltip = new Tooltip(this.copyButton)\n\t\t\t\t\tthis.copyTooltip.show()\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\t// create listeners\n\t\tconst saveFile = (() => {\n\t\t\tconst filename =\n\t\t\t\t(this.fileBasename.value.trim() || MainController.instance.designName.value).replace(\n\t\t\t\t\t/[^a-z0-9]/gi,\n\t\t\t\t\t\"_\"\n\t\t\t\t) || \"Circuit\"\n\n\t\t\tif (isImageExport && this.exportImageCanvas) {\n\t\t\t\t// Export as image\n\t\t\t\tthis.exportImageCanvas.toBlob((blob) => {\n\t\t\t\t\tif (blob) {\n\t\t\t\t\t\tFileSaver.saveAs(blob, filename + this.fileExtension.value)\n\t\t\t\t\t}\n\t\t\t\t}, this.fileExtension.value === \".png\" ? \"image/png\" : \"image/jpeg\", 0.95)\n\t\t\t} else {\n\t\t\t\t// Export as text\n\t\t\t\tFileSaver.saveAs(\n\t\t\t\t\tnew Blob([this.exportedContent.value], { type: \"text/x-tex;charset=utf-8\" }),\n\t\t\t\t\tfilename + this.fileExtension.value\n\t\t\t\t)\n\t\t\t}\n\t\t}).bind(this)\n\n\t\tconst hideListener = (() => {\n\t\t\tthis.exportedContent.value = \"\" // free memory\n\t\t\tthis.exportImageCanvas = null // clear canvas reference\n\t\t\tthis.imagePreview.style.display = \"none\" // hide image preview\n\t\t\tthis.exportedContent.parentElement.style.display = this.defaultDisplay // restore textarea\n\t\t\tthis.copyButton.removeEventListener(\"click\", copyText)\n\t\t\tthis.saveButton.removeEventListener(\"click\", saveFile)\n\t\t\tthis.fileExtensionDropdown.replaceChildren()\n\t\t\t// \"once\" is not always supported:\n\t\t\tthis.modalElement.removeEventListener(\"hidden.bs.modal\", hideListener)\n\t\t}).bind(this)\n\n\t\tthis.modalElement.addEventListener(\"hidden.bs.modal\", hideListener, {\n\t\t\tpassive: true,\n\t\t\tonce: true,\n\t\t})\n\n\t\t// create extension select list\n\t\tthis.fileExtension.value = extensions[0]\n\t\tthis.fileExtensionDropdown.replaceChildren(\n\t\t\t...extensions.map((ext) => {\n\t\t\t\tconst link = document.createElement(\"a\")\n\t\t\t\tlink.textContent = ext\n\t\t\t\tlink.classList.add(\"dropdown-item\")\n\t\t\t\tlink.addEventListener(\"click\", () => (this.fileExtension.value = ext), {\n\t\t\t\t\tpassive: true,\n\t\t\t\t})\n\t\t\t\tconst listElement = document.createElement(\"li\")\n\t\t\t\tlistElement.appendChild(link)\n\t\t\t\treturn listElement\n\t\t\t})\n\t\t)\n\n\t\t// Hide/show copy button based on export type\n\t\tif (isImageExport) {\n\t\t\tthis.copyButton.style.display = \"none\"\n\t\t} else {\n\t\t\tthis.copyButton.style.display = \"\"\n\t\t}\n\n\t\t// add listeners & show modal\n\t\tthis.copyButton.addEventListener(\"click\", copyText, { passive: true })\n\t\tthis.saveButton.addEventListener(\"click\", saveFile, { passive: true })\n\n\t\tthis.modal.show()\n\t}\n}\n",null,"/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","(function(t){function e(){var o=t();return o.default||o}if(typeof exports==\"object\"&&typeof module==\"object\")module.exports=e();else if(typeof define==\"function\"&&define.amd)define(e);else{var f=typeof globalThis<\"u\"?globalThis:typeof global<\"u\"?global:typeof self<\"u\"?self:this||{};f.prettier=e()}})(function(){\"use strict\";var Fu=Object.create;var Ue=Object.defineProperty;var pu=Object.getOwnPropertyDescriptor;var du=Object.getOwnPropertyNames;var mu=Object.getPrototypeOf,Eu=Object.prototype.hasOwnProperty;var Zt=e=>{throw TypeError(e)};var Cu=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),dt=(e,t)=>{for(var r in t)Ue(e,r,{get:t[r],enumerable:!0})},er=(e,t,r,n)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let u of du(t))!Eu.call(e,u)&&u!==r&&Ue(e,u,{get:()=>t[u],enumerable:!(n=pu(t,u))||n.enumerable});return e};var hu=(e,t,r)=>(r=e!=null?Fu(mu(e)):{},er(t||!e||!e.__esModule?Ue(r,\"default\",{value:e,enumerable:!0}):r,e)),gu=e=>er(Ue({},\"__esModule\",{value:!0}),e);var yu=(e,t,r)=>t.has(e)||Zt(\"Cannot \"+r);var tr=(e,t,r)=>t.has(e)?Zt(\"Cannot add the same private member more than once\"):t instanceof WeakSet?t.add(e):t.set(e,r);var fe=(e,t,r)=>(yu(e,t,\"access private method\"),r);var Pn=Cu(Mt=>{\"use strict\";Object.defineProperty(Mt,\"__esModule\",{value:!0});function Co(){return new Proxy({},{get:()=>e=>e})}var On=/\\r\\n|[\\n\\r\\u2028\\u2029]/;function ho(e,t,r){let n=Object.assign({column:0,line:-1},e.start),u=Object.assign({},n,e.end),{linesAbove:o=2,linesBelow:i=3}=r||{},s=n.line,a=n.column,c=u.line,D=u.column,p=Math.max(s-(o+1),0),l=Math.min(t.length,c+i);s===-1&&(p=0),c===-1&&(l=t.length);let F=c-s,f={};if(F)for(let d=0;d<=F;d++){let m=d+s;if(!a)f[m]=!0;else if(d===0){let C=t[m-1].length;f[m]=[a,C-a+1]}else if(d===F)f[m]=[0,D];else{let C=t[m-d].length;f[m]=[0,C]}}else a===D?a?f[s]=[a,0]:f[s]=!0:f[s]=[a,D-a];return{start:p,end:l,markerLines:f}}function go(e,t,r={}){let u=Co(!1),o=e.split(On),{start:i,end:s,markerLines:a}=ho(t,o,r),c=t.start&&typeof t.start.column==\"number\",D=String(s).length,l=e.split(On,s).slice(i,s).map((F,f)=>{let d=i+1+f,C=` ${` ${d}`.slice(-D)} |`,E=a[d],h=!a[d+1];if(E){let x=\"\";if(Array.isArray(E)){let A=F.slice(0,Math.max(E[0]-1,0)).replace(/[^\\t]/g,\" \"),$=E[1]||1;x=[`\n `,u.gutter(C.replace(/\\d/g,\" \")),\" \",A,u.marker(\"^\").repeat($)].join(\"\"),h&&r.message&&(x+=\" \"+u.message(r.message))}return[u.marker(\">\"),u.gutter(C),F.length>0?` ${F}`:\"\",x].join(\"\")}else return` ${u.gutter(C)}${F.length>0?` ${F}`:\"\"}`}).join(`\n`);return r.message&&!c&&(l=`${\" \".repeat(D+1)}${r.message}\n${l}`),l}Mt.codeFrameColumns=go});var oi={};dt(oi,{__debug:()=>ui,check:()=>ri,doc:()=>qt,format:()=>fu,formatWithCursor:()=>cu,getSupportInfo:()=>ni,util:()=>Qt,version:()=>tu});var Au=(e,t,r,n)=>{if(!(e&&t==null))return t.replaceAll?t.replaceAll(r,n):r.global?t.replace(r,n):t.split(r).join(n)},te=Au;var _e=class{diff(t,r,n={}){let u;typeof n==\"function\"?(u=n,n={}):\"callback\"in n&&(u=n.callback);let o=this.castInput(t,n),i=this.castInput(r,n),s=this.removeEmpty(this.tokenize(o,n)),a=this.removeEmpty(this.tokenize(i,n));return this.diffWithOptionsObj(s,a,n,u)}diffWithOptionsObj(t,r,n,u){var o;let i=E=>{if(E=this.postProcess(E,n),u){setTimeout(function(){u(E)},0);return}else return E},s=r.length,a=t.length,c=1,D=s+a;n.maxEditLength!=null&&(D=Math.min(D,n.maxEditLength));let p=(o=n.timeout)!==null&&o!==void 0?o:1/0,l=Date.now()+p,F=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(F[0],r,t,0,n);if(F[0].oldPos+1>=a&&f+1>=s)return i(this.buildValues(F[0].lastComponent,r,t));let d=-1/0,m=1/0,C=()=>{for(let E=Math.max(d,-c);E<=Math.min(m,c);E+=2){let h,x=F[E-1],A=F[E+1];x&&(F[E-1]=void 0);let $=!1;if(A){let Be=A.oldPos-E;$=A&&0<=Be&&Be<s}let ue=x&&x.oldPos+1<a;if(!$&&!ue){F[E]=void 0;continue}if(!ue||$&&x.oldPos<A.oldPos?h=this.addToPath(A,!0,!1,0,n):h=this.addToPath(x,!1,!0,1,n),f=this.extractCommon(h,r,t,E,n),h.oldPos+1>=a&&f+1>=s)return i(this.buildValues(h.lastComponent,r,t))||!0;F[E]=h,h.oldPos+1>=a&&(m=Math.min(m,E-1)),f+1>=s&&(d=Math.max(d,E+1))}c++};if(u)(function E(){setTimeout(function(){if(c>D||Date.now()>l)return u(void 0);C()||E()},0)})();else for(;c<=D&&Date.now()<=l;){let E=C();if(E)return E}}addToPath(t,r,n,u,o){let i=t.lastComponent;return i&&!o.oneChangePerToken&&i.added===r&&i.removed===n?{oldPos:t.oldPos+u,lastComponent:{count:i.count+1,added:r,removed:n,previousComponent:i.previousComponent}}:{oldPos:t.oldPos+u,lastComponent:{count:1,added:r,removed:n,previousComponent:i}}}extractCommon(t,r,n,u,o){let i=r.length,s=n.length,a=t.oldPos,c=a-u,D=0;for(;c+1<i&&a+1<s&&this.equals(n[a+1],r[c+1],o);)c++,a++,D++,o.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return D&&!o.oneChangePerToken&&(t.lastComponent={count:D,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=a,c}equals(t,r,n){return n.comparator?n.comparator(t,r):t===r||!!n.ignoreCase&&t.toLowerCase()===r.toLowerCase()}removeEmpty(t){let r=[];for(let n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r}castInput(t,r){return t}tokenize(t,r){return Array.from(t)}join(t){return t.join(\"\")}postProcess(t,r){return t}get useLongestToken(){return!1}buildValues(t,r,n){let u=[],o;for(;t;)u.push(t),o=t.previousComponent,delete t.previousComponent,t=o;u.reverse();let i=u.length,s=0,a=0,c=0;for(;s<i;s++){let D=u[s];if(D.removed)D.value=this.join(n.slice(c,c+D.count)),c+=D.count;else{if(!D.added&&this.useLongestToken){let p=r.slice(a,a+D.count);p=p.map(function(l,F){let f=n[c+F];return f.length>l.length?f:l}),D.value=this.join(p)}else D.value=this.join(r.slice(a,a+D.count));a+=D.count,D.added||(c+=D.count)}}return u}};var mt=class extends _e{tokenize(t){return t.slice()}join(t){return t}removeEmpty(t){return t}},rr=new mt;function Et(e,t,r){return rr.diff(e,t,r)}function nr(e){let t=e.indexOf(\"\\r\");return t!==-1?e.charAt(t+1)===`\n`?\"crlf\":\"cr\":\"lf\"}function xe(e){switch(e){case\"cr\":return\"\\r\";case\"crlf\":return`\\r\n`;default:return`\n`}}function Ct(e,t){let r;switch(t){case`\n`:r=/\\n/gu;break;case\"\\r\":r=/\\r/gu;break;case`\\r\n`:r=/\\r\\n/gu;break;default:throw new Error(`Unexpected \"eol\" ${JSON.stringify(t)}.`)}let n=e.match(r);return n?n.length:0}function ur(e){return te(!1,e,/\\r\\n?/gu,`\n`)}var W=\"string\",Y=\"array\",j=\"cursor\",N=\"indent\",O=\"align\",P=\"trim\",B=\"group\",k=\"fill\",_=\"if-break\",v=\"indent-if-break\",L=\"line-suffix\",I=\"line-suffix-boundary\",g=\"line\",S=\"label\",w=\"break-parent\",Ve=new Set([j,N,O,P,B,k,_,v,L,I,g,S,w]);var Bu=(e,t,r)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t==\"string\"?t[r<0?t.length+r:r]:t.at(r)},y=Bu;function or(e){let t=e.length;for(;t>0&&(e[t-1]===\"\\r\"||e[t-1]===`\n`);)t--;return t<e.length?e.slice(0,t):e}function _u(e){if(typeof e==\"string\")return W;if(Array.isArray(e))return Y;if(!e)return;let{type:t}=e;if(Ve.has(t))return t}var M=_u;var xu=e=>new Intl.ListFormat(\"en-US\",{type:\"disjunction\"}).format(e);function wu(e){let t=e===null?\"null\":typeof e;if(t!==\"string\"&&t!==\"object\")return`Unexpected doc '${t}', \nExpected it to be 'string' or 'object'.`;if(M(e))throw new Error(\"doc is valid.\");let r=Object.prototype.toString.call(e);if(r!==\"[object Object]\")return`Unexpected doc '${r}'.`;let n=xu([...Ve].map(u=>`'${u}'`));return`Unexpected doc.type '${e.type}'.\nExpected it to be ${n}.`}var ht=class extends Error{name=\"InvalidDocError\";constructor(t){super(wu(t)),this.doc=t}},q=ht;var ir={};function bu(e,t,r,n){let u=[e];for(;u.length>0;){let o=u.pop();if(o===ir){r(u.pop());continue}r&&u.push(o,ir);let i=M(o);if(!i)throw new q(o);if((t==null?void 0:t(o))!==!1)switch(i){case Y:case k:{let s=i===Y?o:o.parts;for(let a=s.length,c=a-1;c>=0;--c)u.push(s[c]);break}case _:u.push(o.flatContents,o.breakContents);break;case B:if(n&&o.expandedStates)for(let s=o.expandedStates.length,a=s-1;a>=0;--a)u.push(o.expandedStates[a]);else u.push(o.contents);break;case O:case N:case v:case S:case L:u.push(o.contents);break;case W:case j:case P:case I:case g:case w:break;default:throw new q(o)}}}var le=bu;function be(e,t){if(typeof e==\"string\")return t(e);let r=new Map;return n(e);function n(o){if(r.has(o))return r.get(o);let i=u(o);return r.set(o,i),i}function u(o){switch(M(o)){case Y:return t(o.map(n));case k:return t({...o,parts:o.parts.map(n)});case _:return t({...o,breakContents:n(o.breakContents),flatContents:n(o.flatContents)});case B:{let{expandedStates:i,contents:s}=o;return i?(i=i.map(n),s=i[0]):s=n(s),t({...o,contents:s,expandedStates:i})}case O:case N:case v:case S:case L:return t({...o,contents:n(o.contents)});case W:case j:case P:case I:case g:case w:return t(o);default:throw new q(o)}}}function $e(e,t,r){let n=r,u=!1;function o(i){if(u)return!1;let s=t(i);s!==void 0&&(u=!0,n=s)}return le(e,o),n}function ku(e){if(e.type===B&&e.break||e.type===g&&e.hard||e.type===w)return!0}function Dr(e){return $e(e,ku,!1)}function sr(e){if(e.length>0){let t=y(!1,e,-1);!t.expandedStates&&!t.break&&(t.break=\"propagated\")}return null}function cr(e){let t=new Set,r=[];function n(o){if(o.type===w&&sr(r),o.type===B){if(r.push(o),t.has(o))return!1;t.add(o)}}function u(o){o.type===B&&r.pop().break&&sr(r)}le(e,n,u,!0)}function Su(e){return e.type===g&&!e.hard?e.soft?\"\":\" \":e.type===_?e.flatContents:e}function fr(e){return be(e,Su)}function ar(e){for(e=[...e];e.length>=2&&y(!1,e,-2).type===g&&y(!1,e,-1).type===w;)e.length-=2;if(e.length>0){let t=we(y(!1,e,-1));e[e.length-1]=t}return e}function we(e){switch(M(e)){case N:case v:case B:case L:case S:{let t=we(e.contents);return{...e,contents:t}}case _:return{...e,breakContents:we(e.breakContents),flatContents:we(e.flatContents)};case k:return{...e,parts:ar(e.parts)};case Y:return ar(e);case W:return or(e);case O:case j:case P:case I:case g:case w:break;default:throw new q(e)}return e}function We(e){return we(Nu(e))}function Tu(e){switch(M(e)){case k:if(e.parts.every(t=>t===\"\"))return\"\";break;case B:if(!e.contents&&!e.id&&!e.break&&!e.expandedStates)return\"\";if(e.contents.type===B&&e.contents.id===e.id&&e.contents.break===e.break&&e.contents.expandedStates===e.expandedStates)return e.contents;break;case O:case N:case v:case L:if(!e.contents)return\"\";break;case _:if(!e.flatContents&&!e.breakContents)return\"\";break;case Y:{let t=[];for(let r of e){if(!r)continue;let[n,...u]=Array.isArray(r)?r:[r];typeof n==\"string\"&&typeof y(!1,t,-1)==\"string\"?t[t.length-1]+=n:t.push(n),t.push(...u)}return t.length===0?\"\":t.length===1?t[0]:t}case W:case j:case P:case I:case g:case S:case w:break;default:throw new q(e)}return e}function Nu(e){return be(e,t=>Tu(t))}function lr(e,t=Me){return be(e,r=>typeof r==\"string\"?ke(t,r.split(`\n`)):r)}function Ou(e){if(e.type===g)return!0}function Fr(e){return $e(e,Ou,!1)}function Fe(e,t){return e.type===S?{...e,contents:t(e.contents)}:t(e)}var gt=()=>{},K=gt,yt=gt,pr=gt;function ie(e){return K(e),{type:N,contents:e}}function oe(e,t){return K(t),{type:O,contents:t,n:e}}function At(e,t={}){return K(e),yt(t.expandedStates,!0),{type:B,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function dr(e){return oe(Number.NEGATIVE_INFINITY,e)}function mr(e){return oe({type:\"root\"},e)}function Er(e){return oe(-1,e)}function Cr(e,t){return At(e[0],{...t,expandedStates:e})}function hr(e){return pr(e),{type:k,parts:e}}function gr(e,t=\"\",r={}){return K(e),t!==\"\"&&K(t),{type:_,breakContents:e,flatContents:t,groupId:r.groupId}}function yr(e,t){return K(e),{type:v,contents:e,groupId:t.groupId,negate:t.negate}}function Se(e){return K(e),{type:L,contents:e}}var Ar={type:I},pe={type:w},Br={type:P},Te={type:g,hard:!0},Bt={type:g,hard:!0,literal:!0},Ge={type:g},_r={type:g,soft:!0},z=[Te,pe],Me=[Bt,pe],X={type:j};function ke(e,t){K(e),yt(t);let r=[];for(let n=0;n<t.length;n++)n!==0&&r.push(e),r.push(t[n]);return r}function Ke(e,t,r){K(e);let n=e;if(t>0){for(let u=0;u<Math.floor(t/r);++u)n=ie(n);n=oe(t%r,n),n=oe(Number.NEGATIVE_INFINITY,n)}return n}function xr(e,t){return K(t),e?{type:S,label:e,contents:t}:t}function Q(e){var t;if(!e)return\"\";if(Array.isArray(e)){let r=[];for(let n of e)if(Array.isArray(n))r.push(...Q(n));else{let u=Q(n);u!==\"\"&&r.push(u)}return r}return e.type===_?{...e,breakContents:Q(e.breakContents),flatContents:Q(e.flatContents)}:e.type===B?{...e,contents:Q(e.contents),expandedStates:(t=e.expandedStates)==null?void 0:t.map(Q)}:e.type===k?{type:\"fill\",parts:e.parts.map(Q)}:e.contents?{...e,contents:Q(e.contents)}:e}function wr(e){let t=Object.create(null),r=new Set;return n(Q(e));function n(o,i,s){var a,c;if(typeof o==\"string\")return JSON.stringify(o);if(Array.isArray(o)){let D=o.map(n).filter(Boolean);return D.length===1?D[0]:`[${D.join(\", \")}]`}if(o.type===g){let D=((a=s==null?void 0:s[i+1])==null?void 0:a.type)===w;return o.literal?D?\"literalline\":\"literallineWithoutBreakParent\":o.hard?D?\"hardline\":\"hardlineWithoutBreakParent\":o.soft?\"softline\":\"line\"}if(o.type===w)return((c=s==null?void 0:s[i-1])==null?void 0:c.type)===g&&s[i-1].hard?void 0:\"breakParent\";if(o.type===P)return\"trim\";if(o.type===N)return\"indent(\"+n(o.contents)+\")\";if(o.type===O)return o.n===Number.NEGATIVE_INFINITY?\"dedentToRoot(\"+n(o.contents)+\")\":o.n<0?\"dedent(\"+n(o.contents)+\")\":o.n.type===\"root\"?\"markAsRoot(\"+n(o.contents)+\")\":\"align(\"+JSON.stringify(o.n)+\", \"+n(o.contents)+\")\";if(o.type===_)return\"ifBreak(\"+n(o.breakContents)+(o.flatContents?\", \"+n(o.flatContents):\"\")+(o.groupId?(o.flatContents?\"\":', \"\"')+`, { groupId: ${u(o.groupId)} }`:\"\")+\")\";if(o.type===v){let D=[];o.negate&&D.push(\"negate: true\"),o.groupId&&D.push(`groupId: ${u(o.groupId)}`);let p=D.length>0?`, { ${D.join(\", \")} }`:\"\";return`indentIfBreak(${n(o.contents)}${p})`}if(o.type===B){let D=[];o.break&&o.break!==\"propagated\"&&D.push(\"shouldBreak: true\"),o.id&&D.push(`id: ${u(o.id)}`);let p=D.length>0?`, { ${D.join(\", \")} }`:\"\";return o.expandedStates?`conditionalGroup([${o.expandedStates.map(l=>n(l)).join(\",\")}]${p})`:`group(${n(o.contents)}${p})`}if(o.type===k)return`fill([${o.parts.map(D=>n(D)).join(\", \")}])`;if(o.type===L)return\"lineSuffix(\"+n(o.contents)+\")\";if(o.type===I)return\"lineSuffixBoundary\";if(o.type===S)return`label(${JSON.stringify(o.label)}, ${n(o.contents)})`;if(o.type===j)return\"cursor\";throw new Error(\"Unknown doc type \"+o.type)}function u(o){if(typeof o!=\"symbol\")return JSON.stringify(String(o));if(o in t)return t[o];let i=o.description||\"symbol\";for(let s=0;;s++){let a=i+(s>0?` #${s}`:\"\");if(!r.has(a))return r.add(a),t[o]=`Symbol.for(${JSON.stringify(a)})`}}}var br=()=>/[#*0-9]\\uFE0F?\\u20E3|[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23ED-\\u23EF\\u23F1\\u23F2\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB\\u25FC\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692\\u2694-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A7\\u26AA\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C8\\u26CF\\u26D1\\u26E9\\u26F0-\\u26F5\\u26F7\\u26F8\\u26FA\\u2702\\u2708\\u2709\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2733\\u2734\\u2744\\u2747\\u2757\\u2763\\u27A1\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B55\\u3030\\u303D\\u3297\\u3299]\\uFE0F?|[\\u261D\\u270C\\u270D](?:\\uD83C[\\uDFFB-\\uDFFF]|\\uFE0F)?|[\\u270A\\u270B](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u2693\\u26A1\\u26AB\\u26C5\\u26CE\\u26D4\\u26EA\\u26FD\\u2705\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2795-\\u2797\\u27B0\\u27BF\\u2B50]|\\u26D3\\uFE0F?(?:\\u200D\\uD83D\\uDCA5)?|\\u26F9(?:\\uD83C[\\uDFFB-\\uDFFF]|\\uFE0F)?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\u2764\\uFE0F?(?:\\u200D(?:\\uD83D\\uDD25|\\uD83E\\uDE79))?|\\uD83C(?:[\\uDC04\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDE02\\uDE37\\uDF21\\uDF24-\\uDF2C\\uDF36\\uDF7D\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E\\uDF9F\\uDFCD\\uDFCE\\uDFD4-\\uDFDF\\uDFF5\\uDFF7]\\uFE0F?|[\\uDF85\\uDFC2\\uDFC7](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDFC4\\uDFCA](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDFCB\\uDFCC](?:\\uD83C[\\uDFFB-\\uDFFF]|\\uFE0F)?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF43\\uDF45-\\uDF4A\\uDF4C-\\uDF7C\\uDF7E-\\uDF84\\uDF86-\\uDF93\\uDFA0-\\uDFC1\\uDFC5\\uDFC6\\uDFC8\\uDFC9\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF8-\\uDFFF]|\\uDDE6\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF]|\\uDDE7\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF]|\\uDDE8\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF7\\uDDFA-\\uDDFF]|\\uDDE9\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF]|\\uDDEA\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA]|\\uDDEB\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7]|\\uDDEC\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE]|\\uDDED\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA]|\\uDDEE\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9]|\\uDDEF\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5]|\\uDDF0\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF]|\\uDDF1\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE]|\\uDDF2\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF]|\\uDDF3\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF]|\\uDDF4\\uD83C\\uDDF2|\\uDDF5\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE]|\\uDDF6\\uD83C\\uDDE6|\\uDDF7\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC]|\\uDDF8\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF]|\\uDDF9\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF]|\\uDDFA\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF]|\\uDDFB\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA]|\\uDDFC\\uD83C[\\uDDEB\\uDDF8]|\\uDDFD\\uD83C\\uDDF0|\\uDDFE\\uD83C[\\uDDEA\\uDDF9]|\\uDDFF\\uD83C[\\uDDE6\\uDDF2\\uDDFC]|\\uDF44(?:\\u200D\\uD83D\\uDFEB)?|\\uDF4B(?:\\u200D\\uD83D\\uDFE9)?|\\uDFC3(?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D(?:[\\u2640\\u2642]\\uFE0F?(?:\\u200D\\u27A1\\uFE0F?)?|\\u27A1\\uFE0F?))?|\\uDFF3\\uFE0F?(?:\\u200D(?:\\u26A7\\uFE0F?|\\uD83C\\uDF08))?|\\uDFF4(?:\\u200D\\u2620\\uFE0F?|\\uDB40\\uDC67\\uDB40\\uDC62\\uDB40(?:\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67|\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73)\\uDB40\\uDC7F)?)|\\uD83D(?:[\\uDC3F\\uDCFD\\uDD49\\uDD4A\\uDD6F\\uDD70\\uDD73\\uDD76-\\uDD79\\uDD87\\uDD8A-\\uDD8D\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA\\uDECB\\uDECD-\\uDECF\\uDEE0-\\uDEE5\\uDEE9\\uDEF0\\uDEF3]\\uFE0F?|[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDC8F\\uDC91\\uDCAA\\uDD7A\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4\\uDEB5](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDD74\\uDD90](?:\\uD83C[\\uDFFB-\\uDFFF]|\\uFE0F)?|[\\uDC00-\\uDC07\\uDC09-\\uDC14\\uDC16-\\uDC25\\uDC27-\\uDC3A\\uDC3C-\\uDC3E\\uDC40\\uDC44\\uDC45\\uDC51-\\uDC65\\uDC6A\\uDC79-\\uDC7B\\uDC7D-\\uDC80\\uDC84\\uDC88-\\uDC8E\\uDC90\\uDC92-\\uDCA9\\uDCAB-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDDA4\\uDDFB-\\uDE2D\\uDE2F-\\uDE34\\uDE37-\\uDE41\\uDE43\\uDE44\\uDE48-\\uDE4A\\uDE80-\\uDEA2\\uDEA4-\\uDEB3\\uDEB7-\\uDEBF\\uDEC1-\\uDEC5\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEDC-\\uDEDF\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB\\uDFF0]|\\uDC08(?:\\u200D\\u2B1B)?|\\uDC15(?:\\u200D\\uD83E\\uDDBA)?|\\uDC26(?:\\u200D(?:\\u2B1B|\\uD83D\\uDD25))?|\\uDC3B(?:\\u200D\\u2744\\uFE0F?)?|\\uDC41\\uFE0F?(?:\\u200D\\uD83D\\uDDE8\\uFE0F?)?|\\uDC68(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D(?:[\\uDC68\\uDC69]\\u200D\\uD83D(?:\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?)|[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?)|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]))|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFC-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB-\\uDFFE])))?))?|\\uDC69(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?[\\uDC68\\uDC69]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D(?:[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?|\\uDC69\\u200D\\uD83D(?:\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?))|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]))|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFC-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB-\\uDFFE])))?))?|\\uDC6F(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\uDD75(?:\\uD83C[\\uDFFB-\\uDFFF]|\\uFE0F)?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\uDE2E(?:\\u200D\\uD83D\\uDCA8)?|\\uDE35(?:\\u200D\\uD83D\\uDCAB)?|\\uDE36(?:\\u200D\\uD83C\\uDF2B\\uFE0F?)?|\\uDE42(?:\\u200D[\\u2194\\u2195]\\uFE0F?)?|\\uDEB6(?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D(?:[\\u2640\\u2642]\\uFE0F?(?:\\u200D\\u27A1\\uFE0F?)?|\\u27A1\\uFE0F?))?)|\\uD83E(?:[\\uDD0C\\uDD0F\\uDD18-\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2\\uDDD3\\uDDD5\\uDEC3-\\uDEC5\\uDEF0\\uDEF2-\\uDEF8](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD\\uDDCF\\uDDD4\\uDDD6-\\uDDDD](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDDDE\\uDDDF](?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDD0D\\uDD0E\\uDD10-\\uDD17\\uDD20-\\uDD25\\uDD27-\\uDD2F\\uDD3A\\uDD3F-\\uDD45\\uDD47-\\uDD76\\uDD78-\\uDDB4\\uDDB7\\uDDBA\\uDDBC-\\uDDCC\\uDDD0\\uDDE0-\\uDDFF\\uDE70-\\uDE7C\\uDE80-\\uDE89\\uDE8F-\\uDEC2\\uDEC6\\uDECE-\\uDEDC\\uDEDF-\\uDEE9]|\\uDD3C(?:\\u200D[\\u2640\\u2642]\\uFE0F?|\\uD83C[\\uDFFB-\\uDFFF])?|\\uDDCE(?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D(?:[\\u2640\\u2642]\\uFE0F?(?:\\u200D\\u27A1\\uFE0F?)?|\\u27A1\\uFE0F?))?|\\uDDD1(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1|\\uDDD1\\u200D\\uD83E\\uDDD2(?:\\u200D\\uD83E\\uDDD2)?|\\uDDD2(?:\\u200D\\uD83E\\uDDD2)?))|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFC-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB\\uDFFD-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFD\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFE]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?))?|\\uDEF1(?:\\uD83C(?:\\uDFFB(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFC-\\uDFFF])?|\\uDFFC(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])?|\\uDFFD(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])?|\\uDFFE(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])?|\\uDFFF(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB-\\uDFFE])?))?)/g;function kr(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}function Sr(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e===94192||e===94193||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101631&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129673||e>=129679&&e<=129734||e>=129742&&e<=129756||e>=129759&&e<=129769||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}var Tr=e=>!(kr(e)||Sr(e));var Pu=/[^\\x20-\\x7F]/u;function vu(e){if(!e)return 0;if(!Pu.test(e))return e.length;e=e.replace(br(),\"  \");let t=0;for(let r of e){let n=r.codePointAt(0);n<=31||n>=127&&n<=159||n>=768&&n<=879||(t+=Tr(n)?1:2)}return t}var Ne=vu;var R=Symbol(\"MODE_BREAK\"),H=Symbol(\"MODE_FLAT\"),de=Symbol(\"cursor\"),_t=Symbol(\"DOC_FILL_PRINTED_LENGTH\");function Nr(){return{value:\"\",length:0,queue:[]}}function Lu(e,t){return xt(e,{type:\"indent\"},t)}function Iu(e,t,r){return t===Number.NEGATIVE_INFINITY?e.root||Nr():t<0?xt(e,{type:\"dedent\"},r):t?t.type===\"root\"?{...e,root:e}:xt(e,{type:typeof t==\"string\"?\"stringAlign\":\"numberAlign\",n:t},r):e}function xt(e,t,r){let n=t.type===\"dedent\"?e.queue.slice(0,-1):[...e.queue,t],u=\"\",o=0,i=0,s=0;for(let f of n)switch(f.type){case\"indent\":D(),r.useTabs?a(1):c(r.tabWidth);break;case\"stringAlign\":D(),u+=f.n,o+=f.n.length;break;case\"numberAlign\":i+=1,s+=f.n;break;default:throw new Error(`Unexpected type '${f.type}'`)}return l(),{...e,value:u,length:o,queue:n};function a(f){u+=\"\t\".repeat(f),o+=r.tabWidth*f}function c(f){u+=\" \".repeat(f),o+=f}function D(){r.useTabs?p():l()}function p(){i>0&&a(i),F()}function l(){s>0&&c(s),F()}function F(){i=0,s=0}}function wt(e){let t=0,r=0,n=e.length;e:for(;n--;){let u=e[n];if(u===de){r++;continue}for(let o=u.length-1;o>=0;o--){let i=u[o];if(i===\" \"||i===\"\t\")t++;else{e[n]=u.slice(0,o+1);break e}}}if(t>0||r>0)for(e.length=n+1;r-- >0;)e.push(de);return t}function ze(e,t,r,n,u,o){if(r===Number.POSITIVE_INFINITY)return!0;let i=t.length,s=[e],a=[];for(;r>=0;){if(s.length===0){if(i===0)return!0;s.push(t[--i]);continue}let{mode:c,doc:D}=s.pop(),p=M(D);switch(p){case W:a.push(D),r-=Ne(D);break;case Y:case k:{let l=p===Y?D:D.parts,F=D[_t]??0;for(let f=l.length-1;f>=F;f--)s.push({mode:c,doc:l[f]});break}case N:case O:case v:case S:s.push({mode:c,doc:D.contents});break;case P:r+=wt(a);break;case B:{if(o&&D.break)return!1;let l=D.break?R:c,F=D.expandedStates&&l===R?y(!1,D.expandedStates,-1):D.contents;s.push({mode:l,doc:F});break}case _:{let F=(D.groupId?u[D.groupId]||H:c)===R?D.breakContents:D.flatContents;F&&s.push({mode:c,doc:F});break}case g:if(c===R||D.hard)return!0;D.soft||(a.push(\" \"),r--);break;case L:n=!0;break;case I:if(n)return!1;break}}return!1}function me(e,t){let r={},n=t.printWidth,u=xe(t.endOfLine),o=0,i=[{ind:Nr(),mode:R,doc:e}],s=[],a=!1,c=[],D=0;for(cr(e);i.length>0;){let{ind:l,mode:F,doc:f}=i.pop();switch(M(f)){case W:{let d=u!==`\n`?te(!1,f,`\n`,u):f;s.push(d),i.length>0&&(o+=Ne(d));break}case Y:for(let d=f.length-1;d>=0;d--)i.push({ind:l,mode:F,doc:f[d]});break;case j:if(D>=2)throw new Error(\"There are too many 'cursor' in doc.\");s.push(de),D++;break;case N:i.push({ind:Lu(l,t),mode:F,doc:f.contents});break;case O:i.push({ind:Iu(l,f.n,t),mode:F,doc:f.contents});break;case P:o-=wt(s);break;case B:switch(F){case H:if(!a){i.push({ind:l,mode:f.break?R:H,doc:f.contents});break}case R:{a=!1;let d={ind:l,mode:H,doc:f.contents},m=n-o,C=c.length>0;if(!f.break&&ze(d,i,m,C,r))i.push(d);else if(f.expandedStates){let E=y(!1,f.expandedStates,-1);if(f.break){i.push({ind:l,mode:R,doc:E});break}else for(let h=1;h<f.expandedStates.length+1;h++)if(h>=f.expandedStates.length){i.push({ind:l,mode:R,doc:E});break}else{let x=f.expandedStates[h],A={ind:l,mode:H,doc:x};if(ze(A,i,m,C,r)){i.push(A);break}}}else i.push({ind:l,mode:R,doc:f.contents});break}}f.id&&(r[f.id]=y(!1,i,-1).mode);break;case k:{let d=n-o,m=f[_t]??0,{parts:C}=f,E=C.length-m;if(E===0)break;let h=C[m+0],x=C[m+1],A={ind:l,mode:H,doc:h},$={ind:l,mode:R,doc:h},ue=ze(A,[],d,c.length>0,r,!0);if(E===1){ue?i.push(A):i.push($);break}let Be={ind:l,mode:H,doc:x},Ft={ind:l,mode:R,doc:x};if(E===2){ue?i.push(Be,A):i.push(Ft,$);break}let lu=C[m+2],pt={ind:l,mode:F,doc:{...f,[_t]:m+2}};ze({ind:l,mode:H,doc:[h,x,lu]},[],d,c.length>0,r,!0)?i.push(pt,Be,A):ue?i.push(pt,Ft,A):i.push(pt,Ft,$);break}case _:case v:{let d=f.groupId?r[f.groupId]:F;if(d===R){let m=f.type===_?f.breakContents:f.negate?f.contents:ie(f.contents);m&&i.push({ind:l,mode:F,doc:m})}if(d===H){let m=f.type===_?f.flatContents:f.negate?ie(f.contents):f.contents;m&&i.push({ind:l,mode:F,doc:m})}break}case L:c.push({ind:l,mode:F,doc:f.contents});break;case I:c.length>0&&i.push({ind:l,mode:F,doc:Te});break;case g:switch(F){case H:if(f.hard)a=!0;else{f.soft||(s.push(\" \"),o+=1);break}case R:if(c.length>0){i.push({ind:l,mode:F,doc:f},...c.reverse()),c.length=0;break}f.literal?l.root?(s.push(u,l.root.value),o=l.root.length):(s.push(u),o=0):(o-=wt(s),s.push(u+l.value),o=l.length);break}break;case S:i.push({ind:l,mode:F,doc:f.contents});break;case w:break;default:throw new q(f)}i.length===0&&c.length>0&&(i.push(...c.reverse()),c.length=0)}let p=s.indexOf(de);if(p!==-1){let l=s.indexOf(de,p+1);if(l===-1)return{formatted:s.filter(m=>m!==de).join(\"\")};let F=s.slice(0,p).join(\"\"),f=s.slice(p+1,l).join(\"\"),d=s.slice(l+1).join(\"\");return{formatted:F+f+d,cursorNodeStart:F.length,cursorNodeText:f}}return{formatted:s.join(\"\")}}function Ru(e,t,r=0){let n=0;for(let u=r;u<e.length;++u)e[u]===\"\t\"?n=n+t-n%t:n++;return n}var Ee=Ru;var Z,kt,He,bt=class{constructor(t){tr(this,Z);this.stack=[t]}get key(){let{stack:t,siblings:r}=this;return y(!1,t,r===null?-2:-4)??null}get index(){return this.siblings===null?null:y(!1,this.stack,-2)}get node(){return y(!1,this.stack,-1)}get parent(){return this.getNode(1)}get grandparent(){return this.getNode(2)}get isInArray(){return this.siblings!==null}get siblings(){let{stack:t}=this,r=y(!1,t,-3);return Array.isArray(r)?r:null}get next(){let{siblings:t}=this;return t===null?null:t[this.index+1]}get previous(){let{siblings:t}=this;return t===null?null:t[this.index-1]}get isFirst(){return this.index===0}get isLast(){let{siblings:t,index:r}=this;return t!==null&&r===t.length-1}get isRoot(){return this.stack.length===1}get root(){return this.stack[0]}get ancestors(){return[...fe(this,Z,He).call(this)]}getName(){let{stack:t}=this,{length:r}=t;return r>1?y(!1,t,-2):null}getValue(){return y(!1,this.stack,-1)}getNode(t=0){let r=fe(this,Z,kt).call(this,t);return r===-1?null:this.stack[r]}getParentNode(t=0){return this.getNode(t+1)}call(t,...r){let{stack:n}=this,{length:u}=n,o=y(!1,n,-1);for(let i of r)o=o[i],n.push(i,o);try{return t(this)}finally{n.length=u}}callParent(t,r=0){let n=fe(this,Z,kt).call(this,r+1),u=this.stack.splice(n+1);try{return t(this)}finally{this.stack.push(...u)}}each(t,...r){let{stack:n}=this,{length:u}=n,o=y(!1,n,-1);for(let i of r)o=o[i],n.push(i,o);try{for(let i=0;i<o.length;++i)n.push(i,o[i]),t(this,i,o),n.length-=2}finally{n.length=u}}map(t,...r){let n=[];return this.each((u,o,i)=>{n[o]=t(u,o,i)},...r),n}match(...t){let r=this.stack.length-1,n=null,u=this.stack[r--];for(let o of t){if(u===void 0)return!1;let i=null;if(typeof n==\"number\"&&(i=n,n=this.stack[r--],u=this.stack[r--]),o&&!o(u,n,i))return!1;n=this.stack[r--],u=this.stack[r--]}return!0}findAncestor(t){for(let r of fe(this,Z,He).call(this))if(t(r))return r}hasAncestor(t){for(let r of fe(this,Z,He).call(this))if(t(r))return!0;return!1}};Z=new WeakSet,kt=function(t){let{stack:r}=this;for(let n=r.length-1;n>=0;n-=2)if(!Array.isArray(r[n])&&--t<0)return n;return-1},He=function*(){let{stack:t}=this;for(let r=t.length-3;r>=0;r-=2){let n=t[r];Array.isArray(n)||(yield n)}};var Or=bt;var Pr=new Proxy(()=>{},{get:()=>Pr}),Oe=Pr;function Yu(e){return e!==null&&typeof e==\"object\"}var vr=Yu;function*Ce(e,t){let{getVisitorKeys:r,filter:n=()=>!0}=t,u=o=>vr(o)&&n(o);for(let o of r(e)){let i=e[o];if(Array.isArray(i))for(let s of i)u(s)&&(yield s);else u(i)&&(yield i)}}function*Lr(e,t){let r=[e];for(let n=0;n<r.length;n++){let u=r[n];for(let o of Ce(u,t))yield o,r.push(o)}}function Ir(e,t){return Ce(e,t).next().done}function he(e){return(t,r,n)=>{let u=!!(n!=null&&n.backwards);if(r===!1)return!1;let{length:o}=t,i=r;for(;i>=0&&i<o;){let s=t.charAt(i);if(e instanceof RegExp){if(!e.test(s))return i}else if(!e.includes(s))return i;u?i--:i++}return i===-1||i===o?i:!1}}var Rr=he(/\\s/u),T=he(\" \t\"),Je=he(\",; \t\"),qe=he(/[^\\n\\r]/u);function ju(e,t,r){let n=!!(r!=null&&r.backwards);if(t===!1)return!1;let u=e.charAt(t);if(n){if(e.charAt(t-1)===\"\\r\"&&u===`\n`)return t-2;if(u===`\n`||u===\"\\r\"||u===\"\\u2028\"||u===\"\\u2029\")return t-1}else{if(u===\"\\r\"&&e.charAt(t+1)===`\n`)return t+2;if(u===`\n`||u===\"\\r\"||u===\"\\u2028\"||u===\"\\u2029\")return t+1}return t}var U=ju;function Uu(e,t,r={}){let n=T(e,r.backwards?t-1:t,r),u=U(e,n,r);return n!==u}var G=Uu;function Vu(e){return Array.isArray(e)&&e.length>0}var Xe=Vu;var Yr=new Set([\"tokens\",\"comments\",\"parent\",\"enclosingNode\",\"precedingNode\",\"followingNode\"]),$u=e=>Object.keys(e).filter(t=>!Yr.has(t));function Wu(e){return e?t=>e(t,Yr):$u}var J=Wu;function Mu(e){let t=e.type||e.kind||\"(unknown type)\",r=String(e.name||e.id&&(typeof e.id==\"object\"?e.id.name:e.id)||e.key&&(typeof e.key==\"object\"?e.key.name:e.key)||e.value&&(typeof e.value==\"object\"?\"\":String(e.value))||e.operator||\"\");return r.length>20&&(r=r.slice(0,19)+\"\\u2026\"),t+(r?\" \"+r:\"\")}function St(e,t){(e.comments??(e.comments=[])).push(t),t.printed=!1,t.nodeDescription=Mu(e)}function se(e,t){t.leading=!0,t.trailing=!1,St(e,t)}function ee(e,t,r){t.leading=!1,t.trailing=!1,r&&(t.marker=r),St(e,t)}function ae(e,t){t.leading=!1,t.trailing=!0,St(e,t)}var Tt=new WeakMap;function Qe(e,t){if(Tt.has(e))return Tt.get(e);let{printer:{getCommentChildNodes:r,canAttachComment:n,getVisitorKeys:u},locStart:o,locEnd:i}=t;if(!n)return[];let s=((r==null?void 0:r(e,t))??[...Ce(e,{getVisitorKeys:J(u)})]).flatMap(a=>n(a)?[a]:Qe(a,t));return s.sort((a,c)=>o(a)-o(c)||i(a)-i(c)),Tt.set(e,s),s}function Ur(e,t,r,n){let{locStart:u,locEnd:o}=r,i=u(t),s=o(t),a=Qe(e,r),c,D,p=0,l=a.length;for(;p<l;){let F=p+l>>1,f=a[F],d=u(f),m=o(f);if(d<=i&&s<=m)return Ur(f,t,r,f);if(m<=i){c=f,p=F+1;continue}if(s<=d){D=f,l=F;continue}throw new Error(\"Comment location overlaps with node location\")}if((n==null?void 0:n.type)===\"TemplateLiteral\"){let{quasis:F}=n,f=Ot(F,t,r);c&&Ot(F,c,r)!==f&&(c=null),D&&Ot(F,D,r)!==f&&(D=null)}return{enclosingNode:n,precedingNode:c,followingNode:D}}var Nt=()=>!1;function Vr(e,t){let{comments:r}=e;if(delete e.comments,!Xe(r)||!t.printer.canAttachComment)return;let n=[],{printer:{experimentalFeatures:{avoidAstMutation:u=!1}={},handleComments:o={}},originalText:i}=t,{ownLine:s=Nt,endOfLine:a=Nt,remaining:c=Nt}=o,D=r.map((p,l)=>({...Ur(e,p,t),comment:p,text:i,options:t,ast:e,isLastComment:r.length-1===l}));for(let[p,l]of D.entries()){let{comment:F,precedingNode:f,enclosingNode:d,followingNode:m,text:C,options:E,ast:h,isLastComment:x}=l,A;if(u?A=[l]:(F.enclosingNode=d,F.precedingNode=f,F.followingNode=m,A=[F,C,E,h,x]),Gu(C,E,D,p))F.placement=\"ownLine\",s(...A)||(m?se(m,F):f?ae(f,F):d?ee(d,F):ee(h,F));else if(Ku(C,E,D,p))F.placement=\"endOfLine\",a(...A)||(f?ae(f,F):m?se(m,F):d?ee(d,F):ee(h,F));else if(F.placement=\"remaining\",!c(...A))if(f&&m){let $=n.length;$>0&&n[$-1].followingNode!==m&&jr(n,E),n.push(l)}else f?ae(f,F):m?se(m,F):d?ee(d,F):ee(h,F)}if(jr(n,t),!u)for(let p of r)delete p.precedingNode,delete p.enclosingNode,delete p.followingNode}var $r=e=>!/[\\S\\n\\u2028\\u2029]/u.test(e);function Gu(e,t,r,n){let{comment:u,precedingNode:o}=r[n],{locStart:i,locEnd:s}=t,a=i(u);if(o)for(let c=n-1;c>=0;c--){let{comment:D,precedingNode:p}=r[c];if(p!==o||!$r(e.slice(s(D),a)))break;a=i(D)}return G(e,a,{backwards:!0})}function Ku(e,t,r,n){let{comment:u,followingNode:o}=r[n],{locStart:i,locEnd:s}=t,a=s(u);if(o)for(let c=n+1;c<r.length;c++){let{comment:D,followingNode:p}=r[c];if(p!==o||!$r(e.slice(a,i(D))))break;a=s(D)}return G(e,a)}function jr(e,t){var s,a;let r=e.length;if(r===0)return;let{precedingNode:n,followingNode:u}=e[0],o=t.locStart(u),i;for(i=r;i>0;--i){let{comment:c,precedingNode:D,followingNode:p}=e[i-1];Oe.strictEqual(D,n),Oe.strictEqual(p,u);let l=t.originalText.slice(t.locEnd(c),o);if(((a=(s=t.printer).isGap)==null?void 0:a.call(s,l,t))??/^[\\s(]*$/u.test(l))o=t.locStart(c);else break}for(let[c,{comment:D}]of e.entries())c<i?ae(n,D):se(u,D);for(let c of[n,u])c.comments&&c.comments.length>1&&c.comments.sort((D,p)=>t.locStart(D)-t.locStart(p));e.length=0}function Ot(e,t,r){let n=r.locStart(t)-1;for(let u=1;u<e.length;++u)if(n<r.locStart(e[u]))return u-1;return 0}function zu(e,t){let r=t-1;r=T(e,r,{backwards:!0}),r=U(e,r,{backwards:!0}),r=T(e,r,{backwards:!0});let n=U(e,r,{backwards:!0});return r!==n}var Pe=zu;function Wr(e,t){let r=e.node;return r.printed=!0,t.printer.printComment(e,t)}function Hu(e,t){var D;let r=e.node,n=[Wr(e,t)],{printer:u,originalText:o,locStart:i,locEnd:s}=t;if((D=u.isBlockComment)==null?void 0:D.call(u,r)){let p=G(o,s(r))?G(o,i(r),{backwards:!0})?z:Ge:\" \";n.push(p)}else n.push(z);let c=U(o,T(o,s(r)));return c!==!1&&G(o,c)&&n.push(z),n}function Ju(e,t,r){var c;let n=e.node,u=Wr(e,t),{printer:o,originalText:i,locStart:s}=t,a=(c=o.isBlockComment)==null?void 0:c.call(o,n);if(r!=null&&r.hasLineSuffix&&!(r!=null&&r.isBlock)||G(i,s(n),{backwards:!0})){let D=Pe(i,s(n));return{doc:Se([z,D?z:\"\",u]),isBlock:a,hasLineSuffix:!0}}return!a||r!=null&&r.hasLineSuffix?{doc:[Se([\" \",u]),pe],isBlock:a,hasLineSuffix:!0}:{doc:[\" \",u],isBlock:a,hasLineSuffix:!1}}function qu(e,t){let r=e.node;if(!r)return{};let n=t[Symbol.for(\"printedComments\")];if((r.comments||[]).filter(a=>!n.has(a)).length===0)return{leading:\"\",trailing:\"\"};let o=[],i=[],s;return e.each(()=>{let a=e.node;if(n!=null&&n.has(a))return;let{leading:c,trailing:D}=a;c?o.push(Hu(e,t)):D&&(s=Ju(e,t,s),i.push(s.doc))},\"comments\"),{leading:o,trailing:i}}function Mr(e,t,r){let{leading:n,trailing:u}=qu(e,r);return!n&&!u?t:Fe(t,o=>[n,o,u])}function Gr(e){let{[Symbol.for(\"comments\")]:t,[Symbol.for(\"printedComments\")]:r}=e;for(let n of t){if(!n.printed&&!r.has(n))throw new Error('Comment \"'+n.value.trim()+'\" was not printed. Please report this error!');delete n.printed}}function Xu(e){return()=>{}}var Kr=Xu;var ve=class extends Error{name=\"ConfigError\"},Le=class extends Error{name=\"UndefinedParserError\"};var zr={checkIgnorePragma:{category:\"Special\",type:\"boolean\",default:!1,description:\"Check whether the file's first docblock comment contains '@noprettier' or '@noformat' to determine if it should be formatted.\",cliCategory:\"Other\"},cursorOffset:{category:\"Special\",type:\"int\",default:-1,range:{start:-1,end:1/0,step:1},description:\"Print (to stderr) where a cursor at the given position would move to after formatting.\",cliCategory:\"Editor\"},endOfLine:{category:\"Global\",type:\"choice\",default:\"lf\",description:\"Which end of line characters to apply.\",choices:[{value:\"lf\",description:\"Line Feed only (\\\\n), common on Linux and macOS as well as inside git repos\"},{value:\"crlf\",description:\"Carriage Return + Line Feed characters (\\\\r\\\\n), common on Windows\"},{value:\"cr\",description:\"Carriage Return character only (\\\\r), used very rarely\"},{value:\"auto\",description:`Maintain existing\n(mixed values within one file are normalised by looking at what's used after the first line)`}]},filepath:{category:\"Special\",type:\"path\",description:\"Specify the input filepath. This will be used to do parser inference.\",cliName:\"stdin-filepath\",cliCategory:\"Other\",cliDescription:\"Path to the file to pretend that stdin comes from.\"},insertPragma:{category:\"Special\",type:\"boolean\",default:!1,description:\"Insert @format pragma into file's first docblock comment.\",cliCategory:\"Other\"},parser:{category:\"Global\",type:\"choice\",default:void 0,description:\"Which parser to use.\",exception:e=>typeof e==\"string\"||typeof e==\"function\",choices:[{value:\"flow\",description:\"Flow\"},{value:\"babel\",description:\"JavaScript\"},{value:\"babel-flow\",description:\"Flow\"},{value:\"babel-ts\",description:\"TypeScript\"},{value:\"typescript\",description:\"TypeScript\"},{value:\"acorn\",description:\"JavaScript\"},{value:\"espree\",description:\"JavaScript\"},{value:\"meriyah\",description:\"JavaScript\"},{value:\"css\",description:\"CSS\"},{value:\"less\",description:\"Less\"},{value:\"scss\",description:\"SCSS\"},{value:\"json\",description:\"JSON\"},{value:\"json5\",description:\"JSON5\"},{value:\"jsonc\",description:\"JSON with Comments\"},{value:\"json-stringify\",description:\"JSON.stringify\"},{value:\"graphql\",description:\"GraphQL\"},{value:\"markdown\",description:\"Markdown\"},{value:\"mdx\",description:\"MDX\"},{value:\"vue\",description:\"Vue\"},{value:\"yaml\",description:\"YAML\"},{value:\"glimmer\",description:\"Ember / Handlebars\"},{value:\"html\",description:\"HTML\"},{value:\"angular\",description:\"Angular\"},{value:\"lwc\",description:\"Lightning Web Components\"},{value:\"mjml\",description:\"MJML\"}]},plugins:{type:\"path\",array:!0,default:[{value:[]}],category:\"Global\",description:\"Add a plugin. Multiple plugins can be passed as separate `--plugin`s.\",exception:e=>typeof e==\"string\"||typeof e==\"object\",cliName:\"plugin\",cliCategory:\"Config\"},printWidth:{category:\"Global\",type:\"int\",default:80,description:\"The line length where Prettier will try wrap.\",range:{start:0,end:1/0,step:1}},rangeEnd:{category:\"Special\",type:\"int\",default:1/0,range:{start:0,end:1/0,step:1},description:`Format code ending at a given character offset (exclusive).\nThe range will extend forwards to the end of the selected statement.`,cliCategory:\"Editor\"},rangeStart:{category:\"Special\",type:\"int\",default:0,range:{start:0,end:1/0,step:1},description:`Format code starting at a given character offset.\nThe range will extend backwards to the start of the first line containing the selected statement.`,cliCategory:\"Editor\"},requirePragma:{category:\"Special\",type:\"boolean\",default:!1,description:\"Require either '@prettier' or '@format' to be present in the file's first docblock comment in order for it to be formatted.\",cliCategory:\"Other\"},tabWidth:{type:\"int\",category:\"Global\",default:2,description:\"Number of spaces per indentation level.\",range:{start:0,end:1/0,step:1}},useTabs:{category:\"Global\",type:\"boolean\",default:!1,description:\"Indent with tabs instead of spaces.\"},embeddedLanguageFormatting:{category:\"Global\",type:\"choice\",default:\"auto\",description:\"Control how Prettier formats quoted code embedded in the file.\",choices:[{value:\"auto\",description:\"Format embedded code if Prettier can automatically identify it.\"},{value:\"off\",description:\"Never automatically format embedded code.\"}]}};function Ze({plugins:e=[],showDeprecated:t=!1}={}){let r=e.flatMap(u=>u.languages??[]),n=[];for(let u of Zu(Object.assign({},...e.map(({options:o})=>o),zr)))!t&&u.deprecated||(Array.isArray(u.choices)&&(t||(u.choices=u.choices.filter(o=>!o.deprecated)),u.name===\"parser\"&&(u.choices=[...u.choices,...Qu(u.choices,r,e)])),u.pluginDefaults=Object.fromEntries(e.filter(o=>{var i;return((i=o.defaultOptions)==null?void 0:i[u.name])!==void 0}).map(o=>[o.name,o.defaultOptions[u.name]])),n.push(u));return{languages:r,options:n}}function*Qu(e,t,r){let n=new Set(e.map(u=>u.value));for(let u of t)if(u.parsers){for(let o of u.parsers)if(!n.has(o)){n.add(o);let i=r.find(a=>a.parsers&&Object.prototype.hasOwnProperty.call(a.parsers,o)),s=u.name;i!=null&&i.name&&(s+=` (plugin: ${i.name})`),yield{value:o,description:s}}}}function Zu(e){let t=[];for(let[r,n]of Object.entries(e)){let u={name:r,...n};Array.isArray(u.default)&&(u.default=y(!1,u.default,-1).value),t.push(u)}return t}var eo=(e,t)=>{if(!(e&&t==null))return t.toReversed||!Array.isArray(t)?t.toReversed():[...t].reverse()},Hr=eo;var Jr,qr,Xr,Qr,Zr,to=((Jr=globalThis.Deno)==null?void 0:Jr.build.os)===\"windows\"||((Xr=(qr=globalThis.navigator)==null?void 0:qr.platform)==null?void 0:Xr.startsWith(\"Win\"))||((Zr=(Qr=globalThis.process)==null?void 0:Qr.platform)==null?void 0:Zr.startsWith(\"win\"))||!1;function en(e){if(e=e instanceof URL?e:new URL(e),e.protocol!==\"file:\")throw new TypeError(`URL must be a file URL: received \"${e.protocol}\"`);return e}function ro(e){return e=en(e),decodeURIComponent(e.pathname.replace(/%(?![0-9A-Fa-f]{2})/g,\"%25\"))}function no(e){e=en(e);let t=decodeURIComponent(e.pathname.replace(/\\//g,\"\\\\\").replace(/%(?![0-9A-Fa-f]{2})/g,\"%25\")).replace(/^\\\\*([A-Za-z]:)(\\\\|$)/,\"$1\\\\\");return e.hostname!==\"\"&&(t=`\\\\\\\\${e.hostname}${t}`),t}function tn(e){return to?no(e):ro(e)}var rn=tn;var uo=e=>String(e).split(/[/\\\\]/u).pop();function nn(e,t){if(!t)return;let r=uo(t).toLowerCase();return e.find(({filenames:n})=>n==null?void 0:n.some(u=>u.toLowerCase()===r))??e.find(({extensions:n})=>n==null?void 0:n.some(u=>r.endsWith(u)))}function oo(e,t){if(t)return e.find(({name:r})=>r.toLowerCase()===t)??e.find(({aliases:r})=>r==null?void 0:r.includes(t))??e.find(({extensions:r})=>r==null?void 0:r.includes(`.${t}`))}function un(e,t){if(t){if(String(t).startsWith(\"file:\"))try{t=rn(t)}catch{return}if(typeof t==\"string\")return e.find(({isSupported:r})=>r==null?void 0:r({filepath:t}))}}function io(e,t){let r=Hr(!1,e.plugins).flatMap(u=>u.languages??[]),n=oo(r,t.language)??nn(r,t.physicalFile)??nn(r,t.file)??un(r,t.physicalFile)??un(r,t.file)??(t.physicalFile,void 0);return n==null?void 0:n.parsers[0]}var on=io;var re={key:e=>/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?e:JSON.stringify(e),value(e){if(e===null||typeof e!=\"object\")return JSON.stringify(e);if(Array.isArray(e))return`[${e.map(r=>re.value(r)).join(\", \")}]`;let t=Object.keys(e);return t.length===0?\"{}\":`{ ${t.map(r=>`${re.key(r)}: ${re.value(e[r])}`).join(\", \")} }`},pair:({key:e,value:t})=>re.value({[e]:t})};var sn=new Proxy(String,{get:()=>sn}),V=sn;var an=(e,t,{descriptor:r})=>{let n=[`${V.yellow(typeof e==\"string\"?r.key(e):r.pair(e))} is deprecated`];return t&&n.push(`we now treat it as ${V.blue(typeof t==\"string\"?r.key(t):r.pair(t))}`),n.join(\"; \")+\".\"};var et=Symbol.for(\"vnopts.VALUE_NOT_EXIST\"),ge=Symbol.for(\"vnopts.VALUE_UNCHANGED\");var Dn=\" \".repeat(2),fn=(e,t,r)=>{let{text:n,list:u}=r.normalizeExpectedResult(r.schemas[e].expected(r)),o=[];return n&&o.push(cn(e,t,n,r.descriptor)),u&&o.push([cn(e,t,u.title,r.descriptor)].concat(u.values.map(i=>ln(i,r.loggerPrintWidth))).join(`\n`)),Fn(o,r.loggerPrintWidth)};function cn(e,t,r,n){return[`Invalid ${V.red(n.key(e))} value.`,`Expected ${V.blue(r)},`,`but received ${t===et?V.gray(\"nothing\"):V.red(n.value(t))}.`].join(\" \")}function ln({text:e,list:t},r){let n=[];return e&&n.push(`- ${V.blue(e)}`),t&&n.push([`- ${V.blue(t.title)}:`].concat(t.values.map(u=>ln(u,r-Dn.length).replace(/^|\\n/g,`$&${Dn}`))).join(`\n`)),Fn(n,r)}function Fn(e,t){if(e.length===1)return e[0];let[r,n]=e,[u,o]=e.map(i=>i.split(`\n`,1)[0].length);return u>t&&u>o?n:r}var Pt=[],pn=[];function vt(e,t){if(e===t)return 0;let r=e;e.length>t.length&&(e=t,t=r);let n=e.length,u=t.length;for(;n>0&&e.charCodeAt(~-n)===t.charCodeAt(~-u);)n--,u--;let o=0;for(;o<n&&e.charCodeAt(o)===t.charCodeAt(o);)o++;if(n-=o,u-=o,n===0)return u;let i,s,a,c,D=0,p=0;for(;D<n;)pn[D]=e.charCodeAt(o+D),Pt[D]=++D;for(;p<u;)for(i=t.charCodeAt(o+p),a=p++,s=p,D=0;D<n;D++)c=i===pn[D]?a:a+1,a=Pt[D],s=Pt[D]=a>s?c>s?s+1:c:c>a?a+1:c;return s}var tt=(e,t,{descriptor:r,logger:n,schemas:u})=>{let o=[`Ignored unknown option ${V.yellow(r.pair({key:e,value:t}))}.`],i=Object.keys(u).sort().find(s=>vt(e,s)<3);i&&o.push(`Did you mean ${V.blue(r.key(i))}?`),n.warn(o.join(\" \"))};var so=[\"default\",\"expected\",\"validate\",\"deprecated\",\"forward\",\"redirect\",\"overlap\",\"preprocess\",\"postprocess\"];function ao(e,t){let r=new e(t),n=Object.create(r);for(let u of so)u in t&&(n[u]=Do(t[u],r,b.prototype[u].length));return n}var b=class{static create(t){return ao(this,t)}constructor(t){this.name=t.name}default(t){}expected(t){return\"nothing\"}validate(t,r){return!1}deprecated(t,r){return!1}forward(t,r){}redirect(t,r){}overlap(t,r,n){return t}preprocess(t,r){return t}postprocess(t,r){return ge}};function Do(e,t,r){return typeof e==\"function\"?(...n)=>e(...n.slice(0,r-1),t,...n.slice(r-1)):()=>e}var rt=class extends b{constructor(t){super(t),this._sourceName=t.sourceName}expected(t){return t.schemas[this._sourceName].expected(t)}validate(t,r){return r.schemas[this._sourceName].validate(t,r)}redirect(t,r){return this._sourceName}};var nt=class extends b{expected(){return\"anything\"}validate(){return!0}};var ut=class extends b{constructor({valueSchema:t,name:r=t.name,...n}){super({...n,name:r}),this._valueSchema=t}expected(t){let{text:r,list:n}=t.normalizeExpectedResult(this._valueSchema.expected(t));return{text:r&&`an array of ${r}`,list:n&&{title:\"an array of the following values\",values:[{list:n}]}}}validate(t,r){if(!Array.isArray(t))return!1;let n=[];for(let u of t){let o=r.normalizeValidateResult(this._valueSchema.validate(u,r),u);o!==!0&&n.push(o.value)}return n.length===0?!0:{value:n}}deprecated(t,r){let n=[];for(let u of t){let o=r.normalizeDeprecatedResult(this._valueSchema.deprecated(u,r),u);o!==!1&&n.push(...o.map(({value:i})=>({value:[i]})))}return n}forward(t,r){let n=[];for(let u of t){let o=r.normalizeForwardResult(this._valueSchema.forward(u,r),u);n.push(...o.map(dn))}return n}redirect(t,r){let n=[],u=[];for(let o of t){let i=r.normalizeRedirectResult(this._valueSchema.redirect(o,r),o);\"remain\"in i&&n.push(i.remain),u.push(...i.redirect.map(dn))}return n.length===0?{redirect:u}:{redirect:u,remain:n}}overlap(t,r){return t.concat(r)}};function dn({from:e,to:t}){return{from:[e],to:t}}var ot=class extends b{expected(){return\"true or false\"}validate(t){return typeof t==\"boolean\"}};function En(e,t){let r=Object.create(null);for(let n of e){let u=n[t];if(r[u])throw new Error(`Duplicate ${t} ${JSON.stringify(u)}`);r[u]=n}return r}function Cn(e,t){let r=new Map;for(let n of e){let u=n[t];if(r.has(u))throw new Error(`Duplicate ${t} ${JSON.stringify(u)}`);r.set(u,n)}return r}function hn(){let e=Object.create(null);return t=>{let r=JSON.stringify(t);return e[r]?!0:(e[r]=!0,!1)}}function gn(e,t){let r=[],n=[];for(let u of e)t(u)?r.push(u):n.push(u);return[r,n]}function yn(e){return e===Math.floor(e)}function An(e,t){if(e===t)return 0;let r=typeof e,n=typeof t,u=[\"undefined\",\"object\",\"boolean\",\"number\",\"string\"];return r!==n?u.indexOf(r)-u.indexOf(n):r!==\"string\"?Number(e)-Number(t):e.localeCompare(t)}function Bn(e){return(...t)=>{let r=e(...t);return typeof r==\"string\"?new Error(r):r}}function Lt(e){return e===void 0?{}:e}function It(e){if(typeof e==\"string\")return{text:e};let{text:t,list:r}=e;return co((t||r)!==void 0,\"Unexpected `expected` result, there should be at least one field.\"),r?{text:t,list:{title:r.title,values:r.values.map(It)}}:{text:t}}function Rt(e,t){return e===!0?!0:e===!1?{value:t}:e}function Yt(e,t,r=!1){return e===!1?!1:e===!0?r?!0:[{value:t}]:\"value\"in e?[e]:e.length===0?!1:e}function mn(e,t){return typeof e==\"string\"||\"key\"in e?{from:t,to:e}:\"from\"in e?{from:e.from,to:e.to}:{from:t,to:e.to}}function it(e,t){return e===void 0?[]:Array.isArray(e)?e.map(r=>mn(r,t)):[mn(e,t)]}function jt(e,t){let r=it(typeof e==\"object\"&&\"redirect\"in e?e.redirect:e,t);return r.length===0?{remain:t,redirect:r}:typeof e==\"object\"&&\"remain\"in e?{remain:e.remain,redirect:r}:{redirect:r}}function co(e,t){if(!e)throw new Error(t)}var st=class extends b{constructor(t){super(t),this._choices=Cn(t.choices.map(r=>r&&typeof r==\"object\"?r:{value:r}),\"value\")}expected({descriptor:t}){let r=Array.from(this._choices.keys()).map(i=>this._choices.get(i)).filter(({hidden:i})=>!i).map(i=>i.value).sort(An).map(t.value),n=r.slice(0,-2),u=r.slice(-2);return{text:n.concat(u.join(\" or \")).join(\", \"),list:{title:\"one of the following values\",values:r}}}validate(t){return this._choices.has(t)}deprecated(t){let r=this._choices.get(t);return r&&r.deprecated?{value:t}:!1}forward(t){let r=this._choices.get(t);return r?r.forward:void 0}redirect(t){let r=this._choices.get(t);return r?r.redirect:void 0}};var at=class extends b{expected(){return\"a number\"}validate(t,r){return typeof t==\"number\"}};var Dt=class extends at{expected(){return\"an integer\"}validate(t,r){return r.normalizeValidateResult(super.validate(t,r),t)===!0&&yn(t)}};var Ie=class extends b{expected(){return\"a string\"}validate(t){return typeof t==\"string\"}};var _n=re,xn=tt,wn=fn,bn=an;var ct=class{constructor(t,r){let{logger:n=console,loggerPrintWidth:u=80,descriptor:o=_n,unknown:i=xn,invalid:s=wn,deprecated:a=bn,missing:c=()=>!1,required:D=()=>!1,preprocess:p=F=>F,postprocess:l=()=>ge}=r||{};this._utils={descriptor:o,logger:n||{warn:()=>{}},loggerPrintWidth:u,schemas:En(t,\"name\"),normalizeDefaultResult:Lt,normalizeExpectedResult:It,normalizeDeprecatedResult:Yt,normalizeForwardResult:it,normalizeRedirectResult:jt,normalizeValidateResult:Rt},this._unknownHandler=i,this._invalidHandler=Bn(s),this._deprecatedHandler=a,this._identifyMissing=(F,f)=>!(F in f)||c(F,f),this._identifyRequired=D,this._preprocess=p,this._postprocess=l,this.cleanHistory()}cleanHistory(){this._hasDeprecationWarned=hn()}normalize(t){let r={},u=[this._preprocess(t,this._utils)],o=()=>{for(;u.length!==0;){let i=u.shift(),s=this._applyNormalization(i,r);u.push(...s)}};o();for(let i of Object.keys(this._utils.schemas)){let s=this._utils.schemas[i];if(!(i in r)){let a=Lt(s.default(this._utils));\"value\"in a&&u.push({[i]:a.value})}}o();for(let i of Object.keys(this._utils.schemas)){if(!(i in r))continue;let s=this._utils.schemas[i],a=r[i],c=s.postprocess(a,this._utils);c!==ge&&(this._applyValidation(c,i,s),r[i]=c)}return this._applyPostprocess(r),this._applyRequiredCheck(r),r}_applyNormalization(t,r){let n=[],{knownKeys:u,unknownKeys:o}=this._partitionOptionKeys(t);for(let i of u){let s=this._utils.schemas[i],a=s.preprocess(t[i],this._utils);this._applyValidation(a,i,s);let c=({from:F,to:f})=>{n.push(typeof f==\"string\"?{[f]:F}:{[f.key]:f.value})},D=({value:F,redirectTo:f})=>{let d=Yt(s.deprecated(F,this._utils),a,!0);if(d!==!1)if(d===!0)this._hasDeprecationWarned(i)||this._utils.logger.warn(this._deprecatedHandler(i,f,this._utils));else for(let{value:m}of d){let C={key:i,value:m};if(!this._hasDeprecationWarned(C)){let E=typeof f==\"string\"?{key:f,value:m}:f;this._utils.logger.warn(this._deprecatedHandler(C,E,this._utils))}}};it(s.forward(a,this._utils),a).forEach(c);let l=jt(s.redirect(a,this._utils),a);if(l.redirect.forEach(c),\"remain\"in l){let F=l.remain;r[i]=i in r?s.overlap(r[i],F,this._utils):F,D({value:F})}for(let{from:F,to:f}of l.redirect)D({value:F,redirectTo:f})}for(let i of o){let s=t[i];this._applyUnknownHandler(i,s,r,(a,c)=>{n.push({[a]:c})})}return n}_applyRequiredCheck(t){for(let r of Object.keys(this._utils.schemas))if(this._identifyMissing(r,t)&&this._identifyRequired(r))throw this._invalidHandler(r,et,this._utils)}_partitionOptionKeys(t){let[r,n]=gn(Object.keys(t).filter(u=>!this._identifyMissing(u,t)),u=>u in this._utils.schemas);return{knownKeys:r,unknownKeys:n}}_applyValidation(t,r,n){let u=Rt(n.validate(t,this._utils),t);if(u!==!0)throw this._invalidHandler(r,u.value,this._utils)}_applyUnknownHandler(t,r,n,u){let o=this._unknownHandler(t,r,this._utils);if(o)for(let i of Object.keys(o)){if(this._identifyMissing(i,o))continue;let s=o[i];i in this._utils.schemas?u(i,s):n[i]=s}}_applyPostprocess(t){let r=this._postprocess(t,this._utils);if(r!==ge){if(r.delete)for(let n of r.delete)delete t[n];if(r.override){let{knownKeys:n,unknownKeys:u}=this._partitionOptionKeys(r.override);for(let o of n){let i=r.override[o];this._applyValidation(i,o,this._utils.schemas[o]),t[o]=i}for(let o of u){let i=r.override[o];this._applyUnknownHandler(o,i,t,(s,a)=>{let c=this._utils.schemas[s];this._applyValidation(a,s,c),t[s]=a})}}}}};var Ut;function lo(e,t,{logger:r=!1,isCLI:n=!1,passThrough:u=!1,FlagSchema:o,descriptor:i}={}){if(n){if(!o)throw new Error(\"'FlagSchema' option is required.\");if(!i)throw new Error(\"'descriptor' option is required.\")}else i=re;let s=u?Array.isArray(u)?(l,F)=>u.includes(l)?{[l]:F}:void 0:(l,F)=>({[l]:F}):(l,F,f)=>{let{_:d,...m}=f.schemas;return tt(l,F,{...f,schemas:m})},a=Fo(t,{isCLI:n,FlagSchema:o}),c=new ct(a,{logger:r,unknown:s,descriptor:i}),D=r!==!1;D&&Ut&&(c._hasDeprecationWarned=Ut);let p=c.normalize(e);return D&&(Ut=c._hasDeprecationWarned),p}function Fo(e,{isCLI:t,FlagSchema:r}){let n=[];t&&n.push(nt.create({name:\"_\"}));for(let u of e)n.push(po(u,{isCLI:t,optionInfos:e,FlagSchema:r})),u.alias&&t&&n.push(rt.create({name:u.alias,sourceName:u.name}));return n}function po(e,{isCLI:t,optionInfos:r,FlagSchema:n}){let{name:u}=e,o={name:u},i,s={};switch(e.type){case\"int\":i=Dt,t&&(o.preprocess=Number);break;case\"string\":i=Ie;break;case\"choice\":i=st,o.choices=e.choices.map(a=>a!=null&&a.redirect?{...a,redirect:{to:{key:e.name,value:a.redirect}}}:a);break;case\"boolean\":i=ot;break;case\"flag\":i=n,o.flags=r.flatMap(a=>[a.alias,a.description&&a.name,a.oppositeDescription&&`no-${a.name}`].filter(Boolean));break;case\"path\":i=Ie;break;default:throw new Error(`Unexpected type ${e.type}`)}if(e.exception?o.validate=(a,c,D)=>e.exception(a)||c.validate(a,D):o.validate=(a,c,D)=>a===void 0||c.validate(a,D),e.redirect&&(s.redirect=a=>a?{to:typeof e.redirect==\"string\"?e.redirect:{key:e.redirect.option,value:e.redirect.value}}:void 0),e.deprecated&&(s.deprecated=!0),t&&!e.array){let a=o.preprocess||(c=>c);o.preprocess=(c,D,p)=>D.preprocess(a(Array.isArray(c)?y(!1,c,-1):c),p)}return e.array?ut.create({...t?{preprocess:a=>Array.isArray(a)?a:[a]}:{},...s,valueSchema:i.create(o)}):i.create({...o,...s})}var kn=lo;var mo=(e,t,r)=>{if(!(e&&t==null)){if(t.findLast)return t.findLast(r);for(let n=t.length-1;n>=0;n--){let u=t[n];if(r(u,n,t))return u}}},Vt=mo;function $t(e,t){if(!t)throw new Error(\"parserName is required.\");let r=Vt(!1,e,u=>u.parsers&&Object.prototype.hasOwnProperty.call(u.parsers,t));if(r)return r;let n=`Couldn't resolve parser \"${t}\".`;throw n+=\" Plugins must be explicitly added to the standalone bundle.\",new ve(n)}function Sn(e,t){if(!t)throw new Error(\"astFormat is required.\");let r=Vt(!1,e,u=>u.printers&&Object.prototype.hasOwnProperty.call(u.printers,t));if(r)return r;let n=`Couldn't find plugin for AST format \"${t}\".`;throw n+=\" Plugins must be explicitly added to the standalone bundle.\",new ve(n)}function Re({plugins:e,parser:t}){let r=$t(e,t);return Wt(r,t)}function Wt(e,t){let r=e.parsers[t];return typeof r==\"function\"?r():r}function Tn(e,t){let r=e.printers[t];return typeof r==\"function\"?r():r}var Nn={astFormat:\"estree\",printer:{},originalText:void 0,locStart:null,locEnd:null};async function Eo(e,t={}){var p;let r={...e};if(!r.parser)if(r.filepath){if(r.parser=on(r,{physicalFile:r.filepath}),!r.parser)throw new Le(`No parser could be inferred for file \"${r.filepath}\".`)}else throw new Le(\"No parser and no file path given, couldn't infer a parser.\");let n=Ze({plugins:e.plugins,showDeprecated:!0}).options,u={...Nn,...Object.fromEntries(n.filter(l=>l.default!==void 0).map(l=>[l.name,l.default]))},o=$t(r.plugins,r.parser),i=await Wt(o,r.parser);r.astFormat=i.astFormat,r.locEnd=i.locEnd,r.locStart=i.locStart;let s=(p=o.printers)!=null&&p[i.astFormat]?o:Sn(r.plugins,i.astFormat),a=await Tn(s,i.astFormat);r.printer=a;let c=s.defaultOptions?Object.fromEntries(Object.entries(s.defaultOptions).filter(([,l])=>l!==void 0)):{},D={...u,...c};for(let[l,F]of Object.entries(D))(r[l]===null||r[l]===void 0)&&(r[l]=F);return r.parser===\"json\"&&(r.trailingComma=\"none\"),kn(r,n,{passThrough:Object.keys(Nn),...t})}var ne=Eo;var vn=hu(Pn(),1);async function yo(e,t){let r=await Re(t),n=r.preprocess?r.preprocess(e,t):e;t.originalText=n;let u;try{u=await r.parse(n,t,t)}catch(o){Ao(o,e)}return{text:n,ast:u}}function Ao(e,t){let{loc:r}=e;if(r){let n=(0,vn.codeFrameColumns)(t,r,{highlightCode:!0});throw e.message+=`\n`+n,e.codeFrame=n,e}throw e}var De=yo;async function Ln(e,t,r,n,u){let{embeddedLanguageFormatting:o,printer:{embed:i,hasPrettierIgnore:s=()=>!1,getVisitorKeys:a}}=r;if(!i||o!==\"auto\")return;if(i.length>2)throw new Error(\"printer.embed has too many parameters. The API changed in Prettier v3. Please update your plugin. See https://prettier.io/docs/plugins#optional-embed\");let c=J(i.getVisitorKeys??a),D=[];F();let p=e.stack;for(let{print:f,node:d,pathStack:m}of D)try{e.stack=m;let C=await f(l,t,e,r);C&&u.set(d,C)}catch(C){if(globalThis.PRETTIER_DEBUG)throw C}e.stack=p;function l(f,d){return Bo(f,d,r,n)}function F(){let{node:f}=e;if(f===null||typeof f!=\"object\"||s(e))return;for(let m of c(f))Array.isArray(f[m])?e.each(F,m):e.call(F,m);let d=i(e,r);if(d){if(typeof d==\"function\"){D.push({print:d,node:f,pathStack:[...e.stack]});return}u.set(f,d)}}}async function Bo(e,t,r,n){let u=await ne({...r,...t,parentParser:r.parser,originalText:e,cursorOffset:void 0,rangeStart:void 0,rangeEnd:void 0},{passThrough:!0}),{ast:o}=await De(e,u),i=await n(o,u);return We(i)}function _o(e,t){let{originalText:r,[Symbol.for(\"comments\")]:n,locStart:u,locEnd:o,[Symbol.for(\"printedComments\")]:i}=t,{node:s}=e,a=u(s),c=o(s);for(let D of n)u(D)>=a&&o(D)<=c&&i.add(D);return r.slice(a,c)}var In=_o;async function Ye(e,t){({ast:e}=await Gt(e,t));let r=new Map,n=new Or(e),u=Kr(t),o=new Map;await Ln(n,s,t,Ye,o);let i=await Rn(n,t,s,void 0,o);if(Gr(t),t.cursorOffset>=0){if(t.nodeAfterCursor&&!t.nodeBeforeCursor)return[X,i];if(t.nodeBeforeCursor&&!t.nodeAfterCursor)return[i,X]}return i;function s(c,D){return c===void 0||c===n?a(D):Array.isArray(c)?n.call(()=>a(D),...c):n.call(()=>a(D),c)}function a(c){u(n);let D=n.node;if(D==null)return\"\";let p=D&&typeof D==\"object\"&&c===void 0;if(p&&r.has(D))return r.get(D);let l=Rn(n,t,s,c,o);return p&&r.set(D,l),l}}function Rn(e,t,r,n,u){var a;let{node:o}=e,{printer:i}=t,s;switch((a=i.hasPrettierIgnore)!=null&&a.call(i,e)?s=In(e,t):u.has(o)?s=u.get(o):s=i.print(e,t,r,n),o){case t.cursorNode:s=Fe(s,c=>[X,c,X]);break;case t.nodeBeforeCursor:s=Fe(s,c=>[c,X]);break;case t.nodeAfterCursor:s=Fe(s,c=>[X,c]);break}return i.printComment&&(!i.willPrintOwnComments||!i.willPrintOwnComments(e,t))&&(s=Mr(e,s,t)),s}async function Gt(e,t){let r=e.comments??[];t[Symbol.for(\"comments\")]=r,t[Symbol.for(\"printedComments\")]=new Set,Vr(e,t);let{printer:{preprocess:n}}=t;return e=n?await n(e,t):e,{ast:e,comments:r}}function xo(e,t){let{cursorOffset:r,locStart:n,locEnd:u}=t,o=J(t.printer.getVisitorKeys),i=F=>n(F)<=r&&u(F)>=r,s=e,a=[e];for(let F of Lr(e,{getVisitorKeys:o,filter:i}))a.push(F),s=F;if(Ir(s,{getVisitorKeys:o}))return{cursorNode:s};let c,D,p=-1,l=Number.POSITIVE_INFINITY;for(;a.length>0&&(c===void 0||D===void 0);){s=a.pop();let F=c!==void 0,f=D!==void 0;for(let d of Ce(s,{getVisitorKeys:o})){if(!F){let m=u(d);m<=r&&m>p&&(c=d,p=m)}if(!f){let m=n(d);m>=r&&m<l&&(D=d,l=m)}}}return{nodeBeforeCursor:c,nodeAfterCursor:D}}var Kt=xo;function wo(e,t){let{printer:{massageAstNode:r,getVisitorKeys:n}}=t;if(!r)return e;let u=J(n),o=r.ignoredProperties??new Set;return i(e);function i(s,a){if(!(s!==null&&typeof s==\"object\"))return s;if(Array.isArray(s))return s.map(l=>i(l,a)).filter(Boolean);let c={},D=new Set(u(s));for(let l in s)!Object.prototype.hasOwnProperty.call(s,l)||o.has(l)||(D.has(l)?c[l]=i(s[l],s):c[l]=s[l]);let p=r(s,c,a);if(p!==null)return p??c}}var Yn=wo;var bo=(e,t,r)=>{if(!(e&&t==null)){if(t.findLastIndex)return t.findLastIndex(r);for(let n=t.length-1;n>=0;n--){let u=t[n];if(r(u,n,t))return n}return-1}},jn=bo;var ko=({parser:e})=>e===\"json\"||e===\"json5\"||e===\"jsonc\"||e===\"json-stringify\";function So(e,t){let r=[e.node,...e.parentNodes],n=new Set([t.node,...t.parentNodes]);return r.find(u=>$n.has(u.type)&&n.has(u))}function Un(e){let t=jn(!1,e,r=>r.type!==\"Program\"&&r.type!==\"File\");return t===-1?e:e.slice(0,t+1)}function To(e,t,{locStart:r,locEnd:n}){let u=e.node,o=t.node;if(u===o)return{startNode:u,endNode:o};let i=r(e.node);for(let a of Un(t.parentNodes))if(r(a)>=i)o=a;else break;let s=n(t.node);for(let a of Un(e.parentNodes)){if(n(a)<=s)u=a;else break;if(u===o)break}return{startNode:u,endNode:o}}function zt(e,t,r,n,u=[],o){let{locStart:i,locEnd:s}=r,a=i(e),c=s(e);if(!(t>c||t<a||o===\"rangeEnd\"&&t===a||o===\"rangeStart\"&&t===c)){for(let D of Qe(e,r)){let p=zt(D,t,r,n,[e,...u],o);if(p)return p}if(!n||n(e,u[0]))return{node:e,parentNodes:u}}}function No(e,t){return t!==\"DeclareExportDeclaration\"&&e!==\"TypeParameterDeclaration\"&&(e===\"Directive\"||e===\"TypeAlias\"||e===\"TSExportAssignment\"||e.startsWith(\"Declare\")||e.startsWith(\"TSDeclare\")||e.endsWith(\"Statement\")||e.endsWith(\"Declaration\"))}var $n=new Set([\"JsonRoot\",\"ObjectExpression\",\"ArrayExpression\",\"StringLiteral\",\"NumericLiteral\",\"BooleanLiteral\",\"NullLiteral\",\"UnaryExpression\",\"TemplateLiteral\"]),Oo=new Set([\"OperationDefinition\",\"FragmentDefinition\",\"VariableDefinition\",\"TypeExtensionDefinition\",\"ObjectTypeDefinition\",\"FieldDefinition\",\"DirectiveDefinition\",\"EnumTypeDefinition\",\"EnumValueDefinition\",\"InputValueDefinition\",\"InputObjectTypeDefinition\",\"SchemaDefinition\",\"OperationTypeDefinition\",\"InterfaceTypeDefinition\",\"UnionTypeDefinition\",\"ScalarTypeDefinition\"]);function Vn(e,t,r){if(!t)return!1;switch(e.parser){case\"flow\":case\"hermes\":case\"babel\":case\"babel-flow\":case\"babel-ts\":case\"typescript\":case\"acorn\":case\"espree\":case\"meriyah\":case\"oxc\":case\"oxc-ts\":case\"__babel_estree\":return No(t.type,r==null?void 0:r.type);case\"json\":case\"json5\":case\"jsonc\":case\"json-stringify\":return $n.has(t.type);case\"graphql\":return Oo.has(t.kind);case\"vue\":return t.tag!==\"root\"}return!1}function Wn(e,t,r){let{rangeStart:n,rangeEnd:u,locStart:o,locEnd:i}=t;Oe.ok(u>n);let s=e.slice(n,u).search(/\\S/u),a=s===-1;if(!a)for(n+=s;u>n&&!/\\S/u.test(e[u-1]);--u);let c=zt(r,n,t,(F,f)=>Vn(t,F,f),[],\"rangeStart\"),D=a?c:zt(r,u,t,F=>Vn(t,F),[],\"rangeEnd\");if(!c||!D)return{rangeStart:0,rangeEnd:0};let p,l;if(ko(t)){let F=So(c,D);p=F,l=F}else({startNode:p,endNode:l}=To(c,D,t));return{rangeStart:Math.min(o(p),o(l)),rangeEnd:Math.max(i(p),i(l))}}var zn=\"\\uFEFF\",Mn=Symbol(\"cursor\");async function Hn(e,t,r=0){if(!e||e.trim().length===0)return{formatted:\"\",cursorOffset:-1,comments:[]};let{ast:n,text:u}=await De(e,t);t.cursorOffset>=0&&(t={...t,...Kt(n,t)});let o=await Ye(n,t,r);r>0&&(o=Ke([z,o],r,t.tabWidth));let i=me(o,t);if(r>0){let a=i.formatted.trim();i.cursorNodeStart!==void 0&&(i.cursorNodeStart-=i.formatted.indexOf(a),i.cursorNodeStart<0&&(i.cursorNodeStart=0,i.cursorNodeText=i.cursorNodeText.trimStart()),i.cursorNodeStart+i.cursorNodeText.length>a.length&&(i.cursorNodeText=i.cursorNodeText.trimEnd())),i.formatted=a+xe(t.endOfLine)}let s=t[Symbol.for(\"comments\")];if(t.cursorOffset>=0){let a,c,D,p;if((t.cursorNode||t.nodeBeforeCursor||t.nodeAfterCursor)&&i.cursorNodeText)if(D=i.cursorNodeStart,p=i.cursorNodeText,t.cursorNode)a=t.locStart(t.cursorNode),c=u.slice(a,t.locEnd(t.cursorNode));else{if(!t.nodeBeforeCursor&&!t.nodeAfterCursor)throw new Error(\"Cursor location must contain at least one of cursorNode, nodeBeforeCursor, nodeAfterCursor\");a=t.nodeBeforeCursor?t.locEnd(t.nodeBeforeCursor):0;let C=t.nodeAfterCursor?t.locStart(t.nodeAfterCursor):u.length;c=u.slice(a,C)}else a=0,c=u,D=0,p=i.formatted;let l=t.cursorOffset-a;if(c===p)return{formatted:i.formatted,cursorOffset:D+l,comments:s};let F=c.split(\"\");F.splice(l,0,Mn);let f=p.split(\"\"),d=Et(F,f),m=D;for(let C of d)if(C.removed){if(C.value.includes(Mn))break}else m+=C.count;return{formatted:i.formatted,cursorOffset:m,comments:s}}return{formatted:i.formatted,cursorOffset:-1,comments:s}}async function Po(e,t){let{ast:r,text:n}=await De(e,t),{rangeStart:u,rangeEnd:o}=Wn(n,t,r),i=n.slice(u,o),s=Math.min(u,n.lastIndexOf(`\n`,u)+1),a=n.slice(s,u).match(/^\\s*/u)[0],c=Ee(a,t.tabWidth),D=await Hn(i,{...t,rangeStart:0,rangeEnd:Number.POSITIVE_INFINITY,cursorOffset:t.cursorOffset>u&&t.cursorOffset<=o?t.cursorOffset-u:-1,endOfLine:\"lf\"},c),p=D.formatted.trimEnd(),{cursorOffset:l}=t;l>o?l+=p.length-i.length:D.cursorOffset>=0&&(l=D.cursorOffset+u);let F=n.slice(0,u)+p+n.slice(o);if(t.endOfLine!==\"lf\"){let f=xe(t.endOfLine);l>=0&&f===`\\r\n`&&(l+=Ct(F.slice(0,l),`\n`)),F=te(!1,F,`\n`,f)}return{formatted:F,cursorOffset:l,comments:D.comments}}function Ht(e,t,r){return typeof t!=\"number\"||Number.isNaN(t)||t<0||t>e.length?r:t}function Gn(e,t){let{cursorOffset:r,rangeStart:n,rangeEnd:u}=t;return r=Ht(e,r,-1),n=Ht(e,n,0),u=Ht(e,u,e.length),{...t,cursorOffset:r,rangeStart:n,rangeEnd:u}}function Jn(e,t){let{cursorOffset:r,rangeStart:n,rangeEnd:u,endOfLine:o}=Gn(e,t),i=e.charAt(0)===zn;if(i&&(e=e.slice(1),r--,n--,u--),o===\"auto\"&&(o=nr(e)),e.includes(\"\\r\")){let s=a=>Ct(e.slice(0,Math.max(a,0)),`\\r\n`);r-=s(r),n-=s(n),u-=s(u),e=ur(e)}return{hasBOM:i,text:e,options:Gn(e,{...t,cursorOffset:r,rangeStart:n,rangeEnd:u,endOfLine:o})}}async function Kn(e,t){let r=await Re(t);return!r.hasPragma||r.hasPragma(e)}async function vo(e,t){var n;let r=await Re(t);return(n=r.hasIgnorePragma)==null?void 0:n.call(r,e)}async function Jt(e,t){let{hasBOM:r,text:n,options:u}=Jn(e,await ne(t));if(u.rangeStart>=u.rangeEnd&&n!==\"\"||u.requirePragma&&!await Kn(n,u)||u.checkIgnorePragma&&await vo(n,u))return{formatted:e,cursorOffset:t.cursorOffset,comments:[]};let o;return u.rangeStart>0||u.rangeEnd<n.length?o=await Po(n,u):(!u.requirePragma&&u.insertPragma&&u.printer.insertPragma&&!await Kn(n,u)&&(n=u.printer.insertPragma(n)),o=await Hn(n,u)),r&&(o.formatted=zn+o.formatted,o.cursorOffset>=0&&o.cursorOffset++),o}async function qn(e,t,r){let{text:n,options:u}=Jn(e,await ne(t)),o=await De(n,u);return r&&(r.preprocessForPrint&&(o.ast=await Gt(o.ast,u)),r.massage&&(o.ast=Yn(o.ast,u))),o}async function Xn(e,t){t=await ne(t);let r=await Ye(e,t);return me(r,t)}async function Qn(e,t){let r=wr(e),{formatted:n}=await Jt(r,{...t,parser:\"__js_expression\"});return n}async function Zn(e,t){t=await ne(t);let{ast:r}=await De(e,t);return t.cursorOffset>=0&&(t={...t,...Kt(r,t)}),Ye(r,t)}async function eu(e,t){return me(e,await ne(t))}var qt={};dt(qt,{builders:()=>Io,printer:()=>Ro,utils:()=>Yo});var Io={join:ke,line:Ge,softline:_r,hardline:z,literalline:Me,group:At,conditionalGroup:Cr,fill:hr,lineSuffix:Se,lineSuffixBoundary:Ar,cursor:X,breakParent:pe,ifBreak:gr,trim:Br,indent:ie,indentIfBreak:yr,align:oe,addAlignmentToDoc:Ke,markAsRoot:mr,dedentToRoot:dr,dedent:Er,hardlineWithoutBreakParent:Te,literallineWithoutBreakParent:Bt,label:xr,concat:e=>e},Ro={printDocToString:me},Yo={willBreak:Dr,traverseDoc:le,findInDoc:$e,mapDoc:be,removeLines:fr,stripTrailingHardline:We,replaceEndOfLine:lr,canBreak:Fr};var tu=\"3.6.2\";var Qt={};dt(Qt,{addDanglingComment:()=>ee,addLeadingComment:()=>se,addTrailingComment:()=>ae,getAlignmentSize:()=>Ee,getIndentSize:()=>ru,getMaxContinuousCount:()=>nu,getNextNonSpaceNonCommentCharacter:()=>uu,getNextNonSpaceNonCommentCharacterIndex:()=>Xo,getPreferredQuote:()=>iu,getStringWidth:()=>Ne,hasNewline:()=>G,hasNewlineInRange:()=>su,hasSpaces:()=>au,isNextLineEmpty:()=>ti,isNextLineEmptyAfterIndex:()=>ft,isPreviousLineEmpty:()=>Zo,makeString:()=>Du,skip:()=>he,skipEverythingButNewLine:()=>qe,skipInlineComment:()=>ye,skipNewline:()=>U,skipSpaces:()=>T,skipToLineEnd:()=>Je,skipTrailingComment:()=>Ae,skipWhitespace:()=>Rr});function jo(e,t){if(t===!1)return!1;if(e.charAt(t)===\"/\"&&e.charAt(t+1)===\"*\"){for(let r=t+2;r<e.length;++r)if(e.charAt(r)===\"*\"&&e.charAt(r+1)===\"/\")return r+2}return t}var ye=jo;function Uo(e,t){return t===!1?!1:e.charAt(t)===\"/\"&&e.charAt(t+1)===\"/\"?qe(e,t):t}var Ae=Uo;function Vo(e,t){let r=null,n=t;for(;n!==r;)r=n,n=T(e,n),n=ye(e,n),n=Ae(e,n),n=U(e,n);return n}var je=Vo;function $o(e,t){let r=null,n=t;for(;n!==r;)r=n,n=Je(e,n),n=ye(e,n),n=T(e,n);return n=Ae(e,n),n=U(e,n),n!==!1&&G(e,n)}var ft=$o;function Wo(e,t){let r=e.lastIndexOf(`\n`);return r===-1?0:Ee(e.slice(r+1).match(/^[\\t ]*/u)[0],t)}var ru=Wo;function Xt(e){if(typeof e!=\"string\")throw new TypeError(\"Expected a string\");return e.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}function Mo(e,t){let r=e.match(new RegExp(`(${Xt(t)})+`,\"gu\"));return r===null?0:r.reduce((n,u)=>Math.max(n,u.length/t.length),0)}var nu=Mo;function Go(e,t){let r=je(e,t);return r===!1?\"\":e.charAt(r)}var uu=Go;var lt=\"'\",ou='\"';function Ko(e,t){let r=t===!0||t===lt?lt:ou,n=r===lt?ou:lt,u=0,o=0;for(let i of e)i===r?u++:i===n&&o++;return u>o?n:r}var iu=Ko;function zo(e,t,r){for(let n=t;n<r;++n)if(e.charAt(n)===`\n`)return!0;return!1}var su=zo;function Ho(e,t,r={}){return T(e,r.backwards?t-1:t,r)!==t}var au=Ho;function Jo(e,t,r){let n=t==='\"'?\"'\":'\"',o=te(!1,e,/\\\\(.)|([\"'])/gsu,(i,s,a)=>s===n?s:a===t?\"\\\\\"+a:a||(r&&/^[^\\n\\r\"'0-7\\\\bfnrt-vx\\u2028\\u2029]$/u.test(s)?s:\"\\\\\"+s));return t+o+t}var Du=Jo;function qo(e,t,r){return je(e,r(t))}function Xo(e,t){return arguments.length===2||typeof t==\"number\"?je(e,t):qo(...arguments)}function Qo(e,t,r){return Pe(e,r(t))}function Zo(e,t){return arguments.length===2||typeof t==\"number\"?Pe(e,t):Qo(...arguments)}function ei(e,t,r){return ft(e,r(t))}function ti(e,t){return arguments.length===2||typeof t==\"number\"?ft(e,t):ei(...arguments)}function ce(e,t=1){return async(...r)=>{let n=r[t]??{},u=n.plugins??[];return r[t]={...n,plugins:Array.isArray(u)?u:Object.values(u)},e(...r)}}var cu=ce(Jt);async function fu(e,t){let{formatted:r}=await cu(e,{...t,cursorOffset:-1});return r}async function ri(e,t){return await fu(e,t)===e}var ni=ce(Ze,0),ui={parse:ce(qn),formatAST:ce(Xn),formatDoc:ce(Qn),printToDoc:ce(Zn),printDocToString:ce(eu)};return gu(oi);});","import languages from \"./languages.js\";\nimport parser from \"./parser.js\";\nimport printer from \"./printer.js\";\n\nconst plugin = {\n  languages,\n  parsers: {\n    xml: parser\n  },\n  printers: {\n    xml: printer\n  },\n  options: {\n    xmlSelfClosingSpace: {\n      type: \"boolean\",\n      category: \"XML\",\n      default: true,\n      description: \"Adds a space before self-closing tags.\",\n      since: \"1.1.0\"\n    },\n    xmlWhitespaceSensitivity: {\n      type: \"choice\",\n      category: \"XML\",\n      default: \"strict\",\n      description: \"How to handle whitespaces in XML.\",\n      choices: [\n        {\n          value: \"strict\",\n          description: \"Whitespaces are considered sensitive in all elements.\"\n        },\n        {\n          value: \"preserve\",\n          description:\n            \"Whitespaces within text nodes in XML elements and attributes are considered sensitive.\"\n        },\n        {\n          value: \"ignore\",\n          description: \"Whitespaces are considered insensitive in all elements.\"\n        }\n      ],\n      since: \"0.6.0\"\n    },\n    xmlSortAttributesByKey: {\n      type: \"boolean\",\n      category: \"XML\",\n      default: false,\n      description:\n        \"Orders XML attributes by key alphabetically while prioritizing xmlns attributes.\"\n    },\n    xmlQuoteAttributes: {\n      type: \"choice\",\n      category: \"XML\",\n      default: \"preserve\",\n      description: \"How to handle whitespaces in XML.\",\n      choices: [\n        {\n          value: \"preserve\",\n          description:\n            \"Quotes in attribute values will be preserved as written.\"\n        },\n        {\n          value: \"single\",\n          description:\n            \"Quotes in attribute values will be converted to consistent single quotes and other quotes in the string will be escaped.\"\n        },\n        {\n          value: \"double\",\n          description:\n            \"Quotes in attribute values will be converted to consistent double quotes and other quotes in the string will be escaped.\"\n        }\n      ]\n    }\n  },\n  defaultOptions: {\n    printWidth: 80,\n    tabWidth: 2\n  }\n};\n\nexport default plugin;\n","export default [\n  {\n    name: \"Ant Build System\",\n    tmScope: \"text.xml.ant\",\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"application/xml\",\n    filenames: [\"ant.xml\", \"build.xml\"],\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 15,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"COLLADA\",\n    extensions: [\".dae\"],\n    tmScope: \"text.xml\",\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 49,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"Eagle\",\n    extensions: [\".sch\", \".brd\"],\n    tmScope: \"text.xml\",\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 97,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"Genshi\",\n    extensions: [\".kid\"],\n    tmScope: \"text.xml.genshi\",\n    aliases: [\"xml+genshi\", \"xml+kid\"],\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 126,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"JetBrains MPS\",\n    extensions: [\".mps\", \".mpl\", \".msd\"],\n    tmScope: \"none\",\n    aliases: [\"mps\"],\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 465165328,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"LabVIEW\",\n    extensions: [\".lvproj\", \".lvclass\", \".lvlib\"],\n    tmScope: \"text.xml\",\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 194,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"Maven POM\",\n    tmScope: \"text.xml.pom\",\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    group: \"XML\",\n    filenames: [\"pom.xml\"],\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 226,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"SVG\",\n    extensions: [\".svg\"],\n    tmScope: \"text.xml.svg\",\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 337,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"Web Ontology Language\",\n    extensions: [\".owl\"],\n    tmScope: \"text.xml\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 394,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"XML\",\n    extensions: [\n      \".adml\",\n      \".admx\",\n      \".ant\",\n      \".axaml\",\n      \".axml\",\n      \".builds\",\n      \".ccproj\",\n      \".ccxml\",\n      \".clixml\",\n      \".cproject\",\n      \".cscfg\",\n      \".csdef\",\n      \".csl\",\n      \".csproj\",\n      \".ct\",\n      \".depproj\",\n      \".dita\",\n      \".ditamap\",\n      \".ditaval\",\n      \".dll.config\",\n      \".dotsettings\",\n      \".filters\",\n      \".fsproj\",\n      \".fxml\",\n      \".glade\",\n      \".gml\",\n      \".gmx\",\n      \".gpx\",\n      \".grxml\",\n      \".gst\",\n      \".hzp\",\n      \".iml\",\n      \".inx\",\n      \".ivy\",\n      \".jelly\",\n      \".jsproj\",\n      \".kml\",\n      \".launch\",\n      \".mdpolicy\",\n      \".mjml\",\n      \".mm\",\n      \".mod\",\n      \".mojo\",\n      \".mxml\",\n      \".natvis\",\n      \".ncl\",\n      \".ndproj\",\n      \".nproj\",\n      \".nuspec\",\n      \".odd\",\n      \".osm\",\n      \".pkgproj\",\n      \".pluginspec\",\n      \".proj\",\n      \".props\",\n      \".ps1xml\",\n      \".psc1\",\n      \".pt\",\n      \".qhelp\",\n      \".rdf\",\n      \".res\",\n      \".resx\",\n      \".rs\",\n      \".rss\",\n      \".runsettings\",\n      \".sch\",\n      \".scxml\",\n      \".sfproj\",\n      \".shproj\",\n      \".slnx\",\n      \".srdf\",\n      \".storyboard\",\n      \".sublime-snippet\",\n      \".sw\",\n      \".targets\",\n      \".tml\",\n      \".typ\",\n      \".ui\",\n      \".urdf\",\n      \".ux\",\n      \".vbproj\",\n      \".vcxproj\",\n      \".vsixmanifest\",\n      \".vssettings\",\n      \".vstemplate\",\n      \".vxml\",\n      \".wixproj\",\n      \".workflow\",\n      \".wsdl\",\n      \".wsf\",\n      \".wxi\",\n      \".wxl\",\n      \".wxs\",\n      \".x3d\",\n      \".xacro\",\n      \".xaml\",\n      \".xib\",\n      \".xlf\",\n      \".xliff\",\n      \".xmi\",\n      \".xml\",\n      \".xml.dist\",\n      \".xmp\",\n      \".xproj\",\n      \".xsd\",\n      \".xspec\",\n      \".xul\",\n      \".zcml\"\n    ],\n    tmScope: \"text.xml\",\n    aliases: [\"rss\", \"xsd\", \"wsdl\"],\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    filenames: [\n      \".classpath\",\n      \".cproject\",\n      \".project\",\n      \"App.config\",\n      \"NuGet.config\",\n      \"Settings.StyleCop\",\n      \"Web.Debug.config\",\n      \"Web.Release.config\",\n      \"Web.config\",\n      \"packages.config\"\n    ],\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 399,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"XML Property List\",\n    extensions: [\n      \".plist\",\n      \".stTheme\",\n      \".tmCommand\",\n      \".tmLanguage\",\n      \".tmPreferences\",\n      \".tmSnippet\",\n      \".tmTheme\"\n    ],\n    tmScope: \"text.xml.plist\",\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    group: \"XML\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 75622871,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"XPages\",\n    extensions: [\".xsp-config\", \".xsp.metadata\"],\n    tmScope: \"text.xml\",\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 400,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"XProc\",\n    extensions: [\".xpl\", \".xproc\"],\n    tmScope: \"text.xml\",\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 401,\n    vscodeLanguageIds: [\"xml\"]\n  },\n  {\n    name: \"XSLT\",\n    extensions: [\".xslt\", \".xsl\"],\n    tmScope: \"text.xml.xsl\",\n    aliases: [\"xsl\"],\n    codemirrorMode: \"xml\",\n    codemirrorMimeType: \"text/xml\",\n    since: \"0.1.0\",\n    parsers: [\"xml\"],\n    linguistLanguageId: 404,\n    vscodeLanguageIds: [\"xml\"]\n  }\n];\n","import { parse as xmlToolsParse } from \"@xml-tools/parser\";\n\nfunction createError(message, options) {\n  // TODO: Use `Error.prototype.cause` when we drop support for Node.js<18.7.0\n\n  // Construct an error similar to the ones thrown by Prettier.\n  const error = new SyntaxError(\n    message +\n      \" (\" +\n      options.loc.start.line +\n      \":\" +\n      options.loc.start.column +\n      \")\"\n  );\n\n  return Object.assign(error, options);\n}\n\nfunction simplifyCST(node) {\n  switch (node.name) {\n    case \"attribute\": {\n      const { Name, EQUALS, STRING } = node.children;\n\n      return {\n        name: \"attribute\",\n        Name: Name[0].image,\n        EQUALS: EQUALS[0].image,\n        STRING: STRING[0].image,\n        location: node.location\n      };\n    }\n    case \"chardata\": {\n      const { SEA_WS, TEXT } = node.children;\n\n      return {\n        name: \"chardata\",\n        SEA_WS: SEA_WS ? SEA_WS[0].image : null,\n        TEXT: TEXT ? TEXT[0].image : null,\n        location: node.location\n      };\n    }\n    case \"content\": {\n      const {\n        CData,\n        Comment,\n        chardata,\n        element,\n        PROCESSING_INSTRUCTION,\n        reference\n      } = node.children;\n\n      return {\n        name: \"content\",\n        CData: CData || [],\n        Comment: Comment || [],\n        chardata: (chardata || []).map(simplifyCST),\n        element: (element || []).map(simplifyCST),\n        PROCESSING_INSTRUCTION: PROCESSING_INSTRUCTION || [],\n        reference: (reference || []).map(simplifyCST),\n        location: node.location\n      };\n    }\n    case \"docTypeDecl\": {\n      const { DocType, Name, externalID, CLOSE } = node.children;\n\n      return {\n        name: \"docTypeDecl\",\n        DocType: DocType[0].image,\n        Name: Name[0].image,\n        externalID: externalID ? simplifyCST(externalID[0]) : null,\n        CLOSE: CLOSE[0].image,\n        location: node.location\n      };\n    }\n    case \"document\": {\n      const { docTypeDecl, element, misc, prolog } = node.children;\n\n      return {\n        name: \"document\",\n        docTypeDecl: docTypeDecl ? simplifyCST(docTypeDecl[0]) : null,\n        element: element ? simplifyCST(element[0]) : null,\n        misc: (misc || [])\n          .filter((child) => !child.children.SEA_WS)\n          .map(simplifyCST),\n        prolog: prolog ? simplifyCST(prolog[0]) : null,\n        location: node.location\n      };\n    }\n    case \"element\": {\n      const {\n        OPEN,\n        Name,\n        attribute,\n        START_CLOSE,\n        content,\n        SLASH_OPEN,\n        END_NAME,\n        END,\n        SLASH_CLOSE\n      } = node.children;\n\n      return {\n        name: \"element\",\n        OPEN: OPEN[0].image,\n        Name: Name[0].image,\n        attribute: (attribute || []).map(simplifyCST),\n        START_CLOSE: START_CLOSE ? START_CLOSE[0].image : null,\n        content: content ? simplifyCST(content[0]) : null,\n        SLASH_OPEN: SLASH_OPEN ? SLASH_OPEN[0].image : null,\n        END_NAME: END_NAME ? END_NAME[0].image : null,\n        END: END ? END[0].image : null,\n        SLASH_CLOSE: SLASH_CLOSE ? SLASH_CLOSE[0].image : null,\n        location: node.location\n      };\n    }\n    case \"externalID\": {\n      const { Public, PubIDLiteral, System, SystemLiteral } = node.children;\n\n      return {\n        name: \"externalID\",\n        Public: Public ? Public[0].image : null,\n        PubIDLiteral: PubIDLiteral ? PubIDLiteral[0].image : null,\n        System: System ? System[0].image : null,\n        SystemLiteral: SystemLiteral ? SystemLiteral[0].image : null,\n        location: node.location\n      };\n    }\n    case \"misc\": {\n      const { Comment, PROCESSING_INSTRUCTION, SEA_WS } = node.children;\n\n      return {\n        name: \"misc\",\n        Comment: Comment ? Comment[0].image : null,\n        PROCESSING_INSTRUCTION: PROCESSING_INSTRUCTION\n          ? PROCESSING_INSTRUCTION[0].image\n          : null,\n        SEA_WS: SEA_WS ? SEA_WS[0].image : null,\n        location: node.location\n      };\n    }\n    case \"prolog\": {\n      const { XMLDeclOpen, attribute, SPECIAL_CLOSE } = node.children;\n\n      return {\n        name: \"prolog\",\n        XMLDeclOpen: XMLDeclOpen[0].image,\n        attribute: (attribute || []).map(simplifyCST),\n        SPECIAL_CLOSE: SPECIAL_CLOSE[0].image,\n        location: node.location\n      };\n    }\n    case \"reference\": {\n      const { CharRef, EntityRef } = node.children;\n\n      return {\n        name: \"reference\",\n        CharRef: CharRef ? CharRef[0].image : null,\n        EntityRef: EntityRef ? EntityRef[0].image : null,\n        location: node.location\n      };\n    }\n    default:\n      throw new Error(`Unknown node type: ${node.name}`);\n  }\n}\n\nconst parser = {\n  parse(text) {\n    const { lexErrors, parseErrors, cst } = xmlToolsParse(text);\n\n    // If there are any lexical errors, throw the first of them as an error.\n    if (lexErrors.length > 0) {\n      const lexError = lexErrors[0];\n      throw createError(lexError.message, {\n        loc: {\n          start: { line: lexError.line, column: lexError.column },\n          end: {\n            line: lexError.line,\n            column: lexError.column + lexError.length\n          }\n        }\n      });\n    }\n\n    // If there are any parse errors, throw the first of them as an error.\n    if (parseErrors.length > 0) {\n      const parseError = parseErrors[0];\n      throw createError(parseError.message, {\n        loc: {\n          start: {\n            line: parseError.token.startLine,\n            column: parseError.token.startColumn\n          },\n          end: {\n            line: parseError.token.endLine,\n            column: parseError.token.endColumn\n          }\n        }\n      });\n    }\n\n    // Otherwise return the CST.\n    return simplifyCST(cst);\n  },\n  astFormat: \"xml\",\n  locStart(node) {\n    return node.location.startOffset;\n  },\n  locEnd(node) {\n    return node.location.endOffset;\n  }\n};\n\nexport default parser;\n","const { xmlLexer } = require(\"./lexer\");\nconst { xmlParser } = require(\"./parser\");\n\nmodule.exports = {\n  parse: function parse(text) {\n    const lexResult = xmlLexer.tokenize(text);\n    // setting a new input will RESET the parser instance's state.\n    xmlParser.input = lexResult.tokens;\n    // any top level rule may be used as an entry point\n    const cst = xmlParser.document();\n\n    return {\n      cst: cst,\n      tokenVector: lexResult.tokens,\n      lexErrors: lexResult.errors,\n      parseErrors: xmlParser.errors,\n    };\n  },\n\n  BaseXmlCstVisitor: xmlParser.getBaseCstVisitorConstructor(),\n};\n","const { createToken: createTokenOrg, Lexer } = require(\"chevrotain\");\n\n// A little mini DSL for easier lexer definition.\nconst fragments = {};\nconst f = fragments;\n\nfunction FRAGMENT(name, def) {\n  fragments[name] = typeof def === \"string\" ? def : def.source;\n}\n\nfunction makePattern(strings, ...args) {\n  let combined = \"\";\n  for (let i = 0; i < strings.length; i++) {\n    combined += strings[i];\n    if (i < args.length) {\n      let pattern = args[i];\n      // By wrapping in a RegExp (none) capturing group\n      // We enabled the safe usage of qualifiers and assertions.\n      combined += `(?:${pattern})`;\n    }\n  }\n  return new RegExp(combined);\n}\n\nconst tokensArray = [];\nconst tokensDictionary = {};\n\nfunction createToken(options) {\n  const newTokenType = createTokenOrg(options);\n  tokensArray.push(newTokenType);\n  tokensDictionary[options.name] = newTokenType;\n  return newTokenType;\n}\n\nFRAGMENT(\n  \"NameStartChar\",\n  \"(:|[a-zA-Z]|_|\\\\u2070-\\\\u218F|\\\\u2C00-\\\\u2FEF|\\\\u3001-\\\\uD7FF|\\\\uF900-\\\\uFDCF|\\\\uFDF0-\\\\uFFFD)\"\n);\n\nFRAGMENT(\n  \"NameChar\",\n  makePattern`${f.NameStartChar}|-|\\\\.|\\\\d|\\\\u00B7||[\\\\u0300-\\\\u036F]|[\\\\u203F-\\\\u2040]`\n);\nFRAGMENT(\"Name\", makePattern`${f.NameStartChar}(${f.NameChar})*`);\n\nconst Comment = createToken({\n  name: \"Comment\",\n  pattern: /<!--(.|\\r?\\n)*?-->/,\n  // A Comment may span multiple lines.\n  line_breaks: true,\n});\n\nconst CData = createToken({\n  name: \"CData\",\n  pattern: /<!\\[CDATA\\[(.|\\r?\\n)*?]]>/,\n  line_breaks: true,\n});\n\nconst DocType = createToken({\n  name: \"DocType\",\n  pattern: /<!DOCTYPE/,\n  push_mode: \"INSIDE\",\n});\n\nconst IgnoredDTD = createToken({\n  name: \"DTD\",\n  pattern: /<!.*?>/,\n  group: Lexer.SKIPPED,\n});\n\nconst EntityRef = createToken({\n  name: \"EntityRef\",\n  pattern: makePattern`&${f.Name};`,\n});\n\nconst CharRef = createToken({\n  name: \"CharRef\",\n  pattern: /&#\\d+;|&#x[a-fA-F0-9]/,\n});\n\nconst SEA_WS = createToken({\n  name: \"SEA_WS\",\n  pattern: /( |\\t|\\n|\\r\\n)+/,\n});\n\nconst XMLDeclOpen = createToken({\n  name: \"XMLDeclOpen\",\n  pattern: /<\\?xml[ \\t\\r\\n]/,\n  push_mode: \"INSIDE\",\n});\n\nconst SLASH_OPEN = createToken({\n  name: \"SLASH_OPEN\",\n  pattern: /<\\//,\n  push_mode: \"INSIDE\",\n});\n\nconst INVALID_SLASH_OPEN = createToken({\n  name: \"INVALID_SLASH_OPEN\",\n  pattern: /<\\//,\n  categories: [SLASH_OPEN],\n});\n\nconst PROCESSING_INSTRUCTION = createToken({\n  name: \"PROCESSING_INSTRUCTION\",\n  pattern: makePattern`<\\\\?${f.Name}.*\\\\?>`,\n});\n\nconst OPEN = createToken({ name: \"OPEN\", pattern: /</, push_mode: \"INSIDE\" });\n// Meant to avoid skipping '<' token in a partial sequence of elements.\n// Example of the problem this solves:\n// <\n// <from>john</from>\n//  - The second '<' will be skipped because in the mode \"INSIDE\" '<' is not recognized.\n//  - This means the AST will include only a single element instead of two\nconst INVALID_OPEN_INSIDE = createToken({\n  name: \"INVALID_OPEN_INSIDE\",\n  pattern: /</,\n  categories: [OPEN],\n});\n\nconst TEXT = createToken({ name: \"TEXT\", pattern: /[^<&]+/ });\n\nconst CLOSE = createToken({ name: \"CLOSE\", pattern: />/, pop_mode: true });\n\nconst SPECIAL_CLOSE = createToken({\n  name: \"SPECIAL_CLOSE\",\n  pattern: /\\?>/,\n  pop_mode: true,\n});\n\nconst SLASH_CLOSE = createToken({\n  name: \"SLASH_CLOSE\",\n  pattern: /\\/>/,\n  pop_mode: true,\n});\n\nconst SLASH = createToken({ name: \"SLASH\", pattern: /\\// });\n\nconst STRING = createToken({\n  name: \"STRING\",\n  pattern: /\"[^<\"]*\"|'[^<']*'/,\n});\n\nconst EQUALS = createToken({ name: \"EQUALS\", pattern: /=/ });\n\nconst Name = createToken({ name: \"Name\", pattern: makePattern`${f.Name}` });\n\nconst S = createToken({\n  name: \"S\",\n  pattern: /[ \\t\\r\\n]/,\n  group: Lexer.SKIPPED,\n});\n\nconst xmlLexerDefinition = {\n  defaultMode: \"OUTSIDE\",\n\n  modes: {\n    OUTSIDE: [\n      Comment,\n      CData,\n      DocType,\n      IgnoredDTD,\n      EntityRef,\n      CharRef,\n      SEA_WS,\n      XMLDeclOpen,\n      SLASH_OPEN,\n      PROCESSING_INSTRUCTION,\n      OPEN,\n      TEXT,\n    ],\n    INSIDE: [\n      // Tokens from `OUTSIDE` to improve error recovery behavior\n      Comment,\n      INVALID_SLASH_OPEN,\n      INVALID_OPEN_INSIDE,\n      // \"Real\" `INSIDE` tokens\n      CLOSE,\n      SPECIAL_CLOSE,\n      SLASH_CLOSE,\n      SLASH,\n      EQUALS,\n      STRING,\n      Name,\n      S,\n    ],\n  },\n};\n\nconst xmlLexer = new Lexer(xmlLexerDefinition, {\n  // Reducing the amount of position tracking can provide a small performance boost (<10%)\n  // Likely best to keep the full info for better error position reporting and\n  // to expose \"fuller\" ITokens from the Lexer.\n  positionTracking: \"full\",\n  ensureOptimizations: false,\n\n  // TODO: inspect definitions for XML line terminators\n  lineTerminatorCharacters: [\"\\n\"],\n  lineTerminatorsPattern: /\\n|\\r\\n/g,\n});\n\nmodule.exports = {\n  xmlLexer,\n  tokensDictionary,\n};\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,";(function(root, factory) {\n    // istanbul ignore next\n    if (typeof define === \"function\" && define.amd) {\n        // istanbul ignore next\n        define([], factory)\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory()\n    } else {\n        // istanbul ignore next\n        root.regexpToAst = factory()\n    }\n})(\n    typeof self !== \"undefined\"\n        ? // istanbul ignore next\n          self\n        : this,\n    function() {\n        // references\n        // https://hackernoon.com/the-madness-of-parsing-real-world-javascript-regexps-d9ee336df983\n        // https://www.ecma-international.org/ecma-262/8.0/index.html#prod-Pattern\n        function RegExpParser() {}\n\n        RegExpParser.prototype.saveState = function() {\n            return {\n                idx: this.idx,\n                input: this.input,\n                groupIdx: this.groupIdx\n            }\n        }\n\n        RegExpParser.prototype.restoreState = function(newState) {\n            this.idx = newState.idx\n            this.input = newState.input\n            this.groupIdx = newState.groupIdx\n        }\n\n        RegExpParser.prototype.pattern = function(input) {\n            // parser state\n            this.idx = 0\n            this.input = input\n            this.groupIdx = 0\n\n            this.consumeChar(\"/\")\n            var value = this.disjunction()\n            this.consumeChar(\"/\")\n\n            var flags = {\n                type: \"Flags\",\n                loc: { begin: this.idx, end: input.length },\n                global: false,\n                ignoreCase: false,\n                multiLine: false,\n                unicode: false,\n                sticky: false\n            }\n\n            while (this.isRegExpFlag()) {\n                switch (this.popChar()) {\n                    case \"g\":\n                        addFlag(flags, \"global\")\n                        break\n                    case \"i\":\n                        addFlag(flags, \"ignoreCase\")\n                        break\n                    case \"m\":\n                        addFlag(flags, \"multiLine\")\n                        break\n                    case \"u\":\n                        addFlag(flags, \"unicode\")\n                        break\n                    case \"y\":\n                        addFlag(flags, \"sticky\")\n                        break\n                }\n            }\n\n            if (this.idx !== this.input.length) {\n                throw Error(\n                    \"Redundant input: \" + this.input.substring(this.idx)\n                )\n            }\n            return {\n                type: \"Pattern\",\n                flags: flags,\n                value: value,\n                loc: this.loc(0)\n            }\n        }\n\n        RegExpParser.prototype.disjunction = function() {\n            var alts = []\n            var begin = this.idx\n\n            alts.push(this.alternative())\n\n            while (this.peekChar() === \"|\") {\n                this.consumeChar(\"|\")\n                alts.push(this.alternative())\n            }\n\n            return { type: \"Disjunction\", value: alts, loc: this.loc(begin) }\n        }\n\n        RegExpParser.prototype.alternative = function() {\n            var terms = []\n            var begin = this.idx\n\n            while (this.isTerm()) {\n                terms.push(this.term())\n            }\n\n            return { type: \"Alternative\", value: terms, loc: this.loc(begin) }\n        }\n\n        RegExpParser.prototype.term = function() {\n            if (this.isAssertion()) {\n                return this.assertion()\n            } else {\n                return this.atom()\n            }\n        }\n\n        RegExpParser.prototype.assertion = function() {\n            var begin = this.idx\n            switch (this.popChar()) {\n                case \"^\":\n                    return {\n                        type: \"StartAnchor\",\n                        loc: this.loc(begin)\n                    }\n                case \"$\":\n                    return { type: \"EndAnchor\", loc: this.loc(begin) }\n                // '\\b' or '\\B'\n                case \"\\\\\":\n                    switch (this.popChar()) {\n                        case \"b\":\n                            return {\n                                type: \"WordBoundary\",\n                                loc: this.loc(begin)\n                            }\n                        case \"B\":\n                            return {\n                                type: \"NonWordBoundary\",\n                                loc: this.loc(begin)\n                            }\n                    }\n                    // istanbul ignore next\n                    throw Error(\"Invalid Assertion Escape\")\n                // '(?=' or '(?!'\n                case \"(\":\n                    this.consumeChar(\"?\")\n\n                    var type\n                    switch (this.popChar()) {\n                        case \"=\":\n                            type = \"Lookahead\"\n                            break\n                        case \"!\":\n                            type = \"NegativeLookahead\"\n                            break\n                    }\n                    ASSERT_EXISTS(type)\n\n                    var disjunction = this.disjunction()\n\n                    this.consumeChar(\")\")\n\n                    return {\n                        type: type,\n                        value: disjunction,\n                        loc: this.loc(begin)\n                    }\n            }\n            // istanbul ignore next\n            ASSERT_NEVER_REACH_HERE()\n        }\n\n        RegExpParser.prototype.quantifier = function(isBacktracking) {\n            var range\n            var begin = this.idx\n            switch (this.popChar()) {\n                case \"*\":\n                    range = {\n                        atLeast: 0,\n                        atMost: Infinity\n                    }\n                    break\n                case \"+\":\n                    range = {\n                        atLeast: 1,\n                        atMost: Infinity\n                    }\n                    break\n                case \"?\":\n                    range = {\n                        atLeast: 0,\n                        atMost: 1\n                    }\n                    break\n                case \"{\":\n                    var atLeast = this.integerIncludingZero()\n                    switch (this.popChar()) {\n                        case \"}\":\n                            range = {\n                                atLeast: atLeast,\n                                atMost: atLeast\n                            }\n                            break\n                        case \",\":\n                            var atMost\n                            if (this.isDigit()) {\n                                atMost = this.integerIncludingZero()\n                                range = {\n                                    atLeast: atLeast,\n                                    atMost: atMost\n                                }\n                            } else {\n                                range = {\n                                    atLeast: atLeast,\n                                    atMost: Infinity\n                                }\n                            }\n                            this.consumeChar(\"}\")\n                            break\n                    }\n                    // throwing exceptions from \"ASSERT_EXISTS\" during backtracking\n                    // causes severe performance degradations\n                    if (isBacktracking === true && range === undefined) {\n                        return undefined\n                    }\n                    ASSERT_EXISTS(range)\n                    break\n            }\n\n            // throwing exceptions from \"ASSERT_EXISTS\" during backtracking\n            // causes severe performance degradations\n            if (isBacktracking === true && range === undefined) {\n                return undefined\n            }\n\n            ASSERT_EXISTS(range)\n\n            if (this.peekChar(0) === \"?\") {\n                this.consumeChar(\"?\")\n                range.greedy = false\n            } else {\n                range.greedy = true\n            }\n\n            range.type = \"Quantifier\"\n            range.loc = this.loc(begin)\n            return range\n        }\n\n        RegExpParser.prototype.atom = function() {\n            var atom\n            var begin = this.idx\n            switch (this.peekChar()) {\n                case \".\":\n                    atom = this.dotAll()\n                    break\n                case \"\\\\\":\n                    atom = this.atomEscape()\n                    break\n                case \"[\":\n                    atom = this.characterClass()\n                    break\n                case \"(\":\n                    atom = this.group()\n                    break\n            }\n\n            if (atom === undefined && this.isPatternCharacter()) {\n                atom = this.patternCharacter()\n            }\n\n            ASSERT_EXISTS(atom)\n\n            atom.loc = this.loc(begin)\n\n            if (this.isQuantifier()) {\n                atom.quantifier = this.quantifier()\n            }\n\n            return atom\n        }\n\n        RegExpParser.prototype.dotAll = function() {\n            this.consumeChar(\".\")\n            return {\n                type: \"Set\",\n                complement: true,\n                value: [cc(\"\\n\"), cc(\"\\r\"), cc(\"\\u2028\"), cc(\"\\u2029\")]\n            }\n        }\n\n        RegExpParser.prototype.atomEscape = function() {\n            this.consumeChar(\"\\\\\")\n\n            switch (this.peekChar()) {\n                case \"1\":\n                case \"2\":\n                case \"3\":\n                case \"4\":\n                case \"5\":\n                case \"6\":\n                case \"7\":\n                case \"8\":\n                case \"9\":\n                    return this.decimalEscapeAtom()\n                case \"d\":\n                case \"D\":\n                case \"s\":\n                case \"S\":\n                case \"w\":\n                case \"W\":\n                    return this.characterClassEscape()\n                case \"f\":\n                case \"n\":\n                case \"r\":\n                case \"t\":\n                case \"v\":\n                    return this.controlEscapeAtom()\n                case \"c\":\n                    return this.controlLetterEscapeAtom()\n                case \"0\":\n                    return this.nulCharacterAtom()\n                case \"x\":\n                    return this.hexEscapeSequenceAtom()\n                case \"u\":\n                    return this.regExpUnicodeEscapeSequenceAtom()\n                default:\n                    return this.identityEscapeAtom()\n            }\n        }\n\n        RegExpParser.prototype.decimalEscapeAtom = function() {\n            var value = this.positiveInteger()\n\n            return { type: \"GroupBackReference\", value: value }\n        }\n\n        RegExpParser.prototype.characterClassEscape = function() {\n            var set\n            var complement = false\n            switch (this.popChar()) {\n                case \"d\":\n                    set = digitsCharCodes\n                    break\n                case \"D\":\n                    set = digitsCharCodes\n                    complement = true\n                    break\n                case \"s\":\n                    set = whitespaceCodes\n                    break\n                case \"S\":\n                    set = whitespaceCodes\n                    complement = true\n                    break\n                case \"w\":\n                    set = wordCharCodes\n                    break\n                case \"W\":\n                    set = wordCharCodes\n                    complement = true\n                    break\n            }\n\n            ASSERT_EXISTS(set)\n\n            return { type: \"Set\", value: set, complement: complement }\n        }\n\n        RegExpParser.prototype.controlEscapeAtom = function() {\n            var escapeCode\n            switch (this.popChar()) {\n                case \"f\":\n                    escapeCode = cc(\"\\f\")\n                    break\n                case \"n\":\n                    escapeCode = cc(\"\\n\")\n                    break\n                case \"r\":\n                    escapeCode = cc(\"\\r\")\n                    break\n                case \"t\":\n                    escapeCode = cc(\"\\t\")\n                    break\n                case \"v\":\n                    escapeCode = cc(\"\\v\")\n                    break\n            }\n            ASSERT_EXISTS(escapeCode)\n\n            return { type: \"Character\", value: escapeCode }\n        }\n\n        RegExpParser.prototype.controlLetterEscapeAtom = function() {\n            this.consumeChar(\"c\")\n            var letter = this.popChar()\n            if (/[a-zA-Z]/.test(letter) === false) {\n                throw Error(\"Invalid \")\n            }\n\n            var letterCode = letter.toUpperCase().charCodeAt(0) - 64\n            return { type: \"Character\", value: letterCode }\n        }\n\n        RegExpParser.prototype.nulCharacterAtom = function() {\n            // TODO implement '[lookahead  DecimalDigit]'\n            // TODO: for the deprecated octal escape sequence\n            this.consumeChar(\"0\")\n            return { type: \"Character\", value: cc(\"\\0\") }\n        }\n\n        RegExpParser.prototype.hexEscapeSequenceAtom = function() {\n            this.consumeChar(\"x\")\n            return this.parseHexDigits(2)\n        }\n\n        RegExpParser.prototype.regExpUnicodeEscapeSequenceAtom = function() {\n            this.consumeChar(\"u\")\n            return this.parseHexDigits(4)\n        }\n\n        RegExpParser.prototype.identityEscapeAtom = function() {\n            // TODO: implement \"SourceCharacter but not UnicodeIDContinue\"\n            // // http://unicode.org/reports/tr31/#Specific_Character_Adjustments\n            var escapedChar = this.popChar()\n            return { type: \"Character\", value: cc(escapedChar) }\n        }\n\n        RegExpParser.prototype.classPatternCharacterAtom = function() {\n            switch (this.peekChar()) {\n                // istanbul ignore next\n                case \"\\n\":\n                // istanbul ignore next\n                case \"\\r\":\n                // istanbul ignore next\n                case \"\\u2028\":\n                // istanbul ignore next\n                case \"\\u2029\":\n                // istanbul ignore next\n                case \"\\\\\":\n                // istanbul ignore next\n                case \"]\":\n                    throw Error(\"TBD\")\n                default:\n                    var nextChar = this.popChar()\n                    return { type: \"Character\", value: cc(nextChar) }\n            }\n        }\n\n        RegExpParser.prototype.characterClass = function() {\n            var set = []\n            var complement = false\n            this.consumeChar(\"[\")\n            if (this.peekChar(0) === \"^\") {\n                this.consumeChar(\"^\")\n                complement = true\n            }\n\n            while (this.isClassAtom()) {\n                var from = this.classAtom()\n                var isFromSingleChar = from.type === \"Character\"\n                if (isFromSingleChar && this.isRangeDash()) {\n                    this.consumeChar(\"-\")\n                    var to = this.classAtom()\n                    var isToSingleChar = to.type === \"Character\"\n\n                    // a range can only be used when both sides are single characters\n                    if (isToSingleChar) {\n                        if (to.value < from.value) {\n                            throw Error(\"Range out of order in character class\")\n                        }\n                        set.push({ from: from.value, to: to.value })\n                    } else {\n                        // literal dash\n                        insertToSet(from.value, set)\n                        set.push(cc(\"-\"))\n                        insertToSet(to.value, set)\n                    }\n                } else {\n                    insertToSet(from.value, set)\n                }\n            }\n\n            this.consumeChar(\"]\")\n\n            return { type: \"Set\", complement: complement, value: set }\n        }\n\n        RegExpParser.prototype.classAtom = function() {\n            switch (this.peekChar()) {\n                // istanbul ignore next\n                case \"]\":\n                // istanbul ignore next\n                case \"\\n\":\n                // istanbul ignore next\n                case \"\\r\":\n                // istanbul ignore next\n                case \"\\u2028\":\n                // istanbul ignore next\n                case \"\\u2029\":\n                    throw Error(\"TBD\")\n                case \"\\\\\":\n                    return this.classEscape()\n                default:\n                    return this.classPatternCharacterAtom()\n            }\n        }\n\n        RegExpParser.prototype.classEscape = function() {\n            this.consumeChar(\"\\\\\")\n            switch (this.peekChar()) {\n                // Matches a backspace.\n                // (Not to be confused with \\b word boundary outside characterClass)\n                case \"b\":\n                    this.consumeChar(\"b\")\n                    return { type: \"Character\", value: cc(\"\\u0008\") }\n                case \"d\":\n                case \"D\":\n                case \"s\":\n                case \"S\":\n                case \"w\":\n                case \"W\":\n                    return this.characterClassEscape()\n                case \"f\":\n                case \"n\":\n                case \"r\":\n                case \"t\":\n                case \"v\":\n                    return this.controlEscapeAtom()\n                case \"c\":\n                    return this.controlLetterEscapeAtom()\n                case \"0\":\n                    return this.nulCharacterAtom()\n                case \"x\":\n                    return this.hexEscapeSequenceAtom()\n                case \"u\":\n                    return this.regExpUnicodeEscapeSequenceAtom()\n                default:\n                    return this.identityEscapeAtom()\n            }\n        }\n\n        RegExpParser.prototype.group = function() {\n            var capturing = true\n            this.consumeChar(\"(\")\n            switch (this.peekChar(0)) {\n                case \"?\":\n                    this.consumeChar(\"?\")\n                    this.consumeChar(\":\")\n                    capturing = false\n                    break\n                default:\n                    this.groupIdx++\n                    break\n            }\n            var value = this.disjunction()\n            this.consumeChar(\")\")\n\n            var groupAst = {\n                type: \"Group\",\n                capturing: capturing,\n                value: value\n            }\n\n            if (capturing) {\n                groupAst.idx = this.groupIdx\n            }\n\n            return groupAst\n        }\n\n        RegExpParser.prototype.positiveInteger = function() {\n            var number = this.popChar()\n\n            // istanbul ignore next - can't ever get here due to previous lookahead checks\n            // still implementing this error checking in case this ever changes.\n            if (decimalPatternNoZero.test(number) === false) {\n                throw Error(\"Expecting a positive integer\")\n            }\n\n            while (decimalPattern.test(this.peekChar(0))) {\n                number += this.popChar()\n            }\n\n            return parseInt(number, 10)\n        }\n\n        RegExpParser.prototype.integerIncludingZero = function() {\n            var number = this.popChar()\n            if (decimalPattern.test(number) === false) {\n                throw Error(\"Expecting an integer\")\n            }\n\n            while (decimalPattern.test(this.peekChar(0))) {\n                number += this.popChar()\n            }\n\n            return parseInt(number, 10)\n        }\n\n        RegExpParser.prototype.patternCharacter = function() {\n            var nextChar = this.popChar()\n            switch (nextChar) {\n                // istanbul ignore next\n                case \"\\n\":\n                // istanbul ignore next\n                case \"\\r\":\n                // istanbul ignore next\n                case \"\\u2028\":\n                // istanbul ignore next\n                case \"\\u2029\":\n                // istanbul ignore next\n                case \"^\":\n                // istanbul ignore next\n                case \"$\":\n                // istanbul ignore next\n                case \"\\\\\":\n                // istanbul ignore next\n                case \".\":\n                // istanbul ignore next\n                case \"*\":\n                // istanbul ignore next\n                case \"+\":\n                // istanbul ignore next\n                case \"?\":\n                // istanbul ignore next\n                case \"(\":\n                // istanbul ignore next\n                case \")\":\n                // istanbul ignore next\n                case \"[\":\n                // istanbul ignore next\n                case \"|\":\n                    // istanbul ignore next\n                    throw Error(\"TBD\")\n                default:\n                    return { type: \"Character\", value: cc(nextChar) }\n            }\n        }\n        RegExpParser.prototype.isRegExpFlag = function() {\n            switch (this.peekChar(0)) {\n                case \"g\":\n                case \"i\":\n                case \"m\":\n                case \"u\":\n                case \"y\":\n                    return true\n                default:\n                    return false\n            }\n        }\n\n        RegExpParser.prototype.isRangeDash = function() {\n            return this.peekChar() === \"-\" && this.isClassAtom(1)\n        }\n\n        RegExpParser.prototype.isDigit = function() {\n            return decimalPattern.test(this.peekChar(0))\n        }\n\n        RegExpParser.prototype.isClassAtom = function(howMuch) {\n            if (howMuch === undefined) {\n                howMuch = 0\n            }\n\n            switch (this.peekChar(howMuch)) {\n                case \"]\":\n                case \"\\n\":\n                case \"\\r\":\n                case \"\\u2028\":\n                case \"\\u2029\":\n                    return false\n                default:\n                    return true\n            }\n        }\n\n        RegExpParser.prototype.isTerm = function() {\n            return this.isAtom() || this.isAssertion()\n        }\n\n        RegExpParser.prototype.isAtom = function() {\n            if (this.isPatternCharacter()) {\n                return true\n            }\n\n            switch (this.peekChar(0)) {\n                case \".\":\n                case \"\\\\\": // atomEscape\n                case \"[\": // characterClass\n                // TODO: isAtom must be called before isAssertion - disambiguate\n                case \"(\": // group\n                    return true\n                default:\n                    return false\n            }\n        }\n\n        RegExpParser.prototype.isAssertion = function() {\n            switch (this.peekChar(0)) {\n                case \"^\":\n                case \"$\":\n                    return true\n                // '\\b' or '\\B'\n                case \"\\\\\":\n                    switch (this.peekChar(1)) {\n                        case \"b\":\n                        case \"B\":\n                            return true\n                        default:\n                            return false\n                    }\n                // '(?=' or '(?!'\n                case \"(\":\n                    return (\n                        this.peekChar(1) === \"?\" &&\n                        (this.peekChar(2) === \"=\" || this.peekChar(2) === \"!\")\n                    )\n                default:\n                    return false\n            }\n        }\n\n        RegExpParser.prototype.isQuantifier = function() {\n            var prevState = this.saveState()\n            try {\n                return this.quantifier(true) !== undefined\n            } catch (e) {\n                return false\n            } finally {\n                this.restoreState(prevState)\n            }\n        }\n\n        RegExpParser.prototype.isPatternCharacter = function() {\n            switch (this.peekChar()) {\n                case \"^\":\n                case \"$\":\n                case \"\\\\\":\n                case \".\":\n                case \"*\":\n                case \"+\":\n                case \"?\":\n                case \"(\":\n                case \")\":\n                case \"[\":\n                case \"|\":\n                case \"/\":\n                case \"\\n\":\n                case \"\\r\":\n                case \"\\u2028\":\n                case \"\\u2029\":\n                    return false\n                default:\n                    return true\n            }\n        }\n\n        RegExpParser.prototype.parseHexDigits = function(howMany) {\n            var hexString = \"\"\n            for (var i = 0; i < howMany; i++) {\n                var hexChar = this.popChar()\n                if (hexDigitPattern.test(hexChar) === false) {\n                    throw Error(\"Expecting a HexDecimal digits\")\n                }\n                hexString += hexChar\n            }\n            var charCode = parseInt(hexString, 16)\n            return { type: \"Character\", value: charCode }\n        }\n\n        RegExpParser.prototype.peekChar = function(howMuch) {\n            if (howMuch === undefined) {\n                howMuch = 0\n            }\n            return this.input[this.idx + howMuch]\n        }\n\n        RegExpParser.prototype.popChar = function() {\n            var nextChar = this.peekChar(0)\n            this.consumeChar()\n            return nextChar\n        }\n\n        RegExpParser.prototype.consumeChar = function(char) {\n            if (char !== undefined && this.input[this.idx] !== char) {\n                throw Error(\n                    \"Expected: '\" +\n                        char +\n                        \"' but found: '\" +\n                        this.input[this.idx] +\n                        \"' at offset: \" +\n                        this.idx\n                )\n            }\n\n            if (this.idx >= this.input.length) {\n                throw Error(\"Unexpected end of input\")\n            }\n            this.idx++\n        }\n\n        RegExpParser.prototype.loc = function(begin) {\n            return { begin: begin, end: this.idx }\n        }\n\n        // consts and utilities\n        var hexDigitPattern = /[0-9a-fA-F]/\n        var decimalPattern = /[0-9]/\n        var decimalPatternNoZero = /[1-9]/\n\n        function cc(char) {\n            return char.charCodeAt(0)\n        }\n\n        function insertToSet(item, set) {\n            if (item.length !== undefined) {\n                item.forEach(function(subItem) {\n                    set.push(subItem)\n                })\n            } else {\n                set.push(item)\n            }\n        }\n\n        function addFlag(flagObj, flagKey) {\n            if (flagObj[flagKey] === true) {\n                throw \"duplicate flag \" + flagKey\n            }\n\n            flagObj[flagKey] = true\n        }\n\n        function ASSERT_EXISTS(obj) {\n            // istanbul ignore next\n            if (obj === undefined) {\n                throw Error(\"Internal Error - Should never get here!\")\n            }\n        }\n\n        // istanbul ignore next\n        function ASSERT_NEVER_REACH_HERE() {\n            throw Error(\"Internal Error - Should never get here!\")\n        }\n\n        var i\n        var digitsCharCodes = []\n        for (i = cc(\"0\"); i <= cc(\"9\"); i++) {\n            digitsCharCodes.push(i)\n        }\n\n        var wordCharCodes = [cc(\"_\")].concat(digitsCharCodes)\n        for (i = cc(\"a\"); i <= cc(\"z\"); i++) {\n            wordCharCodes.push(i)\n        }\n\n        for (i = cc(\"A\"); i <= cc(\"Z\"); i++) {\n            wordCharCodes.push(i)\n        }\n\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#character-classes\n        var whitespaceCodes = [\n            cc(\" \"),\n            cc(\"\\f\"),\n            cc(\"\\n\"),\n            cc(\"\\r\"),\n            cc(\"\\t\"),\n            cc(\"\\v\"),\n            cc(\"\\t\"),\n            cc(\"\\u00a0\"),\n            cc(\"\\u1680\"),\n            cc(\"\\u2000\"),\n            cc(\"\\u2001\"),\n            cc(\"\\u2002\"),\n            cc(\"\\u2003\"),\n            cc(\"\\u2004\"),\n            cc(\"\\u2005\"),\n            cc(\"\\u2006\"),\n            cc(\"\\u2007\"),\n            cc(\"\\u2008\"),\n            cc(\"\\u2009\"),\n            cc(\"\\u200a\"),\n            cc(\"\\u2028\"),\n            cc(\"\\u2029\"),\n            cc(\"\\u202f\"),\n            cc(\"\\u205f\"),\n            cc(\"\\u3000\"),\n            cc(\"\\ufeff\")\n        ]\n\n        function BaseRegExpVisitor() {}\n\n        BaseRegExpVisitor.prototype.visitChildren = function(node) {\n            for (var key in node) {\n                var child = node[key]\n                /* istanbul ignore else */\n                if (node.hasOwnProperty(key)) {\n                    if (child.type !== undefined) {\n                        this.visit(child)\n                    } else if (Array.isArray(child)) {\n                        child.forEach(function(subChild) {\n                            this.visit(subChild)\n                        }, this)\n                    }\n                }\n            }\n        }\n\n        BaseRegExpVisitor.prototype.visit = function(node) {\n            switch (node.type) {\n                case \"Pattern\":\n                    this.visitPattern(node)\n                    break\n                case \"Flags\":\n                    this.visitFlags(node)\n                    break\n                case \"Disjunction\":\n                    this.visitDisjunction(node)\n                    break\n                case \"Alternative\":\n                    this.visitAlternative(node)\n                    break\n                case \"StartAnchor\":\n                    this.visitStartAnchor(node)\n                    break\n                case \"EndAnchor\":\n                    this.visitEndAnchor(node)\n                    break\n                case \"WordBoundary\":\n                    this.visitWordBoundary(node)\n                    break\n                case \"NonWordBoundary\":\n                    this.visitNonWordBoundary(node)\n                    break\n                case \"Lookahead\":\n                    this.visitLookahead(node)\n                    break\n                case \"NegativeLookahead\":\n                    this.visitNegativeLookahead(node)\n                    break\n                case \"Character\":\n                    this.visitCharacter(node)\n                    break\n                case \"Set\":\n                    this.visitSet(node)\n                    break\n                case \"Group\":\n                    this.visitGroup(node)\n                    break\n                case \"GroupBackReference\":\n                    this.visitGroupBackReference(node)\n                    break\n                case \"Quantifier\":\n                    this.visitQuantifier(node)\n                    break\n            }\n\n            this.visitChildren(node)\n        }\n\n        BaseRegExpVisitor.prototype.visitPattern = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitFlags = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitDisjunction = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitAlternative = function(node) {}\n\n        // Assertion\n        BaseRegExpVisitor.prototype.visitStartAnchor = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitEndAnchor = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitWordBoundary = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitNonWordBoundary = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitLookahead = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitNegativeLookahead = function(node) {}\n\n        // atoms\n        BaseRegExpVisitor.prototype.visitCharacter = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitSet = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitGroup = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitGroupBackReference = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitQuantifier = function(node) {}\n\n        return {\n            RegExpParser: RegExpParser,\n            BaseRegExpVisitor: BaseRegExpVisitor,\n            VERSION: \"0.5.0\"\n        }\n    }\n)\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"const { CstParser, tokenMatcher } = require(\"chevrotain\");\nconst { tokensDictionary: t } = require(\"./lexer\");\n\nclass Parser extends CstParser {\n  constructor() {\n    super(t, {\n      maxLookahead: 1,\n      recoveryEnabled: true,\n      nodeLocationTracking: \"full\",\n    });\n\n    this.deletionRecoveryEnabled = true;\n\n    const $ = this;\n\n    $.RULE(\"document\", () => {\n      $.OPTION(() => {\n        $.SUBRULE($.prolog);\n      });\n\n      $.MANY(() => {\n        $.SUBRULE($.misc);\n      });\n\n      $.OPTION2(() => {\n        $.SUBRULE($.docTypeDecl);\n      });\n\n      $.MANY2(() => {\n        $.SUBRULE2($.misc);\n      });\n\n      $.SUBRULE($.element);\n\n      $.MANY3(() => {\n        $.SUBRULE3($.misc);\n      });\n    });\n\n    $.RULE(\"prolog\", () => {\n      $.CONSUME(t.XMLDeclOpen);\n      $.MANY(() => {\n        $.SUBRULE($.attribute);\n      });\n      $.CONSUME(t.SPECIAL_CLOSE);\n    });\n\n    // https://www.w3.org/TR/xml/#NT-doctypedecl\n    $.RULE(\"docTypeDecl\", () => {\n      $.CONSUME(t.DocType);\n      $.CONSUME(t.Name);\n\n      $.OPTION(() => {\n        $.SUBRULE($.externalID);\n      });\n\n      // The internal subSet part is intentionally not implemented because we do not at this\n      // time wish to implement a full DTD Parser as part of this project...\n      // https://www.w3.org/TR/xml/#NT-intSubset\n\n      $.CONSUME(t.CLOSE);\n    });\n\n    $.RULE(\"externalID\", () => {\n      // Using gates to assert the value of the \"Name\" Identifiers.\n      // We could use Categories to model un-reserved keywords, however I am not sure\n      // The added complexity is needed at this time...\n      $.OR([\n        {\n          GATE: () => $.LA(1).image === \"SYSTEM\",\n          ALT: () => {\n            $.CONSUME2(t.Name, { LABEL: \"System\" });\n            $.CONSUME(t.STRING, { LABEL: \"SystemLiteral\" });\n          },\n        },\n        {\n          GATE: () => $.LA(1).image === \"PUBLIC\",\n          ALT: () => {\n            $.CONSUME3(t.Name, { LABEL: \"Public\" });\n            $.CONSUME2(t.STRING, { LABEL: \"PubIDLiteral\" });\n            $.CONSUME3(t.STRING, { LABEL: \"SystemLiteral\" });\n          },\n        },\n      ]);\n    });\n\n    $.RULE(\"content\", () => {\n      $.MANY(() => {\n        $.OR([\n          { ALT: () => $.SUBRULE($.element) },\n          { ALT: () => $.SUBRULE($.chardata) },\n          { ALT: () => $.SUBRULE($.reference) },\n          { ALT: () => $.CONSUME(t.CData) },\n          { ALT: () => $.CONSUME(t.PROCESSING_INSTRUCTION) },\n          { ALT: () => $.CONSUME(t.Comment) },\n        ]);\n      });\n    });\n\n    $.RULE(\"element\", () => {\n      $.CONSUME(t.OPEN);\n      try {\n        this.deletionRecoveryEnabled = false;\n        // disabling single token deletion here\n        // because `<\n        //            </note>`\n        // will be parsed as: `<note>`\n        // and the next element will be lost\n        $.CONSUME(t.Name);\n      } finally {\n        this.deletionRecoveryEnabled = true;\n      }\n      $.MANY(() => {\n        $.SUBRULE($.attribute);\n      });\n\n      $.OR([\n        {\n          ALT: () => {\n            $.CONSUME(t.CLOSE, { LABEL: \"START_CLOSE\" });\n            $.SUBRULE($.content);\n            $.CONSUME(t.SLASH_OPEN);\n            $.CONSUME2(t.Name, { LABEL: \"END_NAME\" });\n            $.CONSUME2(t.CLOSE, { LABEL: \"END\" });\n          },\n        },\n        {\n          ALT: () => {\n            $.CONSUME(t.SLASH_CLOSE);\n          },\n        },\n      ]);\n    });\n\n    $.RULE(\"reference\", () => {\n      $.OR([\n        { ALT: () => $.CONSUME(t.EntityRef) },\n        { ALT: () => $.CONSUME(t.CharRef) },\n      ]);\n    });\n\n    $.RULE(\"attribute\", () => {\n      $.CONSUME(t.Name);\n      try {\n        this.deletionRecoveryEnabled = false;\n        // disabling single token deletion here\n        // because `attrib1 attrib2=\"666`\n        // will be parsed as: `attrib1=\"666`\n        $.CONSUME(t.EQUALS);\n        // disabling single token deletion here\n        // to avoid new elementName being\n        $.CONSUME(t.STRING);\n      } finally {\n        this.deletionRecoveryEnabled = true;\n      }\n    });\n\n    $.RULE(\"chardata\", () => {\n      $.OR([\n        { ALT: () => $.CONSUME(t.TEXT) },\n        { ALT: () => $.CONSUME(t.SEA_WS) },\n      ]);\n    });\n\n    $.RULE(\"misc\", () => {\n      $.OR([\n        { ALT: () => $.CONSUME(t.Comment) },\n        { ALT: () => $.CONSUME(t.PROCESSING_INSTRUCTION) },\n        { ALT: () => $.CONSUME(t.SEA_WS) },\n      ]);\n    });\n\n    this.performSelfAnalysis();\n  }\n\n  canRecoverWithSingleTokenDeletion(expectedTokType) {\n    if (this.deletionRecoveryEnabled === false) {\n      return false;\n    }\n    return super.canRecoverWithSingleTokenDeletion(expectedTokType);\n  }\n\n  // TODO: provide this fix upstream to chevrotain\n  // https://github.com/SAP/chevrotain/issues/1055\n  /* istanbul ignore next - should be tested as part of Chevrotain */\n  findReSyncTokenType() {\n    const allPossibleReSyncTokTypes = this.flattenFollowSet();\n    // this loop will always terminate as EOF is always in the follow stack and also always (virtually) in the input\n    let nextToken = this.LA(1);\n    let k = 2;\n    /* eslint-disable-next-line no-constant-condition -- see above comment */\n    while (true) {\n      const foundMatch = allPossibleReSyncTokTypes.find((resyncTokType) => {\n        const canMatch = tokenMatcher(nextToken, resyncTokType);\n        return canMatch;\n      });\n      if (foundMatch !== undefined) {\n        return foundMatch;\n      }\n      nextToken = this.LA(k);\n      k++;\n    }\n  }\n}\n\n// Re-use the same parser instance\nconst xmlParser = new Parser();\n\nmodule.exports = {\n  xmlParser,\n};\n","import * as doc from \"prettier/doc\";\nimport embed from \"./embed.js\";\n\nconst { fill, group, hardline, indent, join, line, literalline, softline } =\n  doc.builders;\n\nconst ignoreStartComment = \"<!-- prettier-ignore-start -->\";\nconst ignoreEndComment = \"<!-- prettier-ignore-end -->\";\n\nfunction hasIgnoreRanges(comments) {\n  if (comments.length === 0) {\n    return false;\n  }\n\n  comments.sort((left, right) => left.startOffset - right.startOffset);\n\n  let startFound = false;\n  for (let idx = 0; idx < comments.length; idx += 1) {\n    if (comments[idx].image === ignoreStartComment) {\n      startFound = true;\n    } else if (startFound && comments[idx].image === ignoreEndComment) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isWhitespaceIgnorable(opts, name, attributes, content) {\n  // If the whitespace sensitivity setting is \"strict\", then we can't ignore the\n  // whitespace.\n  if (opts.xmlWhitespaceSensitivity === \"strict\") {\n    return false;\n  }\n\n  // If we have an xsl:text element, then we cannot ignore the whitespace.\n  if (name === \"xsl:text\") {\n    return false;\n  }\n\n  // If there is an xml:space attribute set to \"preserve\", then we can't ignore\n  // the whitespace.\n  if (\n    attributes.some(\n      (attribute) =>\n        attribute &&\n        attribute.Name === \"xml:space\" &&\n        attribute.STRING.slice(1, -1) === \"preserve\"\n    )\n  ) {\n    return false;\n  }\n\n  // If there are character data nodes in the content, then we can't ignore the\n  // whitespace.\n  if (content.CData.length > 0) {\n    return false;\n  }\n\n  // If there are comments in the content and the comments are ignore ranges,\n  // then we can't ignore the whitespace.\n  if (hasIgnoreRanges(content.Comment)) {\n    return false;\n  }\n\n  // Otherwise we can.\n  return true;\n}\n\nfunction printIToken(path) {\n  const node = path.getValue();\n\n  return {\n    offset: node.startOffset,\n    startLine: node.startLine,\n    endLine: node.endLine,\n    printed: node.image\n  };\n}\n\nfunction printAttribute(path, opts, print) {\n  const { Name, EQUALS, STRING } = path.getValue();\n\n  let attributeValue;\n  if (opts.xmlQuoteAttributes === \"double\") {\n    const content = STRING.slice(1, -1).replaceAll('\"', \"&quot;\");\n    attributeValue = `\"${content}\"`;\n  } else if (opts.xmlQuoteAttributes === \"single\") {\n    const content = STRING.slice(1, -1).replaceAll(\"'\", \"&apos;\");\n    attributeValue = `'${content}'`;\n  } else {\n    // preserve\n    attributeValue = STRING;\n  }\n\n  return [Name, EQUALS, attributeValue];\n}\n\nfunction printCharData(path, opts, print) {\n  const { SEA_WS, TEXT } = path.getValue();\n  const image = SEA_WS || TEXT;\n\n  return image\n    .split(/(\\n)/g)\n    .map((value, index) => (index % 2 === 0 ? value : literalline));\n}\n\nfunction printContentFragments(path, print) {\n  return [\n    ...path.map(printIToken, \"CData\"),\n    ...path.map(printIToken, \"Comment\"),\n    ...path.map(\n      (charDataPath) => ({\n        offset: charDataPath.getValue().location.startOffset,\n        printed: print(charDataPath)\n      }),\n      \"chardata\"\n    ),\n    ...path.map(\n      (elementPath) => ({\n        offset: elementPath.getValue().location.startOffset,\n        printed: print(elementPath)\n      }),\n      \"element\"\n    ),\n    ...path.map(printIToken, \"PROCESSING_INSTRUCTION\"),\n    ...path.map((referencePath) => {\n      const referenceNode = referencePath.getValue();\n\n      return {\n        offset: referenceNode.location.startOffset,\n        printed: print(referencePath)\n      };\n    }, \"reference\")\n  ];\n}\n\nfunction printContent(path, opts, print) {\n  let fragments = printContentFragments(path, print);\n  const { Comment } = path.getValue();\n\n  if (hasIgnoreRanges(Comment)) {\n    Comment.sort((left, right) => left.startOffset - right.startOffset);\n\n    const ignoreRanges = [];\n    let ignoreStart = null;\n\n    // Build up a list of ignored ranges from the original text based on\n    // the special prettier-ignore-* comments\n    Comment.forEach((comment) => {\n      if (comment.image === ignoreStartComment) {\n        ignoreStart = comment;\n      } else if (ignoreStart && comment.image === ignoreEndComment) {\n        ignoreRanges.push({\n          start: ignoreStart.startOffset,\n          end: comment.endOffset\n        });\n\n        ignoreStart = null;\n      }\n    });\n\n    // Filter the printed children to only include the ones that are\n    // outside of each of the ignored ranges\n    fragments = fragments.filter((fragment) =>\n      ignoreRanges.every(\n        ({ start, end }) => fragment.offset < start || fragment.offset > end\n      )\n    );\n\n    // Push each of the ignored ranges into the child list as its own\n    // element so that the original content is still included\n    ignoreRanges.forEach(({ start, end }) => {\n      const content = opts.originalText.slice(start, end + 1);\n\n      fragments.push({\n        offset: start,\n        printed: doc.utils.replaceEndOfLine(content)\n      });\n    });\n  }\n\n  fragments.sort((left, right) => left.offset - right.offset);\n  return group(fragments.map(({ printed }) => printed));\n}\n\nfunction printDocTypeDecl(path, opts, print) {\n  const { DocType, Name, externalID, CLOSE } = path.getValue();\n  const parts = [DocType, \" \", Name];\n\n  if (externalID) {\n    parts.push(\" \", path.call(print, \"externalID\"));\n  }\n\n  return group([...parts, CLOSE]);\n}\n\nfunction printDocument(path, opts, print) {\n  const { docTypeDecl, element, misc, prolog } = path.getValue();\n  const fragments = [];\n\n  if (docTypeDecl) {\n    fragments.push({\n      offset: docTypeDecl.location.startOffset,\n      printed: path.call(print, \"docTypeDecl\")\n    });\n  }\n\n  if (prolog) {\n    fragments.push({\n      offset: prolog.location.startOffset,\n      printed: path.call(print, \"prolog\")\n    });\n  }\n\n  path.each((miscPath) => {\n    const misc = miscPath.getValue();\n\n    fragments.push({\n      offset: misc.location.startOffset,\n      printed: print(miscPath)\n    });\n  }, \"misc\");\n\n  if (element) {\n    fragments.push({\n      offset: element.location.startOffset,\n      printed: path.call(print, \"element\")\n    });\n  }\n\n  fragments.sort((left, right) => left.offset - right.offset);\n\n  return [\n    join(\n      hardline,\n      fragments.map(({ printed }) => printed)\n    ),\n    hardline\n  ];\n}\n\nfunction printCharDataPreserve(path, print) {\n  let prevLocation;\n  const response = [];\n\n  path.each((charDataPath) => {\n    const chardata = charDataPath.getValue();\n    const location = chardata.location;\n    const content = print(charDataPath);\n\n    if (\n      prevLocation &&\n      location.startColumn &&\n      prevLocation.endColumn &&\n      location.startLine === prevLocation.endLine &&\n      location.startColumn === prevLocation.endColumn + 1\n    ) {\n      // continuation of previous fragment\n      const prevFragment = response[response.length - 1];\n      prevFragment.endLine = location.endLine;\n      prevFragment.printed = group([prevFragment.printed, content]);\n    } else {\n      response.push({\n        offset: location.startOffset,\n        startLine: location.startLine,\n        endLine: location.endLine,\n        printed: content,\n        whitespace: true\n      });\n    }\n    prevLocation = location;\n  }, \"chardata\");\n\n  return response;\n}\n\nfunction printCharDataIgnore(path) {\n  const response = [];\n\n  path.each((charDataPath) => {\n    const chardata = charDataPath.getValue();\n    if (!chardata.TEXT) {\n      return;\n    }\n\n    const content = chardata.TEXT.replaceAll(/^[\\t\\n\\r\\s]+|[\\t\\n\\r\\s]+$/g, \"\");\n    const printed = group(\n      content.split(/(\\n)/g).map((value) => {\n        if (value === \"\\n\") {\n          return literalline;\n        }\n\n        return fill(\n          value\n            .split(/\\b( +)\\b/g)\n            .map((segment, index) => (index % 2 === 0 ? segment : line))\n        );\n      })\n    );\n\n    const location = chardata.location;\n    response.push({\n      offset: location.startOffset,\n      startLine: location.startLine,\n      endLine: location.endLine,\n      printed\n    });\n  }, \"chardata\");\n\n  return response;\n}\n\nfunction printElementFragments(path, opts, print) {\n  const children = path.getValue();\n  let response = [];\n\n  response = response.concat(path.map(printIToken, \"Comment\"));\n\n  if (children.chardata.length > 0) {\n    if (\n      children.chardata.some((chardata) => !!chardata.TEXT) &&\n      opts.xmlWhitespaceSensitivity === \"preserve\"\n    ) {\n      response = response.concat(printCharDataPreserve(path, print));\n    } else {\n      response = response.concat(printCharDataIgnore(path, print));\n    }\n  }\n\n  response = response.concat(\n    path.map((elementPath) => {\n      const location = elementPath.getValue().location;\n\n      return {\n        offset: location.startOffset,\n        startLine: location.startLine,\n        endLine: location.endLine,\n        printed: print(elementPath)\n      };\n    }, \"element\")\n  );\n\n  response = response.concat(path.map(printIToken, \"PROCESSING_INSTRUCTION\"));\n\n  response = response.concat(\n    path.map((referencePath) => {\n      const referenceNode = referencePath.getValue();\n\n      return {\n        type: \"reference\",\n        offset: referenceNode.location.startOffset,\n        startLine: referenceNode.location.startLine,\n        endLine: referenceNode.location.endLine,\n        printed: print(referencePath)\n      };\n    }, \"reference\")\n  );\n\n  return response;\n}\n\nfunction printElement(path, opts, print) {\n  const {\n    OPEN,\n    Name,\n    attribute,\n    START_CLOSE,\n    content,\n    SLASH_OPEN,\n    END_NAME,\n    END,\n    SLASH_CLOSE\n  } = path.getValue();\n\n  const parts = [OPEN, Name];\n\n  if (attribute.length > 0) {\n    const attributes = path.map(\n      (attributePath) => ({\n        node: attributePath.getValue(),\n        printed: print(attributePath)\n      }),\n      \"attribute\"\n    );\n\n    if (opts.xmlSortAttributesByKey) {\n      attributes.sort((left, right) => {\n        const leftAttr = left.node.Name;\n        const rightAttr = right.node.Name;\n\n        // Check if the attributes are xmlns.\n        if (leftAttr === \"xmlns\") return -1;\n        if (rightAttr === \"xmlns\") return 1;\n\n        // Check if they are both in namespaces.\n        if (leftAttr.includes(\":\") && rightAttr.includes(\":\")) {\n          const [leftNS, leftKey] = leftAttr.split(\":\");\n          const [rightNS, rightKey] = rightAttr.split(\":\");\n\n          // If namespaces are equal, compare keys\n          if (leftNS === rightNS) return leftKey.localeCompare(rightKey);\n\n          // Handle the 1 but not both being an xmlns\n          if (leftNS === \"xmlns\") return -1;\n          if (rightNS === \"xmlns\") return 1;\n\n          return leftNS.localeCompare(rightNS);\n        }\n\n        // Check if the attributes have namespaces.\n        if (leftAttr.includes(\":\")) return -1;\n        if (rightAttr.includes(\":\")) return 1;\n\n        return leftAttr.localeCompare(rightAttr);\n      });\n    }\n\n    const separator = opts.singleAttributePerLine ? hardline : line;\n    parts.push(\n      indent([\n        line,\n        join(\n          separator,\n          attributes.map(({ printed }) => printed)\n        )\n      ])\n    );\n  }\n\n  // Determine the value that will go between the <, name, and attributes\n  // of an element and the /> of an element.\n  let space;\n  if (opts.bracketSameLine) {\n    space = opts.xmlSelfClosingSpace ? \" \" : \"\";\n  } else {\n    space = opts.xmlSelfClosingSpace ? line : softline;\n  }\n\n  if (SLASH_CLOSE) {\n    return group([...parts, space, SLASH_CLOSE]);\n  }\n\n  if (\n    content.chardata.length === 0 &&\n    content.CData.length === 0 &&\n    content.Comment.length === 0 &&\n    content.element.length === 0 &&\n    content.PROCESSING_INSTRUCTION.length === 0 &&\n    content.reference.length === 0\n  ) {\n    return group([...parts, space, \"/>\"]);\n  }\n\n  const openTag = group([\n    ...parts,\n    opts.bracketSameLine ? \"\" : softline,\n    START_CLOSE\n  ]);\n\n  const closeTag = group([SLASH_OPEN, END_NAME, END]);\n\n  if (isWhitespaceIgnorable(opts, Name, attribute, content)) {\n    const fragments = path.call(\n      (childrenPath) => printElementFragments(childrenPath, opts, print),\n      \"content\"\n    );\n\n    fragments.sort((left, right) => left.offset - right.offset);\n\n    if (\n      opts.xmlWhitespaceSensitivity === \"preserve\" &&\n      fragments.some(({ whitespace }) => whitespace)\n    ) {\n      return group([\n        openTag,\n        fragments.map(({ printed }) => printed),\n        closeTag\n      ]);\n    }\n\n    if (fragments.length === 0) {\n      return group([...parts, space, \"/>\"]);\n    }\n\n    // If the only content of this tag is chardata, then use a softline so\n    // that we won't necessarily break (to allow <foo>bar</foo>).\n    if (\n      fragments.length === 1 &&\n      content.chardata.filter((chardata) => chardata.TEXT).length === 1\n    ) {\n      return group([\n        openTag,\n        indent([softline, fragments[0].printed]),\n        softline,\n        closeTag\n      ]);\n    }\n\n    let delimiter = hardline;\n\n    // If the only content is both chardata and references, then use a softline\n    // so that we won't necessarily break.\n    if (\n      fragments.length ===\n      content.chardata.filter((chardata) => chardata.TEXT).length +\n        content.reference.length\n    ) {\n      delimiter = \" \";\n    }\n\n    const docs = [hardline];\n    let lastLine = fragments[0].startLine;\n\n    fragments.forEach((node, index) => {\n      if (index !== 0) {\n        if (node.startLine - lastLine >= 2) {\n          docs.push(hardline, hardline);\n        } else {\n          docs.push(delimiter);\n        }\n      }\n\n      docs.push(node.printed);\n      lastLine = node.endLine;\n    });\n\n    return group([openTag, indent(docs), hardline, closeTag]);\n  }\n\n  return group([openTag, indent(path.call(print, \"content\")), closeTag]);\n}\n\nfunction printExternalID(path, opts, print) {\n  const { Public, PubIDLiteral, System, SystemLiteral } = path.getValue();\n\n  if (System) {\n    return group([System, indent([line, SystemLiteral])]);\n  }\n\n  return group([\n    group([Public, indent([line, PubIDLiteral])]),\n    indent([line, SystemLiteral])\n  ]);\n}\n\nfunction printMisc(path, opts, print) {\n  const { Comment, PROCESSING_INSTRUCTION, SEA_WS } = path.getValue();\n\n  return Comment || PROCESSING_INSTRUCTION || SEA_WS;\n}\n\nfunction printProlog(path, opts, print) {\n  const { XMLDeclOpen, attribute, SPECIAL_CLOSE } = path.getValue();\n  const parts = [XMLDeclOpen];\n\n  if (attribute) {\n    parts.push(indent([softline, join(line, path.map(print, \"attribute\"))]));\n  }\n\n  return group([\n    ...parts,\n    opts.xmlSelfClosingSpace ? line : softline,\n    SPECIAL_CLOSE\n  ]);\n}\n\nfunction printReference(path, opts, print) {\n  const { CharRef, EntityRef } = path.getValue();\n\n  return CharRef || EntityRef;\n}\n\nconst printer = {\n  getVisitorKeys(node, nonTraversableKeys) {\n    return Object.keys(node).filter(\n      (key) => key !== \"location\" && key !== \"tokenType\"\n    );\n  },\n  embed,\n  print(path, opts, print) {\n    const node = path.getValue();\n\n    switch (node.name) {\n      case \"attribute\":\n        return printAttribute(path, opts, print);\n      case \"chardata\":\n        return printCharData(path, opts, print);\n      case \"content\":\n        return printContent(path, opts, print);\n      case \"docTypeDecl\":\n        return printDocTypeDecl(path, opts, print);\n      case \"document\":\n        return printDocument(path, opts, print);\n      case \"element\":\n        return printElement(path, opts, print);\n      case \"externalID\":\n        return printExternalID(path, opts, print);\n      case \"misc\":\n        return printMisc(path, opts, print);\n      case \"prolog\":\n        return printProlog(path, opts, print);\n      case \"reference\":\n        return printReference(path, opts, print);\n      default:\n        throw new Error(`Unknown node type: ${node.name}`);\n    }\n  }\n};\n\nexport default printer;\n","(function (factory) {\n  function interopModuleDefault() {\n    var module = factory();\n    return module.default || module;\n  }\n\n  if (typeof exports === \"object\" && typeof module === \"object\") {\n    module.exports = interopModuleDefault();\n  } else if (typeof define === \"function\" && define.amd) {\n    define(interopModuleDefault);\n  } else {\n    var root =\n      typeof globalThis !== \"undefined\"\n        ? globalThis\n        : typeof global !== \"undefined\"\n          ? global\n          : typeof self !== \"undefined\"\n            ? self\n            : this || {};\n    root.doc = interopModuleDefault();\n  }\n})(function () {\n  \"use strict\";\n  var __defProp = Object.defineProperty;\n  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;\n  var __getOwnPropNames = Object.getOwnPropertyNames;\n  var __hasOwnProp = Object.prototype.hasOwnProperty;\n  var __export = (target, all) => {\n    for (var name in all)\n      __defProp(target, name, { get: all[name], enumerable: true });\n  };\n  var __copyProps = (to, from, except, desc) => {\n    if (from && typeof from === \"object\" || typeof from === \"function\") {\n      for (let key of __getOwnPropNames(from))\n        if (!__hasOwnProp.call(to, key) && key !== except)\n          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n    }\n    return to;\n  };\n  var __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n  // src/document/public.js\n  var public_exports = {};\n  __export(public_exports, {\n    builders: () => builders,\n    printer: () => printer,\n    utils: () => utils\n  });\n\n  // src/document/constants.js\n  var DOC_TYPE_STRING = \"string\";\n  var DOC_TYPE_ARRAY = \"array\";\n  var DOC_TYPE_CURSOR = \"cursor\";\n  var DOC_TYPE_INDENT = \"indent\";\n  var DOC_TYPE_ALIGN = \"align\";\n  var DOC_TYPE_TRIM = \"trim\";\n  var DOC_TYPE_GROUP = \"group\";\n  var DOC_TYPE_FILL = \"fill\";\n  var DOC_TYPE_IF_BREAK = \"if-break\";\n  var DOC_TYPE_INDENT_IF_BREAK = \"indent-if-break\";\n  var DOC_TYPE_LINE_SUFFIX = \"line-suffix\";\n  var DOC_TYPE_LINE_SUFFIX_BOUNDARY = \"line-suffix-boundary\";\n  var DOC_TYPE_LINE = \"line\";\n  var DOC_TYPE_LABEL = \"label\";\n  var DOC_TYPE_BREAK_PARENT = \"break-parent\";\n  var VALID_OBJECT_DOC_TYPES = /* @__PURE__ */ new Set([\n    DOC_TYPE_CURSOR,\n    DOC_TYPE_INDENT,\n    DOC_TYPE_ALIGN,\n    DOC_TYPE_TRIM,\n    DOC_TYPE_GROUP,\n    DOC_TYPE_FILL,\n    DOC_TYPE_IF_BREAK,\n    DOC_TYPE_INDENT_IF_BREAK,\n    DOC_TYPE_LINE_SUFFIX,\n    DOC_TYPE_LINE_SUFFIX_BOUNDARY,\n    DOC_TYPE_LINE,\n    DOC_TYPE_LABEL,\n    DOC_TYPE_BREAK_PARENT\n  ]);\n\n  // scripts/build/shims/at.js\n  var at = (isOptionalObject, object, index) => {\n    if (isOptionalObject && (object === void 0 || object === null)) {\n      return;\n    }\n    if (Array.isArray(object) || typeof object === \"string\") {\n      return object[index < 0 ? object.length + index : index];\n    }\n    return object.at(index);\n  };\n  var at_default = at;\n\n  // node_modules/trim-newlines/index.js\n  function trimNewlinesEnd(string) {\n    let end = string.length;\n    while (end > 0 && (string[end - 1] === \"\\r\" || string[end - 1] === \"\\n\")) {\n      end--;\n    }\n    return end < string.length ? string.slice(0, end) : string;\n  }\n\n  // src/document/utils/get-doc-type.js\n  function getDocType(doc) {\n    if (typeof doc === \"string\") {\n      return DOC_TYPE_STRING;\n    }\n    if (Array.isArray(doc)) {\n      return DOC_TYPE_ARRAY;\n    }\n    if (!doc) {\n      return;\n    }\n    const { type } = doc;\n    if (VALID_OBJECT_DOC_TYPES.has(type)) {\n      return type;\n    }\n  }\n  var get_doc_type_default = getDocType;\n\n  // src/document/invalid-doc-error.js\n  var disjunctionListFormat = (list) => new Intl.ListFormat(\"en-US\", { type: \"disjunction\" }).format(list);\n  function getDocErrorMessage(doc) {\n    const type = doc === null ? \"null\" : typeof doc;\n    if (type !== \"string\" && type !== \"object\") {\n      return `Unexpected doc '${type}', \nExpected it to be 'string' or 'object'.`;\n    }\n    if (get_doc_type_default(doc)) {\n      throw new Error(\"doc is valid.\");\n    }\n    const objectType = Object.prototype.toString.call(doc);\n    if (objectType !== \"[object Object]\") {\n      return `Unexpected doc '${objectType}'.`;\n    }\n    const EXPECTED_TYPE_VALUES = disjunctionListFormat(\n      [...VALID_OBJECT_DOC_TYPES].map((type2) => `'${type2}'`)\n    );\n    return `Unexpected doc.type '${doc.type}'.\nExpected it to be ${EXPECTED_TYPE_VALUES}.`;\n  }\n  var InvalidDocError = class extends Error {\n    name = \"InvalidDocError\";\n    constructor(doc) {\n      super(getDocErrorMessage(doc));\n      this.doc = doc;\n    }\n  };\n  var invalid_doc_error_default = InvalidDocError;\n\n  // src/document/utils/traverse-doc.js\n  var traverseDocOnExitStackMarker = {};\n  function traverseDoc(doc, onEnter, onExit, shouldTraverseConditionalGroups) {\n    const docsStack = [doc];\n    while (docsStack.length > 0) {\n      const doc2 = docsStack.pop();\n      if (doc2 === traverseDocOnExitStackMarker) {\n        onExit(docsStack.pop());\n        continue;\n      }\n      if (onExit) {\n        docsStack.push(doc2, traverseDocOnExitStackMarker);\n      }\n      const docType = get_doc_type_default(doc2);\n      if (!docType) {\n        throw new invalid_doc_error_default(doc2);\n      }\n      if ((onEnter == null ? void 0 : onEnter(doc2)) === false) {\n        continue;\n      }\n      switch (docType) {\n        case DOC_TYPE_ARRAY:\n        case DOC_TYPE_FILL: {\n          const parts = docType === DOC_TYPE_ARRAY ? doc2 : doc2.parts;\n          for (let ic = parts.length, i = ic - 1; i >= 0; --i) {\n            docsStack.push(parts[i]);\n          }\n          break;\n        }\n        case DOC_TYPE_IF_BREAK:\n          docsStack.push(doc2.flatContents, doc2.breakContents);\n          break;\n        case DOC_TYPE_GROUP:\n          if (shouldTraverseConditionalGroups && doc2.expandedStates) {\n            for (let ic = doc2.expandedStates.length, i = ic - 1; i >= 0; --i) {\n              docsStack.push(doc2.expandedStates[i]);\n            }\n          } else {\n            docsStack.push(doc2.contents);\n          }\n          break;\n        case DOC_TYPE_ALIGN:\n        case DOC_TYPE_INDENT:\n        case DOC_TYPE_INDENT_IF_BREAK:\n        case DOC_TYPE_LABEL:\n        case DOC_TYPE_LINE_SUFFIX:\n          docsStack.push(doc2.contents);\n          break;\n        case DOC_TYPE_STRING:\n        case DOC_TYPE_CURSOR:\n        case DOC_TYPE_TRIM:\n        case DOC_TYPE_LINE_SUFFIX_BOUNDARY:\n        case DOC_TYPE_LINE:\n        case DOC_TYPE_BREAK_PARENT:\n          break;\n        default:\n          throw new invalid_doc_error_default(doc2);\n      }\n    }\n  }\n  var traverse_doc_default = traverseDoc;\n\n  // src/document/utils.js\n  function mapDoc(doc, cb) {\n    if (typeof doc === \"string\") {\n      return cb(doc);\n    }\n    const mapped = /* @__PURE__ */ new Map();\n    return rec(doc);\n    function rec(doc2) {\n      if (mapped.has(doc2)) {\n        return mapped.get(doc2);\n      }\n      const result = process2(doc2);\n      mapped.set(doc2, result);\n      return result;\n    }\n    function process2(doc2) {\n      switch (get_doc_type_default(doc2)) {\n        case DOC_TYPE_ARRAY:\n          return cb(doc2.map(rec));\n        case DOC_TYPE_FILL:\n          return cb({ ...doc2, parts: doc2.parts.map(rec) });\n        case DOC_TYPE_IF_BREAK:\n          return cb({\n            ...doc2,\n            breakContents: rec(doc2.breakContents),\n            flatContents: rec(doc2.flatContents)\n          });\n        case DOC_TYPE_GROUP: {\n          let { expandedStates, contents } = doc2;\n          if (expandedStates) {\n            expandedStates = expandedStates.map(rec);\n            contents = expandedStates[0];\n          } else {\n            contents = rec(contents);\n          }\n          return cb({ ...doc2, contents, expandedStates });\n        }\n        case DOC_TYPE_ALIGN:\n        case DOC_TYPE_INDENT:\n        case DOC_TYPE_INDENT_IF_BREAK:\n        case DOC_TYPE_LABEL:\n        case DOC_TYPE_LINE_SUFFIX:\n          return cb({ ...doc2, contents: rec(doc2.contents) });\n        case DOC_TYPE_STRING:\n        case DOC_TYPE_CURSOR:\n        case DOC_TYPE_TRIM:\n        case DOC_TYPE_LINE_SUFFIX_BOUNDARY:\n        case DOC_TYPE_LINE:\n        case DOC_TYPE_BREAK_PARENT:\n          return cb(doc2);\n        default:\n          throw new invalid_doc_error_default(doc2);\n      }\n    }\n  }\n  function findInDoc(doc, fn, defaultValue) {\n    let result = defaultValue;\n    let shouldSkipFurtherProcessing = false;\n    function findInDocOnEnterFn(doc2) {\n      if (shouldSkipFurtherProcessing) {\n        return false;\n      }\n      const maybeResult = fn(doc2);\n      if (maybeResult !== void 0) {\n        shouldSkipFurtherProcessing = true;\n        result = maybeResult;\n      }\n    }\n    traverse_doc_default(doc, findInDocOnEnterFn);\n    return result;\n  }\n  function willBreakFn(doc) {\n    if (doc.type === DOC_TYPE_GROUP && doc.break) {\n      return true;\n    }\n    if (doc.type === DOC_TYPE_LINE && doc.hard) {\n      return true;\n    }\n    if (doc.type === DOC_TYPE_BREAK_PARENT) {\n      return true;\n    }\n  }\n  function willBreak(doc) {\n    return findInDoc(doc, willBreakFn, false);\n  }\n  function breakParentGroup(groupStack) {\n    if (groupStack.length > 0) {\n      const parentGroup = at_default(\n        /* isOptionalObject */\n        false,\n        groupStack,\n        -1\n      );\n      if (!parentGroup.expandedStates && !parentGroup.break) {\n        parentGroup.break = \"propagated\";\n      }\n    }\n    return null;\n  }\n  function propagateBreaks(doc) {\n    const alreadyVisitedSet = /* @__PURE__ */ new Set();\n    const groupStack = [];\n    function propagateBreaksOnEnterFn(doc2) {\n      if (doc2.type === DOC_TYPE_BREAK_PARENT) {\n        breakParentGroup(groupStack);\n      }\n      if (doc2.type === DOC_TYPE_GROUP) {\n        groupStack.push(doc2);\n        if (alreadyVisitedSet.has(doc2)) {\n          return false;\n        }\n        alreadyVisitedSet.add(doc2);\n      }\n    }\n    function propagateBreaksOnExitFn(doc2) {\n      if (doc2.type === DOC_TYPE_GROUP) {\n        const group2 = groupStack.pop();\n        if (group2.break) {\n          breakParentGroup(groupStack);\n        }\n      }\n    }\n    traverse_doc_default(\n      doc,\n      propagateBreaksOnEnterFn,\n      propagateBreaksOnExitFn,\n      /* shouldTraverseConditionalGroups */\n      true\n    );\n  }\n  function removeLinesFn(doc) {\n    if (doc.type === DOC_TYPE_LINE && !doc.hard) {\n      return doc.soft ? \"\" : \" \";\n    }\n    if (doc.type === DOC_TYPE_IF_BREAK) {\n      return doc.flatContents;\n    }\n    return doc;\n  }\n  function removeLines(doc) {\n    return mapDoc(doc, removeLinesFn);\n  }\n  function stripTrailingHardlineFromParts(parts) {\n    parts = [...parts];\n    while (parts.length >= 2 && at_default(\n      /* isOptionalObject */\n      false,\n      parts,\n      -2\n    ).type === DOC_TYPE_LINE && at_default(\n      /* isOptionalObject */\n      false,\n      parts,\n      -1\n    ).type === DOC_TYPE_BREAK_PARENT) {\n      parts.length -= 2;\n    }\n    if (parts.length > 0) {\n      const lastPart = stripTrailingHardlineFromDoc(at_default(\n        /* isOptionalObject */\n        false,\n        parts,\n        -1\n      ));\n      parts[parts.length - 1] = lastPart;\n    }\n    return parts;\n  }\n  function stripTrailingHardlineFromDoc(doc) {\n    switch (get_doc_type_default(doc)) {\n      case DOC_TYPE_INDENT:\n      case DOC_TYPE_INDENT_IF_BREAK:\n      case DOC_TYPE_GROUP:\n      case DOC_TYPE_LINE_SUFFIX:\n      case DOC_TYPE_LABEL: {\n        const contents = stripTrailingHardlineFromDoc(doc.contents);\n        return { ...doc, contents };\n      }\n      case DOC_TYPE_IF_BREAK:\n        return {\n          ...doc,\n          breakContents: stripTrailingHardlineFromDoc(doc.breakContents),\n          flatContents: stripTrailingHardlineFromDoc(doc.flatContents)\n        };\n      case DOC_TYPE_FILL:\n        return { ...doc, parts: stripTrailingHardlineFromParts(doc.parts) };\n      case DOC_TYPE_ARRAY:\n        return stripTrailingHardlineFromParts(doc);\n      case DOC_TYPE_STRING:\n        return trimNewlinesEnd(doc);\n      case DOC_TYPE_ALIGN:\n      case DOC_TYPE_CURSOR:\n      case DOC_TYPE_TRIM:\n      case DOC_TYPE_LINE_SUFFIX_BOUNDARY:\n      case DOC_TYPE_LINE:\n      case DOC_TYPE_BREAK_PARENT:\n        break;\n      default:\n        throw new invalid_doc_error_default(doc);\n    }\n    return doc;\n  }\n  function stripTrailingHardline(doc) {\n    return stripTrailingHardlineFromDoc(cleanDoc(doc));\n  }\n  function cleanDocFn(doc) {\n    switch (get_doc_type_default(doc)) {\n      case DOC_TYPE_FILL:\n        if (doc.parts.every((part) => part === \"\")) {\n          return \"\";\n        }\n        break;\n      case DOC_TYPE_GROUP:\n        if (!doc.contents && !doc.id && !doc.break && !doc.expandedStates) {\n          return \"\";\n        }\n        if (doc.contents.type === DOC_TYPE_GROUP && doc.contents.id === doc.id && doc.contents.break === doc.break && doc.contents.expandedStates === doc.expandedStates) {\n          return doc.contents;\n        }\n        break;\n      case DOC_TYPE_ALIGN:\n      case DOC_TYPE_INDENT:\n      case DOC_TYPE_INDENT_IF_BREAK:\n      case DOC_TYPE_LINE_SUFFIX:\n        if (!doc.contents) {\n          return \"\";\n        }\n        break;\n      case DOC_TYPE_IF_BREAK:\n        if (!doc.flatContents && !doc.breakContents) {\n          return \"\";\n        }\n        break;\n      case DOC_TYPE_ARRAY: {\n        const parts = [];\n        for (const part of doc) {\n          if (!part) {\n            continue;\n          }\n          const [currentPart, ...restParts] = Array.isArray(part) ? part : [part];\n          if (typeof currentPart === \"string\" && typeof at_default(\n            /* isOptionalObject */\n            false,\n            parts,\n            -1\n          ) === \"string\") {\n            parts[parts.length - 1] += currentPart;\n          } else {\n            parts.push(currentPart);\n          }\n          parts.push(...restParts);\n        }\n        if (parts.length === 0) {\n          return \"\";\n        }\n        if (parts.length === 1) {\n          return parts[0];\n        }\n        return parts;\n      }\n      case DOC_TYPE_STRING:\n      case DOC_TYPE_CURSOR:\n      case DOC_TYPE_TRIM:\n      case DOC_TYPE_LINE_SUFFIX_BOUNDARY:\n      case DOC_TYPE_LINE:\n      case DOC_TYPE_LABEL:\n      case DOC_TYPE_BREAK_PARENT:\n        break;\n      default:\n        throw new invalid_doc_error_default(doc);\n    }\n    return doc;\n  }\n  function cleanDoc(doc) {\n    return mapDoc(doc, (currentDoc) => cleanDocFn(currentDoc));\n  }\n  function replaceEndOfLine(doc, replacement = literalline) {\n    return mapDoc(\n      doc,\n      (currentDoc) => typeof currentDoc === \"string\" ? join(replacement, currentDoc.split(\"\\n\")) : currentDoc\n    );\n  }\n  function canBreakFn(doc) {\n    if (doc.type === DOC_TYPE_LINE) {\n      return true;\n    }\n  }\n  function canBreak(doc) {\n    return findInDoc(doc, canBreakFn, false);\n  }\n\n  // src/document/utils/assert-doc.js\n  var noop = () => {\n  };\n  var assertDoc = true ? noop : function(doc) {\n    traverse_doc_default(doc, (doc2) => {\n      if (checked.has(doc2)) {\n        return false;\n      }\n      if (typeof doc2 !== \"string\") {\n        checked.add(doc2);\n      }\n    });\n  };\n  var assertDocArray = true ? noop : function(docs, optional = false) {\n    if (optional && !docs) {\n      return;\n    }\n    if (!Array.isArray(docs)) {\n      throw new TypeError(\"Unexpected doc array.\");\n    }\n    for (const doc of docs) {\n      assertDoc(doc);\n    }\n  };\n  var assertDocFillParts = true ? noop : (\n    /**\n     * @param {Doc[]} parts\n     */\n    function(parts) {\n      assertDocArray(parts);\n      if (parts.length > 1 && isEmptyDoc(at_default(\n        /* isOptionalObject */\n        false,\n        parts,\n        -1\n      ))) {\n        parts = parts.slice(0, -1);\n      }\n      for (const [i, doc] of parts.entries()) {\n        if (i % 2 === 1 && !isValidSeparator(doc)) {\n          const type = get_doc_type_default(doc);\n          throw new Error(\n            `Unexpected non-line-break doc at ${i}. Doc type is ${type}.`\n          );\n        }\n      }\n    }\n  );\n\n  // src/document/builders.js\n  function indent(contents) {\n    assertDoc(contents);\n    return { type: DOC_TYPE_INDENT, contents };\n  }\n  function align(widthOrString, contents) {\n    assertDoc(contents);\n    return { type: DOC_TYPE_ALIGN, contents, n: widthOrString };\n  }\n  function group(contents, opts = {}) {\n    assertDoc(contents);\n    assertDocArray(\n      opts.expandedStates,\n      /* optional */\n      true\n    );\n    return {\n      type: DOC_TYPE_GROUP,\n      id: opts.id,\n      contents,\n      break: Boolean(opts.shouldBreak),\n      expandedStates: opts.expandedStates\n    };\n  }\n  function dedentToRoot(contents) {\n    return align(Number.NEGATIVE_INFINITY, contents);\n  }\n  function markAsRoot(contents) {\n    return align({ type: \"root\" }, contents);\n  }\n  function dedent(contents) {\n    return align(-1, contents);\n  }\n  function conditionalGroup(states, opts) {\n    return group(states[0], { ...opts, expandedStates: states });\n  }\n  function fill(parts) {\n    assertDocFillParts(parts);\n    return { type: DOC_TYPE_FILL, parts };\n  }\n  function ifBreak(breakContents, flatContents = \"\", opts = {}) {\n    assertDoc(breakContents);\n    if (flatContents !== \"\") {\n      assertDoc(flatContents);\n    }\n    return {\n      type: DOC_TYPE_IF_BREAK,\n      breakContents,\n      flatContents,\n      groupId: opts.groupId\n    };\n  }\n  function indentIfBreak(contents, opts) {\n    assertDoc(contents);\n    return {\n      type: DOC_TYPE_INDENT_IF_BREAK,\n      contents,\n      groupId: opts.groupId,\n      negate: opts.negate\n    };\n  }\n  function lineSuffix(contents) {\n    assertDoc(contents);\n    return { type: DOC_TYPE_LINE_SUFFIX, contents };\n  }\n  var lineSuffixBoundary = { type: DOC_TYPE_LINE_SUFFIX_BOUNDARY };\n  var breakParent = { type: DOC_TYPE_BREAK_PARENT };\n  var trim = { type: DOC_TYPE_TRIM };\n  var hardlineWithoutBreakParent = { type: DOC_TYPE_LINE, hard: true };\n  var literallineWithoutBreakParent = {\n    type: DOC_TYPE_LINE,\n    hard: true,\n    literal: true\n  };\n  var line = { type: DOC_TYPE_LINE };\n  var softline = { type: DOC_TYPE_LINE, soft: true };\n  var hardline = [hardlineWithoutBreakParent, breakParent];\n  var literalline = [literallineWithoutBreakParent, breakParent];\n  var cursor = { type: DOC_TYPE_CURSOR };\n  function join(separator, docs) {\n    assertDoc(separator);\n    assertDocArray(docs);\n    const parts = [];\n    for (let i = 0; i < docs.length; i++) {\n      if (i !== 0) {\n        parts.push(separator);\n      }\n      parts.push(docs[i]);\n    }\n    return parts;\n  }\n  function addAlignmentToDoc(doc, size, tabWidth) {\n    assertDoc(doc);\n    let aligned = doc;\n    if (size > 0) {\n      for (let i = 0; i < Math.floor(size / tabWidth); ++i) {\n        aligned = indent(aligned);\n      }\n      aligned = align(size % tabWidth, aligned);\n      aligned = align(Number.NEGATIVE_INFINITY, aligned);\n    }\n    return aligned;\n  }\n  function label(label2, contents) {\n    assertDoc(contents);\n    return label2 ? { type: DOC_TYPE_LABEL, label: label2, contents } : contents;\n  }\n\n  // scripts/build/shims/string-replace-all.js\n  var stringReplaceAll = (isOptionalObject, original, pattern, replacement) => {\n    if (isOptionalObject && (original === void 0 || original === null)) {\n      return;\n    }\n    if (original.replaceAll) {\n      return original.replaceAll(pattern, replacement);\n    }\n    if (pattern.global) {\n      return original.replace(pattern, replacement);\n    }\n    return original.split(pattern).join(replacement);\n  };\n  var string_replace_all_default = stringReplaceAll;\n\n  // src/common/end-of-line.js\n  function convertEndOfLineToChars(value) {\n    switch (value) {\n      case \"cr\":\n        return \"\\r\";\n      case \"crlf\":\n        return \"\\r\\n\";\n      default:\n        return \"\\n\";\n    }\n  }\n\n  // node_modules/emoji-regex/index.mjs\n  var emoji_regex_default = () => {\n    return /[#*0-9]\\uFE0F?\\u20E3|[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23ED-\\u23EF\\u23F1\\u23F2\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB\\u25FC\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692\\u2694-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A7\\u26AA\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C8\\u26CF\\u26D1\\u26E9\\u26F0-\\u26F5\\u26F7\\u26F8\\u26FA\\u2702\\u2708\\u2709\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2733\\u2734\\u2744\\u2747\\u2757\\u2763\\u27A1\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B55\\u3030\\u303D\\u3297\\u3299]\\uFE0F?|[\\u261D\\u270C\\u270D](?:\\uD83C[\\uDFFB-\\uDFFF]|\\uFE0F)?|[\\u270A\\u270B](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u2693\\u26A1\\u26AB\\u26C5\\u26CE\\u26D4\\u26EA\\u26FD\\u2705\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2795-\\u2797\\u27B0\\u27BF\\u2B50]|\\u26D3\\uFE0F?(?:\\u200D\\uD83D\\uDCA5)?|\\u26F9(?:\\uD83C[\\uDFFB-\\uDFFF]|\\uFE0F)?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\u2764\\uFE0F?(?:\\u200D(?:\\uD83D\\uDD25|\\uD83E\\uDE79))?|\\uD83C(?:[\\uDC04\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDE02\\uDE37\\uDF21\\uDF24-\\uDF2C\\uDF36\\uDF7D\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E\\uDF9F\\uDFCD\\uDFCE\\uDFD4-\\uDFDF\\uDFF5\\uDFF7]\\uFE0F?|[\\uDF85\\uDFC2\\uDFC7](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDFC4\\uDFCA](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDFCB\\uDFCC](?:\\uD83C[\\uDFFB-\\uDFFF]|\\uFE0F)?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF43\\uDF45-\\uDF4A\\uDF4C-\\uDF7C\\uDF7E-\\uDF84\\uDF86-\\uDF93\\uDFA0-\\uDFC1\\uDFC5\\uDFC6\\uDFC8\\uDFC9\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF8-\\uDFFF]|\\uDDE6\\uD83C[\\uDDE8-\\uDDEC\\uDDEE\\uDDF1\\uDDF2\\uDDF4\\uDDF6-\\uDDFA\\uDDFC\\uDDFD\\uDDFF]|\\uDDE7\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEF\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9\\uDDFB\\uDDFC\\uDDFE\\uDDFF]|\\uDDE8\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDEE\\uDDF0-\\uDDF7\\uDDFA-\\uDDFF]|\\uDDE9\\uD83C[\\uDDEA\\uDDEC\\uDDEF\\uDDF0\\uDDF2\\uDDF4\\uDDFF]|\\uDDEA\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDED\\uDDF7-\\uDDFA]|\\uDDEB\\uD83C[\\uDDEE-\\uDDF0\\uDDF2\\uDDF4\\uDDF7]|\\uDDEC\\uD83C[\\uDDE6\\uDDE7\\uDDE9-\\uDDEE\\uDDF1-\\uDDF3\\uDDF5-\\uDDFA\\uDDFC\\uDDFE]|\\uDDED\\uD83C[\\uDDF0\\uDDF2\\uDDF3\\uDDF7\\uDDF9\\uDDFA]|\\uDDEE\\uD83C[\\uDDE8-\\uDDEA\\uDDF1-\\uDDF4\\uDDF6-\\uDDF9]|\\uDDEF\\uD83C[\\uDDEA\\uDDF2\\uDDF4\\uDDF5]|\\uDDF0\\uD83C[\\uDDEA\\uDDEC-\\uDDEE\\uDDF2\\uDDF3\\uDDF5\\uDDF7\\uDDFC\\uDDFE\\uDDFF]|\\uDDF1\\uD83C[\\uDDE6-\\uDDE8\\uDDEE\\uDDF0\\uDDF7-\\uDDFB\\uDDFE]|\\uDDF2\\uD83C[\\uDDE6\\uDDE8-\\uDDED\\uDDF0-\\uDDFF]|\\uDDF3\\uD83C[\\uDDE6\\uDDE8\\uDDEA-\\uDDEC\\uDDEE\\uDDF1\\uDDF4\\uDDF5\\uDDF7\\uDDFA\\uDDFF]|\\uDDF4\\uD83C\\uDDF2|\\uDDF5\\uD83C[\\uDDE6\\uDDEA-\\uDDED\\uDDF0-\\uDDF3\\uDDF7-\\uDDF9\\uDDFC\\uDDFE]|\\uDDF6\\uD83C\\uDDE6|\\uDDF7\\uD83C[\\uDDEA\\uDDF4\\uDDF8\\uDDFA\\uDDFC]|\\uDDF8\\uD83C[\\uDDE6-\\uDDEA\\uDDEC-\\uDDF4\\uDDF7-\\uDDF9\\uDDFB\\uDDFD-\\uDDFF]|\\uDDF9\\uD83C[\\uDDE6\\uDDE8\\uDDE9\\uDDEB-\\uDDED\\uDDEF-\\uDDF4\\uDDF7\\uDDF9\\uDDFB\\uDDFC\\uDDFF]|\\uDDFA\\uD83C[\\uDDE6\\uDDEC\\uDDF2\\uDDF3\\uDDF8\\uDDFE\\uDDFF]|\\uDDFB\\uD83C[\\uDDE6\\uDDE8\\uDDEA\\uDDEC\\uDDEE\\uDDF3\\uDDFA]|\\uDDFC\\uD83C[\\uDDEB\\uDDF8]|\\uDDFD\\uD83C\\uDDF0|\\uDDFE\\uD83C[\\uDDEA\\uDDF9]|\\uDDFF\\uD83C[\\uDDE6\\uDDF2\\uDDFC]|\\uDF44(?:\\u200D\\uD83D\\uDFEB)?|\\uDF4B(?:\\u200D\\uD83D\\uDFE9)?|\\uDFC3(?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D(?:[\\u2640\\u2642]\\uFE0F?(?:\\u200D\\u27A1\\uFE0F?)?|\\u27A1\\uFE0F?))?|\\uDFF3\\uFE0F?(?:\\u200D(?:\\u26A7\\uFE0F?|\\uD83C\\uDF08))?|\\uDFF4(?:\\u200D\\u2620\\uFE0F?|\\uDB40\\uDC67\\uDB40\\uDC62\\uDB40(?:\\uDC65\\uDB40\\uDC6E\\uDB40\\uDC67|\\uDC73\\uDB40\\uDC63\\uDB40\\uDC74|\\uDC77\\uDB40\\uDC6C\\uDB40\\uDC73)\\uDB40\\uDC7F)?)|\\uD83D(?:[\\uDC3F\\uDCFD\\uDD49\\uDD4A\\uDD6F\\uDD70\\uDD73\\uDD76-\\uDD79\\uDD87\\uDD8A-\\uDD8D\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA\\uDECB\\uDECD-\\uDECF\\uDEE0-\\uDEE5\\uDEE9\\uDEF0\\uDEF3]\\uFE0F?|[\\uDC42\\uDC43\\uDC46-\\uDC50\\uDC66\\uDC67\\uDC6B-\\uDC6D\\uDC72\\uDC74-\\uDC76\\uDC78\\uDC7C\\uDC83\\uDC85\\uDC8F\\uDC91\\uDCAA\\uDD7A\\uDD95\\uDD96\\uDE4C\\uDE4F\\uDEC0\\uDECC](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDC6E\\uDC70\\uDC71\\uDC73\\uDC77\\uDC81\\uDC82\\uDC86\\uDC87\\uDE45-\\uDE47\\uDE4B\\uDE4D\\uDE4E\\uDEA3\\uDEB4\\uDEB5](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDD74\\uDD90](?:\\uD83C[\\uDFFB-\\uDFFF]|\\uFE0F)?|[\\uDC00-\\uDC07\\uDC09-\\uDC14\\uDC16-\\uDC25\\uDC27-\\uDC3A\\uDC3C-\\uDC3E\\uDC40\\uDC44\\uDC45\\uDC51-\\uDC65\\uDC6A\\uDC79-\\uDC7B\\uDC7D-\\uDC80\\uDC84\\uDC88-\\uDC8E\\uDC90\\uDC92-\\uDCA9\\uDCAB-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDDA4\\uDDFB-\\uDE2D\\uDE2F-\\uDE34\\uDE37-\\uDE41\\uDE43\\uDE44\\uDE48-\\uDE4A\\uDE80-\\uDEA2\\uDEA4-\\uDEB3\\uDEB7-\\uDEBF\\uDEC1-\\uDEC5\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEDC-\\uDEDF\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB\\uDFF0]|\\uDC08(?:\\u200D\\u2B1B)?|\\uDC15(?:\\u200D\\uD83E\\uDDBA)?|\\uDC26(?:\\u200D(?:\\u2B1B|\\uD83D\\uDD25))?|\\uDC3B(?:\\u200D\\u2744\\uFE0F?)?|\\uDC41\\uFE0F?(?:\\u200D\\uD83D\\uDDE8\\uFE0F?)?|\\uDC68(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D(?:[\\uDC68\\uDC69]\\u200D\\uD83D(?:\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?)|[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?)|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]))|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFC-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?\\uDC68\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D\\uDC68\\uD83C[\\uDFFB-\\uDFFE])))?))?|\\uDC69(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:\\uDC8B\\u200D\\uD83D)?[\\uDC68\\uDC69]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D(?:[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?|\\uDC69\\u200D\\uD83D(?:\\uDC66(?:\\u200D\\uD83D\\uDC66)?|\\uDC67(?:\\u200D\\uD83D[\\uDC66\\uDC67])?))|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]))|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFC-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D\\uD83D(?:[\\uDC68\\uDC69]|\\uDC8B\\u200D\\uD83D[\\uDC68\\uDC69])\\uD83C[\\uDFFB-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83D[\\uDC68\\uDC69]\\uD83C[\\uDFFB-\\uDFFE])))?))?|\\uDC6F(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\uDD75(?:\\uD83C[\\uDFFB-\\uDFFF]|\\uFE0F)?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|\\uDE2E(?:\\u200D\\uD83D\\uDCA8)?|\\uDE35(?:\\u200D\\uD83D\\uDCAB)?|\\uDE36(?:\\u200D\\uD83C\\uDF2B\\uFE0F?)?|\\uDE42(?:\\u200D[\\u2194\\u2195]\\uFE0F?)?|\\uDEB6(?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D(?:[\\u2640\\u2642]\\uFE0F?(?:\\u200D\\u27A1\\uFE0F?)?|\\u27A1\\uFE0F?))?)|\\uD83E(?:[\\uDD0C\\uDD0F\\uDD18-\\uDD1F\\uDD30-\\uDD34\\uDD36\\uDD77\\uDDB5\\uDDB6\\uDDBB\\uDDD2\\uDDD3\\uDDD5\\uDEC3-\\uDEC5\\uDEF0\\uDEF2-\\uDEF8](?:\\uD83C[\\uDFFB-\\uDFFF])?|[\\uDD26\\uDD35\\uDD37-\\uDD39\\uDD3D\\uDD3E\\uDDB8\\uDDB9\\uDDCD\\uDDCF\\uDDD4\\uDDD6-\\uDDDD](?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDDDE\\uDDDF](?:\\u200D[\\u2640\\u2642]\\uFE0F?)?|[\\uDD0D\\uDD0E\\uDD10-\\uDD17\\uDD20-\\uDD25\\uDD27-\\uDD2F\\uDD3A\\uDD3F-\\uDD45\\uDD47-\\uDD76\\uDD78-\\uDDB4\\uDDB7\\uDDBA\\uDDBC-\\uDDCC\\uDDD0\\uDDE0-\\uDDFF\\uDE70-\\uDE7C\\uDE80-\\uDE89\\uDE8F-\\uDEC2\\uDEC6\\uDECE-\\uDEDC\\uDEDF-\\uDEE9]|\\uDD3C(?:\\u200D[\\u2640\\u2642]\\uFE0F?|\\uD83C[\\uDFFB-\\uDFFF])?|\\uDDCE(?:\\uD83C[\\uDFFB-\\uDFFF])?(?:\\u200D(?:[\\u2640\\u2642]\\uFE0F?(?:\\u200D\\u27A1\\uFE0F?)?|\\u27A1\\uFE0F?))?|\\uDDD1(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1|\\uDDD1\\u200D\\uD83E\\uDDD2(?:\\u200D\\uD83E\\uDDD2)?|\\uDDD2(?:\\u200D\\uD83E\\uDDD2)?))|\\uD83C(?:\\uDFFB(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFC-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFC(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB\\uDFFD-\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFD(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFE(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFD\\uDFFF]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?|\\uDFFF(?:\\u200D(?:[\\u2695\\u2696\\u2708]\\uFE0F?|\\u2764\\uFE0F?\\u200D(?:\\uD83D\\uDC8B\\u200D)?\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFE]|\\uD83C[\\uDF3E\\uDF73\\uDF7C\\uDF84\\uDF93\\uDFA4\\uDFA8\\uDFEB\\uDFED]|\\uD83D[\\uDCBB\\uDCBC\\uDD27\\uDD2C\\uDE80\\uDE92]|\\uD83E(?:[\\uDDAF\\uDDBC\\uDDBD](?:\\u200D\\u27A1\\uFE0F?)?|[\\uDDB0-\\uDDB3]|\\uDD1D\\u200D\\uD83E\\uDDD1\\uD83C[\\uDFFB-\\uDFFF])))?))?|\\uDEF1(?:\\uD83C(?:\\uDFFB(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFC-\\uDFFF])?|\\uDFFC(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB\\uDFFD-\\uDFFF])?|\\uDFFD(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB\\uDFFC\\uDFFE\\uDFFF])?|\\uDFFE(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB-\\uDFFD\\uDFFF])?|\\uDFFF(?:\\u200D\\uD83E\\uDEF2\\uD83C[\\uDFFB-\\uDFFE])?))?)/g;\n  };\n\n  // node_modules/get-east-asian-width/lookup.js\n  function isFullWidth(x) {\n    return x === 12288 || x >= 65281 && x <= 65376 || x >= 65504 && x <= 65510;\n  }\n  function isWide(x) {\n    return x >= 4352 && x <= 4447 || x === 8986 || x === 8987 || x === 9001 || x === 9002 || x >= 9193 && x <= 9196 || x === 9200 || x === 9203 || x === 9725 || x === 9726 || x === 9748 || x === 9749 || x >= 9776 && x <= 9783 || x >= 9800 && x <= 9811 || x === 9855 || x >= 9866 && x <= 9871 || x === 9875 || x === 9889 || x === 9898 || x === 9899 || x === 9917 || x === 9918 || x === 9924 || x === 9925 || x === 9934 || x === 9940 || x === 9962 || x === 9970 || x === 9971 || x === 9973 || x === 9978 || x === 9981 || x === 9989 || x === 9994 || x === 9995 || x === 10024 || x === 10060 || x === 10062 || x >= 10067 && x <= 10069 || x === 10071 || x >= 10133 && x <= 10135 || x === 10160 || x === 10175 || x === 11035 || x === 11036 || x === 11088 || x === 11093 || x >= 11904 && x <= 11929 || x >= 11931 && x <= 12019 || x >= 12032 && x <= 12245 || x >= 12272 && x <= 12287 || x >= 12289 && x <= 12350 || x >= 12353 && x <= 12438 || x >= 12441 && x <= 12543 || x >= 12549 && x <= 12591 || x >= 12593 && x <= 12686 || x >= 12688 && x <= 12773 || x >= 12783 && x <= 12830 || x >= 12832 && x <= 12871 || x >= 12880 && x <= 42124 || x >= 42128 && x <= 42182 || x >= 43360 && x <= 43388 || x >= 44032 && x <= 55203 || x >= 63744 && x <= 64255 || x >= 65040 && x <= 65049 || x >= 65072 && x <= 65106 || x >= 65108 && x <= 65126 || x >= 65128 && x <= 65131 || x >= 94176 && x <= 94180 || x === 94192 || x === 94193 || x >= 94208 && x <= 100343 || x >= 100352 && x <= 101589 || x >= 101631 && x <= 101640 || x >= 110576 && x <= 110579 || x >= 110581 && x <= 110587 || x === 110589 || x === 110590 || x >= 110592 && x <= 110882 || x === 110898 || x >= 110928 && x <= 110930 || x === 110933 || x >= 110948 && x <= 110951 || x >= 110960 && x <= 111355 || x >= 119552 && x <= 119638 || x >= 119648 && x <= 119670 || x === 126980 || x === 127183 || x === 127374 || x >= 127377 && x <= 127386 || x >= 127488 && x <= 127490 || x >= 127504 && x <= 127547 || x >= 127552 && x <= 127560 || x === 127568 || x === 127569 || x >= 127584 && x <= 127589 || x >= 127744 && x <= 127776 || x >= 127789 && x <= 127797 || x >= 127799 && x <= 127868 || x >= 127870 && x <= 127891 || x >= 127904 && x <= 127946 || x >= 127951 && x <= 127955 || x >= 127968 && x <= 127984 || x === 127988 || x >= 127992 && x <= 128062 || x === 128064 || x >= 128066 && x <= 128252 || x >= 128255 && x <= 128317 || x >= 128331 && x <= 128334 || x >= 128336 && x <= 128359 || x === 128378 || x === 128405 || x === 128406 || x === 128420 || x >= 128507 && x <= 128591 || x >= 128640 && x <= 128709 || x === 128716 || x >= 128720 && x <= 128722 || x >= 128725 && x <= 128727 || x >= 128732 && x <= 128735 || x === 128747 || x === 128748 || x >= 128756 && x <= 128764 || x >= 128992 && x <= 129003 || x === 129008 || x >= 129292 && x <= 129338 || x >= 129340 && x <= 129349 || x >= 129351 && x <= 129535 || x >= 129648 && x <= 129660 || x >= 129664 && x <= 129673 || x >= 129679 && x <= 129734 || x >= 129742 && x <= 129756 || x >= 129759 && x <= 129769 || x >= 129776 && x <= 129784 || x >= 131072 && x <= 196605 || x >= 196608 && x <= 262141;\n  }\n\n  // node_modules/get-east-asian-width/index.js\n  var _isNarrowWidth = (codePoint) => !(isFullWidth(codePoint) || isWide(codePoint));\n\n  // src/utils/get-string-width.js\n  var notAsciiRegex = /[^\\x20-\\x7F]/u;\n  function getStringWidth(text) {\n    if (!text) {\n      return 0;\n    }\n    if (!notAsciiRegex.test(text)) {\n      return text.length;\n    }\n    text = text.replace(emoji_regex_default(), \"  \");\n    let width = 0;\n    for (const character of text) {\n      const codePoint = character.codePointAt(0);\n      if (codePoint <= 31 || codePoint >= 127 && codePoint <= 159) {\n        continue;\n      }\n      if (codePoint >= 768 && codePoint <= 879) {\n        continue;\n      }\n      width += _isNarrowWidth(codePoint) ? 1 : 2;\n    }\n    return width;\n  }\n  var get_string_width_default = getStringWidth;\n\n  // src/document/printer.js\n  var MODE_BREAK = Symbol(\"MODE_BREAK\");\n  var MODE_FLAT = Symbol(\"MODE_FLAT\");\n  var CURSOR_PLACEHOLDER = Symbol(\"cursor\");\n  var DOC_FILL_PRINTED_LENGTH = Symbol(\"DOC_FILL_PRINTED_LENGTH\");\n  function rootIndent() {\n    return { value: \"\", length: 0, queue: [] };\n  }\n  function makeIndent(ind, options) {\n    return generateInd(ind, { type: \"indent\" }, options);\n  }\n  function makeAlign(indent2, widthOrDoc, options) {\n    if (widthOrDoc === Number.NEGATIVE_INFINITY) {\n      return indent2.root || rootIndent();\n    }\n    if (widthOrDoc < 0) {\n      return generateInd(indent2, { type: \"dedent\" }, options);\n    }\n    if (!widthOrDoc) {\n      return indent2;\n    }\n    if (widthOrDoc.type === \"root\") {\n      return { ...indent2, root: indent2 };\n    }\n    const alignType = typeof widthOrDoc === \"string\" ? \"stringAlign\" : \"numberAlign\";\n    return generateInd(indent2, { type: alignType, n: widthOrDoc }, options);\n  }\n  function generateInd(ind, newPart, options) {\n    const queue = newPart.type === \"dedent\" ? ind.queue.slice(0, -1) : [...ind.queue, newPart];\n    let value = \"\";\n    let length = 0;\n    let lastTabs = 0;\n    let lastSpaces = 0;\n    for (const part of queue) {\n      switch (part.type) {\n        case \"indent\":\n          flush();\n          if (options.useTabs) {\n            addTabs(1);\n          } else {\n            addSpaces(options.tabWidth);\n          }\n          break;\n        case \"stringAlign\":\n          flush();\n          value += part.n;\n          length += part.n.length;\n          break;\n        case \"numberAlign\":\n          lastTabs += 1;\n          lastSpaces += part.n;\n          break;\n        default:\n          throw new Error(`Unexpected type '${part.type}'`);\n      }\n    }\n    flushSpaces();\n    return { ...ind, value, length, queue };\n    function addTabs(count) {\n      value += \"\t\".repeat(count);\n      length += options.tabWidth * count;\n    }\n    function addSpaces(count) {\n      value += \" \".repeat(count);\n      length += count;\n    }\n    function flush() {\n      if (options.useTabs) {\n        flushTabs();\n      } else {\n        flushSpaces();\n      }\n    }\n    function flushTabs() {\n      if (lastTabs > 0) {\n        addTabs(lastTabs);\n      }\n      resetLast();\n    }\n    function flushSpaces() {\n      if (lastSpaces > 0) {\n        addSpaces(lastSpaces);\n      }\n      resetLast();\n    }\n    function resetLast() {\n      lastTabs = 0;\n      lastSpaces = 0;\n    }\n  }\n  function trim2(out) {\n    let trimCount = 0;\n    let cursorCount = 0;\n    let outIndex = out.length;\n    outer: while (outIndex--) {\n      const last = out[outIndex];\n      if (last === CURSOR_PLACEHOLDER) {\n        cursorCount++;\n        continue;\n      }\n      if (false) {\n        throw new Error(`Unexpected value in trim: '${typeof last}'`);\n      }\n      for (let charIndex = last.length - 1; charIndex >= 0; charIndex--) {\n        const char = last[charIndex];\n        if (char === \" \" || char === \"\t\") {\n          trimCount++;\n        } else {\n          out[outIndex] = last.slice(0, charIndex + 1);\n          break outer;\n        }\n      }\n    }\n    if (trimCount > 0 || cursorCount > 0) {\n      out.length = outIndex + 1;\n      while (cursorCount-- > 0) {\n        out.push(CURSOR_PLACEHOLDER);\n      }\n    }\n    return trimCount;\n  }\n  function fits(next, restCommands, width, hasLineSuffix, groupModeMap, mustBeFlat) {\n    if (width === Number.POSITIVE_INFINITY) {\n      return true;\n    }\n    let restIdx = restCommands.length;\n    const cmds = [next];\n    const out = [];\n    while (width >= 0) {\n      if (cmds.length === 0) {\n        if (restIdx === 0) {\n          return true;\n        }\n        cmds.push(restCommands[--restIdx]);\n        continue;\n      }\n      const { mode, doc } = cmds.pop();\n      const docType = get_doc_type_default(doc);\n      switch (docType) {\n        case DOC_TYPE_STRING:\n          out.push(doc);\n          width -= get_string_width_default(doc);\n          break;\n        case DOC_TYPE_ARRAY:\n        case DOC_TYPE_FILL: {\n          const parts = docType === DOC_TYPE_ARRAY ? doc : doc.parts;\n          const end = doc[DOC_FILL_PRINTED_LENGTH] ?? 0;\n          for (let i = parts.length - 1; i >= end; i--) {\n            cmds.push({ mode, doc: parts[i] });\n          }\n          break;\n        }\n        case DOC_TYPE_INDENT:\n        case DOC_TYPE_ALIGN:\n        case DOC_TYPE_INDENT_IF_BREAK:\n        case DOC_TYPE_LABEL:\n          cmds.push({ mode, doc: doc.contents });\n          break;\n        case DOC_TYPE_TRIM:\n          width += trim2(out);\n          break;\n        case DOC_TYPE_GROUP: {\n          if (mustBeFlat && doc.break) {\n            return false;\n          }\n          const groupMode = doc.break ? MODE_BREAK : mode;\n          const contents = doc.expandedStates && groupMode === MODE_BREAK ? at_default(\n            /* isOptionalObject */\n            false,\n            doc.expandedStates,\n            -1\n          ) : doc.contents;\n          cmds.push({ mode: groupMode, doc: contents });\n          break;\n        }\n        case DOC_TYPE_IF_BREAK: {\n          const groupMode = doc.groupId ? groupModeMap[doc.groupId] || MODE_FLAT : mode;\n          const contents = groupMode === MODE_BREAK ? doc.breakContents : doc.flatContents;\n          if (contents) {\n            cmds.push({ mode, doc: contents });\n          }\n          break;\n        }\n        case DOC_TYPE_LINE:\n          if (mode === MODE_BREAK || doc.hard) {\n            return true;\n          }\n          if (!doc.soft) {\n            out.push(\" \");\n            width--;\n          }\n          break;\n        case DOC_TYPE_LINE_SUFFIX:\n          hasLineSuffix = true;\n          break;\n        case DOC_TYPE_LINE_SUFFIX_BOUNDARY:\n          if (hasLineSuffix) {\n            return false;\n          }\n          break;\n      }\n    }\n    return false;\n  }\n  function printDocToString(doc, options) {\n    const groupModeMap = {};\n    const width = options.printWidth;\n    const newLine = convertEndOfLineToChars(options.endOfLine);\n    let pos = 0;\n    const cmds = [{ ind: rootIndent(), mode: MODE_BREAK, doc }];\n    const out = [];\n    let shouldRemeasure = false;\n    const lineSuffix2 = [];\n    let printedCursorCount = 0;\n    propagateBreaks(doc);\n    while (cmds.length > 0) {\n      const { ind, mode, doc: doc2 } = cmds.pop();\n      switch (get_doc_type_default(doc2)) {\n        case DOC_TYPE_STRING: {\n          const formatted = newLine !== \"\\n\" ? string_replace_all_default(\n            /* isOptionalObject */\n            false,\n            doc2,\n            \"\\n\",\n            newLine\n          ) : doc2;\n          out.push(formatted);\n          if (cmds.length > 0) {\n            pos += get_string_width_default(formatted);\n          }\n          break;\n        }\n        case DOC_TYPE_ARRAY:\n          for (let i = doc2.length - 1; i >= 0; i--) {\n            cmds.push({ ind, mode, doc: doc2[i] });\n          }\n          break;\n        case DOC_TYPE_CURSOR:\n          if (printedCursorCount >= 2) {\n            throw new Error(\"There are too many 'cursor' in doc.\");\n          }\n          out.push(CURSOR_PLACEHOLDER);\n          printedCursorCount++;\n          break;\n        case DOC_TYPE_INDENT:\n          cmds.push({ ind: makeIndent(ind, options), mode, doc: doc2.contents });\n          break;\n        case DOC_TYPE_ALIGN:\n          cmds.push({\n            ind: makeAlign(ind, doc2.n, options),\n            mode,\n            doc: doc2.contents\n          });\n          break;\n        case DOC_TYPE_TRIM:\n          pos -= trim2(out);\n          break;\n        case DOC_TYPE_GROUP:\n          switch (mode) {\n            case MODE_FLAT:\n              if (!shouldRemeasure) {\n                cmds.push({\n                  ind,\n                  mode: doc2.break ? MODE_BREAK : MODE_FLAT,\n                  doc: doc2.contents\n                });\n                break;\n              }\n            // fallthrough\n            case MODE_BREAK: {\n              shouldRemeasure = false;\n              const next = { ind, mode: MODE_FLAT, doc: doc2.contents };\n              const rem = width - pos;\n              const hasLineSuffix = lineSuffix2.length > 0;\n              if (!doc2.break && fits(next, cmds, rem, hasLineSuffix, groupModeMap)) {\n                cmds.push(next);\n              } else {\n                if (doc2.expandedStates) {\n                  const mostExpanded = at_default(\n                    /* isOptionalObject */\n                    false,\n                    doc2.expandedStates,\n                    -1\n                  );\n                  if (doc2.break) {\n                    cmds.push({ ind, mode: MODE_BREAK, doc: mostExpanded });\n                    break;\n                  } else {\n                    for (let i = 1; i < doc2.expandedStates.length + 1; i++) {\n                      if (i >= doc2.expandedStates.length) {\n                        cmds.push({ ind, mode: MODE_BREAK, doc: mostExpanded });\n                        break;\n                      } else {\n                        const state = doc2.expandedStates[i];\n                        const cmd = { ind, mode: MODE_FLAT, doc: state };\n                        if (fits(cmd, cmds, rem, hasLineSuffix, groupModeMap)) {\n                          cmds.push(cmd);\n                          break;\n                        }\n                      }\n                    }\n                  }\n                } else {\n                  cmds.push({ ind, mode: MODE_BREAK, doc: doc2.contents });\n                }\n              }\n              break;\n            }\n          }\n          if (doc2.id) {\n            groupModeMap[doc2.id] = at_default(\n              /* isOptionalObject */\n              false,\n              cmds,\n              -1\n            ).mode;\n          }\n          break;\n        // Fills each line with as much code as possible before moving to a new\n        // line with the same indentation.\n        //\n        // Expects doc.parts to be an array of alternating content and\n        // whitespace. The whitespace contains the linebreaks.\n        //\n        // For example:\n        //   [\"I\", line, \"love\", line, \"monkeys\"]\n        // or\n        //   [{ type: group, ... }, softline, { type: group, ... }]\n        //\n        // It uses this parts structure to handle three main layout cases:\n        // * The first two content items fit on the same line without\n        //   breaking\n        //   -> output the first content item and the whitespace \"flat\".\n        // * Only the first content item fits on the line without breaking\n        //   -> output the first content item \"flat\" and the whitespace with\n        //   \"break\".\n        // * Neither content item fits on the line without breaking\n        //   -> output the first content item and the whitespace with \"break\".\n        case DOC_TYPE_FILL: {\n          const rem = width - pos;\n          const offset = doc2[DOC_FILL_PRINTED_LENGTH] ?? 0;\n          const { parts } = doc2;\n          const length = parts.length - offset;\n          if (length === 0) {\n            break;\n          }\n          const content = parts[offset + 0];\n          const whitespace = parts[offset + 1];\n          const contentFlatCmd = { ind, mode: MODE_FLAT, doc: content };\n          const contentBreakCmd = { ind, mode: MODE_BREAK, doc: content };\n          const contentFits = fits(\n            contentFlatCmd,\n            [],\n            rem,\n            lineSuffix2.length > 0,\n            groupModeMap,\n            true\n          );\n          if (length === 1) {\n            if (contentFits) {\n              cmds.push(contentFlatCmd);\n            } else {\n              cmds.push(contentBreakCmd);\n            }\n            break;\n          }\n          const whitespaceFlatCmd = { ind, mode: MODE_FLAT, doc: whitespace };\n          const whitespaceBreakCmd = { ind, mode: MODE_BREAK, doc: whitespace };\n          if (length === 2) {\n            if (contentFits) {\n              cmds.push(whitespaceFlatCmd, contentFlatCmd);\n            } else {\n              cmds.push(whitespaceBreakCmd, contentBreakCmd);\n            }\n            break;\n          }\n          const secondContent = parts[offset + 2];\n          const remainingCmd = {\n            ind,\n            mode,\n            doc: { ...doc2, [DOC_FILL_PRINTED_LENGTH]: offset + 2 }\n          };\n          const firstAndSecondContentFlatCmd = {\n            ind,\n            mode: MODE_FLAT,\n            doc: [content, whitespace, secondContent]\n          };\n          const firstAndSecondContentFits = fits(\n            firstAndSecondContentFlatCmd,\n            [],\n            rem,\n            lineSuffix2.length > 0,\n            groupModeMap,\n            true\n          );\n          if (firstAndSecondContentFits) {\n            cmds.push(remainingCmd, whitespaceFlatCmd, contentFlatCmd);\n          } else if (contentFits) {\n            cmds.push(remainingCmd, whitespaceBreakCmd, contentFlatCmd);\n          } else {\n            cmds.push(remainingCmd, whitespaceBreakCmd, contentBreakCmd);\n          }\n          break;\n        }\n        case DOC_TYPE_IF_BREAK:\n        case DOC_TYPE_INDENT_IF_BREAK: {\n          const groupMode = doc2.groupId ? groupModeMap[doc2.groupId] : mode;\n          if (groupMode === MODE_BREAK) {\n            const breakContents = doc2.type === DOC_TYPE_IF_BREAK ? doc2.breakContents : doc2.negate ? doc2.contents : indent(doc2.contents);\n            if (breakContents) {\n              cmds.push({ ind, mode, doc: breakContents });\n            }\n          }\n          if (groupMode === MODE_FLAT) {\n            const flatContents = doc2.type === DOC_TYPE_IF_BREAK ? doc2.flatContents : doc2.negate ? indent(doc2.contents) : doc2.contents;\n            if (flatContents) {\n              cmds.push({ ind, mode, doc: flatContents });\n            }\n          }\n          break;\n        }\n        case DOC_TYPE_LINE_SUFFIX:\n          lineSuffix2.push({ ind, mode, doc: doc2.contents });\n          break;\n        case DOC_TYPE_LINE_SUFFIX_BOUNDARY:\n          if (lineSuffix2.length > 0) {\n            cmds.push({ ind, mode, doc: hardlineWithoutBreakParent });\n          }\n          break;\n        case DOC_TYPE_LINE:\n          switch (mode) {\n            case MODE_FLAT:\n              if (!doc2.hard) {\n                if (!doc2.soft) {\n                  out.push(\" \");\n                  pos += 1;\n                }\n                break;\n              } else {\n                shouldRemeasure = true;\n              }\n            // fallthrough\n            case MODE_BREAK:\n              if (lineSuffix2.length > 0) {\n                cmds.push({ ind, mode, doc: doc2 }, ...lineSuffix2.reverse());\n                lineSuffix2.length = 0;\n                break;\n              }\n              if (doc2.literal) {\n                if (ind.root) {\n                  out.push(newLine, ind.root.value);\n                  pos = ind.root.length;\n                } else {\n                  out.push(newLine);\n                  pos = 0;\n                }\n              } else {\n                pos -= trim2(out);\n                out.push(newLine + ind.value);\n                pos = ind.length;\n              }\n              break;\n          }\n          break;\n        case DOC_TYPE_LABEL:\n          cmds.push({ ind, mode, doc: doc2.contents });\n          break;\n        case DOC_TYPE_BREAK_PARENT:\n          break;\n        default:\n          throw new invalid_doc_error_default(doc2);\n      }\n      if (cmds.length === 0 && lineSuffix2.length > 0) {\n        cmds.push(...lineSuffix2.reverse());\n        lineSuffix2.length = 0;\n      }\n    }\n    const cursorPlaceholderIndex = out.indexOf(CURSOR_PLACEHOLDER);\n    if (cursorPlaceholderIndex !== -1) {\n      const otherCursorPlaceholderIndex = out.indexOf(\n        CURSOR_PLACEHOLDER,\n        cursorPlaceholderIndex + 1\n      );\n      if (otherCursorPlaceholderIndex === -1) {\n        return {\n          formatted: out.filter((char) => char !== CURSOR_PLACEHOLDER).join(\"\")\n        };\n      }\n      const beforeCursor = out.slice(0, cursorPlaceholderIndex).join(\"\");\n      const aroundCursor = out.slice(cursorPlaceholderIndex + 1, otherCursorPlaceholderIndex).join(\"\");\n      const afterCursor = out.slice(otherCursorPlaceholderIndex + 1).join(\"\");\n      return {\n        formatted: beforeCursor + aroundCursor + afterCursor,\n        cursorNodeStart: beforeCursor.length,\n        cursorNodeText: aroundCursor\n      };\n    }\n    return { formatted: out.join(\"\") };\n  }\n\n  // src/document/public.js\n  var builders = {\n    join,\n    line,\n    softline,\n    hardline,\n    literalline,\n    group,\n    conditionalGroup,\n    fill,\n    lineSuffix,\n    lineSuffixBoundary,\n    cursor,\n    breakParent,\n    ifBreak,\n    trim,\n    indent,\n    indentIfBreak,\n    align,\n    addAlignmentToDoc,\n    markAsRoot,\n    dedentToRoot,\n    dedent,\n    hardlineWithoutBreakParent,\n    literallineWithoutBreakParent,\n    label,\n    // TODO: Remove this in v4\n    concat: (parts) => parts\n  };\n  var printer = { printDocToString };\n  var utils = {\n    willBreak,\n    traverseDoc: traverse_doc_default,\n    findInDoc,\n    mapDoc,\n    removeLines,\n    stripTrailingHardline,\n    replaceEndOfLine,\n    canBreak\n  };\n  return __toCommonJS(public_exports);\n});","import * as doc from \"prettier/doc\";\n\nconst {\n  dedentToRoot,\n  group,\n  hardline,\n  indent,\n  join,\n  line,\n  literalline,\n  softline\n} = doc.builders;\n\n// Get the start and end element tags from the current node on the tree\nfunction getElementTags(path, opts, print) {\n  const node = path.getValue();\n  const { OPEN, Name, attribute, START_CLOSE, SLASH_OPEN, END_NAME, END } =\n    node;\n\n  const parts = [OPEN, Name];\n\n  if (attribute.length > 0) {\n    parts.push(indent([line, join(line, path.map(print, \"attribute\"))]));\n  }\n\n  if (!opts.bracketSameLine) {\n    parts.push(softline);\n  }\n\n  return {\n    openTag: group([...parts, START_CLOSE]),\n    closeTag: group([SLASH_OPEN, END_NAME, END])\n  };\n}\n\n// Returns the value of the type tag if there is one, otherwise returns null.\nfunction getTagType(attributes) {\n  for (const attribute of attributes) {\n    if (attribute.Name === \"type\") {\n      const value = attribute.STRING;\n\n      if (value.startsWith('\"text/') && value.endsWith('\"')) {\n        return value.slice(6, -1);\n      }\n    }\n  }\n\n  return null;\n}\n\n// Get the name of the parser that is represented by the given element node,\n// return null if a matching parser cannot be found\nfunction getParser(node, opts) {\n  const { Name, attribute } = node;\n  let parser = Name.toLowerCase();\n\n  // We don't want to deal with some weird recursive parser situation, so we\n  // need to explicitly call out the XML parser here and just return null\n  if (parser === \"xml\") {\n    return null;\n  }\n\n  // If this is a style tag or a script tag with a text/xxx type then we will\n  // use xxx as the name of the parser\n  if ((parser === \"style\" || parser === \"script\") && attribute.length > 0) {\n    parser = getTagType(attribute);\n  }\n\n  // If the name of the parser is \"javascript\", then we're going to switch over\n  // to the babel parser.\n  if (parser === \"javascript\") {\n    parser = \"babel\";\n  }\n\n  // If there is a plugin that has a parser that matches the name of this\n  // element, then we're going to assume that's correct for embedding and go\n  // ahead and switch to that parser\n  if (\n    opts.plugins.some(\n      (plugin) =>\n        typeof plugin !== \"string\" &&\n        plugin.parsers &&\n        Object.prototype.hasOwnProperty.call(plugin.parsers, parser)\n    )\n  ) {\n    return parser;\n  }\n\n  return null;\n}\n\n// Get the source string that will be passed into the embedded parser from the\n// content of the inside of the element node\nfunction getSource(content) {\n  return content.chardata\n    .map((node) => {\n      const { SEA_WS, TEXT } = node;\n      const image = SEA_WS || TEXT;\n\n      return {\n        offset: node.location.startOffset,\n        printed: image\n      };\n    })\n    .sort(({ offset }) => offset)\n    .map(({ printed }) => printed)\n    .join(\"\");\n}\n\nfunction embed(path, opts) {\n  const node = path.getValue();\n\n  // If the node isn't an element node, then skip\n  if (node.name !== \"element\") {\n    return;\n  }\n\n  // If the name of the node does not correspond to the name of a parser that\n  // prettier knows about, then skip\n  const parser = getParser(node, opts);\n  if (!parser) {\n    return;\n  }\n\n  // If the node is self-closing, then skip\n  if (!node.content) {\n    return;\n  }\n\n  // If the node does not actually contain content, or it contains any content\n  // that is not just plain text, then skip.\n  const content = node.content;\n  if (\n    content.chardata.length === 0 ||\n    content.CData.length > 0 ||\n    content.Comment.length > 0 ||\n    content.element.length > 0 ||\n    content.PROCESSING_INSTRUCTION.length > 0 ||\n    content.reference.length > 0\n  ) {\n    return;\n  }\n\n  return async function (textToDoc, print) {\n    // Get the open and close tags of this element, then return the properly\n    // formatted content enclosed within them\n    const { openTag, closeTag } = getElementTags(path, opts, print);\n    const docNode = await textToDoc(getSource(content), { parser });\n\n    return group([\n      openTag,\n      literalline,\n      dedentToRoot(doc.utils.replaceEndOfLine(docNode)),\n      hardline,\n      closeTag\n    ]);\n  };\n}\n\nexport default embed;\n","import { Modal } from \"bootstrap\"\nimport {\n\tSelectionController,\n\tUndo,\n\tExportController,\n\tComponentSaveObject,\n\tCircuitComponent,\n\tSelectionMode,\n\tMainController,\n} from \"../internal\"\nimport { version } from \"../../../package.json\"\n\n// bump this if something is removed or adjusted in how the save file is formatted. (No change necessary if something is added)\nexport let currentSaveVersion = \"0.1\"\n\nexport type SaveFileFormat = {\n\tversion: string\n\tcomponents: ComponentSaveObject[]\n}\n\nexport let emtpySaveState: SaveFileFormat = {\n\tversion: currentSaveVersion,\n\tcomponents: [],\n}\n\n/**\n * Controller for saving and loading the progress in json format\n */\nexport class SaveController {\n\tprivate static _instance: SaveController\n\tpublic static get instance(): SaveController {\n\t\tif (!SaveController._instance) {\n\t\t\tSaveController._instance = new SaveController()\n\t\t}\n\t\treturn SaveController._instance\n\t}\n\n\tprivate loadModal: Modal\n\tprivate modalElement: HTMLDivElement\n\n\tprivate loadInput: HTMLInputElement\n\tprivate loadMessage: HTMLSpanElement\n\n\tprivate loadButton: HTMLButtonElement\n\n\tprivate loadArea: HTMLDivElement\n\tprivate loadAreaBackground: HTMLDivElement\n\n\tpublic currentlyLoadedSaveVersion: string = currentSaveVersion\n\n\tprivate constructor() {\n\t\tthis.modalElement = document.getElementById(\"loadModal\") as HTMLDivElement\n\t\tthis.loadModal = new Modal(this.modalElement)\n\t\tthis.loadInput = document.getElementById(\"file-input\") as HTMLInputElement\n\t\tthis.loadMessage = document.getElementById(\"load-message\")\n\t\tthis.loadButton = document.getElementById(\"loadJSONButton\") as HTMLButtonElement\n\t\tthis.loadArea = document.getElementById(\"dragdroparea\") as HTMLDivElement\n\t\tthis.loadAreaBackground = document.getElementById(\"dragdropbackground\") as HTMLDivElement\n\n\t\tconst opacity0 = () => {\n\t\t\tthis.loadAreaBackground.style.opacity = \"0\"\n\t\t}\n\n\t\tthis.loadArea.addEventListener(\"dragenter\", (ev) => {\n\t\t\tthis.loadAreaBackground.style.opacity = \"0.3\"\n\t\t})\n\t\tthis.loadArea.addEventListener(\"dragleave\", opacity0)\n\t\tthis.loadArea.addEventListener(\"drop\", opacity0)\n\t}\n\n\tsave() {\n\t\tlet componentArray = []\n\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\tcomponentArray.push(component.toJson())\n\t\t}\n\t\tlet data: SaveFileFormat = { version: currentSaveVersion, components: componentArray }\n\n\t\tExportController.instance.exportJSON(JSON.stringify(data, null, 4))\n\t}\n\n\tload() {\n\t\t//open modal for file selection\n\t\tthis.loadModal.show()\n\n\t\tconst changeText = (() => {\n\t\t\tlet file = this.loadInput.files[0]\n\t\t\tif (file) {\n\t\t\t\tthis.loadMessage.textContent = this.loadInput.value.split(\"\\\\\").pop()\n\t\t\t} else {\n\t\t\t\tthis.loadMessage.textContent = \"No file selected\"\n\t\t\t}\n\t\t}).bind(this)\n\n\t\tconst loadFile = (() => {\n\t\t\tlet file = this.loadInput.files[0]\n\n\t\t\tif (file) {\n\t\t\t\tvar reader = new FileReader()\n\t\t\t\treader.readAsText(file, \"UTF-8\")\n\t\t\t\treader.onload = (evt) => {\n\t\t\t\t\tlet inputstring = evt.target.result instanceof ArrayBuffer ? \"\" : evt.target.result\n\t\t\t\t\tconst input = JSON.parse(inputstring)\n\t\t\t\t\tif (!(\"version\" in input)) {\n\t\t\t\t\t\talert(\n\t\t\t\t\t\t\t\"You are using an old version of the json save file format. Please override all files exported from Circuitikz Designer version 0.6 and older by reexporting your circuit to json to update them to the newest json save file format version (currently: \" +\n\t\t\t\t\t\t\t\tcurrentSaveVersion +\n\t\t\t\t\t\t\t\t\" for Circuitikz Designer version \" +\n\t\t\t\t\t\t\t\tversion +\n\t\t\t\t\t\t\t\t\"). Old versions might be deprecated at any time and therefore might not properly load.\"\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tthis.loadFromJSON(input, true)\n\t\t\t\t\tthis.loadModal.hide()\n\t\t\t\t}\n\t\t\t\treader.onerror = (evt) => {\n\t\t\t\t\tthis.loadMessage.textContent = \"error reading file\"\n\t\t\t\t}\n\t\t\t}\n\t\t}).bind(this)\n\n\t\tthis.loadInput.addEventListener(\"change\", changeText)\n\n\t\tthis.loadButton.addEventListener(\"click\", loadFile)\n\n\t\tconst hideListener = (() => {\n\t\t\tthis.loadInput.removeEventListener(\"change\", changeText)\n\t\t\tthis.loadButton.removeEventListener(\"click\", loadFile)\n\t\t\t// \"once\" is not always supported:\n\t\t\tthis.modalElement.removeEventListener(\"hidden.bs.modal\", hideListener)\n\t\t}).bind(this)\n\n\t\tthis.modalElement.addEventListener(\"hidden.bs.modal\", hideListener, {\n\t\t\tpassive: true,\n\t\t\tonce: true,\n\t\t})\n\t}\n\n\tloadFromJSON(saveFile: SaveFileFormat, selectComponents = false) {\n\t\t//delete current state if necessary\n\t\tif ((document.getElementById(\"loadCheckRemove\") as HTMLInputElement).checked) {\n\t\t\tSelectionController.instance.selectAll()\n\t\t\tSelectionController.instance.removeSelection()\n\t\t}\n\n\t\tlet components = []\n\n\t\tif (!(\"version\" in saveFile)) {\n\t\t\t// old file format\n\t\t\tthis.currentlyLoadedSaveVersion = \"\"\n\t\t\t//@ts-ignore\n\t\t\tfor (const component of saveFile) {\n\t\t\t\tlet c = SaveController.fromJson(component)\n\t\t\t\tif (c) {\n\t\t\t\t\tcomponents.push(c)\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.currentlyLoadedSaveVersion = saveFile.version\n\n\t\t\tfor (const component of saveFile.components) {\n\t\t\t\tlet c = SaveController.fromJson(component)\n\t\t\t\tif (c) {\n\t\t\t\t\tcomponents.push(c)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (selectComponents) {\n\t\t\tSelectionController.instance.deactivateSelection()\n\t\t\tSelectionController.instance.activateSelection()\n\t\t\tSelectionController.instance.selectComponents(components, SelectionMode.RESET)\n\t\t}\n\t\tUndo.addState()\n\t\tthis.currentlyLoadedSaveVersion = currentSaveVersion\n\t}\n\n\tstatic fromJson(saveJson: ComponentSaveObject): CircuitComponent {\n\t\treturn CircuitComponent.fromJson(saveJson)\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tMainController,\n\tPropertyController,\n\tCanvasController,\n\tCircuitComponent,\n\tUndo,\n\tdefaultStroke,\n} from \"../internal\"\n\nexport enum SelectionMode {\n\tRESET,\n\tADD,\n\tSUB,\n}\n\nexport enum AlignmentMode {\n\tSTART = -1,\n\tCENTER = 0,\n\tEND = 1,\n}\n\nexport enum DistributionMode {\n\tCENTER, // equal distance between component centers\n\tSPACE, // equal spacing between components\n}\n\n/**\n * Controller holding selection information and handling selecting/deselecting\n * @class\n */\nexport class SelectionController {\n\tprivate static _instance: SelectionController\n\n\tprivate selectionMode: number\n\tprivate selectionStartPosition: SVG.Point\n\tprivate selectionRectangle: SVG.Rect\n\tprivate currentlyDragging: boolean\n\tpublic currentlySelectedComponents: CircuitComponent[] = []\n\tprivate selectionEnabled: boolean\n\tpublic referenceComponent: CircuitComponent\n\n\tprivate constructor() {\n\t\tthis.selectionStartPosition = new SVG.Point()\n\t\tthis.selectionRectangle = CanvasController.instance.canvas.rect(0, 0).move(0, 0)\n\t\tthis.selectionRectangle\n\t\t\t.stroke({\n\t\t\t\twidth: 0.5,\n\t\t\t\tcolor: defaultStroke,\n\t\t\t})\n\t\t\t.fill(\"none\")\n\t\t\t.id(\"selectionRectangle\")\n\t\tthis.selectionRectangle.addClass(\"pointerNone\")\n\t\tthis.selectionEnabled = true\n\t\tthis.currentlyDragging = false\n\t\tthis.selectionMode = SelectionMode.RESET\n\n\t\tthis.selectionStart = this.selectionStart.bind(this)\n\t\tthis.selectionMove = this.selectionMove.bind(this)\n\t\tthis.selectionEnd = this.selectionEnd.bind(this)\n\n\t\tCanvasController.instance.canvas.on(\"mousedown\", this.selectionStart)\n\t\tCanvasController.instance.canvas.on(\"touchstart\", this.selectionStart)\n\n\t\tCanvasController.instance.canvas.on(\"mousemove\", this.selectionMove)\n\t\tCanvasController.instance.canvas.on(\"touchmove\", this.selectionMove)\n\n\t\tCanvasController.instance.canvas.on(\"mouseup\", this.selectionEnd)\n\t\tCanvasController.instance.canvas.on(\"touchend\", this.selectionEnd)\n\t}\n\n\tprivate selectionStart(evt: MouseEvent | TouchEvent) {\n\t\tif (!this.selectionEnabled || this.currentlyDragging) {\n\t\t\treturn\n\t\t}\n\n\t\tif (evt instanceof MouseEvent && evt.button !== 0) {\n\t\t\treturn\n\t\t}\n\n\t\tevt.preventDefault()\n\n\t\tlet shift = evt.shiftKey //||evt.detail.shiftKey\n\t\tlet ctrl =\n\t\t\tevt.ctrlKey ||\n\t\t\t(MainController.instance.isMac && evt.metaKey) ||\n\t\t\t(MainController.instance.isMac && evt.metaKey)\n\t\tif (shift) {\n\t\t\tif (ctrl) {\n\t\t\t\tthis.selectionMode = SelectionMode.RESET\n\t\t\t} else {\n\t\t\t\tthis.selectionMode = SelectionMode.ADD\n\t\t\t}\n\t\t} else {\n\t\t\tif (ctrl) {\n\t\t\t\tthis.selectionMode = SelectionMode.SUB\n\t\t\t} else {\n\t\t\t\tthis.selectionMode = SelectionMode.RESET\n\t\t\t}\n\t\t}\n\n\t\tthis.currentlyDragging = true\n\t\tthis.selectionStartPosition = CanvasController.eventToPoint(evt, false)\n\n\t\tCanvasController.instance.canvas.put(this.selectionRectangle) // bring to front\n\t\tthis.selectionRectangle.move(this.selectionStartPosition.x, this.selectionStartPosition.y)\n\t}\n\n\tprivate selectionMove(evt: MouseEvent | TouchEvent) {\n\t\tif (!this.selectionEnabled || !this.currentlyDragging) {\n\t\t\treturn\n\t\t}\n\n\t\tif (evt instanceof MouseEvent && evt.button !== 0) {\n\t\t\treturn\n\t\t}\n\n\t\tif (window.TouchEvent && evt instanceof TouchEvent && evt.touches.length > 1) {\n\t\t\tthis.currentlyDragging = false\n\t\t\tthis.selectionRectangle.size(0, 0).move(0, 0)\n\t\t\tthis.viewSelection(true)\n\t\t\treturn\n\t\t}\n\t\tlet pt = CanvasController.eventToPoint(evt, false)\n\t\tlet dx = pt.x - this.selectionStartPosition.x\n\t\tlet dy = pt.y - this.selectionStartPosition.y\n\t\tlet moveX = this.selectionStartPosition.x\n\t\tlet moveY = this.selectionStartPosition.y\n\t\tif (dx < 0) {\n\t\t\tmoveX += dx\n\t\t\tdx = -dx\n\t\t}\n\t\tif (dy < 0) {\n\t\t\tmoveY += dy\n\t\t\tdy = -dy\n\t\t}\n\t\tthis.selectionRectangle.move(moveX, moveY)\n\t\tthis.selectionRectangle.attr(\"width\", dx)\n\t\tthis.selectionRectangle.attr(\"height\", dy)\n\n\t\tthis.previewSelection()\n\t}\n\n\tprivate selectionEnd(evt: MouseEvent | TouchEvent) {\n\t\tif (CanvasController.instance.draggingFromInput) {\n\t\t\tevt.preventDefault()\n\t\t\tCanvasController.instance.draggingFromInput.focus()\n\t\t\treturn\n\t\t}\n\n\t\tif (!this.selectionEnabled) {\n\t\t\treturn\n\t\t}\n\n\t\tif (evt instanceof MouseEvent && evt.button !== 0) {\n\t\t\treturn\n\t\t}\n\n\t\tif (window.TouchEvent && evt instanceof TouchEvent && evt.touches.length > 0) {\n\t\t\treturn\n\t\t}\n\t\tif (this.currentlyDragging) {\n\t\t\tthis.updateSelectionWithRectangle()\n\t\t\tthis.currentlyDragging = false\n\t\t\tthis.selectionRectangle.size(0, 0)\n\t\t}\n\n\t\tlet pt = CanvasController.eventToPoint(evt, false)\n\t\tif (pt.x == this.selectionStartPosition.x && pt.y == this.selectionStartPosition.y) {\n\t\t\t// clicked on canvas\n\t\t\tthis.selectionRectangle.move(pt.x, pt.y).size(0, 0)\n\t\t\tthis.updateSelectionWithRectangle()\n\t\t}\n\t\tPropertyController.instance.update()\n\t}\n\n\tpublic static get instance(): SelectionController {\n\t\tif (!SelectionController._instance) {\n\t\t\tSelectionController._instance = new SelectionController()\n\t\t}\n\t\treturn SelectionController._instance\n\t}\n\n\tprivate updateSelectionWithRectangle() {\n\t\tlet selectionBox = this.selectionRectangle.bbox()\n\t\tlet components = MainController.instance.circuitComponents.filter((comp) =>\n\t\t\tcomp.isInsideSelectionRectangle(selectionBox)\n\t\t)\n\t\tthis.selectComponents(components, this.selectionMode)\n\t}\n\n\tprivate previewSelection() {\n\t\tlet selectionBox = this.selectionRectangle.bbox()\n\t\tif (this.selectionMode == SelectionMode.RESET) {\n\t\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\t\tcomponent.viewSelected(component.isInsideSelectionRectangle(selectionBox))\n\t\t\t}\n\t\t} else if (this.selectionMode == SelectionMode.ADD) {\n\t\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\t\tcomponent.viewSelected(component.isSelected || component.isInsideSelectionRectangle(selectionBox))\n\t\t\t}\n\t\t} else if (this.selectionMode == SelectionMode.SUB) {\n\t\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\t\tcomponent.viewSelected(component.isSelected && !component.isInsideSelectionRectangle(selectionBox))\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic activateSelection() {\n\t\tthis.selectionEnabled = true\n\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\tcomponent.draggable(true)\n\t\t}\n\t}\n\n\tpublic deactivateSelection() {\n\t\tthis.selectionEnabled = false\n\t\tthis.selectionRectangle.attr(\"width\", 0)\n\t\tthis.selectionRectangle.attr(\"height\", 0)\n\t\tthis.selectionMode = SelectionMode.RESET\n\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\tcomponent.isSelected = false\n\t\t\tcomponent.isHovered = false\n\t\t\tcomponent.viewSelected(false)\n\t\t\tcomponent.draggable(false)\n\t\t}\n\t}\n\n\tpublic viewSelection(show = true) {\n\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\tcomponent.viewSelected(show && component.isSelected)\n\t\t}\n\t}\n\n\tpublic selectComponents(components: CircuitComponent[], mode: SelectionMode) {\n\t\tif (mode == SelectionMode.RESET) {\n\t\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\t\tcomponent.isSelected = false\n\t\t\t}\n\t\t\tfor (const component of components) {\n\t\t\t\tcomponent.isSelected = true\n\t\t\t}\n\t\t} else if (mode == SelectionMode.ADD) {\n\t\t\tfor (const component of components) {\n\t\t\t\tcomponent.isSelected = true\n\t\t\t}\n\t\t} else if (mode == SelectionMode.SUB) {\n\t\t\tfor (const component of components) {\n\t\t\t\tcomponent.isSelected = false\n\t\t\t}\n\t\t}\n\n\t\tthis.currentlySelectedComponents.splice(0)\n\t\tthis.currentlySelectedComponents.push(\n\t\t\t...MainController.instance.circuitComponents.filter((comp) => comp.isSelected)\n\t\t)\n\t\tthis.viewSelection()\n\n\t\tPropertyController.instance.update()\n\t}\n\n\tpublic selectAll() {\n\t\tthis.currentlySelectedComponents.splice(0)\n\t\tthis.currentlySelectedComponents.push(...MainController.instance.circuitComponents)\n\n\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\tcomponent.isSelected = true\n\t\t}\n\n\t\tthis.viewSelection()\n\t\tPropertyController.instance.update()\n\t}\n\n\tpublic getOverallBoundingBox(): SVG.Box {\n\t\tlet bbox: SVG.Box = null\n\t\tfor (const component of this.currentlySelectedComponents) {\n\t\t\tif (component.isSelected) {\n\t\t\t\tif (bbox == null) {\n\t\t\t\t\tbbox = component.bbox\n\t\t\t\t} else {\n\t\t\t\t\tbbox = bbox.merge(component.bbox)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn bbox\n\t}\n\n\t/**\n\t *\n\t * @param {Number} angleDeg rotation in degrees (only 90 degree multiples, also negative)\n\t */\n\tpublic rotateSelection(angleDeg: number) {\n\t\t//get overall center\n\t\tif (!this.hasSelection()) {\n\t\t\treturn\n\t\t}\n\n\t\tlet overallBBox = this.getOverallBoundingBox()\n\t\tlet overallCenter = new SVG.Point(overallBBox.cx, overallBBox.cy)\n\n\t\t//rotate all components/lines individually around their center\n\t\t//get individual center and rotate that around overall center\n\t\t//move individual components/lines to new rotated center\n\n\t\tfor (const component of this.currentlySelectedComponents) {\n\t\t\tcomponent.rotate(angleDeg)\n\t\t\tlet move = component.position.rotate(angleDeg, overallCenter, false)\n\t\t\tcomponent.moveTo(move)\n\t\t\tcomponent.recalculateSnappingPoints()\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param {boolean} horizontal if flipping horizontally or vertically\n\t */\n\tpublic flipSelection(horizontal: boolean) {\n\t\t//get overall center\n\n\t\tif (!this.hasSelection()) {\n\t\t\treturn\n\t\t}\n\n\t\tlet overallBBox = this.getOverallBoundingBox()\n\t\tlet overallCenter = new SVG.Point(overallBBox.cx, overallBBox.cy)\n\t\tlet flipX = horizontal ? 0 : -2\n\t\tlet flipY = horizontal ? -2 : 0\n\n\t\t//flip all components/lines individually at their center\n\t\t//get individual center and flip that at overall center\n\t\t//move individual components/lines to new flipped center\n\n\t\tfor (const component of this.currentlySelectedComponents) {\n\t\t\tlet diffToCenter = component.position.sub(overallCenter)\n\t\t\tcomponent.flip(horizontal)\n\t\t\tcomponent.moveRel(new SVG.Point(diffToCenter.x * flipX, diffToCenter.y * flipY))\n\t\t}\n\t}\n\n\t/**\n\t * move the selection by delta\n\t * @param {SVG.Point} delta the amount to move the selection by\n\t */\n\tpublic moveSelectionRel(delta: SVG.Point) {\n\t\tfor (const element of this.currentlySelectedComponents) {\n\t\t\telement.moveRel(delta)\n\t\t}\n\t}\n\n\t/**\n\t * move the center of the selection to the new position\n\t * @param position the new position\n\t */\n\tpublic moveSelectionTo(position: SVG.Point) {\n\t\tlet overallBBox = this.getOverallBoundingBox()\n\t\tlet overallCenter = new SVG.Point(overallBBox.cx, overallBBox.cy)\n\t\tthis.moveSelectionRel(position.sub(overallCenter))\n\t}\n\n\tpublic removeSelection() {\n\t\tfor (const component of this.currentlySelectedComponents) {\n\t\t\tMainController.instance.removeComponent(component)\n\t\t}\n\n\t\tthis.currentlySelectedComponents = []\n\t\tPropertyController.instance.update()\n\t}\n\n\t/**\n\t * checks if anything is selected\n\t */\n\tpublic hasSelection() {\n\t\treturn this.currentlySelectedComponents.length > 0\n\t}\n\n\tpublic setReference(component: CircuitComponent) {\n\t\tif (component == this.referenceComponent) {\n\t\t\tcomponent.isSelected = false\n\t\t\tcomponent.isSelected = true\n\t\t\tcomponent.viewSelected(true)\n\t\t} else {\n\t\t\tcomponent.setAsSelectionReference()\n\t\t\tthis.referenceComponent = component\n\t\t}\n\t}\n\n\tpublic alignSelection(mode: AlignmentMode, horizontal: boolean) {\n\t\tlet selectionBBox = this.getOverallBoundingBox()\n\t\tlet selectionCenter = new SVG.Point(selectionBBox.cx, selectionBBox.cy)\n\t\tlet halfSelectionSize = new SVG.Point(selectionBBox.w / 2, selectionBBox.h / 2)\n\t\tlet direction = horizontal ? new SVG.Point(1, 0) : new SVG.Point(0, 1)\n\t\tlet referencePosition: SVG.Point\n\t\tif (this.referenceComponent) {\n\t\t\tlet elementBBox = this.referenceComponent.bbox\n\t\t\tlet elementHalfSize = new SVG.Point(elementBBox.w / 2, elementBBox.h / 2)\n\t\t\treferencePosition = new SVG.Point(elementBBox.cx, elementBBox.cy).add(\n\t\t\t\telementHalfSize.mul(direction).mul(mode)\n\t\t\t)\n\t\t} else {\n\t\t\treferencePosition = selectionCenter.add(halfSelectionSize.mul(direction).mul(mode))\n\t\t}\n\t\tfor (const element of this.currentlySelectedComponents) {\n\t\t\tlet elementBBox = element.bbox\n\t\t\tlet elementHalfSize = new SVG.Point(elementBBox.w / 2, elementBBox.h / 2)\n\t\t\tlet elementReferencePoint = new SVG.Point(elementBBox.cx, elementBBox.cy).add(\n\t\t\t\telementHalfSize.mul(direction).mul(mode)\n\t\t\t)\n\t\t\tlet delta = referencePosition.sub(elementReferencePoint).mul(direction)\n\t\t\telement.moveRel(delta)\n\t\t}\n\t\tUndo.addState()\n\t}\n\n\tpublic distributeSelection(mode: DistributionMode, horizontal: boolean) {\n\t\tif (this.currentlySelectedComponents.length < 2) {\n\t\t\treturn\n\t\t}\n\t\tlet direction = horizontal ? new SVG.Point(1, 0) : new SVG.Point(0, 1)\n\n\t\tlet refPos: SVG.Point\n\t\tlet bboxes = this.currentlySelectedComponents.map((c) => {\n\t\t\tlet bbox = c.bbox\n\t\t\tif (c == this.referenceComponent) {\n\t\t\t\trefPos = c.position\n\t\t\t}\n\t\t\treturn { box: bbox, component: c }\n\t\t})\n\n\t\tbboxes.sort((a, b) => {\n\t\t\tlet diff = new SVG.Point(a.box.cx - b.box.cx, a.box.cy - b.box.cy)\n\t\t\treturn horizontal ? diff.x : diff.y\n\t\t})\n\n\t\tlet shouldUndo = false\n\t\tlet zeroVector = new SVG.Point()\n\n\t\tif (mode == DistributionMode.CENTER) {\n\t\t\tlet totalSpace = new SVG.Point(\n\t\t\t\tbboxes.at(-1).box.cx - bboxes[0].box.cx,\n\t\t\t\tbboxes.at(-1).box.cy - bboxes[0].box.cy\n\t\t\t)\n\t\t\tconst start = new SVG.Point(bboxes[0].box.cx, bboxes[0].box.cy)\n\t\t\tconst increment = totalSpace.div(this.currentlySelectedComponents.length - 1)\n\t\t\tfor (let index = 1; index < bboxes.length - 1; index++) {\n\t\t\t\tconst bbox = bboxes[index]\n\t\t\t\tconst newPosDiff = start\n\t\t\t\t\t.add(increment.mul(index))\n\t\t\t\t\t.sub(new SVG.Point(bbox.box.cx, bbox.box.cy))\n\t\t\t\t\t.mul(direction)\n\t\t\t\tif (!shouldUndo && !newPosDiff.eq(zeroVector)) {\n\t\t\t\t\tshouldUndo = true\n\t\t\t\t}\n\t\t\t\tbbox.component.moveRel(newPosDiff)\n\t\t\t}\n\t\t} else {\n\t\t\tlet selectionBBox = this.getOverallBoundingBox()\n\t\t\tlet availableSpacing = new SVG.Point(selectionBBox.w, selectionBBox.h)\n\t\t\tbboxes.forEach((value) => {\n\t\t\t\tavailableSpacing.x -= value.box.w\n\t\t\t\tavailableSpacing.y -= value.box.h\n\t\t\t})\n\t\t\tavailableSpacing.x = availableSpacing.x < 0 ? 0 : availableSpacing.x\n\t\t\tavailableSpacing.y = availableSpacing.y < 0 ? 0 : availableSpacing.y\n\t\t\tavailableSpacing = availableSpacing.div(this.currentlySelectedComponents.length - 1)\n\t\t\tlet lastPos = new SVG.Point(bboxes[0].box.x2, bboxes[0].box.y2)\n\t\t\tfor (let index = 1; index < bboxes.length; index++) {\n\t\t\t\tconst bbox = bboxes[index]\n\t\t\t\tlastPos = lastPos.add(availableSpacing).add(new SVG.Point(bbox.box.w, bbox.box.h))\n\t\t\t\tconst newPosDiff = lastPos.sub(new SVG.Point(bbox.box.x2, bbox.box.y2)).mul(direction)\n\t\t\t\tif (!shouldUndo && !newPosDiff.eq(zeroVector)) {\n\t\t\t\t\tshouldUndo = true\n\t\t\t\t}\n\t\t\t\tbbox.component.moveRel(newPosDiff)\n\t\t\t}\n\t\t}\n\t\tif (refPos) {\n\t\t\tlet refResetDiff = refPos.sub(this.referenceComponent.position)\n\t\t\tfor (const element of this.currentlySelectedComponents) {\n\t\t\t\telement.moveRel(refResetDiff)\n\t\t\t}\n\t\t\tif (!shouldUndo && !refResetDiff.eq(zeroVector)) {\n\t\t\t\tshouldUndo = true\n\t\t\t}\n\t\t}\n\t\tif (shouldUndo) {\n\t\t\tUndo.addState()\n\t\t}\n\t}\n}\n","import { MainController, SelectionController, SaveController, ComponentSaveObject, SelectionMode } from \"../internal\"\n\n/**\n * Class handling undo and redo via save states\n * @class\n */\nexport class Undo {\n\tprivate static states: ComponentSaveObject[][] = []\n\n\tprivate static currentIndex = -1\n\n\t//TODO discuss if selections should be remembered or not???\n\tpublic static addState() {\n\t\t// get json object\n\t\tlet currentState = []\n\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\tlet componentObject = component.toJson()\n\t\t\tcomponentObject.selected = component.isSelected\n\t\t\tcurrentState.push(componentObject)\n\t\t}\n\n\t\tlet shouldAddState = true\n\t\tif (Undo.states.length > 0) {\n\t\t\tlet compareState = Undo.states.at(Undo.currentIndex)\n\t\t\tif (JSON.stringify(compareState) == JSON.stringify(currentState)) {\n\t\t\t\t// This and the last state are identical -> no new state\n\t\t\t\t// sometimes needed for more complicated scenarios\n\t\t\t\tshouldAddState = false\n\t\t\t}\n\t\t}\n\n\t\t// push state on stack\n\t\tif (shouldAddState) {\n\t\t\tUndo.states = Undo.states.slice(0, Undo.currentIndex + 1)\n\t\t\tUndo.states.push(currentState)\n\t\t\tUndo.currentIndex = Undo.states.length - 1\n\t\t}\n\t}\n\n\tpublic static getCurrentState() {\n\t\treturn Undo.states[Undo.currentIndex]\n\t}\n\n\tpublic static undo() {\n\t\tUndo.currentIndex -= 1\n\t\tif (Undo.currentIndex < 0) {\n\t\t\tUndo.currentIndex = 0\n\t\t\treturn\n\t\t}\n\t\tUndo.loadState()\n\t}\n\n\tpublic static redo() {\n\t\tUndo.currentIndex += 1\n\t\tif (Undo.currentIndex >= Undo.states.length) {\n\t\t\tUndo.currentIndex = Undo.states.length - 1\n\t\t\treturn\n\t\t}\n\t\tUndo.loadState()\n\t}\n\n\tprivate static loadState() {\n\t\t// remove all components\n\t\twhile (MainController.instance.circuitComponents.length > 0) {\n\t\t\tMainController.instance.removeComponent(MainController.instance.circuitComponents[0])\n\t\t}\n\n\t\t// load state\n\t\tlet state = Undo.states[Undo.currentIndex]\n\n\t\tlet components = []\n\n\t\tfor (const component of state) {\n\t\t\tlet initalializedComponenent = SaveController.fromJson(component)\n\t\t\tif (component.selected && initalializedComponenent) {\n\t\t\t\tcomponents.push(initalializedComponenent)\n\t\t\t}\n\t\t}\n\n\t\tif (components.length > 0) {\n\t\t\tSelectionController.instance.selectComponents(components, SelectionMode.RESET)\n\t\t}\n\t}\n}\n","import { Point } from \"@svgdotjs/svg.js\"\nimport {\n\tComponentSaveObject,\n\tMainController,\n\tMessageData,\n\tSaveController,\n\tSelectionController,\n\tSelectionMode,\n\tUndo,\n} from \"../internal\"\n\ntype Clipboard = {\n\tcomponents: ComponentSaveObject[]\n\tselectionPos: Point\n}\n\n/**\n * Class handling copy, paste and cut\n * @class\n */\nexport class CopyPaste {\n\tprivate static clipboard: Clipboard | null = null\n\n\tpublic static copy() {\n\t\tif (SelectionController.instance.hasSelection()) {\n\t\t\tlet components: ComponentSaveObject[] = []\n\t\t\tfor (const component of SelectionController.instance.currentlySelectedComponents) {\n\t\t\t\tlet componentObject = component.toJson()\n\t\t\t\tif (\"name\" in componentObject) {\n\t\t\t\t\tcomponentObject.name = \"\"\n\t\t\t\t}\n\n\t\t\t\tcomponents.push(componentObject)\n\t\t\t}\n\n\t\t\tlet bbox = SelectionController.instance.getOverallBoundingBox()\n\n\t\t\tCopyPaste.clipboard = {\n\t\t\t\tcomponents: components,\n\t\t\t\tselectionPos: new Point(bbox.cx, bbox.cy),\n\t\t\t}\n\n\t\t\tMainController.instance.sendBroadcastMessage(\"clipboard\", CopyPaste.clipboard)\n\t\t}\n\t}\n\n\tpublic static setClipboard(clipboard: Clipboard) {\n\t\tthis.clipboard = clipboard\n\t}\n\n\tpublic static paste() {\n\t\tif (CopyPaste.clipboard && Object.keys(CopyPaste.clipboard).length === 0) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!CopyPaste.clipboard) {\n\t\t\treturn\n\t\t}\n\n\t\tSelectionController.instance.deactivateSelection()\n\t\tSelectionController.instance.activateSelection()\n\n\t\tlet allComponents = []\n\n\t\tfor (const component of CopyPaste.clipboard.components) {\n\t\t\tallComponents.push(SaveController.fromJson(component))\n\t\t}\n\n\t\tif (allComponents.length > 0) {\n\t\t\tSelectionController.instance.selectComponents(allComponents, SelectionMode.RESET)\n\t\t}\n\t\tSelectionController.instance.moveSelectionTo(new Point(CopyPaste.clipboard.selectionPos).add(new Point(20, 20)))\n\t\tUndo.addState()\n\t}\n\n\tpublic static cut() {\n\t\tif (SelectionController.instance.hasSelection()) {\n\t\t\tCopyPaste.copy()\n\n\t\t\tfor (const component of SelectionController.instance.currentlySelectedComponents) {\n\t\t\t\tMainController.instance.removeComponent(component)\n\t\t\t}\n\t\t\tUndo.addState()\n\t\t}\n\t}\n}\n","import {\n\tAlignmentMode,\n\tButtonGridProperty,\n\tCanvasController,\n\tCircuitComponent,\n\tDistributionMode,\n\tEditableProperty,\n\tGroupComponent,\n\tMainController,\n\tSectionHeaderProperty,\n\tSelectionController,\n\tUndo,\n} from \"../internal\"\n\nexport type FormEntry = {\n\toriginalObject: object\n\tpropertyName: string\n\tinputType: string\n\tcurrentValue: any\n}\n\nexport enum PropertyCategories {\n\tmanipulation,\n\tordering,\n\toptions,\n\tfill,\n\tstroke,\n\tlabel,\n\tvoltage,\n\tcurrent,\n\ttext,\n\tinfo,\n}\n\nexport class PropertiesCollection extends Map<PropertyCategories, EditableProperty<any>[]> {\n\tpublic add(category: PropertyCategories, property: EditableProperty<any>) {\n\t\tif (this.has(category)) {\n\t\t\tthis.get(category).push(property)\n\t\t} else {\n\t\t\tthis.set(category, [property])\n\t\t}\n\t}\n\n\tpublic sorted(): EditableProperty<any>[] {\n\t\tlet properties: EditableProperty<any>[] = []\n\n\t\tlet key = Object.keys(PropertyCategories)[0]\n\t\tPropertyCategories[key]\n\t\tfor (const element in PropertyCategories) {\n\t\t\tif (isNaN(Number(element))) {\n\t\t\t\t//@ts-ignore\n\t\t\t\tlet category: PropertyCategories = PropertyCategories[element]\n\t\t\t\tif (this.has(category)) {\n\t\t\t\t\tproperties.push(...this.get(category))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn properties\n\t}\n}\n\nexport class PropertyController {\n\tprivate static _instance: PropertyController\n\tpublic static get instance(): PropertyController {\n\t\tif (!PropertyController._instance) {\n\t\t\tPropertyController._instance = new PropertyController()\n\t\t}\n\t\treturn PropertyController._instance\n\t}\n\n\tprivate viewProperties: HTMLDivElement\n\tprivate propertiesEntries: HTMLDivElement\n\tprivate propertiesTitle: HTMLElement\n\n\tprivate multies: EditableProperty<any>[] = []\n\n\tprivate constructor() {\n\t\tthis.propertiesTitle = document.getElementById(\"propertiesTitle\") as HTMLElement\n\t\tthis.viewProperties = document.getElementById(\"view-properties\") as HTMLDivElement\n\t\tthis.viewProperties.firstElementChild.prepend(MainController.instance.designName.getHTMLElement())\n\t\tthis.propertiesEntries = document.getElementById(\"propertiesEntries\") as HTMLDivElement\n\t\t;(document.getElementById(\"resetViewButton\") as HTMLButtonElement).addEventListener(\"click\", (ev) => {\n\t\t\tCanvasController.instance.resetView()\n\t\t})\n\t\t;(document.getElementById(\"fitViewButton\") as HTMLButtonElement).addEventListener(\"click\", (ev) => {\n\t\t\tCanvasController.instance.fitView()\n\t\t})\n\t}\n\n\tupdate() {\n\t\tlet components = SelectionController.instance.currentlySelectedComponents\n\t\tthis.clearForm()\n\n\t\tif (components.length > 1) {\n\t\t\tthis.setMultiForm(components)\n\t\t} else if (components.length === 1) {\n\t\t\tthis.setForm(components[0])\n\t\t} else {\n\t\t\tthis.setFormView()\n\t\t}\n\n\t\tMainController.instance.updateTooltips()\n\t}\n\n\tprivate setMultiForm(components: CircuitComponent[]) {\n\t\tthis.propertiesEntries.classList.remove(\"d-none\")\n\t\tthis.propertiesTitle.innerText = \"Selection\"\n\n\t\tlet rows: HTMLElement[] = []\n\t\tlet positioning = new ButtonGridProperty(\n\t\t\t2,\n\t\t\t[\n\t\t\t\t[\"Rotate 90 CW\", \"rotate_right\"],\n\t\t\t\t[\"Rotate 90 CCW\", \"rotate_left\"],\n\t\t\t\t[\"Rotate 45 CW\", \"rotate_right\"],\n\t\t\t\t[\"Rotate 45 CCW\", \"rotate_left\"],\n\t\t\t\t[\"Flip vertically\", [\"flip\", \"rotateText\"]],\n\t\t\t\t[\"Flip horizontally\", \"flip\"],\n\t\t\t],\n\t\t\t[\n\t\t\t\t(ev) => {\n\t\t\t\t\tSelectionController.instance.rotateSelection(-90)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t\t(ev) => {\n\t\t\t\t\tSelectionController.instance.rotateSelection(90)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t\t(ev) => {\n\t\t\t\t\tSelectionController.instance.rotateSelection(-45)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t\t(ev) => {\n\t\t\t\t\tSelectionController.instance.rotateSelection(45)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t\t(ev) => {\n\t\t\t\t\tSelectionController.instance.flipSelection(true)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t\t(ev) => {\n\t\t\t\t\tSelectionController.instance.flipSelection(false)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t],\n\t\t\tfalse,\n\t\t\t[\n\t\t\t\t\"Rotate the components 90 degrees clockwise\",\n\t\t\t\t\"Rotate the components 90 degrees counter clockwise\",\n\t\t\t\t\"Rotate the components 45 degrees clockwise\",\n\t\t\t\t\"Rotate the components 45 degrees counter clockwise\",\n\t\t\t\t\"Flip the components around its x-axis\",\n\t\t\t\t\"Flip the components around its y-axis\",\n\t\t\t]\n\t\t)\n\t\trows.push(positioning.buildHTML())\n\n\t\trows.push(new SectionHeaderProperty(\"Ordering\").buildHTML())\n\t\tlet ordering = new ButtonGridProperty(\n\t\t\t2,\n\t\t\t[\n\t\t\t\t[\"Foreground\", \"\"],\n\t\t\t\t[\"Background\", \"\"],\n\t\t\t\t[\"Forward\", \"\"],\n\t\t\t\t[\"Backward\", \"\"],\n\t\t\t],\n\t\t\t[\n\t\t\t\t(ev) =>\n\t\t\t\t\tCanvasController.instance.componentsToForeground(\n\t\t\t\t\t\tSelectionController.instance.currentlySelectedComponents\n\t\t\t\t\t),\n\t\t\t\t(ev) =>\n\t\t\t\t\tCanvasController.instance.componentsToBackground(\n\t\t\t\t\t\tSelectionController.instance.currentlySelectedComponents\n\t\t\t\t\t),\n\t\t\t\t(ev) =>\n\t\t\t\t\tCanvasController.instance.moveComponentsForward(\n\t\t\t\t\t\tSelectionController.instance.currentlySelectedComponents\n\t\t\t\t\t),\n\t\t\t\t(ev) =>\n\t\t\t\t\tCanvasController.instance.moveComponentsBackward(\n\t\t\t\t\t\tSelectionController.instance.currentlySelectedComponents\n\t\t\t\t\t),\n\t\t\t],\n\t\t\tfalse,\n\t\t\t[\n\t\t\t\t\"Bring the components to the foreground\",\n\t\t\t\t\"Move the components to the background\",\n\t\t\t\t\"Move the components one step towards the foreground\",\n\t\t\t\t\"Move the components one step towards the background\",\n\t\t\t]\n\t\t)\n\t\trows.push(ordering.buildHTML())\n\n\t\trows.push(new SectionHeaderProperty(\"Grouping\").buildHTML())\n\t\tlet grouping = new ButtonGridProperty(\n\t\t\t1,\n\t\t\t[[\"Group\", \"\"]],\n\t\t\t[(ev) => GroupComponent.group(SelectionController.instance.currentlySelectedComponents)]\n\t\t)\n\t\trows.push(grouping.buildHTML())\n\n\t\trows.push(new SectionHeaderProperty(\"Align\").buildHTML())\n\t\tlet alignment = new ButtonGridProperty(\n\t\t\t3,\n\t\t\t[\n\t\t\t\t[\"\", \"align_horizontal_left\"],\n\t\t\t\t[\"\", \"align_horizontal_center\"],\n\t\t\t\t[\"\", \"align_horizontal_right\"],\n\t\t\t\t[\"\", \"align_vertical_top\"],\n\t\t\t\t[\"\", \"align_vertical_center\"],\n\t\t\t\t[\"\", \"align_vertical_bottom\"],\n\t\t\t],\n\t\t\t[\n\t\t\t\t(ev) => SelectionController.instance.alignSelection(AlignmentMode.START, true),\n\t\t\t\t(ev) => SelectionController.instance.alignSelection(AlignmentMode.CENTER, true),\n\t\t\t\t(ev) => SelectionController.instance.alignSelection(AlignmentMode.END, true),\n\t\t\t\t(ev) => SelectionController.instance.alignSelection(AlignmentMode.START, false),\n\t\t\t\t(ev) => SelectionController.instance.alignSelection(AlignmentMode.CENTER, false),\n\t\t\t\t(ev) => SelectionController.instance.alignSelection(AlignmentMode.END, false),\n\t\t\t]\n\t\t)\n\t\trows.push(alignment.buildHTML())\n\n\t\trows.push(new SectionHeaderProperty(\"Distribute\").buildHTML())\n\t\tlet distribute = new ButtonGridProperty(\n\t\t\t2,\n\t\t\t[\n\t\t\t\t[\"Center\", \"horizontal_distribute\"],\n\t\t\t\t[\"Spacing\", \"align_justify_space_even\"],\n\t\t\t\t[\"Center\", \"vertical_distribute\"],\n\t\t\t\t[\"Spacing\", \"align_space_even\"],\n\t\t\t],\n\t\t\t[\n\t\t\t\t(ev) => SelectionController.instance.distributeSelection(DistributionMode.CENTER, true),\n\t\t\t\t(ev) => SelectionController.instance.distributeSelection(DistributionMode.SPACE, true),\n\t\t\t\t(ev) => SelectionController.instance.distributeSelection(DistributionMode.CENTER, false),\n\t\t\t\t(ev) => SelectionController.instance.distributeSelection(DistributionMode.SPACE, false),\n\t\t\t]\n\t\t)\n\t\trows.push(distribute.buildHTML())\n\n\t\tthis.propertiesEntries.append(...rows)\n\n\t\tconst overlappingProperties: PropertiesCollection = new PropertiesCollection()\n\t\tthis.multies = []\n\n\t\tlet key = Object.keys(PropertyCategories)[0]\n\t\tPropertyCategories[key]\n\t\t// repeat overlap detection for all possible categories\n\t\tfor (const element in PropertyCategories) {\n\t\t\tif (!isNaN(Number(element))) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\t//@ts-ignore\n\t\t\tlet category: PropertyCategories = PropertyCategories[element]\n\t\t\tconst categoryMap: Map<string, EditableProperty<any>[]> = new Map()\n\n\t\t\t// in each category, loop over all components\n\t\t\tfor (const component of components) {\n\t\t\t\tconst properties = component.properties.get(category)\n\t\t\t\tif (properties == undefined) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\t// keep track of all properties of a given id\n\t\t\t\tfor (const property of properties) {\n\t\t\t\t\tif (property.id == \"\") {\n\t\t\t\t\t\t//skip empty ids\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\t\t\t\t\tif (categoryMap.has(property.id)) {\n\t\t\t\t\t\tcategoryMap.get(property.id).push(property)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcategoryMap.set(property.id, [property])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst relevantProperties: EditableProperty<any>[] = []\n\t\t\t// remove all properties, which are not present in every component, otherwise add properties\n\t\t\tfor (const id of categoryMap.keys()) {\n\t\t\t\tconst properties = categoryMap.get(id)\n\t\t\t\tif (properties.length < components.length) {\n\t\t\t\t\tcategoryMap.set(id, [])\n\t\t\t\t} else {\n\t\t\t\t\t// get the multi edit version and save for housekeeping\n\t\t\t\t\tconst multi = properties[0].getMultiEditVersion(properties)\n\n\t\t\t\t\tthis.multies.push(multi)\n\n\t\t\t\t\trelevantProperties.push(multi)\n\t\t\t\t}\n\t\t\t}\n\t\t\toverlappingProperties.set(category, relevantProperties)\n\t\t}\n\t\tthis.propertiesEntries.append(...overlappingProperties.sorted().map((property) => property.getHTMLElement()))\n\t}\n\n\tprivate setForm(component: CircuitComponent) {\n\t\tthis.propertiesEntries.classList.remove(\"d-none\")\n\t\tthis.propertiesTitle.innerText = component.displayName\n\t\tthis.propertiesEntries.append(...component.properties.sorted().map((property) => property.getHTMLElement()))\n\t}\n\n\tprivate setFormView() {\n\t\tthis.viewProperties.classList.remove(\"d-none\")\n\t\tthis.propertiesTitle.innerText = \"General settings\"\n\n\t\tlet minorSlider = document.getElementById(\"minorSliderInput\") as HTMLInputElement\n\t\tminorSlider.value = CanvasController.instance.majorGridSubdivisions.toString()\n\n\t\tlet majorSlider = document.getElementById(\"majorSliderInput\") as HTMLInputElement\n\t\tmajorSlider.value = CanvasController.instance.majorGridSizecm.toString()\n\n\t\tminorSlider.addEventListener(\"input\", (ev) => {\n\t\t\tthis.changeGrid(CanvasController.instance.majorGridSizecm, Number.parseFloat(minorSlider.value))\n\t\t})\n\n\t\tmajorSlider.addEventListener(\"input\", (ev) => {\n\t\t\tthis.changeGrid(Number.parseFloat(majorSlider.value), CanvasController.instance.majorGridSubdivisions)\n\t\t})\n\n\t\tthis.changeGrid(CanvasController.instance.majorGridSizecm, CanvasController.instance.majorGridSubdivisions)\n\t}\n\n\tpublic setSliderValues(majorSizecm: number, majorSubdivisions: number) {\n\t\tlet minorSlider = document.getElementById(\"minorSliderInput\") as HTMLInputElement\n\t\tminorSlider.value = majorSubdivisions.toString()\n\t\tlet majorSlider = document.getElementById(\"majorSliderInput\") as HTMLInputElement\n\t\tmajorSlider.value = majorSizecm.toString()\n\t\tthis.changeGrid(majorSizecm, majorSubdivisions)\n\t}\n\n\tprivate changeGrid(majorSizecm: number, majorSubdivisions: number) {\n\t\tCanvasController.instance.changeGrid(majorSizecm, majorSubdivisions)\n\n\t\tlet majorLabel = document.getElementById(\"majorLabel\")\n\t\tmajorLabel.innerText = majorSizecm + \" cm\"\n\n\t\tlet minorLabel = document.getElementById(\"minorLabel\")\n\t\tminorLabel.innerText = majorSubdivisions.toString()\n\n\t\tlet gridInfo = document.getElementById(\"gridInfo\")\n\t\tgridInfo.innerText =\n\t\t\t(majorSizecm / majorSubdivisions).toLocaleString(undefined, { maximumFractionDigits: 2 }) + \" cm\"\n\t}\n\n\tprivate clearForm() {\n\t\tfor (const element of this.multies) {\n\t\t\telement.remove()\n\t\t}\n\t\tthis.propertiesTitle.innerText = \"Properties\"\n\t\tthis.viewProperties.classList.add(\"d-none\")\n\t\tthis.propertiesEntries.classList.add(\"d-none\")\n\t\tthis.propertiesEntries.innerText = \"\"\n\n\t\twhile (this.propertiesEntries.lastElementChild) {\n\t\t\tthis.propertiesEntries.removeChild(this.propertiesEntries.lastElementChild)\n\t\t}\n\t}\n}\n","import { MainController, Modes } from \"../internal\"\n\ntype ChangeEvent<T> = {\n\tpreviousValue: T\n\tvalue: T\n}\n\nexport abstract class EditableProperty<T> {\n\tprotected tooltip: string\n\tprotected element: HTMLElement\n\n\tprivate _disabled: boolean\n\tpublic get disabled(): boolean {\n\t\treturn this._disabled\n\t}\n\tpublic set disabled(value: boolean) {\n\t\tthis.getHTMLElement() // build component if not already done, otherwise disabling might not work sometimes\n\t\tthis._disabled = value\n\t\tthis.disable(value)\n\t}\n\n\tprivate _id: string\n\tpublic get id(): string {\n\t\treturn this._id\n\t}\n\n\tprivate _value: T\n\tpublic get value(): T {\n\t\treturn this._value\n\t}\n\tpublic set value(newVal: T) {\n\t\tthis._value = newVal\n\t\tif (!this.element) {\n\t\t\tthis.element = this.buildHTML()\n\t\t}\n\t\tthis.updateHTML()\n\t}\n\n\tprivate changeListeners: { (event: ChangeEvent<T>): void }[]\n\n\tpublic constructor(initialValue?: T, tooltip: string = \"\", id: string = \"\") {\n\t\t// make sure to be in drag_pan mode when changing any value\n\t\tthis.changeListeners = [\n\t\t\t(ev) => {\n\t\t\t\tMainController.instance.switchMode(Modes.DRAG_PAN)\n\t\t\t},\n\t\t]\n\t\tif (initialValue !== undefined) {\n\t\t\tthis._value = initialValue\n\t\t}\n\t\tthis._id = id\n\t\tthis.tooltip = tooltip\n\t}\n\n\tpublic equivalent(properties: EditableProperty<T>[]) {\n\t\tif (properties.length < 2) {\n\t\t\treturn true\n\t\t}\n\t\tconst first = properties[0]\n\t\tfor (const property of properties.slice(1)) {\n\t\t\tif (!this.eq(first.value, property.value)) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n\n\t/**\n\t * Evaluate if two values of type T are equal\n\t */\n\tpublic abstract eq(first: T, second: T): boolean\n\n\t/**\n\t * Build this property to be able to edit multiple properties at once\n\t * @param properties\n\t */\n\tpublic abstract getMultiEditVersion(properties: EditableProperty<T>[]): EditableProperty<T>\n\n\t/**\n\t * override this to implement how this component can be disabled\n\t * @param disabled\n\t */\n\tprotected abstract disable(disabled?: boolean): void\n\n\tpublic getHTMLElement(): HTMLElement {\n\t\tif (!this.element) {\n\t\t\tthis.element = this.buildHTML()\n\n\t\t\tif (this.tooltip && this.element) {\n\t\t\t\tthis.element.setAttribute(\"data-bs-title\", this.tooltip)\n\t\t\t\tthis.element.setAttribute(\"data-bs-toggle\", \"tooltip\")\n\t\t\t}\n\t\t}\n\t\treturn this.element\n\t}\n\n\tpublic removeHTMLElement(): void {\n\t\tif (this.element) {\n\t\t\tthis.element.remove()\n\t\t\tthis.element = null\n\t\t}\n\t}\n\n\t/**\n\t * Override/use this\n\t */\n\tprotected abstract buildHTML(): HTMLElement\n\tprotected getRow(): HTMLDivElement {\n\t\tlet row = document.createElement(\"div\") as HTMLDivElement\n\t\trow.classList.add(\"row\", \"g-2\", \"my-2\")\n\t\treturn row\n\t}\n\tpublic abstract updateHTML(): void\n\n\tpublic addChangeListener(changeListener: (ev: ChangeEvent<T>) => void) {\n\t\tthis.changeListeners.push(changeListener)\n\t}\n\tpublic removeChangeListener(changeListener: (ev: ChangeEvent<T>) => void): boolean {\n\t\tlet idx = this.changeListeners.findIndex((val) => val == changeListener)\n\t\tif (idx >= 0) {\n\t\t\tthis.changeListeners.splice(idx, 1)\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tpublic updateValue(newVal: T, updateHTML = false, notifyEventListeners = true) {\n\t\tif (this.eq(newVal, this.value)) {\n\t\t\treturn\n\t\t}\n\t\tlet lastValue = this.value\n\t\tthis._value = newVal\n\t\tlet changeEvent: ChangeEvent<T> = {\n\t\t\tpreviousValue: lastValue,\n\t\t\tvalue: this._value,\n\t\t}\n\t\tif (updateHTML) {\n\t\t\tif (!this.element) {\n\t\t\t\tthis.element = this.buildHTML()\n\t\t\t}\n\t\t\tthis.updateHTML()\n\t\t}\n\t\tif (notifyEventListeners) {\n\t\t\tfor (const element of this.changeListeners) {\n\t\t\t\telement(changeEvent)\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic remove() {\n\t\tfor (const changeListener of this.changeListeners) {\n\t\t\tthis.removeChangeListener(changeListener)\n\t\t}\n\t\tthis.element?.remove()\n\t}\n}\n","import { EditableProperty, Undo } from \"../internal\"\n\nexport class BooleanProperty extends EditableProperty<boolean> {\n\tprivate checkBox: HTMLInputElement\n\tprivate label: string\n\n\tpublic constructor(label: string, initialValue?: boolean, tooltip = \"\", id: string = \"\") {\n\t\tsuper(initialValue, tooltip, id)\n\t\tthis.label = label\n\t}\n\tpublic eq(first: boolean, second: boolean): boolean {\n\t\tif (first == null || second == null) {\n\t\t\treturn false\n\t\t}\n\t\treturn first == second\n\t}\n\n\tpublic buildHTML(): HTMLElement {\n\t\tlet row = this.getRow()\n\t\tlet col = document.createElement(\"div\") as HTMLDivElement\n\t\tcol.classList.add(\"col-12\", \"input-group\", \"my-0\")\n\t\t{\n\t\t\tlet labelElement = document.createElement(\"label\") as HTMLLabelElement\n\t\t\tlabelElement.classList.add(\"input-group-text\", \"flex-grow-1\")\n\t\t\tlabelElement.innerHTML = this.label || \"CheckBox\"\n\t\t\tcol.appendChild(labelElement)\n\n\t\t\tlet checkBoxContainer = document.createElement(\"div\") as HTMLDivElement\n\t\t\tcheckBoxContainer.classList.add(\"input-group-text\", \"form-switch\")\n\t\t\t{\n\t\t\t\tthis.checkBox = document.createElement(\"input\") as HTMLInputElement\n\t\t\t\tthis.checkBox.classList.add(\"form-check-input\", \"m-0\")\n\t\t\t\tthis.checkBox.setAttribute(\"type\", \"checkbox\")\n\t\t\t\tthis.checkBox.setAttribute(\"role\", \"switch\")\n\t\t\t\tif (this.value != null) {\n\t\t\t\t\tthis.checkBox.checked = this.value\n\t\t\t\t} else {\n\t\t\t\t\tthis.checkBox.indeterminate = true\n\t\t\t\t}\n\n\t\t\t\tthis.checkBox.addEventListener(\"change\", (ev) => {\n\t\t\t\t\tthis.updateValue(this.checkBox.checked)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t})\n\t\t\t\tcheckBoxContainer.appendChild(this.checkBox)\n\t\t\t}\n\t\t\tcol.appendChild(checkBoxContainer)\n\t\t}\n\t\trow.appendChild(col)\n\t\treturn row\n\t}\n\n\tprotected disable(disabled = true): void {\n\t\tthis.checkBox.disabled = disabled\n\t}\n\n\tpublic updateHTML(): void {\n\t\tif (this.checkBox) {\n\t\t\tthis.checkBox.checked = this.value\n\t\t}\n\t}\n\n\tpublic getMultiEditVersion(properties: BooleanProperty[]): BooleanProperty {\n\t\tlet allEqual = this.equivalent(properties)\n\n\t\tconst result = new BooleanProperty(this.label, allEqual ? this.value : null, this.tooltip, this.id)\n\t\tresult.addChangeListener((ev) => {\n\t\t\tfor (const property of properties) {\n\t\t\t\tproperty.updateValue(ev.value, true, true)\n\t\t\t}\n\t\t})\n\t\tresult.getHTMLElement()\n\t\treturn result\n\t}\n}\n","import { EditableProperty, Undo } from \"../internal\"\n\nexport type ChoiceEntry = {\n\tkey: string\n\tname: string\n}\n\nconst indeterminateChoice: ChoiceEntry = { key: \"undetermined\", name: \"choose one\" }\n\nexport class ChoiceProperty<T extends ChoiceEntry> extends EditableProperty<T> {\n\tprivate label: string\n\tprivate selectElement: HTMLSelectElement\n\tprivate choiceOptions: T[]\n\n\tpublic get entries(): T[] {\n\t\treturn this.choiceOptions\n\t}\n\n\tpublic constructor(label: string, choiceOptions: T[], initialValue?: T, tooltip = \"\", id: string = \"\") {\n\t\tsuper(initialValue, tooltip, id)\n\t\tthis.label = label\n\t\tthis.choiceOptions = choiceOptions\n\t}\n\tpublic eq(first: T, second: T): boolean {\n\t\treturn first.key == second.key\n\t}\n\tpublic buildHTML(): HTMLElement {\n\t\tlet row = this.getRow()\n\n\t\tlet col = document.createElement(\"div\") as HTMLDivElement\n\t\tcol.classList.add(\"col-12\", \"input-group\", \"my-0\")\n\t\t{\n\t\t\tlet anchorLabel = document.createElement(\"label\") as HTMLLabelElement\n\t\t\tanchorLabel.classList.add(\"input-group-text\")\n\t\t\tanchorLabel.innerHTML = this.label\n\t\t\tcol.appendChild(anchorLabel)\n\n\t\t\tthis.selectElement = document.createElement(\"select\") as HTMLSelectElement\n\t\t\tthis.selectElement.classList.add(\"form-select\")\n\t\t\tthis.selectElement.name = \"anchor\"\n\t\t\tfor (let index = 0; index < this.choiceOptions.length; index++) {\n\t\t\t\tconst labelKey = this.choiceOptions[index].key\n\t\t\t\tconst labelName = this.choiceOptions[index].name\n\n\t\t\t\tlet optionElement = document.createElement(\"option\") as HTMLOptionElement\n\t\t\t\toptionElement.value = labelKey\n\t\t\t\toptionElement.innerHTML = labelName\n\t\t\t\toptionElement.selected = this.value ? labelKey == this.value.key : false\n\t\t\t\tthis.selectElement.appendChild(optionElement)\n\t\t\t}\n\n\t\t\tthis.selectElement.addEventListener(\"change\", (ev) => {\n\t\t\t\tthis.updateValue(this.choiceOptions.find((el) => el.key == this.selectElement.value))\n\t\t\t\tUndo.addState()\n\t\t\t})\n\t\t\tcol.appendChild(this.selectElement)\n\t\t}\n\t\trow.appendChild(col)\n\t\treturn row\n\t}\n\n\tprotected disable(disabled = true): void {\n\t\tthis.selectElement.disabled = disabled\n\t}\n\tpublic updateHTML(): void {\n\t\tif (this.selectElement) {\n\t\t\tfor (const optionElement of this.selectElement.children) {\n\t\t\t\t;(optionElement as HTMLOptionElement).selected =\n\t\t\t\t\t(optionElement as HTMLOptionElement).value == this.value.key\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic getMultiEditVersion(properties: ChoiceProperty<T>[]): ChoiceProperty<T> {\n\t\tlet allEqual = this.equivalent(properties)\n\n\t\tconst options: ChoiceEntry[] = allEqual ? [indeterminateChoice] : []\n\t\toptions.push(...this.choiceOptions)\n\n\t\tconst result = new ChoiceProperty<T>(\n\t\t\tthis.label,\n\t\t\tthis.choiceOptions,\n\t\t\tallEqual ? properties[0].value : (indeterminateChoice as T),\n\t\t\tthis.tooltip,\n\t\t\tthis.id\n\t\t)\n\n\t\tlet removedUndeterminedChoice = false\n\t\tresult.addChangeListener((ev) => {\n\t\t\tif (!removedUndeterminedChoice && ev.previousValue.key == \"undetermined\") {\n\t\t\t\tremovedUndeterminedChoice = true\n\t\t\t\tthis.selectElement.removeChild(this.selectElement.firstChild)\n\t\t\t}\n\t\t\tfor (const property of properties) {\n\t\t\t\tproperty.updateValue(ev.value, true, true)\n\t\t\t}\n\t\t})\n\t\tresult.getHTMLElement()\n\t\treturn result\n\t}\n}\n","import { CanvasController, EditableProperty, Undo } from \"../internal\"\n\nexport class TextProperty extends EditableProperty<string> {\n\tprivate input: HTMLInputElement\n\tprivate invalidDiv: HTMLDivElement\n\n\tprivate label: string\n\n\tprivate validator = (value: string) => \"\"\n\n\tpublic constructor(\n\t\tlabel: string,\n\t\tinitalValue?: string,\n\t\ttooltip = \"\",\n\t\tvalidator = (value: string) => \"\",\n\t\tid: string = \"\"\n\t) {\n\t\tsuper(initalValue, tooltip, id)\n\t\tthis.label = label\n\t\tthis.validator = validator\n\t}\n\n\tpublic buildHTML(): HTMLElement {\n\t\tlet row = this.getRow()\n\n\t\tlet inputDiv = document.createElement(\"div\") as HTMLDivElement\n\t\tinputDiv.classList.add(\"col\", \"col-md-12\", \"my-0\", \"input-group\", \"has-validation\")\n\t\t{\n\t\t\tlet labelSpan = document.createElement(\"span\") as HTMLSpanElement\n\t\t\tlabelSpan.classList.add(\"input-group-text\")\n\t\t\tlabelSpan.innerHTML = this.label ?? \"\"\n\t\t\tinputDiv.appendChild(labelSpan)\n\n\t\t\tthis.input = document.createElement(\"input\") as HTMLInputElement\n\t\t\tthis.input.classList.add(\"form-control\")\n\t\t\tthis.input.setAttribute(\"type\", \"text\")\n\t\t\tthis.input.value = this.value ?? \"\"\n\t\t\tinputDiv.appendChild(this.input)\n\n\t\t\tthis.invalidDiv = document.createElement(\"div\") as HTMLDivElement\n\t\t\tthis.invalidDiv.classList.add(\"col-12\", \"invalid-feedback\", \"d-none\")\n\t\t\tinputDiv.appendChild(this.invalidDiv)\n\t\t}\n\t\trow.appendChild(inputDiv)\n\n\t\tthis.input.addEventListener(\"mousedown\", (ev) => {\n\t\t\tCanvasController.instance.draggingFromInput = this.input\n\t\t})\n\n\t\tlet previousState = \"\"\n\t\tthis.input.addEventListener(\"focusin\", (ev) => {\n\t\t\tpreviousState = this.value ?? \"\"\n\t\t})\n\t\tthis.input.addEventListener(\"input\", (ev) => {\n\t\t\tlet validationText = this.validator(this.input.value)\n\t\t\tthis.changeInvalidStatus(validationText)\n\t\t\tif (validationText == \"\") {\n\t\t\t\tthis.updateValue(this.input.value)\n\t\t\t}\n\t\t})\n\n\t\tthis.input.addEventListener(\"focusout\", (ev) => {\n\t\t\t//first set what you see to the last known value, which should always be a valid value\n\t\t\tthis.updateHTML()\n\t\t\tthis.changeInvalidStatus(\"\")\n\t\t\tif (this.value && previousState !== this.value) {\n\t\t\t\tUndo.addState()\n\t\t\t}\n\t\t})\n\t\treturn row\n\t}\n\n\tprotected disable(disabled = true): void {\n\t\tthis.input.disabled = disabled\n\t}\n\n\tprivate changeInvalidStatus(msg: string) {\n\t\tif (this.invalidDiv) {\n\t\t\tif (msg === \"\") {\n\t\t\t\tthis.input.classList.remove(\"is-invalid\")\n\t\t\t\tthis.invalidDiv.classList.add(\"d-none\")\n\t\t\t\tthis.invalidDiv.innerHTML = \"\"\n\t\t\t} else {\n\t\t\t\tthis.input.classList.add(\"is-invalid\")\n\t\t\t\tthis.input.classList.add(\"is-invalid\")\n\t\t\t\tthis.invalidDiv.classList.remove(\"d-none\")\n\t\t\t\tthis.invalidDiv.innerHTML = \"Invalid! \" + msg\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic updateHTML(): void {\n\t\tif (this.input) {\n\t\t\tthis.input.value = this.value\n\t\t}\n\t}\n\n\tpublic eq(first: string, second: string): boolean {\n\t\treturn first == second\n\t}\n\n\tpublic getMultiEditVersion(properties: TextProperty[]): TextProperty {\n\t\tlet allEqual = this.equivalent(properties)\n\n\t\tconst result = new TextProperty(this.label, allEqual ? this.value : \"*\", this.tooltip, this.validator, this.id)\n\n\t\tresult.addChangeListener((ev) => {\n\t\t\tlet invalid = false\n\t\t\tfor (const property of properties) {\n\t\t\t\tproperty.updateValue(ev.value, true, true)\n\t\t\t\tif (!invalid && property.validator(ev.value) != \"\") {\n\t\t\t\t\tinvalid = true\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (invalid) {\n\t\t\t\tresult.changeInvalidStatus(\"Multi-edit with invalid values! Adjust individual component fields.\")\n\t\t\t}\n\t\t})\n\t\treturn result\n\t}\n}\n","import { CanvasController, EditableProperty, Undo } from \"../internal\"\n\nexport class TextAreaProperty extends EditableProperty<string> {\n\tprivate input: HTMLTextAreaElement\n\n\tpublic constructor(initalValue?: string, tooltip = \"\", id: string = \"\") {\n\t\tsuper(initalValue, tooltip, id)\n\t}\n\n\tpublic buildHTML(): HTMLElement {\n\t\tlet rowTextArea = this.getRow()\n\n\t\tlet inputDiv = document.createElement(\"div\") as HTMLDivElement\n\t\tinputDiv.classList.add(\"col-12\", \"mt-0\")\n\t\t{\n\t\t\tthis.input = document.createElement(\"textArea\") as HTMLTextAreaElement\n\t\t\tthis.input.classList.add(\"form-control\")\n\t\t\tthis.input.value = this.value ?? \"\"\n\t\t\tthis.input.placeholder = \"text component\"\n\t\t\tinputDiv.appendChild(this.input)\n\t\t}\n\t\trowTextArea.appendChild(inputDiv)\n\n\t\tlet previousState: string\n\t\tthis.input.addEventListener(\"focusin\", (ev) => {\n\t\t\tpreviousState = this.value\n\t\t})\n\t\tthis.input.addEventListener(\"input\", (ev) => {\n\t\t\tthis.updateValue(this.input.value)\n\t\t})\n\n\t\tthis.input.addEventListener(\"focusout\", (ev) => {\n\t\t\tif (this.value && previousState !== this.value) {\n\t\t\t\tUndo.addState()\n\t\t\t}\n\t\t})\n\t\tthis.input.addEventListener(\"mousedown\", (ev) => {\n\t\t\tCanvasController.instance.draggingFromInput = this.input\n\t\t})\n\n\t\treturn rowTextArea\n\t}\n\n\tprotected disable(disabled = true): void {\n\t\tthis.input.disabled = disabled\n\t}\n\n\tpublic updateHTML(): void {\n\t\tif (this.input) {\n\t\t\tthis.input.value = this.value\n\t\t}\n\t}\n\n\tpublic eq(first: string, second: string): boolean {\n\t\treturn first == second\n\t}\n\n\tpublic getMultiEditVersion(properties: TextAreaProperty[]): TextAreaProperty {\n\t\tlet allEqual = this.equivalent(properties)\n\n\t\tconst result = new TextAreaProperty(allEqual ? this.value : \"*\", this.tooltip, this.id)\n\n\t\tresult.addChangeListener((ev) => {\n\t\t\tfor (const property of properties) {\n\t\t\t\tproperty.updateValue(ev.value, true, true)\n\t\t\t}\n\t\t})\n\t\treturn result\n\t}\n}\n","import { EditableProperty } from \"../internal\"\n\nexport class InfoProperty extends EditableProperty<string> {\n\tprivate valueElement: HTMLSpanElement\n\tprivate labelElement: HTMLElement\n\tprivate labelString: string\n\n\tpublic constructor(label: string, initalValue?: string, tooltip = \"\", id: string = \"\") {\n\t\tsuper(initalValue, tooltip, id)\n\t\tthis.labelString = label\n\t}\n\n\tpublic buildHTML(): HTMLElement {\n\t\tlet row = document.createElement(\"div\") as HTMLDivElement\n\t\trow.classList.add(\n\t\t\t\"row\",\n\t\t\t\"mx-0\",\n\t\t\t\"my-2\",\n\t\t\t\"border\",\n\t\t\t\"border-info-subtle\",\n\t\t\t\"bg-info-subtle\",\n\t\t\t\"text-info-emphasis\",\n\t\t\t\"rounded\"\n\t\t)\n\n\t\tthis.labelElement = document.createElement(\"span\") as HTMLSpanElement\n\t\tthis.labelElement.classList.add(\"text-start\", \"col-auto\", \"me-3\")\n\t\tthis.labelElement.innerHTML = this.labelString || \"Label\"\n\t\trow.appendChild(this.labelElement)\n\n\t\tthis.valueElement = document.createElement(\"span\") as HTMLSpanElement\n\t\tthis.valueElement.classList.add(\"text-end\", \"col\")\n\t\tthis.valueElement.innerHTML = this.value || \"\"\n\t\trow.appendChild(this.valueElement)\n\n\t\treturn row\n\t}\n\tprotected disable(disabled?: boolean): void {}\n\tpublic eq(first: string, second: string): boolean {\n\t\treturn first == second\n\t}\n\tpublic updateHTML(): void {\n\t\tif (this.valueElement) {\n\t\t\tthis.valueElement.innerHTML = this.value ?? \"\"\n\t\t}\n\t}\n\n\tpublic getMultiEditVersion(properties: InfoProperty[]): InfoProperty {\n\t\tconst result = new InfoProperty(this.labelString, properties[0].value, this.tooltip, this.id)\n\t\tresult.addChangeListener((ev) => {\n\t\t\tfor (const property of properties) {\n\t\t\t\tproperty.updateValue(ev.value, true, true)\n\t\t\t}\n\t\t})\n\t\tresult.getHTMLElement()\n\t\treturn result\n\t}\n}\n","import { EditableProperty } from \"../internal\"\n\nexport class ButtonGridProperty extends EditableProperty<never> {\n\tprivate buttonsPerRow: 1 | 2 | 3 | 4 | 6 | 12\n\tprivate labels: [string, string | [string, string]][]\n\tprivate callbacks: ((ev: Event) => void)[]\n\tprivate materialSymbols: boolean\n\tprivate tooltips: string[]\n\tprivate buttons: HTMLButtonElement[]\n\n\tpublic constructor(\n\t\tbuttonsPerRow: 1 | 2 | 3 | 4 | 6 | 12,\n\t\tlabels: [string, string | [string, string]][],\n\t\tcallbacks: ((ev: Event) => void)[],\n\t\tmaterialSymbols = false,\n\t\ttooltips: string[] = [],\n\t\tid: string = \"\"\n\t) {\n\t\tsuper(undefined as never, \"\", id)\n\t\tif (labels.length !== callbacks.length) {\n\t\t\tthrow new Error(\"every button has to have a callback and a label\")\n\t\t}\n\t\tthis.buttonsPerRow = buttonsPerRow\n\t\tthis.labels = labels\n\t\tthis.callbacks = callbacks\n\t\tthis.materialSymbols = materialSymbols\n\t\tthis.tooltips = tooltips\n\t\tthis.buttons = []\n\t}\n\n\tpublic eq(first: never, second: never): boolean {\n\t\treturn false\n\t}\n\tpublic buildHTML(): HTMLElement {\n\t\tlet row = this.getRow()\n\t\tfor (let index = 0; index < this.labels.length; index++) {\n\t\t\tconst label = this.labels[index]\n\t\t\tconst callback = this.callbacks[index]\n\n\t\t\tlet col = document.createElement(\"div\") as HTMLDivElement\n\t\t\tcol.classList.add(\"col-\" + Math.round(12 / this.buttonsPerRow).toFixed(0))\n\t\t\tlet button = document.createElement(\"button\") as HTMLButtonElement\n\t\t\tbutton.classList.add(\n\t\t\t\t\"w-100\",\n\t\t\t\t\"btn\",\n\t\t\t\t\"btn-primary\",\n\t\t\t\t\"d-flex\",\n\t\t\t\t\"align-items-center\",\n\t\t\t\t\"justify-content-center\",\n\t\t\t\t\"gap-1\"\n\t\t\t)\n\t\t\tif (this.tooltips[index]) {\n\t\t\t\tbutton.setAttribute(\"data-bs-title\", this.tooltips[index])\n\t\t\t\tbutton.setAttribute(\"data-bs-toggle\", \"tooltip\")\n\t\t\t}\n\t\t\tif (this.materialSymbols) {\n\t\t\t\tbutton.classList.add(\"material-symbols-outlined\")\n\t\t\t}\n\t\t\tlet labelSymbol = typeof label[1] == \"string\" ? label[1] : label[1][0]\n\t\t\tlet labelSymbolClasses: string[]\n\t\t\tif (typeof label[1] == \"string\") {\n\t\t\t\tlabelSymbol = label[1]\n\t\t\t\tlabelSymbolClasses = []\n\t\t\t} else {\n\t\t\t\tlabelSymbol = label[1][0]\n\t\t\t\tlabelSymbolClasses = label[1][1].split(\",\")\n\t\t\t}\n\t\t\tif (labelSymbol) {\n\t\t\t\tlet spanMat = document.createElement(\"span\") as HTMLSpanElement\n\t\t\t\tif (labelSymbolClasses.length > 0) {\n\t\t\t\t\tspanMat.classList.add(\"material-symbols-outlined\", ...labelSymbolClasses)\n\t\t\t\t} else {\n\t\t\t\t\tspanMat.classList.add(\"material-symbols-outlined\")\n\t\t\t\t}\n\t\t\t\tspanMat.innerHTML = labelSymbol\n\t\t\t\tbutton.appendChild(spanMat)\n\t\t\t}\n\t\t\tif (label[0]) {\n\t\t\t\tlet spanMat = document.createElement(\"span\") as HTMLSpanElement\n\t\t\t\tspanMat.innerHTML = label[0]\n\t\t\t\tbutton.appendChild(spanMat)\n\t\t\t}\n\t\t\tbutton.addEventListener(\"click\", callback)\n\t\t\tthis.buttons.push(button)\n\t\t\tcol.appendChild(button)\n\t\t\trow.appendChild(col)\n\t\t}\n\t\treturn row\n\t}\n\n\tprotected disable(disabled = true): void {\n\t\tthis.buttons.forEach((button) => (button.disabled = disabled))\n\t}\n\tpublic updateHTML(): void {}\n\n\tpublic getMultiEditVersion(properties: ButtonGridProperty[]): ButtonGridProperty {\n\t\tconst result = new ButtonGridProperty(\n\t\t\tthis.buttonsPerRow,\n\t\t\tthis.labels,\n\t\t\tthis.callbacks,\n\t\t\tthis.materialSymbols,\n\t\t\tthis.tooltips,\n\t\t\tthis.id\n\t\t)\n\t\tresult.addChangeListener((ev) => {\n\t\t\tfor (const property of properties) {\n\t\t\t\tproperty.updateValue(ev.value, true, true)\n\t\t\t}\n\t\t})\n\t\tresult.getHTMLElement()\n\t\treturn result\n\t}\n}\n","import { CanvasController, EditableProperty, Undo } from \"../internal\"\n\nexport class MathJaxProperty extends EditableProperty<string> {\n\tprivate input: HTMLInputElement\n\n\tpublic constructor(initialValue?: string, tooltip = \"\", id: string = \"\") {\n\t\tsuper(initialValue ?? \"\", tooltip, id)\n\t}\n\n\tpublic eq(first: string, second: string): boolean {\n\t\treturn first == second\n\t}\n\tpublic buildHTML(): HTMLElement {\n\t\tlet row = this.getRow()\n\n\t\tlet col = document.createElement(\"div\") as HTMLDivElement\n\t\tcol.classList.add(\"col\", \"col-md-12\", \"col-xxl\", \"my-0\", \"input-group\")\n\t\t{\n\t\t\tlet formulaSpan1 = document.createElement(\"span\") as HTMLSpanElement\n\t\t\tformulaSpan1.classList.add(\"input-group-text\")\n\t\t\tformulaSpan1.innerHTML = \"$\"\n\t\t\tcol.appendChild(formulaSpan1)\n\n\t\t\tthis.input = document.createElement(\"input\") as HTMLInputElement\n\t\t\tthis.input.classList.add(\"form-control\")\n\t\t\tthis.input.type = \"text\"\n\t\t\tthis.input.value = this.value ?? \"\"\n\t\t\tcol.appendChild(this.input)\n\n\t\t\tlet formulaSpan2 = document.createElement(\"div\") as HTMLDivElement\n\t\t\tformulaSpan2.classList.add(\"input-group-text\")\n\t\t\tformulaSpan2.innerHTML = \"$\"\n\t\t\tcol.appendChild(formulaSpan2)\n\n\t\t\tlet previousState = \"\"\n\t\t\tthis.input.addEventListener(\"focusin\", (ev) => {\n\t\t\t\tpreviousState = this.value ?? \"\"\n\t\t\t})\n\t\t\tthis.input.addEventListener(\"input\", (ev) => {\n\t\t\t\tthis.updateValue(this.input.value)\n\t\t\t})\n\n\t\t\tthis.input.addEventListener(\"focusout\", (ev) => {\n\t\t\t\tif (this.value && previousState !== this.value) {\n\t\t\t\t\tUndo.addState()\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.input.addEventListener(\"mousedown\", (ev) => {\n\t\t\t\tCanvasController.instance.draggingFromInput = this.input\n\t\t\t})\n\t\t}\n\t\trow.appendChild(col)\n\t\treturn row\n\t}\n\n\tprotected disable(disabled = true): void {\n\t\tthis.input.disabled = disabled\n\t}\n\tpublic updateHTML(): void {\n\t\tif (this.input) {\n\t\t\tthis.input.value = this.value\n\t\t}\n\t}\n\n\tpublic getMultiEditVersion(properties: MathJaxProperty[]): MathJaxProperty {\n\t\tlet allEqual = this.equivalent(properties)\n\n\t\tconst result = new MathJaxProperty(allEqual ? properties[0].value : \"*\", this.tooltip, this.id)\n\n\t\tresult.addChangeListener((ev) => {\n\t\t\tfor (const property of properties) {\n\t\t\t\tproperty.updateValue(ev.value, true, true)\n\t\t\t}\n\t\t})\n\t\tresult.getHTMLElement()\n\t\treturn result\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport { CanvasController, EditableProperty, Undo } from \"../internal\"\n\nexport class SliderProperty extends EditableProperty<SVG.Number> {\n\tpublic eq(first: SVG.Number, second: SVG.Number): boolean {\n\t\tif (first == null || second == null) {\n\t\t\treturn false\n\t\t}\n\t\treturn first.eq(second)\n\t}\n\n\tprivate min: number\n\tprivate max: number\n\tprivate step: number\n\n\tprivate label: string\n\tprivate sliderInput: HTMLInputElement\n\tprivate numberInput: HTMLInputElement\n\tprivate unitLabel: HTMLLabelElement\n\n\tprivate fractionDigits: number\n\tprivate integerDigits: number\n\tprivate restrictToRange: boolean\n\n\tpublic constructor(\n\t\tlabel: string,\n\t\tmin: number,\n\t\tmax: number,\n\t\tstep: number,\n\t\tinitalValue?: SVG.Number,\n\t\trestrictToRange: boolean = false,\n\t\ttooltip = \"\",\n\t\tid: string = \"\"\n\t) {\n\t\tsuper(initalValue, tooltip, id)\n\t\tthis.label = label\n\t\tthis.min = min\n\t\tthis.max = max\n\t\tthis.step = step\n\t\tthis.restrictToRange = restrictToRange\n\n\t\tif (step > 0) {\n\t\t\tthis.fractionDigits = 0\n\t\t\tlet stepTemp = step\n\t\t\twhile (stepTemp < 1) {\n\t\t\t\tstepTemp *= 10\n\t\t\t\tthis.fractionDigits += 1\n\t\t\t}\n\t\t}\n\n\t\tthis.integerDigits = 1\n\t\tlet maxDigits = Math.max(Math.abs(min), Math.abs(max))\n\t\twhile (maxDigits > 1) {\n\t\t\tthis.integerDigits += 1\n\t\t\tmaxDigits /= 10\n\t\t}\n\t}\n\n\tpublic buildHTML(): HTMLElement {\n\t\tlet row = this.getRow()\n\n\t\tlet col = document.createElement(\"div\") as HTMLDivElement\n\t\tcol.classList.add(\"col-12\", \"my-0\", \"input-group\")\n\n\t\tlet distanceLabel = document.createElement(\"label\") as HTMLLabelElement\n\t\tdistanceLabel.classList.add(\"input-group-text\", \"fs-6\")\n\t\tdistanceLabel.innerHTML = this.label\n\t\tdistanceLabel.setAttribute(\"for\", \"labelDistanceSlider\")\n\t\tcol.appendChild(distanceLabel)\n\n\t\tthis.sliderInput = document.createElement(\"input\") as HTMLInputElement\n\t\tthis.sliderInput.classList.add(\"form-range\", \"w-25\", \"flex-grow-1\", \"h-100\", \"px-2\", \"border\")\n\t\tthis.sliderInput.id = \"labelDistanceSlider\"\n\t\tthis.sliderInput.type = \"range\"\n\t\tthis.sliderInput.min = this.min.toString()\n\t\tthis.sliderInput.max = this.max.toString()\n\t\tthis.sliderInput.step = this.step.toString()\n\t\tthis.sliderInput.value =\n\t\t\t!Number.isNaN(this.value.value) ? this.value.value.toString() : ((this.max - this.min) / 2).toString()\n\t\tcol.appendChild(this.sliderInput)\n\n\t\tthis.numberInput = document.createElement(\"input\") as HTMLInputElement\n\t\tthis.numberInput.classList.add(\"form-control\", \"fs-6\")\n\t\tthis.numberInput.type = \"number\"\n\t\tthis.numberInput.value = !Number.isNaN(this.value.value) ? this.value.value.toString() : \"*\"\n\t\tthis.numberInput.min = this.min.toString()\n\t\tthis.numberInput.max = this.max.toString()\n\t\tthis.numberInput.step = this.step.toString()\n\t\tcol.appendChild(this.numberInput)\n\n\t\tlet sliderChanged = () => {\n\t\t\tthis.updateValue(new SVG.Number(Number.parseFloat(this.sliderInput.value), this.value.unit))\n\t\t\tthis.updateNumberInput()\n\t\t}\n\t\tlet numberChanged = () => {\n\t\t\tlet newValue = Number.parseFloat(this.numberInput.value)\n\n\t\t\tif (!isNaN(newValue)) {\n\t\t\t\tif (this.restrictToRange) {\n\t\t\t\t\tnewValue = newValue < this.min ? this.min : newValue\n\t\t\t\t\tnewValue = newValue > this.max ? this.max : newValue\n\t\t\t\t}\n\t\t\t\tthis.updateValue(new SVG.Number(newValue, this.value.unit))\n\t\t\t\tthis.updateSliderInput()\n\t\t\t}\n\t\t}\n\n\t\tthis.numberInput.addEventListener(\"input\", numberChanged)\n\t\tthis.numberInput.addEventListener(\"focusout\", () => {\n\t\t\tthis.updateNumberInput()\n\t\t\tUndo.addState()\n\t\t})\n\t\tthis.numberInput.addEventListener(\"mousedown\", (ev) => {\n\t\t\tCanvasController.instance.draggingFromInput = this.numberInput\n\t\t})\n\n\t\tthis.sliderInput.addEventListener(\"input\", sliderChanged)\n\t\tthis.sliderInput.addEventListener(\"change\", () => {\n\t\t\tUndo.addState()\n\t\t})\n\n\t\tif (this.value.unit) {\n\t\t\tthis.unitLabel = distanceLabel.cloneNode(true) as HTMLLabelElement\n\t\t\tthis.unitLabel.innerText = this.value.unit\n\t\t\tcol.appendChild(this.unitLabel)\n\t\t}\n\n\t\tthis.updateNumberInput()\n\t\tthis.updateSliderInput()\n\n\t\trow.appendChild(col)\n\t\treturn row\n\t}\n\n\tprotected disable(disabled = true): void {\n\t\tthis.sliderInput.disabled = disabled\n\t\tthis.numberInput.disabled = disabled\n\t}\n\n\tprivate updateNumberInput() {\n\t\tthis.numberInput.value = !Number.isNaN(this.value.value) ? this.value.value.toString() : \"*\"\n\t\tif (this.unitLabel) {\n\t\t\tthis.unitLabel.innerText = !Number.isNaN(this.value.value) ? this.value.unit : \"\"\n\t\t}\n\t}\n\n\tprivate updateSliderInput() {\n\t\tthis.sliderInput.value = !Number.isNaN(this.value.value) ? this.value.value.toString() : \"*\"\n\t\tif (this.unitLabel) {\n\t\t\tthis.unitLabel.innerText = !Number.isNaN(this.value.value) ? this.value.unit : \"\"\n\t\t}\n\t}\n\n\tpublic updateHTML(): void {\n\t\tif (this.sliderInput) {\n\t\t\tthis.updateSliderInput()\n\t\t\tthis.updateNumberInput()\n\t\t}\n\t}\n\n\tpublic getMultiEditVersion(properties: SliderProperty[]): SliderProperty {\n\t\tlet allEqual = this.equivalent(properties)\n\t\tconst first = properties[0]\n\t\tconst result = new SliderProperty(\n\t\t\tthis.label,\n\t\t\tthis.min,\n\t\t\tthis.max,\n\t\t\tthis.step,\n\t\t\tallEqual ? properties[0].value : new SVG.Number(NaN, first.value.unit),\n\t\t\tthis.restrictToRange,\n\t\t\tthis.tooltip,\n\t\t\tthis.id\n\t\t)\n\n\t\tresult.addChangeListener((ev) => {\n\t\t\tfor (const property of properties) {\n\t\t\t\tproperty.updateValue(ev.value, true, true)\n\t\t\t}\n\t\t})\n\t\tresult.getHTMLElement()\n\t\treturn result\n\t}\n}\n","import { EditableProperty } from \"../internal\"\n\nexport class SectionHeaderProperty extends EditableProperty<string> {\n\tprivate labelElement: HTMLElement\n\n\tpublic eq(first: string, second: string): boolean {\n\t\treturn first == second\n\t}\n\tpublic buildHTML(): HTMLElement {\n\t\tthis.labelElement = document.createElement(\"span\") as HTMLSpanElement\n\t\tthis.labelElement.classList.add(\"col-12\", \"form-label\", \"mb-0\", \"fw-bold\")\n\t\tthis.labelElement.innerHTML = this.value ?? \"\"\n\n\t\tlet row = this.getRow()\n\t\trow.appendChild(this.labelElement)\n\t\treturn row\n\t}\n\tprotected disable(disabled?: boolean): void {}\n\tpublic updateHTML(): void {\n\t\tif (this.labelElement) {\n\t\t\tthis.labelElement.innerHTML = this.value\n\t\t}\n\t}\n\tpublic getMultiEditVersion(properties: SectionHeaderProperty[]): SectionHeaderProperty {\n\t\tconst result = new SectionHeaderProperty(properties[0].value, this.tooltip, this.id)\n\n\t\tresult.getHTMLElement()\n\t\treturn result\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport { EditableProperty } from \"./editableProperty\"\nimport { Undo } from \"../internal\"\n\nexport class ColorProperty extends EditableProperty<SVG.Color | null> {\n\tprivate label: string\n\tprivate input: HTMLInputElement\n\tprivate nullable: boolean\n\tprivate enabler: HTMLInputElement\n\n\tpublic constructor(label: string, initialValue?: SVG.Color | null, nullable = true, tooltip = \"\", id: string = \"\") {\n\t\tsuper(initialValue, tooltip, id)\n\t\tthis.label = label\n\t\tthis.nullable = nullable\n\t}\n\n\tpublic eq(first: SVG.Color | null, second: SVG.Color | null): boolean {\n\t\tif ((first == null && second == null) || first === second) {\n\t\t\treturn true\n\t\t}\n\n\t\tif (first == null || second == null) {\n\t\t\treturn false\n\t\t}\n\n\t\tlet f = first.rgb()\n\t\tlet s = second.rgb()\n\t\treturn f.r == s.r && f.g == s.g && f.b == s.b\n\t}\n\tpublic buildHTML(): HTMLElement {\n\t\tlet row = this.getRow()\n\t\tlet col = document.createElement(\"div\") as HTMLDivElement\n\t\tcol.classList.add(\"col-12\", \"input-group\", \"my-0\")\n\t\t{\n\t\t\tlet labelElement = document.createElement(\"label\") as HTMLLabelElement\n\t\t\tlabelElement.classList.add(\"input-group-text\")\n\t\t\tlabelElement.innerHTML = this.label || \"Choose color\"\n\t\t\tcol.appendChild(labelElement)\n\n\t\t\tif (this.nullable) {\n\t\t\t\tlet enablerDiv = document.createElement(\"div\") as HTMLDivElement\n\t\t\t\tenablerDiv.classList.add(\"input-group-text\")\n\t\t\t\tthis.enabler = document.createElement(\"input\") as HTMLInputElement\n\t\t\t\tthis.enabler.classList.add(\"form-check-input\", \"mt-0\")\n\t\t\t\tthis.enabler.type = \"checkbox\"\n\t\t\t\tthis.enabler.checked = this.value !== null\n\n\t\t\t\tthis.enabler.addEventListener(\"change\", (ev) => {\n\t\t\t\t\tthis.updateValue(this.enabler.checked ? new SVG.Color(this.input.value, \"rgb\") : null)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t})\n\t\t\t\tenablerDiv.appendChild(this.enabler)\n\t\t\t\tcol.appendChild(enablerDiv)\n\t\t\t}\n\n\t\t\tthis.input = document.createElement(\"input\") as HTMLInputElement\n\t\t\tthis.input.classList.add(\"form-control\", \"form-control-color\")\n\t\t\tthis.input.value = this.value ? this.value.toString() : \"\"\n\t\t\tthis.input.setAttribute(\"type\", \"color\")\n\n\t\t\tthis.input.addEventListener(\"input\", (ev) => {\n\t\t\t\tif (this.nullable) {\n\t\t\t\t\tthis.updateValue(this.enabler.checked ? new SVG.Color(this.input.value, \"rgb\") : null)\n\t\t\t\t} else {\n\t\t\t\t\tthis.updateValue(new SVG.Color(this.input.value, \"rgb\"))\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.input.addEventListener(\"change\", (ev) => {\n\t\t\t\tUndo.addState()\n\t\t\t})\n\n\t\t\tcol.appendChild(this.input)\n\t\t}\n\t\trow.appendChild(col)\n\t\treturn row\n\t}\n\n\tprotected disable(disabled = true): void {\n\t\tthis.input.disabled = disabled\n\t\tthis.enabler.disabled = disabled\n\t}\n\n\tpublic updateHTML(): void {\n\t\tif (this.value) {\n\t\t\tthis.input.value = this.value.toString()\n\t\t}\n\t\tif (this.enabler) {\n\t\t\tthis.enabler.checked = this.value != null\n\t\t}\n\t}\n\n\tpublic getMultiEditVersion(properties: ColorProperty[]): ColorProperty {\n\t\tlet allEqual = this.equivalent(properties)\n\n\t\tconst result = new ColorProperty(\n\t\t\tthis.label,\n\t\t\tallEqual ? properties[0].value : null,\n\t\t\tthis.nullable,\n\t\t\tthis.tooltip,\n\t\t\tthis.id\n\t\t)\n\n\t\t// result.enabler.indeterminate = !allEqual\n\n\t\tresult.addChangeListener((ev) => {\n\t\t\tfor (const property of properties) {\n\t\t\t\tproperty.updateValue(ev.value, true, true)\n\t\t\t}\n\t\t})\n\t\tresult.getHTMLElement()\n\t\treturn result\n\t}\n}\n","import { ChoiceEntry, EditableProperty, Undo } from \"../internal\"\n\nexport type RadioButtonOption = ChoiceEntry & { isMaterialSymbol: boolean }\n\nexport class RadioButtonProperty<T extends RadioButtonOption> extends EditableProperty<T> {\n\tprivate buttons: HTMLInputElement[] = []\n\tprivate label: string\n\tpublic options: T[]\n\n\tconstructor(label: string, options: T[], initialValue: T, tooltip = \"\", id: string = \"\") {\n\t\tsuper(initialValue, tooltip, id)\n\t\tthis.options = options\n\t\tthis.label = label\n\t}\n\n\tpublic eq(first: T, second: T): boolean {\n\t\tif (second == null || first == null) {\n\t\t\treturn false\n\t\t}\n\t\treturn first.key === second.key\n\t}\n\tprotected buildHTML(): HTMLElement {\n\t\tlet row = this.getRow()\n\n\t\tlet col = document.createElement(\"div\") as HTMLDivElement\n\t\tcol.classList.add(\"col-12\", \"input-group\", \"my-0\")\n\t\t{\n\t\t\tlet labelElement = document.createElement(\"span\") as HTMLSpanElement\n\t\t\tlabelElement.classList.add(\"col-4\", \"input-group-text\")\n\t\t\tlabelElement.innerText = this.label\n\t\t\tcol.appendChild(labelElement)\n\n\t\t\tconst btnLabelClasses = [\n\t\t\t\t\"btn\",\n\t\t\t\t\"btn-outline-secondary\",\n\t\t\t\t\"fs-5\",\n\t\t\t\t\"d-flex\",\n\t\t\t\t\"align-items-center\",\n\t\t\t\t\"justify-content-center\",\n\t\t\t\t\"px-1\",\n\t\t\t\t\"flex-grow-1\",\n\t\t\t]\n\n\t\t\tfor (const option of this.options) {\n\t\t\t\tconst id = this.id + \"-\" + option.key\n\n\t\t\t\tlet input = document.createElement(\"input\") as HTMLInputElement\n\t\t\t\tinput.classList.add(\"btn-check\")\n\t\t\t\tinput.type = \"radio\"\n\t\t\t\tinput.name = this.id\n\t\t\t\tinput.checked = this.value != null ? this.value.key === option.key : false\n\t\t\t\tinput.id = id\n\t\t\t\tinput.addEventListener(\"change\", (ev) => {\n\t\t\t\t\tthis.updateValue(option as T)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t})\n\t\t\t\tcol.appendChild(input)\n\t\t\t\tthis.buttons.push(input)\n\n\t\t\t\tlet labelElement = document.createElement(\"label\") as HTMLLabelElement\n\t\t\t\tlabelElement.classList.add(...btnLabelClasses)\n\t\t\t\tlabelElement.innerText = option.name\n\t\t\t\tif (option.isMaterialSymbol) {\n\t\t\t\t\tlabelElement.classList.add(\"material-symbols-outlined\")\n\t\t\t\t}\n\t\t\t\tlabelElement.setAttribute(\"for\", id)\n\t\t\t\tcol.appendChild(labelElement)\n\t\t\t}\n\t\t}\n\t\trow.appendChild(col)\n\t\treturn row\n\t}\n\n\tprotected disable(disabled?: boolean): void {\n\t\tfor (const element of this.buttons) {\n\t\t\telement.disabled = disabled ?? true\n\t\t}\n\t}\n\n\tpublic updateHTML(): void {\n\t\tfor (const button of this.buttons) {\n\t\t\tbutton.checked = this.value != null ? button.name === this.value.key : false\n\t\t}\n\t}\n\n\tpublic getMultiEditVersion(properties: RadioButtonProperty<T>[]): RadioButtonProperty<T> {\n\t\tlet allEqual = this.equivalent(properties)\n\n\t\tconst result = new RadioButtonProperty<T>(\n\t\t\tthis.label,\n\t\t\tthis.options as T[],\n\t\t\tallEqual ? (properties[0].value as T) : null,\n\t\t\tthis.tooltip,\n\t\t\tthis.id\n\t\t)\n\t\tresult.addChangeListener((ev) => {\n\t\t\tfor (const property of properties) {\n\t\t\t\tproperty.updateValue(ev.value as T, true, true)\n\t\t\t}\n\t\t})\n\t\tresult.getHTMLElement()\n\t\treturn result\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tAbstractConstructor,\n\tCircuitComponent,\n\tColorProperty,\n\tComponentSaveObject,\n\tPropertyCategories,\n\tSectionHeaderProperty,\n\tSliderProperty,\n} from \"../internal\"\n\nexport type FillInfo = {\n\tcolor?: string | \"default\"\n\topacity?: number\n}\n\nexport interface Fillable {\n\tfillInfo: FillInfo\n\n\tfillColorProperty: ColorProperty\n\tfillOpacityProperty: SliderProperty\n}\n\nexport function Fillable<TBase extends AbstractConstructor<CircuitComponent>>(Base: TBase) {\n\tabstract class Fillable extends Base {\n\t\tprotected fillInfo: FillInfo\n\n\t\tprotected fillColorProperty: ColorProperty\n\t\tprotected fillOpacityProperty: SliderProperty\n\n\t\tconstructor(...args: any[]) {\n\t\t\tsuper(...args)\n\t\t\tthis.fillInfo = {\n\t\t\t\tcolor: \"default\",\n\t\t\t\topacity: 1,\n\t\t\t}\n\t\t\tthis.properties.add(PropertyCategories.fill, new SectionHeaderProperty(\"Fill\", undefined, \"fill:header\"))\n\n\t\t\tthis.fillOpacityProperty = new SliderProperty(\n\t\t\t\t\"Opacity\",\n\t\t\t\t0,\n\t\t\t\t100,\n\t\t\t\t1,\n\t\t\t\tnew SVG.Number(this.fillInfo.opacity * 100, \"%\"),\n\t\t\t\tundefined,\n\t\t\t\tundefined,\n\t\t\t\t\"fill:opacity\"\n\t\t\t)\n\t\t\tthis.fillOpacityProperty.addChangeListener((ev) => {\n\t\t\t\tthis.fillInfo.opacity = ev.value.value / 100\n\t\t\t\tthis.updateTheme()\n\t\t\t\tthis.update()\n\t\t\t})\n\n\t\t\tthis.fillColorProperty = new ColorProperty(\"Color\", null, undefined, undefined, \"fill:color\")\n\t\t\tthis.fillColorProperty.addChangeListener((ev) => {\n\t\t\t\tif (ev.value == null) {\n\t\t\t\t\tthis.fillInfo.color = \"default\"\n\t\t\t\t\tthis.fillInfo.opacity = 1\n\t\t\t\t} else {\n\t\t\t\t\tthis.fillInfo.color = ev.value.toRgb()\n\t\t\t\t\tthis.fillInfo.opacity = this.fillOpacityProperty.value.value / 100\n\t\t\t\t}\n\t\t\t\tthis.updateTheme()\n\t\t\t\tthis.update()\n\t\t\t})\n\n\t\t\tthis.properties.add(PropertyCategories.fill, this.fillColorProperty)\n\t\t\tthis.properties.add(PropertyCategories.fill, this.fillOpacityProperty)\n\t\t}\n\n\t\tpublic toJson(): ComponentSaveObject {\n\t\t\tconst data = super.toJson() as ComponentSaveObject & { fill?: FillInfo }\n\n\t\t\tlet fill: FillInfo = {}\n\t\t\tlet shouldFill = false\n\t\t\tif (this.fillInfo.color != \"default\") {\n\t\t\t\tfill.color = this.fillInfo.color\n\t\t\t\tshouldFill = true\n\t\t\t}\n\t\t\tif (this.fillInfo.opacity != 1) {\n\t\t\t\tfill.opacity = this.fillInfo.opacity\n\t\t\t\tshouldFill = true\n\t\t\t}\n\t\t\tif (shouldFill) {\n\t\t\t\tdata.fill = fill\n\t\t\t}\n\n\t\t\treturn data\n\t\t}\n\n\t\tprotected applyJson(saveObject: ComponentSaveObject & { fill?: FillInfo }): void {\n\t\t\tsuper.applyJson(saveObject)\n\n\t\t\tif (saveObject.fill) {\n\t\t\t\tif (saveObject.fill.color) {\n\t\t\t\t\tthis.fillInfo.color = saveObject.fill.color\n\t\t\t\t\tthis.fillColorProperty.value = new SVG.Color(saveObject.fill.color)\n\t\t\t\t}\n\t\t\t\tif (saveObject.fill.opacity != undefined) {\n\t\t\t\t\tthis.fillInfo.opacity = saveObject.fill.opacity\n\t\t\t\t\tthis.fillOpacityProperty.value = new SVG.Number(saveObject.fill.opacity * 100, \"%\")\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprotected buildTikzCommand(command: { options: string[] }): void {\n\t\t\tsuper.buildTikzCommand(command)\n\t\t\tif (this.fillInfo.opacity > 0) {\n\t\t\t\tif (this.fillInfo.color !== \"default\") {\n\t\t\t\t\tlet c = new SVG.Color(this.fillInfo.color)\n\t\t\t\t\tcommand.options.push(\"fill=\" + c.toTikzString())\n\t\t\t\t}\n\n\t\t\t\tif (this.fillInfo.opacity != 1) {\n\t\t\t\t\tcommand.options.push(\"fill opacity=\" + this.fillInfo.opacity.toString())\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn Fillable\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tAbstractConstructor,\n\tChoiceEntry,\n\tChoiceProperty,\n\tCircuitComponent,\n\tColorProperty,\n\tComponentSaveObject,\n\tdashArrayToPattern,\n\tPropertyCategories,\n\tSectionHeaderProperty,\n\tSliderProperty,\n} from \"../internal\"\n\nexport type StrokeInfo = {\n\twidth?: SVG.Number\n\tcolor?: string | \"default\"\n\topacity?: number\n\tstyle?: string\n}\nexport type StrokeStyle = ChoiceEntry & {\n\tdasharray: number[]\n}\n\nexport const strokeStyleChoices: StrokeStyle[] = [\n\t{ key: \"solid\", name: \"solid\", dasharray: [1, 0] },\n\t{ key: \"dotted\", name: \"dotted\", dasharray: [1, 4] },\n\t{ key: \"denselydotted\", name: \"densely dotted\", dasharray: [1, 2] },\n\t{ key: \"looselydotted\", name: \"loosely dotted\", dasharray: [1, 8] },\n\t{ key: \"dashed\", name: \"dashed\", dasharray: [4, 4] },\n\t{ key: \"denselydashed\", name: \"densely dashed\", dasharray: [4, 2] },\n\t{ key: \"looselydashed\", name: \"loosely dashed\", dasharray: [4, 8] },\n\t{ key: \"dashdot\", name: \"dash dot\", dasharray: [4, 2, 1, 2] },\n\t{ key: \"denselydashdot\", name: \"densely dash dot\", dasharray: [4, 1, 1, 1] },\n\t{ key: \"looselydashdot\", name: \"loosely dash dot\", dasharray: [4, 4, 1, 4] },\n\t{ key: \"dashdotdot\", name: \"dash dot dot\", dasharray: [4, 2, 1, 2, 1, 2] },\n\t{ key: \"denselydashdotdot\", name: \"densely dash dot dot\", dasharray: [4, 1, 1, 1, 1, 1] },\n\t{ key: \"looselydashdotdot\", name: \"loosely dash dot dot\", dasharray: [4, 4, 1, 4, 1, 4] },\n]\nexport const defaultStrokeStyleChoice = strokeStyleChoices[0]\n\nexport interface Strokable {\n\tstrokeInfo: StrokeInfo\n\tstrokeColorProperty: ColorProperty\n\tstrokeOpacityProperty: SliderProperty\n\tstrokeWidthProperty: SliderProperty\n\tstrokeStyleProperty: ChoiceProperty<StrokeStyle>\n}\n\nexport function Strokable<TBase extends AbstractConstructor<CircuitComponent>>(Base: TBase) {\n\tabstract class Strokable extends Base {\n\t\tprotected strokeInfo: StrokeInfo\n\n\t\tprotected strokeColorProperty: ColorProperty\n\t\tprotected strokeOpacityProperty: SliderProperty\n\t\tprotected strokeWidthProperty: SliderProperty\n\t\tprotected strokeStyleProperty: ChoiceProperty<StrokeStyle>\n\n\t\tconstructor(...args: any[]) {\n\t\t\tsuper(...args)\n\t\t\tthis.strokeInfo = {\n\t\t\t\tcolor: \"default\",\n\t\t\t\topacity: 1,\n\t\t\t\twidth: new SVG.Number(\"1pt\"),\n\t\t\t\tstyle: defaultStrokeStyleChoice.key,\n\t\t\t}\n\n\t\t\t//add color property\n\n\t\t\tthis.properties.add(\n\t\t\t\tPropertyCategories.stroke,\n\t\t\t\tnew SectionHeaderProperty(\"Stroke\", undefined, \"stroke:header\")\n\t\t\t)\n\t\t\tthis.strokeOpacityProperty = new SliderProperty(\n\t\t\t\t\"Opacity\",\n\t\t\t\t0,\n\t\t\t\t100,\n\t\t\t\t1,\n\t\t\t\tnew SVG.Number(this.strokeInfo.opacity * 100, \"%\"),\n\t\t\t\tundefined,\n\t\t\t\tundefined,\n\t\t\t\t\"stroke:opacity\"\n\t\t\t)\n\t\t\tthis.strokeOpacityProperty.addChangeListener((ev) => {\n\t\t\t\tthis.strokeInfo.opacity = ev.value.value / 100\n\t\t\t\tthis.updateTheme()\n\t\t\t\tthis.update()\n\t\t\t})\n\n\t\t\tthis.strokeColorProperty = new ColorProperty(\"Color\", null, undefined, undefined, \"stroke:color\")\n\t\t\tthis.strokeColorProperty.addChangeListener((ev) => {\n\t\t\t\tif (ev.value == null) {\n\t\t\t\t\tthis.strokeInfo.color = \"default\"\n\t\t\t\t\tthis.strokeInfo.opacity = 1\n\t\t\t\t} else {\n\t\t\t\t\tthis.strokeInfo.color = ev.value.toRgb()\n\t\t\t\t\tthis.strokeInfo.opacity = this.strokeOpacityProperty.value.value / 100\n\t\t\t\t}\n\t\t\t\tthis.updateTheme()\n\t\t\t\tthis.update()\n\t\t\t})\n\t\t\tthis.strokeWidthProperty = new SliderProperty(\n\t\t\t\t\"Width\",\n\t\t\t\t0,\n\t\t\t\t10,\n\t\t\t\t0.1,\n\t\t\t\tthis.strokeInfo.width,\n\t\t\t\tundefined,\n\t\t\t\tundefined,\n\t\t\t\t\"stroke:width\"\n\t\t\t)\n\t\t\tthis.strokeWidthProperty.addChangeListener((ev) => {\n\t\t\t\tthis.strokeInfo.width = ev.value\n\t\t\t\tthis.updateTheme()\n\t\t\t\tthis.update()\n\t\t\t})\n\t\t\tthis.strokeStyleProperty = new ChoiceProperty<StrokeStyle>(\n\t\t\t\t\"Style\",\n\t\t\t\tstrokeStyleChoices,\n\t\t\t\tdefaultStrokeStyleChoice,\n\t\t\t\tundefined,\n\t\t\t\t\"stroke:style\"\n\t\t\t)\n\t\t\tthis.strokeStyleProperty.addChangeListener((ev) => {\n\t\t\t\tthis.strokeInfo.style = ev.value.key\n\t\t\t\tthis.updateTheme()\n\t\t\t\tthis.update()\n\t\t\t})\n\t\t\tthis.properties.add(PropertyCategories.stroke, this.strokeColorProperty)\n\t\t\tthis.properties.add(PropertyCategories.stroke, this.strokeOpacityProperty)\n\t\t\tthis.properties.add(PropertyCategories.stroke, this.strokeWidthProperty)\n\t\t\tthis.properties.add(PropertyCategories.stroke, this.strokeStyleProperty)\n\t\t}\n\n\t\tpublic toJson(): ComponentSaveObject {\n\t\t\tconst data = super.toJson() as ComponentSaveObject & { stroke?: StrokeInfo }\n\n\t\t\tlet stroke: StrokeInfo = {}\n\t\t\tlet shouldStroke = false\n\t\t\tif (this.strokeInfo.color != \"default\") {\n\t\t\t\tstroke.color = this.strokeInfo.color\n\t\t\t\tshouldStroke = true\n\t\t\t}\n\t\t\tif (this.strokeInfo.opacity != 1) {\n\t\t\t\tstroke.opacity = this.strokeInfo.opacity\n\t\t\t\tshouldStroke = true\n\t\t\t}\n\n\t\t\tif (!this.strokeInfo.width.eq(new SVG.Number(\"1pt\"))) {\n\t\t\t\tstroke.width = this.strokeInfo.width\n\t\t\t\tshouldStroke = true\n\t\t\t}\n\t\t\tif (this.strokeInfo.style != defaultStrokeStyleChoice.key) {\n\t\t\t\tstroke.style = this.strokeInfo.style\n\t\t\t\tshouldStroke = true\n\t\t\t}\n\t\t\tif (shouldStroke) {\n\t\t\t\tdata.stroke = stroke\n\t\t\t}\n\n\t\t\treturn data\n\t\t}\n\n\t\tprotected applyJson(saveObject: ComponentSaveObject & { stroke?: StrokeInfo }): void {\n\t\t\tsuper.applyJson(saveObject)\n\n\t\t\tthis.strokeInfo = {\n\t\t\t\tcolor: \"default\",\n\t\t\t\topacity: 1,\n\t\t\t\twidth: new SVG.Number(\"1pt\"),\n\t\t\t\tstyle: defaultStrokeStyleChoice.key,\n\t\t\t}\n\t\t\tthis.strokeWidthProperty.value = this.strokeInfo.width\n\t\t\tthis.strokeColorProperty.value = null\n\t\t\tthis.strokeOpacityProperty.value = new SVG.Number(this.strokeInfo.opacity * 100, \"%\")\n\t\t\tthis.strokeStyleProperty.value = defaultStrokeStyleChoice\n\n\t\t\tif (saveObject.stroke) {\n\t\t\t\tif (saveObject.stroke.color) {\n\t\t\t\t\tthis.strokeInfo.color = saveObject.stroke.color\n\t\t\t\t\tthis.strokeColorProperty.value = new SVG.Color(saveObject.stroke.color)\n\t\t\t\t}\n\t\t\t\tif (saveObject.stroke.opacity != undefined) {\n\t\t\t\t\tthis.strokeInfo.opacity = saveObject.stroke.opacity\n\t\t\t\t\tthis.strokeOpacityProperty.value = new SVG.Number(saveObject.stroke.opacity * 100, \"%\")\n\t\t\t\t}\n\t\t\t\tif (saveObject.stroke.width) {\n\t\t\t\t\tif (typeof saveObject.stroke.width != \"string\") {\n\t\t\t\t\t\t// SVG.Number as object\n\t\t\t\t\t\tthis.strokeInfo.width = new SVG.Number(\n\t\t\t\t\t\t\tsaveObject.stroke.width.value,\n\t\t\t\t\t\t\tsaveObject.stroke.width.unit\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// SVG.Number as string\n\t\t\t\t\t\tthis.strokeInfo.width = new SVG.Number(saveObject.stroke.width)\n\t\t\t\t\t}\n\t\t\t\t\tthis.strokeWidthProperty.value = this.strokeInfo.width\n\t\t\t\t}\n\t\t\t\tif (saveObject.stroke.style) {\n\t\t\t\t\tthis.strokeInfo.style = saveObject.stroke.style\n\t\t\t\t\tthis.strokeStyleProperty.value = strokeStyleChoices.find(\n\t\t\t\t\t\t(item) => item.key == saveObject.stroke.style\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprotected buildTikzCommand(command: { options: string[] }): void {\n\t\t\tsuper.buildTikzCommand(command)\n\t\t\tlet width = this.strokeInfo.width.convertToUnit(\"pt\").value\n\t\t\tif (this.strokeInfo.opacity > 0 && width > 0) {\n\t\t\t\tif (this.strokeInfo.color !== \"default\") {\n\t\t\t\t\tlet c = new SVG.Color(this.strokeInfo.color)\n\t\t\t\t\tcommand.options.push(\"draw=\" + c.toTikzString())\n\t\t\t\t} else {\n\t\t\t\t\tcommand.options.push(\"draw\")\n\t\t\t\t}\n\n\t\t\t\tif (this.strokeInfo.opacity != 1) {\n\t\t\t\t\tcommand.options.push(\"draw opacity=\" + this.strokeInfo.opacity.toString())\n\t\t\t\t}\n\n\t\t\t\tif (width != 0.4) {\n\t\t\t\t\tcommand.options.push(\"line width=\" + width + \"pt\")\n\t\t\t\t}\n\t\t\t\tif (this.strokeInfo.style && this.strokeInfo.style != defaultStrokeStyleChoice.key) {\n\t\t\t\t\tcommand.options.push(\n\t\t\t\t\t\tdashArrayToPattern(\n\t\t\t\t\t\t\tthis.strokeInfo.width,\n\t\t\t\t\t\t\tstrokeStyleChoices.find((item) => item.key == this.strokeInfo.style).dasharray\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn Strokable\n}\n","import {\n\tAbstractConstructor,\n\tCircuitComponent,\n\tPropertyCategories,\n\tSectionHeaderProperty,\n\tComponentSaveObject,\n\tTextProperty,\n\tMainController,\n\tExportController,\n} from \"../internal\"\n\n/**\n * names cannot contain punctuation, parentheses and some other symbols\n */\nconst invalidNameRegEx = /[\\t\\r\\n\\v.,:;()-]/\n\nexport function Nameable<TBase extends AbstractConstructor<CircuitComponent>>(Base: TBase) {\n\tabstract class Nameable extends Base {\n\t\t/**\n\t\t * What will be used as the reference name in the tikz code (e.g. \"\\node[] (name) at (0,0){};\"\").\n\t\t * Not used for all components, e.g. wire\n\t\t */\n\t\tpublic name: TextProperty\n\n\t\tconstructor(...args: any[]) {\n\t\t\tsuper(...args)\n\t\t\tconst validator = (text: string) => {\n\t\t\t\tif (text === \"\") {\n\t\t\t\t\t// no name is always valid\n\t\t\t\t\treturn \"\"\n\t\t\t\t}\n\t\t\t\tif (text.match(invalidNameRegEx)) {\n\t\t\t\t\t// check if characters are valid\n\t\t\t\t\treturn \"Contains forbidden characters!\"\n\t\t\t\t}\n\t\t\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\t\t\t// check if another component with the same name already exists\n\t\t\t\t\tif (component != this && \"name\" in component) {\n\t\t\t\t\t\tlet otherName = component.name as TextProperty\n\t\t\t\t\t\tif (text !== \"\" && otherName.value == text) {\n\t\t\t\t\t\t\treturn \"Name is already taken!\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn \"\"\n\t\t\t}\n\t\t\tthis.name = new TextProperty(\"Name\", \"\", \"\", validator, \"info:name\")\n\t\t\tthis.properties.add(\n\t\t\t\tPropertyCategories.info,\n\t\t\t\tnew SectionHeaderProperty(\"TikZ name\", undefined, \"info:nameHeader\")\n\t\t\t)\n\t\t\tthis.properties.add(PropertyCategories.info, this.name)\n\t\t}\n\n\t\tpublic toJson(): ComponentSaveObject {\n\t\t\tconst data = super.toJson() as ComponentSaveObject & { name?: string }\n\n\t\t\tif (this.name.value && this.name.value != \"\") {\n\t\t\t\tdata.name = this.name.value\n\t\t\t}\n\n\t\t\treturn data\n\t\t}\n\n\t\tprotected applyJson(saveObject: ComponentSaveObject & { name?: string }): void {\n\t\t\tsuper.applyJson(saveObject)\n\t\t\tif (saveObject.name) {\n\t\t\t\tthis.name.updateValue(saveObject.name, true)\n\t\t\t}\n\t\t}\n\n\t\tprotected buildTikzName(ensureID = true): string {\n\t\t\tlet id = this.name.value\n\t\t\tif (!id && ensureID) {\n\t\t\t\tid = ExportController.instance.createExportID(\"N\")\n\t\t\t}\n\t\t\treturn id\n\t\t}\n\t}\n\treturn Nameable\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tAbstractConstructor,\n\tbasicDirections,\n\tBooleanProperty,\n\tCanvasController,\n\tChoiceEntry,\n\tChoiceProperty,\n\tCircuitComponent,\n\tCircuitikzTo,\n\tColorProperty,\n\tComponentSaveObject,\n\tdefaultBasicDirection,\n\tDirectionInfo,\n\tMathJaxProperty,\n\tPropertyCategories,\n\trenderMathJax,\n\tSaveController,\n\tSectionHeaderProperty,\n\tSliderProperty,\n\tTikzNodeCommand,\n} from \"../internal\"\nimport { roundTikz } from \"../utils/selectionHelper\"\n\n/**\n * A type encompassing all information needed for the label\n */\nexport type Label = {\n\tvalue: string\n\trendering?: SVG.Element\n\tdistance?: SVG.Number\n\tcolor?: string | \"default\"\n}\n\nexport type PositionedLabel = Label & {\n\tanchor?: string\n\tposition?: string\n\trelativeToComponent?: boolean\n}\n\nexport type PathLabel = Label & {\n\totherSide?: boolean\n}\n\nexport function PositionLabelable<TBase extends AbstractConstructor<CircuitComponent>>(Base: TBase) {\n\tabstract class PositionLabelable extends Base {\n\t\tpublic anchorChoice: ChoiceProperty<DirectionInfo>\n\t\tpublic positionChoice: ChoiceProperty<DirectionInfo>\n\n\t\tprotected mathJaxLabel: MathJaxProperty\n\t\tprotected labelReferenceChoices: ChoiceEntry[] = [\n\t\t\t{ key: \"canvas\", name: \"Canvas\" },\n\t\t\t{ key: \"component\", name: \"Component\" },\n\t\t]\n\t\tprotected labelReferenceProperty: ChoiceProperty<ChoiceEntry>\n\t\tprotected labelRendering: SVG.Element\n\t\tprotected labelDistance: SliderProperty\n\t\tprotected labelColor: ColorProperty\n\n\t\tconstructor(...args: any[]) {\n\t\t\tsuper(...args)\n\t\t\t//label section\n\t\t\tthis.properties.add(PropertyCategories.label, new SectionHeaderProperty(\"Label\", undefined, \"label:header\"))\n\n\t\t\tthis.mathJaxLabel = new MathJaxProperty(undefined, undefined, \"label:label\")\n\t\t\tthis.mathJaxLabel.addChangeListener((ev) => this.generateLabelRender())\n\t\t\tthis.properties.add(PropertyCategories.label, this.mathJaxLabel)\n\n\t\t\tthis.labelReferenceProperty = new ChoiceProperty(\n\t\t\t\t\"Relative to\",\n\t\t\t\tthis.labelReferenceChoices,\n\t\t\t\tthis.labelReferenceChoices[0],\n\t\t\t\tundefined,\n\t\t\t\t\"label:relative\"\n\t\t\t)\n\t\t\tthis.labelReferenceProperty.addChangeListener((ev) => {\n\t\t\t\tthis.updatePositionedLabel()\n\t\t\t})\n\t\t\tthis.properties.add(PropertyCategories.label, this.labelReferenceProperty)\n\n\t\t\tthis.anchorChoice = new ChoiceProperty(\n\t\t\t\t\"Anchor\",\n\t\t\t\tbasicDirections,\n\t\t\t\tdefaultBasicDirection,\n\t\t\t\tundefined,\n\t\t\t\t\"label:anchor\"\n\t\t\t)\n\t\t\tthis.anchorChoice.addChangeListener((ev) => this.updatePositionedLabel())\n\t\t\tthis.properties.add(PropertyCategories.label, this.anchorChoice)\n\n\t\t\tthis.positionChoice = new ChoiceProperty(\n\t\t\t\t\"Position\",\n\t\t\t\tbasicDirections,\n\t\t\t\tdefaultBasicDirection,\n\t\t\t\tundefined,\n\t\t\t\t\"label:position\"\n\t\t\t)\n\t\t\tthis.positionChoice.addChangeListener((ev) => this.updatePositionedLabel())\n\t\t\tthis.properties.add(PropertyCategories.label, this.positionChoice)\n\n\t\t\tthis.labelDistance = new SliderProperty(\n\t\t\t\t\"Gap\",\n\t\t\t\t-0.5,\n\t\t\t\t1,\n\t\t\t\t0.01,\n\t\t\t\tnew SVG.Number(0.12, \"cm\"),\n\t\t\t\tundefined,\n\t\t\t\tundefined,\n\t\t\t\t\"label:gap\"\n\t\t\t)\n\t\t\tthis.labelDistance.addChangeListener((ev) => this.updatePositionedLabel())\n\t\t\tthis.properties.add(PropertyCategories.label, this.labelDistance)\n\n\t\t\tthis.labelColor = new ColorProperty(\"Color\", null, undefined, undefined, \"label:color\")\n\t\t\tthis.labelColor.addChangeListener((ev) => {\n\t\t\t\tthis.updateTheme()\n\t\t\t\tthis.update()\n\t\t\t})\n\t\t\tthis.properties.add(PropertyCategories.label, this.labelColor)\n\t\t}\n\n\t\tpublic toJson(): ComponentSaveObject {\n\t\t\tconst data = super.toJson() as ComponentSaveObject & { label?: PositionedLabel }\n\n\t\t\tif (this.mathJaxLabel.value) {\n\t\t\t\tlet labelWithoutRender: PositionedLabel = {\n\t\t\t\t\tvalue: this.mathJaxLabel.value,\n\t\t\t\t\tanchor: this.anchorChoice.value.key,\n\t\t\t\t\tposition: this.positionChoice.value.key,\n\t\t\t\t\trelativeToComponent: this.labelReferenceProperty.value.key == \"component\" ? true : undefined,\n\t\t\t\t\tdistance: this.labelDistance.value.value != 0.12 ? this.labelDistance.value : undefined,\n\t\t\t\t\tcolor: this.labelColor.value ? this.labelColor.value.toString() : undefined,\n\t\t\t\t}\n\t\t\t\tdata.label = labelWithoutRender\n\t\t\t}\n\n\t\t\treturn data\n\t\t}\n\n\t\tprotected applyJson(saveObject: ComponentSaveObject & { label?: PositionedLabel }): void {\n\t\t\tsuper.applyJson(saveObject)\n\n\t\t\tif (saveObject.label) {\n\t\t\t\tif (saveObject.label.distance) {\n\t\t\t\t\tif (typeof saveObject.label.distance != \"string\") {\n\t\t\t\t\t\t// SVG.Number as object\n\t\t\t\t\t\tthis.labelDistance.value = new SVG.Number(\n\t\t\t\t\t\t\tsaveObject.label.distance.value,\n\t\t\t\t\t\t\tsaveObject.label.distance.unit\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// SVG.Number as string\n\t\t\t\t\t\tthis.labelDistance.value = new SVG.Number(saveObject.label.distance)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.labelDistance.value = new SVG.Number(0.12, \"cm\")\n\t\t\t\t}\n\t\t\t\tthis.anchorChoice.value =\n\t\t\t\t\tsaveObject.label.anchor ?\n\t\t\t\t\t\tbasicDirections.find((item) => item.key == saveObject.label.anchor)\n\t\t\t\t\t:\tdefaultBasicDirection\n\t\t\t\tthis.positionChoice.value =\n\t\t\t\t\tsaveObject.label.position ?\n\t\t\t\t\t\tbasicDirections.find((item) => item.key == saveObject.label.position)\n\t\t\t\t\t:\tdefaultBasicDirection\n\t\t\t\tif (SaveController.instance.currentlyLoadedSaveVersion != \"\") {\n\t\t\t\t\tthis.labelReferenceProperty.value =\n\t\t\t\t\t\tsaveObject.label.relativeToComponent ?\n\t\t\t\t\t\t\tthis.labelReferenceChoices[1]\n\t\t\t\t\t\t:\tthis.labelReferenceChoices[0]\n\t\t\t\t} else {\n\t\t\t\t\tthis.labelReferenceProperty.value = this.labelReferenceChoices[1]\n\t\t\t\t}\n\t\t\t\tthis.mathJaxLabel.value = saveObject.label.value\n\t\t\t\tthis.labelColor.value = saveObject.label.color ? new SVG.Color(saveObject.label.color) : null\n\t\t\t\tthis.generateLabelRender()\n\t\t\t}\n\t\t}\n\n\t\tprotected buildTikzNodeLabel(reference: string | SVG.Point): null | TikzNodeCommand {\n\t\t\tif (this.mathJaxLabel.value && reference) {\n\t\t\t\tlet labelDist = this.labelDistance.value.convertToUnit(\"cm\")\n\n\t\t\t\tif (!isNaN(this.anchorPos.direction.absSquared())) {\n\t\t\t\t\tlabelDist = labelDist.minus(0.12)\n\t\t\t\t}\n\n\t\t\t\tlet labelShift = this.anchorPos.direction.mul(-labelDist.value)\n\t\t\t\tlet posShift = \"\"\n\t\t\t\tif (labelShift.x !== 0) {\n\t\t\t\t\tposShift += \"xshift=\" + roundTikz(labelShift.x) + \"cm\"\n\t\t\t\t}\n\t\t\t\tif (labelShift.y !== 0) {\n\t\t\t\t\tposShift += posShift == \"\" ? \"\" : \", \"\n\t\t\t\t\tposShift += \"yshift=\" + roundTikz(-labelShift.y) + \"cm\"\n\t\t\t\t}\n\t\t\t\tposShift = posShift == \"\" ? \"\" : \"[\" + posShift + \"]\"\n\n\t\t\t\tlet posStr: string\n\t\t\t\tif (typeof reference == \"string\") {\n\t\t\t\t\tposStr =\n\t\t\t\t\t\tthis.positionChoice.value.key == defaultBasicDirection.key ?\n\t\t\t\t\t\t\treference + \".text\"\n\t\t\t\t\t\t:\treference + \".\" + this.labelPos.name\n\t\t\t\t} else {\n\t\t\t\t\tposStr = reference.toTikzString(true)\n\t\t\t\t}\n\t\t\t\tlet latexStr = this.mathJaxLabel.value ? \"$\" + this.mathJaxLabel.value + \"$\" : \"\"\n\t\t\t\tlatexStr =\n\t\t\t\t\tlatexStr && this.labelColor.value ?\n\t\t\t\t\t\t\"\\\\textcolor\" + this.labelColor.value.toTikzString() + \"{\" + latexStr + \"}\"\n\t\t\t\t\t:\tlatexStr\n\n\t\t\t\tlet labelCommand: TikzNodeCommand = {\n\t\t\t\t\tposition: \"(\" + posShift + posStr + \")\",\n\t\t\t\t\toptions: [\"anchor=\" + this.anchorPos.name],\n\t\t\t\t\tadditionalNodes: [],\n\t\t\t\t\tcontent: latexStr,\n\t\t\t\t}\n\t\t\t\treturn labelCommand\n\t\t\t}\n\t\t\treturn null\n\t\t}\n\n\t\t/**\n\t\t * Generate a label visualization via mathjax\n\t\t */\n\t\tprotected generateLabelRender() {\n\t\t\t// if a previous label was rendered, remove everything concerning that rendering\n\t\t\tthis.labelRendering = generateLabelRender(this.labelRendering, this.mathJaxLabel)\n\t\t\t// add the label rendering to the visualization element\n\t\t\tthis.visualization.add(this.labelRendering)\n\t\t\tthis.update()\n\t\t\tthis.updateTheme()\n\t\t}\n\n\t\tprotected anchorPos: DirectionInfo\n\t\tprotected labelPos: DirectionInfo\n\t\tprotected abstract updatePositionedLabel(): void\n\t}\n\treturn PositionLabelable\n}\n\nexport function PathLabelable<TBase extends AbstractConstructor<CircuitComponent>>(Base: TBase) {\n\tabstract class PathLabelable extends Base {\n\t\tprotected mathJaxLabel: MathJaxProperty\n\t\tprotected labelRendering: SVG.Element\n\t\tprotected labelDistance: SliderProperty\n\t\tprotected labelColor: ColorProperty\n\t\tprotected labelSide: BooleanProperty\n\n\t\tconstructor(...args: any[]) {\n\t\t\tsuper(...args)\n\n\t\t\t//label section\n\t\t\tthis.properties.add(PropertyCategories.label, new SectionHeaderProperty(\"Label\", undefined, \"label:header\"))\n\n\t\t\tthis.mathJaxLabel = new MathJaxProperty(undefined, undefined, \"label:label\")\n\t\t\tthis.mathJaxLabel.addChangeListener((ev) => this.generateLabelRender())\n\t\t\tthis.properties.add(PropertyCategories.label, this.mathJaxLabel)\n\n\t\t\tthis.labelDistance = new SliderProperty(\n\t\t\t\t\"Gap\",\n\t\t\t\t-0.5,\n\t\t\t\t1,\n\t\t\t\t0.01,\n\t\t\t\tnew SVG.Number(0.12, \"cm\"),\n\t\t\t\tundefined,\n\t\t\t\tundefined,\n\t\t\t\t\"label:gap\"\n\t\t\t)\n\t\t\tthis.labelDistance.addChangeListener((ev) => this.updatePathLabel())\n\t\t\tthis.properties.add(PropertyCategories.label, this.labelDistance)\n\n\t\t\tthis.labelColor = new ColorProperty(\"Color\", null, undefined, undefined, \"label:color\")\n\t\t\tthis.labelColor.addChangeListener((ev) => {\n\t\t\t\tthis.updateTheme()\n\t\t\t\tthis.update()\n\t\t\t})\n\t\t\tthis.properties.add(PropertyCategories.label, this.labelColor)\n\n\t\t\tthis.labelSide = new BooleanProperty(\"Switch side\", undefined, undefined, \"label:side\")\n\t\t\tthis.labelSide.addChangeListener((ev) => this.updatePathLabel())\n\t\t\tthis.properties.add(PropertyCategories.label, this.labelSide)\n\t\t}\n\n\t\tpublic toJson(): ComponentSaveObject {\n\t\t\tconst data = super.toJson() as ComponentSaveObject & { label?: PathLabel }\n\n\t\t\tif (this.mathJaxLabel.value) {\n\t\t\t\tlet label: PathLabel = {\n\t\t\t\t\tvalue: this.mathJaxLabel.value,\n\t\t\t\t\totherSide: this.labelSide.value ? true : undefined,\n\t\t\t\t\tdistance: this.labelDistance.value.value != 0.12 ? this.labelDistance.value : undefined,\n\t\t\t\t\tcolor: this.labelColor.value ? this.labelColor.value.toString() : undefined,\n\t\t\t\t}\n\t\t\t\tdata.label = label\n\t\t\t}\n\n\t\t\treturn data\n\t\t}\n\n\t\tprotected applyJson(saveObject: ComponentSaveObject & { label?: PathLabel }): void {\n\t\t\tsuper.applyJson(saveObject)\n\n\t\t\tif (saveObject.label) {\n\t\t\t\tthis.labelSide.value = saveObject.label.otherSide ?? false\n\t\t\t\tif (saveObject.label.distance) {\n\t\t\t\t\tif (typeof saveObject.label.distance != \"string\") {\n\t\t\t\t\t\t// SVG.Number as object\n\t\t\t\t\t\tthis.labelDistance.value = new SVG.Number(\n\t\t\t\t\t\t\tsaveObject.label.distance.value,\n\t\t\t\t\t\t\tsaveObject.label.distance.unit\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// SVG.Number as string\n\t\t\t\t\t\tthis.labelDistance.value = new SVG.Number(saveObject.label.distance)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.labelDistance.value = new SVG.Number(0.12, \"cm\")\n\t\t\t\t}\n\t\t\t\tthis.mathJaxLabel.value = saveObject.label.value\n\t\t\t\tthis.labelColor.value = saveObject.label.color ? new SVG.Color(saveObject.label.color) : null\n\t\t\t\tthis.generateLabelRender()\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Generate a label visualization via mathjax\n\t\t */\n\t\tprotected generateLabelRender(): void {\n\t\t\tthis.labelRendering = generateLabelRender(this.labelRendering, this.mathJaxLabel)\n\t\t\t// add the label rendering to the visualization element\n\t\t\tthis.visualization.add(this.labelRendering)\n\t\t\tthis.update()\n\t\t\tthis.updateTheme()\n\t\t}\n\n\t\tprotected buildTikzPathLabel(to: CircuitikzTo) {\n\t\t\tif (this.mathJaxLabel.value) {\n\t\t\t\tlet distVal = this.labelDistance.value.convertToUnit(\"cm\").minus(0.12).value\n\t\t\t\tlet distStr = roundTikz(distVal) + \"cm\"\n\t\t\t\tlet shouldDist = this.labelDistance.value && Math.abs(distVal) > 0.0001\n\n\t\t\t\tlet latexStr = this.mathJaxLabel.value ? \"$\" + this.mathJaxLabel.value + \"$\" : \"\"\n\t\t\t\tlatexStr =\n\t\t\t\t\tlatexStr && this.labelColor.value ?\n\t\t\t\t\t\t\"\\\\textcolor\" + this.labelColor.value.toTikzString() + \"{\" + latexStr + \"}\"\n\t\t\t\t\t:\tlatexStr\n\n\t\t\t\tto.options.push(\"l\" + (this.labelSide.value ? \"_\" : \"\") + \"={\" + latexStr + \"}\")\n\t\t\t\tif (shouldDist) {\n\t\t\t\t\tto.options.push(\"label distance=\" + distStr)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprotected abstract updatePathLabel(): void\n\t}\n\treturn PathLabelable\n}\n\nexport function generateLabelRender(labelRendering: SVG.Element, mathJaxLabel: MathJaxProperty): SVG.Element {\n\t// if a previous label was rendered, remove everything concerning that rendering\n\tif (labelRendering) {\n\t\tlet removeIDs = new Set<string>()\n\t\tfor (const element of labelRendering.find(\"use\")) {\n\t\t\tremoveIDs.add(element.node.getAttribute(\"xlink:href\"))\n\t\t}\n\n\t\tfor (const id of removeIDs) {\n\t\t\tCanvasController.instance.canvas.find(id)[0]?.remove()\n\t\t}\n\t\tlabelRendering.remove()\n\t}\n\tconst transformGroup = renderMathJax(mathJaxLabel.value)\n\t// remove the current label and substitute with a new group element\n\tlabelRendering = new SVG.G()\n\tlabelRendering.addClass(\"pointerNone\")\n\tlabelRendering.add(transformGroup.element)\n\treturn labelRendering\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tAbstractConstructor,\n\tCanvasController,\n\tdefaultStroke,\n\tgenerateLabelRender,\n\tMathJaxProperty,\n\tPathComponent,\n\tPathSaveObject,\n\tPropertyCategories,\n\tSectionHeaderProperty,\n\tSliderProperty,\n\tCircuitikzTo,\n\tChoiceProperty,\n\tChoiceEntry,\n\tapproxCompare,\n\tinterpolate,\n\tBooleanProperty,\n} from \"../internal\"\n\nexport type VoltageLabel = {\n\tlabel: string\n\tdist?: number\n\tbump?: number\n\tshift?: number\n\tpos?: string\n\tdir?: string\n\tstyle?: string\n}\n\nexport type VoltageArrowOptions = {\n\tisOpen?: boolean\n}\n\nconst voltageDirectionChoices: ChoiceEntry[] = [\n\t{ key: \"\", name: \"default\" },\n\t{ key: \">\", name: \"forward\" },\n\t{ key: \"<\", name: \"backward\" },\n]\nconst defaultVoltageDirectionChoice = voltageDirectionChoices[0]\nlet voltageDirectionBackward = false\n\nconst voltagePositionChoices: ChoiceEntry[] = [\n\t{ key: \"\", name: \"default\" },\n\t{ key: \"_\", name: \"below\" },\n\t{ key: \"^\", name: \"above\" },\n]\nconst defaultVoltagePositionChoice = voltagePositionChoices[0]\nlet voltagePositionAbove = false\n\nconst voltageStyleChoices: ChoiceEntry[] = [\n\t{ key: \"\", name: \"default\" },\n\t{ key: \"american\", name: \"american\" },\n\t{ key: \"raised\", name: \"raised\" },\n\t{ key: \"straight\", name: \"straight\" },\n\t{ key: \"european\", name: \"european\" },\n]\nconst defaultVoltageStyleChoice = voltageStyleChoices[1] // american\nlet voltageEuropean = true\nlet voltageStraight = false\nlet voltageRaised = false\n\nconst arrowStrokeWidth = 0.5\nconst distanceFromLine = 0.08\nconst currentArrowScale = 16\nconst defaultRlen = 1.4\nconst cmtopx = 4800 / 127 // 96px/2.54\n\nexport interface Voltageable {\n\tvoltageLabel: MathJaxProperty\n\tvoltageLabelRendering: SVG.Element\n\tvoltageArrowRendering: SVG.Element\n\tvoltageRendering: SVG.Element\n\n\tbumpB: SliderProperty\n\tdistanceFromNode: SliderProperty\n\tvoltageShift: SliderProperty\n\tswitchSide: ChoiceProperty<ChoiceEntry>\n\tswitchDirection: ChoiceProperty<ChoiceEntry>\n\tvoltageShow: BooleanProperty\n}\n\nexport function Voltageable<TBase extends AbstractConstructor<PathComponent>>(Base: TBase) {\n\tabstract class Voltageable extends Base {\n\t\tprotected voltageLabel: MathJaxProperty\n\t\tprotected voltageLabelRendering: SVG.Element\n\t\tprotected voltageArrowRendering: SVG.Element\n\t\tprotected voltageRendering: SVG.Element\n\n\t\tprotected voltageBumpB: SliderProperty\n\t\tprotected voltageDistanceFromNode: SliderProperty\n\t\tprotected voltageShift: SliderProperty\n\t\tprotected voltagePosition: ChoiceProperty<ChoiceEntry>\n\t\tprotected voltageDirection: ChoiceProperty<ChoiceEntry>\n\t\tprotected voltageStyle: ChoiceProperty<ChoiceEntry>\n\t\tprotected voltageShow: BooleanProperty\n\n\t\tconstructor(...args: any[]) {\n\t\t\tsuper(...args)\n\t\t\tthis.properties.add(\n\t\t\t\tPropertyCategories.voltage,\n\t\t\t\tnew SectionHeaderProperty(\"Voltage label\", undefined, \"voltage:header\")\n\t\t\t)\n\n\t\t\tthis.voltageShow = new BooleanProperty(\"Show voltage\", false, undefined, \"voltage:show\")\n\t\t\tthis.voltageShow.addChangeListener((ev) => this.updateVoltageRender())\n\t\t\tthis.properties.add(PropertyCategories.voltage, this.voltageShow)\n\n\t\t\tthis.voltageLabel = new MathJaxProperty(undefined, undefined, \"voltage:label\")\n\t\t\tthis.voltageLabel.addChangeListener((ev) => this.generateVoltageRender())\n\t\t\tthis.properties.add(PropertyCategories.voltage, this.voltageLabel)\n\n\t\t\tthis.voltageStyle = new ChoiceProperty(\n\t\t\t\t\"Style\",\n\t\t\t\tvoltageStyleChoices,\n\t\t\t\tdefaultVoltageStyleChoice,\n\t\t\t\tundefined,\n\t\t\t\t\"voltage:style\"\n\t\t\t)\n\t\t\tthis.voltageStyle.addChangeListener((ev) => this.updateVoltageRender())\n\t\t\tthis.properties.add(PropertyCategories.voltage, this.voltageStyle)\n\n\t\t\tthis.voltagePosition = new ChoiceProperty(\n\t\t\t\t\"Position\",\n\t\t\t\tvoltagePositionChoices,\n\t\t\t\tdefaultVoltagePositionChoice,\n\t\t\t\tundefined,\n\t\t\t\t\"voltage:position\"\n\t\t\t)\n\t\t\tthis.voltagePosition.addChangeListener((ev) => this.updateVoltageRender())\n\t\t\tthis.properties.add(PropertyCategories.voltage, this.voltagePosition)\n\n\t\t\tthis.voltageDirection = new ChoiceProperty(\n\t\t\t\t\"Direction\",\n\t\t\t\tvoltageDirectionChoices,\n\t\t\t\tdefaultVoltageDirectionChoice,\n\t\t\t\tundefined,\n\t\t\t\t\"voltage:direction\"\n\t\t\t)\n\t\t\tthis.voltageDirection.addChangeListener((ev) => this.updateVoltageRender())\n\t\t\tthis.properties.add(PropertyCategories.voltage, this.voltageDirection)\n\n\t\t\tthis.voltageBumpB = new SliderProperty(\n\t\t\t\t\"Bump\",\n\t\t\t\t0,\n\t\t\t\t5,\n\t\t\t\t0.1,\n\t\t\t\tnew SVG.Number(1.5, \"\"),\n\t\t\t\tfalse,\n\t\t\t\t\"How much the voltage arrow should bump away from the component\",\n\t\t\t\t\"voltage:bump\"\n\t\t\t)\n\t\t\tthis.voltageBumpB.addChangeListener((ev) => this.updateVoltageRender())\n\t\t\tthis.properties.add(PropertyCategories.voltage, this.voltageBumpB)\n\n\t\t\tthis.voltageDistanceFromNode = new SliderProperty(\n\t\t\t\t\"Distance from node\",\n\t\t\t\t0,\n\t\t\t\t1,\n\t\t\t\t0.1,\n\t\t\t\tnew SVG.Number(0.5, \"\"),\n\t\t\t\ttrue,\n\t\t\t\t\"How far away from the component the voltage arrow should start/end\",\n\t\t\t\t\"voltage:distance\"\n\t\t\t)\n\t\t\tthis.voltageDistanceFromNode.addChangeListener((ev) => this.updateVoltageRender())\n\t\t\tthis.properties.add(PropertyCategories.voltage, this.voltageDistanceFromNode)\n\n\t\t\tthis.voltageShift = new SliderProperty(\n\t\t\t\t\"Voltage shift\",\n\t\t\t\t-1,\n\t\t\t\t2,\n\t\t\t\t0.1,\n\t\t\t\tnew SVG.Number(0, \"\"),\n\t\t\t\tfalse,\n\t\t\t\tundefined,\n\t\t\t\t\"voltage:shift\"\n\t\t\t)\n\t\t\tthis.voltageShift.addChangeListener((ev) => this.updateVoltageRender())\n\t\t\tthis.properties.add(PropertyCategories.voltage, this.voltageShift)\n\t\t}\n\n\t\tprotected generateVoltageRender(): void {\n\t\t\tthis.voltageLabelRendering = generateLabelRender(this.voltageLabelRendering, this.voltageLabel)\n\t\t\tthis.voltageLabelRendering.fill(defaultStroke)\n\n\t\t\tthis.voltageRendering = new SVG.G()\n\t\t\tthis.voltageRendering.add(this.voltageLabelRendering)\n\t\t\tthis.visualization.add(this.voltageRendering)\n\t\t\tthis.update()\n\t\t\tthis.updateTheme()\n\t\t}\n\n\t\tprotected abstract updateVoltageRender(): void\n\n\t\tprotected generateVoltageArrow(\n\t\t\tstart: SVG.Point,\n\t\t\tend: SVG.Point,\n\t\t\tnorthwestDelta: SVG.Point,\n\t\t\tsoutheastDelta: SVG.Point,\n\t\t\tscale: SVG.Point,\n\t\t\toptions?: VoltageArrowOptions\n\t\t): { arrow: SVG.Element; labelPos: SVG.Point; labelAnchorDir: SVG.Point } {\n\t\t\tconst group = new SVG.G()\n\n\t\t\tif (!options) {\n\t\t\t\toptions = {}\n\t\t\t}\n\n\t\t\tlet mirror = scale.y < 0\n\t\t\tconst scaleFactor = Math.abs(scale.x)\n\n\t\t\tlet distanceFromNode = this.voltageDistanceFromNode.value.value\n\t\t\tlet bump = this.voltageBumpB.value.value\n\t\t\tlet shift = this.voltageShift.value.value\n\t\t\tlet directionBackwards = voltageDirectionBackward\n\t\t\tif (this.voltageDirection.value.key != defaultVoltageDirectionChoice.key) {\n\t\t\t\tdirectionBackwards = this.voltageDirection.value.key == voltageDirectionChoices.at(-1).key\n\t\t\t}\n\t\t\tlet positionAbove = voltagePositionAbove\n\t\t\tif (this.voltagePosition.value.key != defaultVoltagePositionChoice.key) {\n\t\t\t\tpositionAbove = this.voltagePosition.value.key == voltagePositionChoices.at(-1).key\n\t\t\t}\n\t\t\tlet above = positionAbove ? -1 : 1\n\n\t\t\tlet isEuropeanVoltage =\n\t\t\t\tthis.voltageStyle.value.key == \"european\" ||\n\t\t\t\tthis.voltageStyle.value.key == \"straight\" ||\n\t\t\t\t(this.voltageStyle.value.key == \"\" && voltageEuropean)\n\t\t\tlet isStraightVoltage = this.voltageStyle.value.key == \"straight\" || voltageStraight\n\t\t\tlet isRaisedVoltage = this.voltageStyle.value.key == \"raised\" || voltageRaised\n\n\t\t\tlet diff = end.sub(start)\n\t\t\tlet angle = Math.atan2(diff.y, diff.x)\n\t\t\tlet endTrans = end.rotate(angle, start, true)\n\n\t\t\t// in which direction the the anchor of the voltage label should point\n\t\t\tconst sin4 = 0.06976 // the sin of 4 degrees\n\t\t\tlet labelAnchor = new SVG.Point(\n\t\t\t\tapproxCompare(Math.sin(angle), 0, sin4),\n\t\t\t\t-approxCompare(Math.cos(angle), 0, sin4)\n\t\t\t).mul(above)\n\n\t\t\tconst distFromLine = distanceFromLine * defaultRlen * scaleFactor * cmtopx\n\n\t\t\tlet absVShift = above * (1 + shift) * distFromLine\n\n\t\t\tconst midTrans = start.add(endTrans).div(2)\n\t\t\tconst mid = start.add(end).div(2)\n\t\t\tconst compStart = midTrans.add(new SVG.Point(northwestDelta.x * scaleFactor, 0))\n\t\t\tconst compEnd = midTrans.add(new SVG.Point(southeastDelta.x * scaleFactor, 0))\n\n\t\t\tconst arrowScale = (cmtopx * defaultRlen) / (currentArrowScale / scaleFactor) + 2 * arrowStrokeWidth\n\n\t\t\t// calculate the points where the voltage arrow should start and end (flat, before rotation)\n\t\t\tconst arrowOffset = arrowScale / Math.abs(compStart.x - start.x)\n\n\t\t\tlet tmp = interpolate(start, compStart, arrowOffset)\n\t\t\tlet Vfrom_flat = interpolate(tmp, compStart, distanceFromNode)\n\t\t\ttmp = interpolate(endTrans, compEnd, arrowOffset)\n\t\t\tlet Vto_flat = interpolate(tmp, compEnd, distanceFromNode)\n\n\t\t\tconst minYSize = 3\n\t\t\tlet sizing = southeastDelta\n\t\t\tif (southeastDelta.y < minYSize) {\n\t\t\t\t// set minimum size if no height is given\n\t\t\t\tsizing = new SVG.Point(southeastDelta.x, minYSize)\n\t\t\t}\n\n\t\t\tif (positionAbove != mirror) {\n\t\t\t\tsizing = northwestDelta\n\t\t\t\tif (northwestDelta.y > -minYSize) {\n\t\t\t\t\t// set minimum size if no height is given\n\t\t\t\t\tsizing = new SVG.Point(northwestDelta.x, -minYSize)\n\t\t\t\t}\n\t\t\t}\n\t\t\tsizing = mirror ? sizing.mul(-1) : sizing\n\n\t\t\tlet labPos: SVG.Point = new SVG.Point(this.position)\n\t\t\tlet Vfrom: SVG.Point\n\t\t\tlet Vto: SVG.Point\n\n\t\t\tconst labelOffset = new SVG.Point(0, above * 0.08 * cmtopx)\n\n\t\t\tif (isEuropeanVoltage) {\n\t\t\t\t//european\n\n\t\t\t\tlet d: string\n\n\t\t\t\tlet arrowPos: SVG.Point\n\t\t\t\tlet arrowAngle: number\n\t\t\t\tconst sin20 = 0.34202 // sin of 20 degrees\n\n\t\t\t\tif (isStraightVoltage) {\n\t\t\t\t\t//straight voltages\n\t\t\t\t\tlet bottom = new SVG.Point(0, sizing.y)\n\t\t\t\t\tlet Vfrom1 = Vfrom_flat.add(bottom)\n\t\t\t\t\tlet Vto1 = Vto_flat.add(bottom)\n\t\t\t\t\tVfrom = Vfrom1.add(new SVG.Point(0, absVShift)).rotate(-angle, start, true)\n\t\t\t\t\tVto = Vto1.add(new SVG.Point(0, absVShift)).rotate(-angle, start, true)\n\n\t\t\t\t\td = `M${Vfrom.toSVGPathString()}L${Vto.toSVGPathString()}`\n\t\t\t\t\tarrowPos = Vto\n\t\t\t\t\tarrowAngle = angle\n\t\t\t\t\tif (directionBackwards) {\n\t\t\t\t\t\tarrowAngle += Math.PI\n\t\t\t\t\t\tarrowPos = Vfrom\n\t\t\t\t\t}\n\t\t\t\t\tlabPos = Vfrom.add(Vto).div(2)\n\t\t\t\t} else {\n\t\t\t\t\t//curved voltage arrows\n\t\t\t\t\tlet C110 = interpolate(\n\t\t\t\t\t\tnew SVG.Point(),\n\t\t\t\t\t\tnew SVG.Point(-sin20 * Math.abs(sizing.y), sizing.y),\n\t\t\t\t\t\tbump * scaleFactor\n\t\t\t\t\t)\n\t\t\t\t\t\t.add(mid)\n\t\t\t\t\t\t.add(new SVG.Point(0, absVShift))\n\t\t\t\t\t\t.rotate(-angle, mid, true)\n\t\t\t\t\tlet C70 = interpolate(\n\t\t\t\t\t\tnew SVG.Point(),\n\t\t\t\t\t\tnew SVG.Point(sin20 * Math.abs(sizing.y), sizing.y),\n\t\t\t\t\t\tbump * scaleFactor\n\t\t\t\t\t)\n\t\t\t\t\t\t.add(mid)\n\t\t\t\t\t\t.add(new SVG.Point(0, absVShift))\n\t\t\t\t\t\t.rotate(-angle, mid, true)\n\n\t\t\t\t\tVfrom = Vfrom_flat.add(new SVG.Point(0, absVShift)).rotate(-angle, start, true)\n\t\t\t\t\tVto = Vto_flat.add(new SVG.Point(0, absVShift)).rotate(-angle, start, true)\n\t\t\t\t\td = `M${Vfrom.toSVGPathString()}C${C110.toSVGPathString()} ${C70.toSVGPathString()} ${Vto.toSVGPathString()}`\n\n\t\t\t\t\tlabPos = C110.add(C70).div(2)\n\n\t\t\t\t\tlet arrowAngleDiff: SVG.Point\n\t\t\t\t\tarrowPos = Vto\n\t\t\t\t\tif (directionBackwards) {\n\t\t\t\t\t\tarrowAngleDiff = Vfrom.sub(C110)\n\t\t\t\t\t\tarrowPos = Vfrom\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarrowAngleDiff = Vto.sub(C70)\n\t\t\t\t\t}\n\t\t\t\t\tarrowAngle = Math.atan2(arrowAngleDiff.y, arrowAngleDiff.x)\n\t\t\t\t}\n\n\t\t\t\tlabPos = labPos.add(labelOffset.rotate(-angle, undefined, true))\n\n\t\t\t\tconst path = new SVG.Path({ d: d })\n\t\t\t\tpath.fill(\"none\").stroke({ color: \"var(--bs-body-color)\", width: arrowStrokeWidth })\n\t\t\t\tconst arrowTip = CanvasController.instance.canvas.use(\"currarrow\").fill(\"var(--bs-body-color)\")\n\t\t\t\tconst arrowTipTransform = new SVG.Matrix({\n\t\t\t\t\ttranslate: [-1.7 + (2 * arrowStrokeWidth) / arrowScale, -0.8],\n\t\t\t\t}).lmultiply({\n\t\t\t\t\tscale: arrowScale,\n\t\t\t\t\trotate: (180 * arrowAngle) / Math.PI,\n\t\t\t\t\ttranslate: arrowPos,\n\t\t\t\t})\n\t\t\t\tarrowTip.transform(arrowTipTransform)\n\n\t\t\t\tgroup.add(path)\n\t\t\t\tgroup.add(arrowTip)\n\t\t\t} else {\n\t\t\t\t//american\n\t\t\t\tif (isRaisedVoltage) {\n\t\t\t\t\t//raised voltages\n\t\t\t\t\tlet refHeight = 10\n\t\t\t\t\tabsVShift += above * refHeight\n\t\t\t\t\tlabelAnchor.x = 0\n\t\t\t\t\tlabelAnchor.y = 0\n\t\t\t\t}\n\n\t\t\t\tlabPos = midTrans.add(new SVG.Point(0, sizing.y + absVShift))\n\t\t\t\tVfrom = Vfrom_flat.add(new SVG.Point(0, absVShift))\n\t\t\t\tVto = Vto_flat.add(new SVG.Point(0, absVShift))\n\t\t\t\tif (isRaisedVoltage) {\n\t\t\t\t\t//raised voltages\n\t\t\t\t\tVfrom.y = labPos.y\n\t\t\t\t\tVto.y = labPos.y\n\t\t\t\t}\n\n\t\t\t\tVfrom = Vfrom.rotate(-angle, start, true)\n\t\t\t\tVto = Vto.rotate(-angle, start, true)\n\t\t\t\tlabPos = labPos.rotate(-angle, start, true)\n\n\t\t\t\tconst plus = new SVG.Path({ d: \"M0 4.5 H9 M4.5 0V9\" }).stroke({\n\t\t\t\t\tlinejoin: \"round\",\n\t\t\t\t\twidth: 0.5,\n\t\t\t\t\tcolor: defaultStroke,\n\t\t\t\t})\n\t\t\t\tconst minus = new SVG.Path({ d: \"M0 4.5 H9\" }).stroke({\n\t\t\t\t\tlinejoin: \"round\",\n\t\t\t\t\twidth: 0.5,\n\t\t\t\t\tcolor: defaultStroke,\n\t\t\t\t})\n\n\t\t\t\tconst plusBBox = plus.bbox()\n\t\t\t\tconst plusHalfSize = new SVG.Point(plusBBox.w / 2, plusBBox.h / 2)\n\t\t\t\tconst anchorOffset = plusHalfSize.add(plusHalfSize.mul(labelAnchor))\n\t\t\t\tif (directionBackwards) {\n\t\t\t\t\tplus.transform({ translate: Vto.sub(anchorOffset) })\n\t\t\t\t\tminus.transform({ translate: Vfrom.sub(anchorOffset) })\n\t\t\t\t} else {\n\t\t\t\t\tplus.transform({ translate: Vfrom.sub(anchorOffset) })\n\t\t\t\t\tminus.transform({ translate: Vto.sub(anchorOffset) })\n\t\t\t\t}\n\n\t\t\t\tgroup.add(plus)\n\t\t\t\tgroup.add(minus)\n\n\t\t\t\tif (!isRaisedVoltage) {\n\t\t\t\t\tlabPos = labPos.add(labelOffset.rotate(-angle, undefined, true))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tarrow: group,\n\t\t\t\tlabelPos: labPos,\n\t\t\t\tlabelAnchorDir: labelAnchor,\n\t\t\t}\n\t\t}\n\n\t\tpublic toJson(): PathSaveObject {\n\t\t\tconst data = super.toJson() as PathSaveObject & { voltage?: VoltageLabel }\n\n\t\t\tif (this.voltageLabel.value != \"\") {\n\t\t\t\tconst voltageLabel: VoltageLabel = { label: this.voltageLabel.value }\n\t\t\t\tvoltageLabel.bump = this.voltageBumpB.value.value != 1.5 ? this.voltageBumpB.value.value : undefined\n\t\t\t\tvoltageLabel.dist =\n\t\t\t\t\tthis.voltageDistanceFromNode.value.value != 0.5 ?\n\t\t\t\t\t\tthis.voltageDistanceFromNode.value.value\n\t\t\t\t\t:\tundefined\n\t\t\t\tvoltageLabel.shift = this.voltageShift.value.value != 0 ? this.voltageShift.value.value : undefined\n\t\t\t\tvoltageLabel.dir =\n\t\t\t\t\tthis.voltageDirection.value.key != defaultVoltageDirectionChoice.key ?\n\t\t\t\t\t\tthis.voltageDirection.value.key\n\t\t\t\t\t:\tundefined\n\t\t\t\tvoltageLabel.pos =\n\t\t\t\t\tthis.voltagePosition.value.key != defaultVoltagePositionChoice.key ?\n\t\t\t\t\t\tthis.voltagePosition.value.key\n\t\t\t\t\t:\tundefined\n\t\t\t\tvoltageLabel.style =\n\t\t\t\t\tthis.voltageStyle.value.key != defaultVoltageStyleChoice.key ?\n\t\t\t\t\t\tthis.voltageStyle.value.key\n\t\t\t\t\t:\tundefined\n\t\t\t\tdata.voltage = voltageLabel\n\t\t\t}\n\n\t\t\treturn data\n\t\t}\n\n\t\tprotected applyJson(saveObject: PathSaveObject & { voltage?: VoltageLabel }): void {\n\t\t\tsuper.applyJson(saveObject)\n\n\t\t\tif (saveObject.voltage) {\n\t\t\t\tthis.voltageLabel.value = saveObject.voltage.label\n\t\t\t\tif (saveObject.voltage.shift) {\n\t\t\t\t\tthis.voltageShift.value = new SVG.Number(saveObject.voltage.shift, \"\")\n\t\t\t\t}\n\t\t\t\tif (saveObject.voltage.bump) {\n\t\t\t\t\tthis.voltageBumpB.value = new SVG.Number(saveObject.voltage.bump, \"\")\n\t\t\t\t}\n\t\t\t\tif (saveObject.voltage.dist) {\n\t\t\t\t\tthis.voltageDistanceFromNode.value = new SVG.Number(saveObject.voltage.dist, \"\")\n\t\t\t\t}\n\t\t\t\tif (saveObject.voltage.dir) {\n\t\t\t\t\tthis.voltageDirection.value = voltageDirectionChoices.find(\n\t\t\t\t\t\t(value) => value.key == saveObject.voltage.dir\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tif (saveObject.voltage.pos) {\n\t\t\t\t\tthis.voltagePosition.value = voltagePositionChoices.find(\n\t\t\t\t\t\t(value) => value.key == saveObject.voltage.pos\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tif (saveObject.voltage.style) {\n\t\t\t\t\tthis.voltageStyle.value = voltageStyleChoices.find((value) => value.key == saveObject.voltage.style)\n\t\t\t\t}\n\t\t\t\tthis.generateVoltageRender()\n\t\t\t}\n\t\t}\n\n\t\tprotected buildTikzVoltage(to: CircuitikzTo): void {\n\t\t\t// Only export voltage if show property is enabled\n\t\t\tif (this.voltageShow.value && this.voltageLabel.value != \"\") {\n\t\t\t\tconst options = to.options\n\n\t\t\t\tlet voltageString = \"v\"\n\t\t\t\tif (this.voltagePosition.value.key != defaultVoltagePositionChoice.key) {\n\t\t\t\t\tvoltageString += this.voltagePosition.value.key\n\t\t\t\t}\n\t\t\t\tif (this.voltageDirection.value.key != defaultVoltageDirectionChoice.key) {\n\t\t\t\t\tvoltageString += this.voltageDirection.value.key\n\t\t\t\t}\n\t\t\t\tvoltageString += \"=$\" + this.voltageLabel.value + \"$\"\n\t\t\t\toptions.push(voltageString)\n\n\t\t\t\tif (this.voltageDistanceFromNode.value.value != 0.5) {\n\t\t\t\t\toptions.push(\"voltage/distance from node=\" + this.voltageDistanceFromNode.value.value.toString())\n\t\t\t\t}\n\n\t\t\t\tif (this.voltageBumpB.value.value != 1.5) {\n\t\t\t\t\toptions.push(\"voltage/bump b=\" + this.voltageBumpB.value.value.toString())\n\t\t\t\t}\n\n\t\t\t\tif (this.voltageShift.value.value != 0) {\n\t\t\t\t\toptions.push(\"voltage/shift=\" + this.voltageShift.value.value.toString())\n\t\t\t\t}\n\n\t\t\t\tif (this.voltageStyle.value.key != defaultVoltageStyleChoice.key) {\n\t\t\t\t\toptions.push(\"voltage=\" + this.voltageStyle.value.key)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn Voltageable\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tAbstractConstructor,\n\tCanvasController,\n\tdefaultStroke,\n\tgenerateLabelRender,\n\tMathJaxProperty,\n\tPathComponent,\n\tPathSaveObject,\n\tPropertyCategories,\n\tSectionHeaderProperty,\n\tSliderProperty,\n\tCircuitikzTo,\n\tapproxCompare,\n\tinterpolate,\n\tBooleanProperty,\n} from \"../internal\"\n\nexport type CurrentLabel = {\n\tlabel: string\n\tdist?: number\n\tstart?: boolean\n\tbelow?: boolean\n\tbackwards?: boolean\n\tshift?: number\n\tarrowWidth?: number\n}\n\nlet currentDirectionBackward = false\nlet currentPositionStart = false\nlet currentLabelBelow = false\n\nconst arrowStrokeWidth = 0.5\nconst currentArrowScale = 16\nconst defaultRlen = 1.4\nconst cmtopx = 4800 / 127 // 96px/2.54\n\nexport interface Currentable {\n\tcurrentLabel: MathJaxProperty\n\tcurrentLabelRendering: SVG.Element\n\tcurrentArrowRendering: SVG.Element\n\tcurrentRendering: SVG.Element\n\n\tcurrentDistance: SliderProperty\n\tcurrentPosition: BooleanProperty\n\tcurrentDirection: BooleanProperty\n\tcurrentLabelPosition: BooleanProperty\n\tcurrentShift: SliderProperty\n\tcurrentArrowWidth: SliderProperty\n\tcurrentShow: BooleanProperty\n}\n\nexport function Currentable<TBase extends AbstractConstructor<PathComponent>>(Base: TBase) {\n\tabstract class Currentable extends Base {\n\t\tprotected currentLabel: MathJaxProperty\n\t\tprotected currentLabelRendering: SVG.Element\n\t\tprotected currentArrowRendering: SVG.Element\n\t\tprotected currentRendering: SVG.Element\n\n\t\tprotected currentDistance: SliderProperty\n\t\tprotected currentPosition: BooleanProperty\n\t\tprotected currentDirection: BooleanProperty\n\t\tprotected currentLabelPosition: BooleanProperty\n\t\tprotected currentShift: SliderProperty\n\t\tprotected currentArrowWidth: SliderProperty\n\t\tprotected currentShow: BooleanProperty\n\n\t\tconstructor(...args: any[]) {\n\t\t\tsuper(...args)\n\t\t\tthis.properties.add(\n\t\t\t\tPropertyCategories.current,\n\t\t\t\tnew SectionHeaderProperty(\"Current label\", undefined, \"current:header\")\n\t\t\t)\n\n\t\t\tthis.currentLabel = new MathJaxProperty(undefined, undefined, \"current:label\")\n\n\t\t\tthis.currentShow = new BooleanProperty(\"Show current\", false, undefined, \"current:show\")\n\t\t\tthis.currentShow.addChangeListener((ev) => this.updateCurrentRender())\n\t\t\tthis.properties.add(PropertyCategories.current, this.currentShow)\n\n\t\t\tthis.currentLabel.addChangeListener((ev) => this.generateCurrentRender())\n\t\t\tthis.properties.add(PropertyCategories.current, this.currentLabel)\n\n\t\t\tthis.currentDirection = new BooleanProperty(\n\t\t\t\t\"Backwards\",\n\t\t\t\tcurrentDirectionBackward,\n\t\t\t\tundefined,\n\t\t\t\t\"current:backwards\"\n\t\t\t)\n\t\t\tthis.currentDirection.addChangeListener((ev) => {\n\t\t\t\tthis.updateCurrentRender()\n\t\t\t})\n\t\t\tthis.properties.add(PropertyCategories.current, this.currentDirection)\n\n\t\t\tthis.currentLabelPosition = new BooleanProperty(\n\t\t\t\t\"Label below\",\n\t\t\t\tcurrentLabelBelow,\n\t\t\t\tundefined,\n\t\t\t\t\"current:below\"\n\t\t\t)\n\t\t\tthis.currentLabelPosition.addChangeListener((ev) => {\n\t\t\t\tthis.updateCurrentRender()\n\t\t\t})\n\t\t\tthis.properties.add(PropertyCategories.current, this.currentLabelPosition)\n\n\t\t\tthis.currentPosition = new BooleanProperty(\"At start\", currentPositionStart, undefined, \"current:start\")\n\t\t\tthis.currentPosition.addChangeListener((ev) => this.updateCurrentRender())\n\t\t\tthis.properties.add(PropertyCategories.current, this.currentPosition)\n\n\t\t\tthis.currentDistance = new SliderProperty(\n\t\t\t\t\"Distance\",\n\t\t\t\t0,\n\t\t\t\t1,\n\t\t\t\t0.1,\n\t\t\t\tnew SVG.Number(0.5, \"\"),\n\t\t\t\ttrue,\n\t\t\t\t\"How far along the line the current arrow is.\",\n\t\t\t\t\"current:distance\"\n\t\t\t)\n\t\t\tthis.currentDistance.addChangeListener((ev) => this.updateCurrentRender())\n\t\t\tthis.properties.add(PropertyCategories.current, this.currentDistance)\n\n\t\t\tthis.currentShift = new SliderProperty(\n\t\t\t\t\"Shift\",\n\t\t\t\t-2,\n\t\t\t\t2,\n\t\t\t\t0.1,\n\t\t\t\tnew SVG.Number(0, \"\"),\n\t\t\t\tfalse,\n\t\t\t\t\"How much the current arrow should shift perpendicular to the component\",\n\t\t\t\t\"current:shift\"\n\t\t\t)\n\t\t\tthis.currentShift.addChangeListener((ev) => this.updateCurrentRender())\n\t\t\tthis.properties.add(PropertyCategories.current, this.currentShift)\n\n\t\t\tthis.currentArrowWidth = new SliderProperty(\n\t\t\t\t\"Current width\",\n\t\t\t\t0.5,\n\t\t\t\t20,\n\t\t\t\t0.5,\n\t\t\t\tnew SVG.Number(10, \"\"),\n\t\t\t\tfalse,\n\t\t\t\t\"Width of the current arrow shaft in pixels\",\n\t\t\t\t\"current:arrowwidth\"\n\t\t\t)\n\t\t\tthis.currentArrowWidth.addChangeListener((ev) => this.updateCurrentRender())\n\t\t\tthis.properties.add(PropertyCategories.current, this.currentArrowWidth)\n\t\t}\n\n\t\tprotected generateCurrentRender(): void {\n\t\t\tthis.currentLabelRendering = generateLabelRender(this.currentLabelRendering, this.currentLabel)\n\t\t\tthis.currentLabelRendering.fill(\"var(--bs-body-color)\")\n\n\t\t\tthis.currentRendering = new SVG.G()\n\t\t\tthis.currentRendering.add(this.currentLabelRendering)\n\t\t\tthis.visualization.add(this.currentRendering)\n\t\t\tthis.update()\n\t\t\tthis.updateTheme()\n\t\t}\n\n\t\tprotected abstract updateCurrentRender(): void\n\n\t\tprotected generateCurrentArrow(\n\t\t\tstart: SVG.Point,\n\t\t\tend: SVG.Point,\n\t\t\tnorthwestDelta: SVG.Point,\n\t\t\tsoutheastDelta: SVG.Point,\n\t\t\tscale: SVG.Point\n\t\t): { arrow: SVG.Element; labelPos: SVG.Point; labelAnchorDir: SVG.Point } {\n\t\t\tconst group = new SVG.G()\n\n\t\t\tconst scaleFactor = Math.abs(scale.x)\n\n\t\t\tlet distance = this.currentDistance.value.value\n\t\t\tlet shift = this.currentShift.value.value\n\n\t\t\tlet directionBackwards = this.currentDirection.value\n\t\t\tlet positionStart = this.currentPosition.value\n\t\t\tlet labelPositionBelow = this.currentLabelPosition.value\n\n\t\t\tlet labelBelow = labelPositionBelow ? -1 : 1\n\n\t\t\tlet diff = end.sub(start)\n\t\t\tlet angle = Math.atan2(diff.y, diff.x)\n\t\t\tlet endTrans = end.rotate(angle, start, true)\n\n\t\t\t// in which direction the the anchor of the current label should point\n\t\t\tconst sin4 = 0.06976 // the sin of 4 degrees\n\t\t\tlet labelAnchor = new SVG.Point(\n\t\t\t\tapproxCompare(Math.sin(angle), 0, sin4),\n\t\t\t\t-approxCompare(Math.cos(angle), 0, sin4)\n\t\t\t).mul(-labelBelow)\n\n\t\t\tconst midTrans = start.add(endTrans).div(2)\n\t\t\tconst compStart = midTrans.add(new SVG.Point(northwestDelta.x * scaleFactor, 0))\n\t\t\tconst compEnd = midTrans.add(new SVG.Point(southeastDelta.x * scaleFactor, 0))\n\n\t\t\tconst arrowScale = (cmtopx * defaultRlen) / (currentArrowScale / scaleFactor) + 2 * arrowStrokeWidth\n\n\t\t\tconst arrowPositionTrans =\n\t\t\t\tpositionStart ? interpolate(start, compStart, distance) : interpolate(compEnd, endTrans, distance)\n\n\t\t\t// Apply shift perpendicular to the component\n\t\t\tconst shiftOffset = new SVG.Point(0, shift * cmtopx)\n\t\t\tconst arrowPos = arrowPositionTrans.add(shiftOffset).rotate(-angle, start, true)\n\n\t\t\tconst labelOffset = new SVG.Point(0, -labelBelow * 0.12 * cmtopx)\n\t\t\tlet labPos: SVG.Point = arrowPos.add(labelOffset.rotate(-angle, undefined, true))\n\n\t\t\t// Draw the arrow line (shaft)\n\t\t\tconst arrowLength = 15 // Length of the arrow shaft in pixels\n\t\t\tconst arrowAngle = angle + (directionBackwards ? Math.PI : 0)\n\n\t\t\t// Calculate line start and end positions along the component direction\n\t\t\tconst lineStart = arrowPos.add(new SVG.Point(-arrowLength / 2, 0).rotate(angle, undefined, true))\n\t\t\tconst lineEnd = arrowPos.add(new SVG.Point(arrowLength / 2, 0).rotate(angle, undefined, true))\n\n\t\t\t// Create the arrow line using Path (more reliable than Line)\n\t\t\tconst pathData = `M ${lineStart.x} ${lineStart.y} L ${lineEnd.x} ${lineEnd.y}`\n\t\t\tconst arrowLine = new SVG.Path({ d: pathData })\n\t\t\tarrowLine.fill(\"none\").stroke({ color: \"var(--bs-body-color)\", width: this.currentArrowWidth.value.value })\n\n\t\t\t// Draw the arrow tip\n\t\t\tconst arrowTip = CanvasController.instance.canvas.use(\"currarrow\").fill(\"var(--bs-body-color)\")\n\t\t\tconst arrowTipTransform = new SVG.Matrix({\n\t\t\t\ttranslate: [-0.85, -0.8],\n\t\t\t}).lmultiply({\n\t\t\t\tscale: arrowScale,\n\t\t\t\trotate: (180 * arrowAngle) / Math.PI,\n\t\t\t\ttranslate: arrowPos,\n\t\t\t})\n\t\t\tarrowTip.transform(arrowTipTransform)\n\n\t\t\t// Add to group in correct order\n\t\t\tgroup.add(arrowLine)\n\t\t\tgroup.add(arrowTip)\n\n\t\t\treturn {\n\t\t\t\tarrow: group,\n\t\t\t\tlabelPos: labPos,\n\t\t\t\tlabelAnchorDir: labelAnchor,\n\t\t\t}\n\t\t}\n\n\t\tpublic toJson(): PathSaveObject {\n\t\t\tconst data = super.toJson() as PathSaveObject & { current?: CurrentLabel }\n\n\t\t\tif (this.currentLabel.value != \"\") {\n\t\t\t\tconst currentLabel: CurrentLabel = { label: this.currentLabel.value }\n\t\t\t\tcurrentLabel.dist =\n\t\t\t\t\tthis.currentDistance.value.value != 0.5 ? this.currentDistance.value.value : undefined\n\t\t\t\tcurrentLabel.backwards = this.currentDirection.value ? true : undefined\n\t\t\t\tcurrentLabel.start = this.currentPosition.value ? true : undefined\n\t\t\t\tcurrentLabel.below = this.currentLabelPosition.value ? true : undefined\n\t\t\t\tcurrentLabel.shift = this.currentShift.value.value != 0 ? this.currentShift.value.value : undefined\n\t\t\t\tcurrentLabel.arrowWidth =\n\t\t\t\t\tthis.currentArrowWidth.value.value != 10 ? this.currentArrowWidth.value.value : undefined\n\t\t\t\tdata.current = currentLabel\n\t\t\t}\n\n\t\t\treturn data\n\t\t}\n\n\t\tprotected applyJson(saveObject: PathSaveObject & { current?: CurrentLabel }): void {\n\t\t\tsuper.applyJson(saveObject)\n\n\t\t\tif (saveObject.current) {\n\t\t\t\tthis.currentLabel.value = saveObject.current.label\n\t\t\t\tif (saveObject.current.dist) {\n\t\t\t\t\tthis.currentDistance.value = new SVG.Number(saveObject.current.dist, \"\")\n\t\t\t\t}\n\t\t\t\tif (saveObject.current.backwards) {\n\t\t\t\t\tthis.currentDirection.value = true\n\t\t\t\t}\n\t\t\t\tif (saveObject.current.start) {\n\t\t\t\t\tthis.currentPosition.value = true\n\t\t\t\t}\n\t\t\t\tif (saveObject.current.below) {\n\t\t\t\t\tthis.currentLabelPosition.value = true\n\t\t\t\t}\n\t\t\t\tif (saveObject.current.shift !== undefined) {\n\t\t\t\t\tthis.currentShift.value = new SVG.Number(saveObject.current.shift, \"\")\n\t\t\t\t}\n\t\t\t\tif (saveObject.current.arrowWidth !== undefined) {\n\t\t\t\t\tthis.currentArrowWidth.value = new SVG.Number(saveObject.current.arrowWidth, \"\")\n\t\t\t\t}\n\t\t\t\tthis.generateCurrentRender()\n\t\t\t}\n\t\t}\n\n\t\tprotected buildTikzCurrent(to: CircuitikzTo): void {\n\t\t\t// Only export current if show property is enabled\n\t\t\tif (this.currentShow.value && this.currentLabel.value != \"\") {\n\t\t\t\tconst options = to.options\n\n\t\t\t\tlet currentString = \"i\"\n\t\t\t\tlet labelPosString = this.currentLabelPosition.value ? \"_\" : \"^\"\n\t\t\t\tlet dirString = this.currentDirection.value ? \"<\" : \">\"\n\n\t\t\t\tif (this.currentPosition.value) {\n\t\t\t\t\t// if position is start, the label position comes after the direction and both are required, exept:\n\t\t\t\t\tif (this.currentLabelPosition.value == false && this.currentDirection.value == true) {\n\t\t\t\t\t\t// if direction is backward and the label position is default above, the label position is not required\n\t\t\t\t\t\tlabelPosString = \"\"\n\t\t\t\t\t}\n\t\t\t\t\tcurrentString += dirString + labelPosString\n\t\t\t\t} else {\n\t\t\t\t\t// if position is end, the label position comes before the direction\n\t\t\t\t\tif (this.currentDirection.value == false) {\n\t\t\t\t\t\t// if direction is forward the label position is not required\n\t\t\t\t\t\tdirString = \"\"\n\t\t\t\t\t\tif (this.currentLabelPosition.value == false) {\n\t\t\t\t\t\t\t// if the label position is default above and the direction is forward, the label position is also not required\n\t\t\t\t\t\t\tlabelPosString = \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcurrentString += labelPosString + dirString\n\t\t\t\t}\n\n\t\t\t\tcurrentString += \"={$\" + this.currentLabel.value + \"$}\"\n\t\t\t\toptions.push(currentString)\n\n\t\t\t\tif (this.currentDistance.value.value != 0.5) {\n\t\t\t\t\toptions.push(\"current/distance=\" + this.currentDistance.value.value.toString())\n\t\t\t\t}\n\t\t\t\t// Note: CircuiTikZ does not support current/label/shift parameter\n\t\t\t\t// The shift feature is only for visual display in the designer\n\t\t\t}\n\t\t}\n\t}\n\treturn Currentable\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport \"@svgdotjs/svg.draggable.js\"\nimport {\n\tMainController,\n\tSnapPoint,\n\tSnappingInfo,\n\tButtonGridProperty,\n\tCanvasController,\n\tSelectionController,\n\tSectionHeaderProperty,\n\tGroupComponent,\n\tUndo,\n\tEditableProperty,\n\tSnapDragHandler,\n\tSnapCursorController,\n\tPropertiesCollection,\n\tPropertyCategories,\n} from \"../internal\"\nimport {\n\thoverColor,\n\trectRectIntersection,\n\treferenceColor,\n\tselectedBoxWidth,\n\tselectionColor,\n} from \"../utils/selectionHelper\"\n\ntype Constructor<T = {}> = new (...args: any[]) => T\n\n/**\n * the root object for saving components as json. Extend this for custom components\n */\nexport type ComponentSaveObject = {\n\ttype: string\n\tselected?: boolean\n}\n\n/**\n * Every component in the circuit should be deriving from this class.\n */\nexport abstract class CircuitComponent {\n\t/**\n\t * the position of the component reference point in world coordinates\n\t */\n\tpublic position: SVG.Point\n\n\t/**\n\t * The vector from (0,0) to the reference position of the component (in local coordinates, i.e. without rotation, translation and scaling)\n\t */\n\tpublic referencePosition: SVG.Point\n\n\t/**\n\t * all properties, which should be able to be edited in the properties window have to be included here\n\t */\n\tpublic properties: PropertiesCollection\n\n\t/**\n\t * the name of the component (e.g. \"Resistor\", \"Wire\" or \"Transformer\")\n\t */\n\tpublic displayName: string\n\n\t/**\n\t * For keeping track of the parent group of this component if one exists.\n\t */\n\tpublic parentGroup: GroupComponent = null\n\n\t/**\n\t * If the component is currently selected by the selection controller\n\t */\n\tprivate _isSelected: boolean = false\n\tpublic get isSelected(): boolean {\n\t\treturn this._isSelected\n\t}\n\tpublic set isSelected(value: boolean) {\n\t\tif (!value) {\n\t\t\tif (this.isSelectionReference) {\n\t\t\t\tSelectionController.instance.referenceComponent = null\n\t\t\t}\n\t\t\tthis.isSelectionReference = false\n\t\t}\n\t\tthis._isSelected = value\n\t}\n\n\t/**\n\t * the cached bounding box of the component in world coordinates. Useful for example for the selection controller\n\t */\n\tprotected _bbox: SVG.Box\n\t/**\n\t * getter for the cached bounding box\n\t */\n\tpublic get bbox(): SVG.Box {\n\t\treturn this._bbox\n\t}\n\n\t/**\n\t * the SVG.js Element which represents the visualization/graphics of the component on the canvas. This includes the actual component as well the label, the element used for dragging and other parts. Should probably always be a group containing more svg components\n\t */\n\tpublic visualization: SVG.Element\n\n\t/**\n\t * The SVG.js Element which is used to visualize the selection of the component. Should probably always be a rectangle\n\t */\n\tpublic selectionElement: SVG.Element = null\n\n\t/**\n\t * The SVG.js Element which is used to visualize the component. This has to be added to the visualization element as a child @see CircuitComponent.visualization\n\t */\n\tpublic componentVisualization: SVG.Element\n\n\t/**\n\t * the element which can be grabbed and dragged. Mostly the whole visualization, but for some components it might be a sub-element\n\t */\n\tprotected dragElement: SVG.Element\n\n\t/**\n\t * A List of all the Snapping points of this component\n\t */\n\tpublic snappingPoints: SnapPoint[]\n\n\t/**\n\t * A map of all the properties which are used by this component. The key is the ID of the property, which can be used to filter for multi-component editing\n\t */\n\tpublic componentProperties: Map<string, EditableProperty<any>> = new Map()\n\n\tprivate _isHovered = false\n\n\tpublic get isHovered(): boolean {\n\t\treturn this._isHovered\n\t}\n\n\tpublic set isHovered(value: boolean) {\n\t\tthis._isHovered = value\n\t\tthis.showSeletedOrHovered()\n\t}\n\n\t/**\n\t * The default constructor giving basic functionality. Never call this directly (only via super() in the constructor of the derived class).\n\t */\n\tpublic constructor() {\n\t\tthis.position = new SVG.Point()\n\t\tthis.finishedPlacing = false\n\t\tthis.referencePosition = new SVG.Point()\n\t\t//every time a component is initialized, it should be added to the component list for housekeeping\n\t\tMainController.instance.addComponent(this)\n\t\tthis.selectionElement = CanvasController.instance.canvas.rect(0, 0).hide()\n\t\tthis.selectionElement.node.classList.add(\"selectionElement\")\n\t\tthis.selectionElement.node.style.pointerEvents = \"none\"\n\n\t\tthis.visualization = CanvasController.instance.canvas.group()\n\n\t\tthis.dragElement = this.visualization\n\n\t\tthis.displayName = \"Circuit Component\"\n\t\tthis.properties = new PropertiesCollection()\n\t\tthis.addPositioning()\n\t\tthis.addZOrdering()\n\t}\n\n\t/**\n\t * Add z-index ordering to the properties window\n\t */\n\tprivate addZOrdering() {\n\t\t// all components should receive the possiblity to change their draw order/z order/depth\n\t\tlet ordering = new ButtonGridProperty(\n\t\t\t2,\n\t\t\t[\n\t\t\t\t[\"Foreground\", \"\"],\n\t\t\t\t[\"Background\", \"\"],\n\t\t\t\t[\"Forward\", \"\"],\n\t\t\t\t[\"Backward\", \"\"],\n\t\t\t],\n\t\t\t[\n\t\t\t\t(ev) => CanvasController.instance.componentsToForeground([this]),\n\t\t\t\t(ev) => CanvasController.instance.componentsToBackground([this]),\n\t\t\t\t(ev) => CanvasController.instance.moveComponentsForward([this]),\n\t\t\t\t(ev) => CanvasController.instance.moveComponentsBackward([this]),\n\t\t\t],\n\t\t\tfalse,\n\t\t\t[\n\t\t\t\t\"Bring the component to the foreground\",\n\t\t\t\t\"Move the component to the background\",\n\t\t\t\t\"Move the component one step towards the foreground\",\n\t\t\t\t\"Move the component one step towards the background\",\n\t\t\t]\n\t\t)\n\t\tthis.properties.add(PropertyCategories.ordering, new SectionHeaderProperty(\"Ordering\"))\n\t\tthis.properties.add(PropertyCategories.ordering, ordering)\n\t}\n\n\t/**\n\t * Add rotation and flipping to the properties window\n\t */\n\tprivate addPositioning() {\n\t\tlet positioning = new ButtonGridProperty(\n\t\t\t2,\n\t\t\t[\n\t\t\t\t[\"Rotate 90 CW\", \"rotate_right\"],\n\t\t\t\t[\"Rotate 90 CCW\", \"rotate_left\"],\n\t\t\t\t[\"Rotate 45 CW\", \"rotate_right\"],\n\t\t\t\t[\"Rotate 45 CCW \", \"rotate_left\"],\n\t\t\t\t[\"Flip vertically\", [\"flip\", \"rotateText\"]],\n\t\t\t\t[\"Flip horizontally\", \"flip\"],\n\t\t\t],\n\t\t\t[\n\t\t\t\t(ev) => {\n\t\t\t\t\tthis.rotate(-90)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t\t(ev) => {\n\t\t\t\t\tthis.rotate(90)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t\t(ev) => {\n\t\t\t\t\tthis.rotate(-45)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t\t(ev) => {\n\t\t\t\t\tthis.rotate(45)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t\t(ev) => {\n\t\t\t\t\tthis.flip(true)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t\t(ev) => {\n\t\t\t\t\tthis.flip(false)\n\t\t\t\t\tUndo.addState()\n\t\t\t\t},\n\t\t\t],\n\t\t\tfalse,\n\t\t\t[\n\t\t\t\t\"Rotate the component 90 degrees clockwise\",\n\t\t\t\t\"Rotate the component 90 degrees counter clockwise\",\n\t\t\t\t\"Rotate the component 45 degrees clockwise\",\n\t\t\t\t\"Rotate the component 45 degrees counter clockwise\",\n\t\t\t\t\"Flip the component around its x-axis\",\n\t\t\t\t\"Flip the component around its y-axis\",\n\t\t\t]\n\t\t)\n\t\tthis.properties.add(PropertyCategories.manipulation, positioning)\n\t}\n\n\t/**\n\t * Used by the snap controller to figure out which of the snapping points should be taken into account for snapping and if their should be additional snapping points, which are not normally part of the component (for example the center point of a node component, which should be snappable when moving this component but not snappable when being snapped to this component)\n\t */\n\tpublic abstract getSnappingInfo(): SnappingInfo\n\n\t/**\n\t * Set this component draggable or not\n\t * @param drag if dragging should be enabled\n\t */\n\tpublic draggable(drag: boolean): void {\n\t\tif (drag) {\n\t\t\tthis.visualization.node.classList.add(\"draggable\")\n\t\t} else {\n\t\t\tthis.visualization.node.classList.remove(\"draggable\")\n\t\t}\n\t\tSnapDragHandler.snapDrag(this, drag, this.dragElement)\n\t}\n\n\tprotected abstract recalculateResizePoints(): void\n\n\t/**\n\t * Move the component to the specified position\n\t * @param position where the circuitComponent.position should now be\n\t */\n\tpublic abstract moveTo(position: SVG.Point): void\n\t/**\n\t * Move the component by the specified delta, i.e. the new position = old position + delta\n\t * @param delta by how much the component should be moved\n\t */\n\tpublic abstract moveRel(delta: SVG.Point): void\n\t/**\n\t * Rotate the component by the specified angle. (This should not set the rotation of the component, but rotate the component further along by the specified angle)\n\t * @param angleDeg angle in degrees\n\t */\n\tpublic abstract rotate(angleDeg: number): void\n\t/**\n\t * Flip the component along the horizontal or vertical axis\n\t * @param horizontalAxis if the component should be flipped around the horizontal or vertical axis\n\t */\n\tpublic abstract flip(horizontalAxis: boolean): void\n\n\t/**\n\t * Update the component, it's visualization, snapping points, selection visuals and transform matrix/position\n\t */\n\tprotected abstract update(): void\n\n\t/**\n\t * update the graphics corresponding to the component selection visualization\n\t */\n\tprotected recalculateSelectionVisuals(): void {\n\t\tif (this.selectionElement) {\n\t\t\tlet box = this.visualization.bbox().transform(this.getTransformMatrix())\n\n\t\t\tthis.selectionElement.size(box.w, box.h)\n\t\t\tthis.selectionElement.center(box.cx, box.cy)\n\t\t}\n\t}\n\n\tprivate viewAsSelected = false\n\t/**\n\t * Show or hide the selection visualization of the component. This has to be distinct from the actual selection state due to how the selection controller works\n\t * @param show if the component should appear selected or not\n\t */\n\tpublic viewSelected(show: boolean): void {\n\t\tthis.viewAsSelected = show\n\t\tthis.showSeletedOrHovered()\n\t}\n\n\tprivate showSeletedOrHovered() {\n\t\tif (this.viewAsSelected || this.isHovered) {\n\t\t\tCanvasController.instance.canvas.put(this.selectionElement)\n\t\t\tthis.selectionElement.show()\n\n\t\t\tconst color =\n\t\t\t\tthis.isHovered ? hoverColor\n\t\t\t\t: this.isSelectionReference ? referenceColor\n\t\t\t\t: selectionColor\n\n\t\t\tthis.selectionElement\n\t\t\t\t.stroke({\n\t\t\t\t\twidth: selectedBoxWidth,\n\t\t\t\t\tcolor: color,\n\t\t\t\t\tdasharray: this.isSelectionReference ? \"1, 1\" : \"4, 2\",\n\t\t\t\t})\n\t\t\t\t.fill(\"none\")\n\t\t\tthis.recalculateSelectionVisuals()\n\t\t} else {\n\t\t\tthis.selectionElement.hide()\n\t\t}\n\t}\n\n\tprotected isSelectionReference = false\n\tpublic setAsSelectionReference(): void {\n\t\tif (SelectionController.instance.referenceComponent) {\n\t\t\tSelectionController.instance.referenceComponent.isSelectionReference = false\n\t\t\tSelectionController.instance.referenceComponent.viewSelected(\n\t\t\t\tSelectionController.instance.referenceComponent.isSelected\n\t\t\t)\n\t\t}\n\t\tthis.isSelectionReference = true\n\t\tthis.viewSelected(true)\n\t}\n\n\t/**\n\t * Checks if the component is inside the selection visualization. The default implementation is a rect-rect intersection check between the selection rectangle and the component bounding box. Override this for a more sophisticated check\n\t * @param selectionRectangle where the current selection is requested\n\t * @returns true if the selection rectangle encompases (a part of) the component\n\t */\n\tpublic isInsideSelectionRectangle(selectionRectangle: SVG.Box): boolean {\n\t\treturn rectRectIntersection(this.bbox, selectionRectangle)\n\t}\n\n\t/**\n\t * update the visuals to comply with dark/light mode\n\t */\n\tpublic abstract updateTheme()\n\n\t/**\n\t * Converts the Component into a ComponentSaveObject or a derived type therof. This should encompass all information necessary to reproduce this component via {@link fromJson}\n\t * Override this in your subclass and call the super() method to ensure that the base class properties are also included.\n\t */\n\tpublic toJson(): ComponentSaveObject {\n\t\tlet saveObject: ComponentSaveObject = {\n\t\t\ttype: \"component\",\n\t\t}\n\t\treturn saveObject\n\t}\n\t/**\n\t * convert this component into a draw command for CircuiTikz\n\t */\n\tpublic abstract toTikzString(): string\n\n\t/**\n\t * Override this in subclasses if it should provide a way of building (parts of) a tikz node or path command (remember to always call the superclass via super.buildTikzCommand)\n\t * @param command an object representing the components of a tikz command\n\t * @param contextData the context needed to build (parts of) the command\n\t */\n\tprotected buildTikzCommand(command: {}): void {}\n\n\t/**\n\t * convert this component to be used with the svg export, i.e. clones the visualization and handles all use elements. override this to add custom functionality like removing additional elements.\n\t * @param defs which definitions this component uses should be added to the map<id, element>. defs should be checked before adding to avoid duplicates\n\t */\n\tpublic toSVG(defs: Map<string, SVG.Element>): SVG.Element {\n\t\tconst copiedSVG = this.visualization.clone(true)\n\t\tfor (const use of copiedSVG.find(\"use\")) {\n\t\t\tlet id = use.node.getAttribute(\"xlink:href\") ?? use.node.getAttribute(\"href\")\n\t\t\tif (id) {\n\t\t\t\tid = id.startsWith(\"#\") ? id.slice(1) : id\n\t\t\t\tif (!defs.has(id)) {\n\t\t\t\t\tconst element = new SVG.Element(document.getElementById(id).cloneNode(true))\n\t\t\t\t\tdefs.set(id, element)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn copiedSVG\n\t}\n\t/**\n\t * Convert a ComponentSaveObject to a component. This requires 2 steps:\n\t * 1) Define a public static fromJson method which returns an instance of the component. This should only handle proper initialization and no parameter setting. See NodeSymbolComponent\n\t * 2) Override the applyJson method which should contain a super.applyJson call. This method should only handle parameters not already handled by the respective super class(es)\n\t */\n\tprotected applyJson(saveObject: ComponentSaveObject): void {\n\t\t// highest level doesn't do anything (essentially only the type but this is not used here)\n\t\tSnapCursorController.instance.visible = false\n\t\tthis.finishedPlacing = true\n\t\tthis.draggable(true)\n\t}\n\n\tprotected static jsonSaveMap: Map<string, Constructor<CircuitComponent>> = new Map()\n\tpublic static fromJson(saveObject: ComponentSaveObject): CircuitComponent {\n\t\tconst ComponentConstructor = CircuitComponent.jsonSaveMap.get(saveObject.type)\n\t\tif (ComponentConstructor == undefined) {\n\t\t\tthrow new Error(\n\t\t\t\t'There is no component of type \"' +\n\t\t\t\t\tsaveObject.type +\n\t\t\t\t\t'\" defined. Every non-abstract class deriving from CircuitComponent (or one of its subclasses) should have a static block, which registers it by setting the type as the key and the class itself as the value of the jsonSaveMap static variable (see NodeSymbolComponent as a reference)'\n\t\t\t)\n\t\t}\n\t\tif (!Object.hasOwn(ComponentConstructor, \"fromJson\")) {\n\t\t\tthrow new Error(\n\t\t\t\tComponentConstructor.name +\n\t\t\t\t\t\" does not implement a fromJson method! See CircuitComponent.applyJson for more info.\"\n\t\t\t)\n\t\t}\n\t\t// @ts-ignore\n\t\tconst component: CircuitComponent = ComponentConstructor.fromJson(saveObject)\n\t\tif (component) {\n\t\t\tcomponent.applyJson(saveObject)\n\t\t\treturn component\n\t\t}\n\t}\n\n\t/**\n\t * Obtain the transformation matrix which transforms an object from the local coordinates to the world coordiantes.\n\t * Default implementation returns the identity matrix, i.e. local coordinates = world coordinates.\n\t *\n\t * Override this!\n\t *\n\t * @returns the transformation matrix\n\t */\n\tpublic getTransformMatrix(): SVG.Matrix {\n\t\treturn new SVG.Matrix()\n\t}\n\n\t/**\n\t * Update the position of all snapping points associated with this component.\n\t * @param matrix which matrix to use. probably the one returned by {@link getTransformMatrix}\n\t */\n\tpublic recalculateSnappingPoints(matrix?: SVG.Matrix) {\n\t\tfor (const snappingPoint of this.snappingPoints) {\n\t\t\tsnappingPoint.recalculate(matrix)\n\t\t}\n\t}\n\n\t/**\n\t * create a copy from the provided CircuitComponent but ready for component placement\n\t */\n\tpublic abstract copyForPlacement(): CircuitComponent\n\n\t/**\n\t * remove the component from the canvas\n\t */\n\tpublic remove(): void {\n\t\tSnapDragHandler.snapDrag(this, false)\n\t\tthis.visualization.remove()\n\t\tthis.viewSelected(false)\n\t\tthis.selectionElement?.remove()\n\t}\n\n\t// component placement code\n\t/**\n\t * if the component is finished placing down/creating\n\t */\n\tprotected finishedPlacing = false\n\n\t/**\n\t * Override this if the component can be rotated while placing down. @see CircuitComponent.rotate for details\n\t * @param angleDeg how far to rotate\n\t */\n\tpublic placeRotate(angleDeg: number): void {}\n\n\t/**\n\t * Override this if the component can be flipped while placing down. @see CircuitComponent.flip for details\n\t * @param horizontal on which axis to rotate\n\t */\n\tpublic placeFlip(horizontal: boolean): void {}\n\n\t/**\n\t *\n\t * @param pos where the mouse/pointer/cursor was moved\n\t * @param ev the context of the movement\n\t */\n\tpublic abstract placeMove(pos: SVG.Point, ev?: Event): void\n\t/**\n\t * One placement step. Probably a click or touch. Return true if the component is done with the placement.\n\t * @param pos where the mouse/pointer/cursor is\n\t * @param ev the context of the click/touch\n\t * @returns true if the placing is done, false otherwise\n\t */\n\tpublic abstract placeStep(pos: SVG.Point, ev?: Event): boolean\n\t/**\n\t * Called by ComponentPlacer after {@link placeStep}==true to clean up the component placement. Also instantly finishes the placement when called\n\t */\n\tpublic abstract placeFinish(): void // call this to force the placement to finish\n\n\t/**\n\t * Returns the list of TikZ libraries which are required for this component to work. This is used to automatically include the libraries in the generated code.\n\t *\n\t * Override this to add libraries\n\t * @returns a list of tikz library names (strings)\n\t */\n\tpublic requiredTikzLibraries(): string[] {\n\t\treturn []\n\t}\n}\n","import { Box, Element, G, extend, off, on } from '@svgdotjs/svg.js'\n\nconst getCoordsFromEvent = (ev) => {\n  if (ev.changedTouches) {\n    ev = ev.changedTouches[0]\n  }\n  return { x: ev.clientX, y: ev.clientY }\n}\n\n// Creates handler, saves it\nclass DragHandler {\n  constructor(el) {\n    el.remember('_draggable', this)\n    this.el = el\n\n    this.drag = this.drag.bind(this)\n    this.startDrag = this.startDrag.bind(this)\n    this.endDrag = this.endDrag.bind(this)\n  }\n\n  // Enables or disabled drag based on input\n  init(enabled) {\n    if (enabled) {\n      this.el.on('mousedown.drag', this.startDrag)\n      this.el.on('touchstart.drag', this.startDrag, { passive: false })\n    } else {\n      this.el.off('mousedown.drag')\n      this.el.off('touchstart.drag')\n    }\n  }\n\n  // Start dragging\n  startDrag(ev) {\n    const isMouse = !ev.type.indexOf('mouse')\n\n    // Check for left button\n    if (isMouse && ev.which !== 1 && ev.buttons !== 0) {\n      return\n    }\n\n    // Fire beforedrag event\n    if (\n      this.el.dispatch('beforedrag', { event: ev, handler: this })\n        .defaultPrevented\n    ) {\n      return\n    }\n\n    // Prevent browser drag behavior as soon as possible\n    ev.preventDefault()\n\n    // Prevent propagation to a parent that might also have dragging enabled\n    ev.stopPropagation()\n\n    // Make sure that start events are unbound so that one element\n    // is only dragged by one input only\n    this.init(false)\n\n    this.box = this.el.bbox()\n    this.lastClick = this.el.point(getCoordsFromEvent(ev))\n\n    const eventMove = (isMouse ? 'mousemove' : 'touchmove') + '.drag'\n    const eventEnd = (isMouse ? 'mouseup' : 'touchend') + '.drag'\n\n    // Bind drag and end events to window\n    on(window, eventMove, this.drag, this, { passive: false })\n    on(window, eventEnd, this.endDrag, this, { passive: false })\n\n    // Fire dragstart event\n    this.el.fire('dragstart', { event: ev, handler: this, box: this.box })\n  }\n\n  // While dragging\n  drag(ev) {\n    const { box, lastClick } = this\n\n    const currentClick = this.el.point(getCoordsFromEvent(ev))\n    const dx = currentClick.x - lastClick.x\n    const dy = currentClick.y - lastClick.y\n\n    if (!dx && !dy) return box\n\n    const x = box.x + dx\n    const y = box.y + dy\n    this.box = new Box(x, y, box.w, box.h)\n    this.lastClick = currentClick\n\n    if (\n      this.el.dispatch('dragmove', {\n        event: ev,\n        handler: this,\n        box: this.box,\n        dx,\n        dy,\n      }).defaultPrevented\n    ) {\n      return\n    }\n\n    this.move(x, y)\n  }\n\n  move(x, y) {\n    // Svg elements bbox depends on their content even though they have\n    // x, y, width and height - strange!\n    // Thats why we handle them the same as groups\n    if (this.el.type === 'svg') {\n      G.prototype.move.call(this.el, x, y)\n    } else {\n      this.el.move(x, y)\n    }\n  }\n\n  endDrag(ev) {\n    // final drag\n    this.drag(ev)\n\n    // fire dragend event\n    this.el.fire('dragend', { event: ev, handler: this, box: this.box })\n\n    // unbind events\n    off(window, 'mousemove.drag')\n    off(window, 'touchmove.drag')\n    off(window, 'mouseup.drag')\n    off(window, 'touchend.drag')\n\n    // Rebind initial Events\n    this.init(true)\n  }\n}\n\nextend(Element, {\n  draggable(enable = true) {\n    const dragHandler = this.remember('_draggable') || new DragHandler(this)\n    dragHandler.init(enable)\n    return this\n  },\n})\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tAdjustDragHandler,\n\tbuildTikzStringFromPathCommand,\n\tCircuitComponent,\n\tComponentSaveObject,\n\tMainController,\n\tSnapCursorController,\n\tTikzPathCommand,\n} from \"../internal\"\nimport { resizeSVG } from \"../utils/selectionHelper\"\n\nexport type PathOrientation = {\n\tmirror: boolean\n\tinvert: boolean\n}\n\nexport type PathSaveObject = ComponentSaveObject & {\n\tpoints: SVG.Point[]\n}\n/**\n * abstract super class for all path components\n * This includes all components that are represented by a path, i.e. are drawn via a tikz path command with 2 or more reference points, where said reference points should be adjustable.\n *\n * Examples are: resistors, capacitors, inductors, diodes, sources, polygons, wires, arrows, arcs, etc.\n *\n * Extend this class to create a new component which is represented by a path.\n *\n * PathComponents are edited/adjusted in world coordinates via their referencePoints. Transformations like translation (moving), rotation, scaling and flipping are done by adjusting changing the referencePoints\n */\nexport abstract class PathComponent extends CircuitComponent {\n\t/**\n\t * how many reference points this path component should consist of. Standard is 2, i.e. a path with a start and end point. Set this to -1 to allow an arbitrary number of points.\n\t */\n\tprotected pointLimit: number = 2\n\t/**\n\t * the points of the path component in world coordinates\n\t */\n\tprotected referencePoints: SVG.Point[]\n\t/**\n\t * the SVG elements which represent the reference points of this path component\n\t * These are used to drag the reference points around.\n\t */\n\tprotected resizableSVGs: SVG.Element[]\n\n\t/**\n\t * if the component is currently being adjusted, i.e. the reference points are being shown\n\t */\n\tprotected isResizing: boolean = false\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.referencePoints = []\n\t\tthis.resizableSVGs = []\n\t\tSnapCursorController.instance.visible = true\n\t}\n\n\tpublic moveRel(delta: SVG.Point): void {\n\t\tfor (let index = 0; index < this.referencePoints.length; index++) {\n\t\t\tthis.referencePoints[index] = this.referencePoints[index].add(delta)\n\t\t}\n\t\tthis.update()\n\t}\n\n\tpublic moveTo(position: SVG.Point): void {\n\t\tlet diff = position.sub(this.position)\n\t\tthis.moveRel(diff)\n\t}\n\n\tprotected movePointTo(index: number, position: SVG.Point): void {\n\t\tif (index < 0 || index >= this.referencePoints.length) {\n\t\t\tthrow new Error(\n\t\t\t\t`Index ${index} out of bounds for reference points array of length ${this.referencePoints.length}`\n\t\t\t)\n\t\t}\n\t\tthis.referencePoints[index] = new SVG.Point(position)\n\t\tthis.update()\n\t}\n\n\tprotected recalculateResizePoints() {\n\t\tif (this.resizableSVGs.length == this.referencePoints.length) {\n\t\t\t// const transformMatrix = this.getTransformMatrix()\n\n\t\t\tfor (let index = 0; index < this.referencePoints.length; index++) {\n\t\t\t\tconst point = this.referencePoints[index]\n\t\t\t\tconst viz = this.resizableSVGs[index]\n\n\t\t\t\tviz.center(point.x, point.y)\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic resizable(enable: boolean): void {\n\t\tif (this.isResizing == enable) {\n\t\t\treturn\n\t\t}\n\t\tthis.isResizing = enable\n\t\tif (enable) {\n\t\t\tlet startPositions: SVG.Point[] = []\n\t\t\tfor (let index = 0; index < this.referencePoints.length; index++) {\n\t\t\t\tlet elementSVG = resizeSVG()\n\t\t\t\telementSVG.node.style.cursor = \"move\"\n\t\t\t\tthis.resizableSVGs.push(elementSVG)\n\t\t\t\tstartPositions.push(new SVG.Point())\n\n\t\t\t\tAdjustDragHandler.snapDrag(this, elementSVG, true, {\n\t\t\t\t\tdragStart: (pos) => {\n\t\t\t\t\t\tstartPositions[index] = new SVG.Point(this.referencePoints[index])\n\t\t\t\t\t},\n\t\t\t\t\tdragMove: (pos) => {\n\t\t\t\t\t\tthis.movePointTo(index, pos)\n\t\t\t\t\t},\n\t\t\t\t\tdragEnd: () => {\n\t\t\t\t\t\treturn startPositions[index].eq(this.referencePoints[index])\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const pointSVG of this.resizableSVGs) {\n\t\t\t\tAdjustDragHandler.snapDrag(this, pointSVG, false)\n\t\t\t\tpointSVG?.remove()\n\t\t\t}\n\t\t\tthis.resizableSVGs = []\n\t\t}\n\t\tthis.update()\n\t}\n\n\tpublic toJson(): PathSaveObject {\n\t\tlet data = super.toJson() as PathSaveObject\n\t\tdata.points = this.referencePoints.map((point) => point.simplifyForJson())\n\t\treturn data\n\t}\n\tprotected applyJson(saveObject: PathSaveObject): void {\n\t\tsuper.applyJson(saveObject)\n\t\tthis.referencePoints = saveObject.points ? saveObject.points.map((point) => new SVG.Point(point)) : []\n\t}\n\tpublic rotate(angleDeg: number): void {\n\t\tthis.referencePoints = this.referencePoints.map((point) => point.rotate(angleDeg, this.position))\n\t\tthis.update()\n\t}\n\tpublic flip(horizontalAxis: boolean): void {}\n\n\tpublic placeMove(pos: SVG.Point, ev?: Event): void {\n\t\tif (this.referencePoints.length > 0) {\n\t\t\tthis.movePointTo(this.referencePoints.length - 1, pos)\n\t\t}\n\t}\n\n\tpublic placeStep(pos: SVG.Point, ev?: Event): boolean {\n\t\tif (this.finishedPlacing) {\n\t\t\treturn true\n\t\t}\n\n\t\tif (this.referencePoints.length == 0) {\n\t\t\tthis.referencePoints.push(pos.clone())\n\t\t\tthis.visualization.show()\n\t\t\tthis.updateTheme()\n\t\t} else {\n\t\t\tif (this.referencePoints.at(-2).eq(pos)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\tif (this.pointLimit > 0 && this.referencePoints.length >= this.pointLimit) {\n\t\t\tthis.placeMove(pos, ev)\n\t\t\tthis.referencePoints.push(new SVG.Point())\n\t\t\treturn true\n\t\t}\n\n\t\tthis.referencePoints.push(pos)\n\t\tthis.placeMove(pos, ev)\n\t\treturn false\n\t}\n\n\tpublic placeFinish(): void {\n\t\tif (this.finishedPlacing) {\n\t\t\treturn\n\t\t}\n\t\tif (this.referencePoints.length == 0) {\n\t\t\tthis.placeStep(new SVG.Point())\n\t\t}\n\t\tthis.referencePoints.pop()\n\t\tif (this.referencePoints.length >= 2 && this.referencePoints.at(-1).eq(this.referencePoints.at(-2))) {\n\t\t\tthis.referencePoints.pop()\n\t\t}\n\t\tif (this.referencePoints.length < 2) {\n\t\t\t// if not even 2 corner points -> no polygon, delete\n\t\t\tMainController.instance.removeComponent(this)\n\t\t\treturn\n\t\t}\n\t\tthis.finishedPlacing = true\n\t\tthis.update()\n\t}\n\n\tpublic toTikzString(): string {\n\t\tlet command: TikzPathCommand = {\n\t\t\toptions: [],\n\t\t\tadditionalNodes: [],\n\t\t\tconnectors: [],\n\t\t\tcoordinates: [],\n\t\t}\n\t\tthis.buildTikzCommand(command)\n\t\treturn buildTikzStringFromPathCommand(command)\n\t}\n\n\tprotected buildTikzCommand(command: TikzPathCommand): void {\n\t\tsuper.buildTikzCommand(command)\n\n\t\tcommand.coordinates.push(...this.referencePoints)\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tChoiceEntry,\n\tComponentSaveObject,\n\tdefaultStroke,\n\tclosestBasicDirection,\n\tPositionLabelable,\n\tNameable,\n\tPositionedLabel,\n\tsimpifyRotationAndScale,\n\tbuildTikzStringFromNodeCommand,\n\tTikzNodeCommand,\n\tSaveController,\n} from \"../internal\"\nimport { CircuitComponent } from \"./circuitComponent\"\n\nexport const basicDirections: DirectionInfo[] = [\n\t{ key: \"default\", name: \"default\", direction: new SVG.Point(NaN, NaN) },\n\t{ key: \"center\", name: \"center\", direction: new SVG.Point() },\n\t{ key: \"north\", name: \"north\", direction: new SVG.Point(0, -1), pointer: \"ns-resize\" },\n\t{ key: \"south\", name: \"south\", direction: new SVG.Point(0, 1), pointer: \"ns-resize\" },\n\t{ key: \"east\", name: \"east\", direction: new SVG.Point(1, 0), pointer: \"ew-resize\" },\n\t{ key: \"west\", name: \"west\", direction: new SVG.Point(-1, 0), pointer: \"ew-resize\" },\n\t{ key: \"northeast\", name: \"north east\", direction: new SVG.Point(1, -1), pointer: \"nesw-resize\" },\n\t{ key: \"northwest\", name: \"north west\", direction: new SVG.Point(-1, -1), pointer: \"nwse-resize\" },\n\t{ key: \"southeast\", name: \"south east\", direction: new SVG.Point(1, 1), pointer: \"nwse-resize\" },\n\t{ key: \"southwest\", name: \"south west\", direction: new SVG.Point(-1, 1), pointer: \"nesw-resize\" },\n]\nexport const defaultBasicDirection = basicDirections[0]\n\nexport type DirectionInfo = ChoiceEntry & {\n\tdirection: SVG.Point\n\tpointer?: string\n}\n\nexport type NodeSaveObject = ComponentSaveObject & {\n\tposition: SVG.Point\n\tscale?: SVG.Point\n\trotation?: number\n\tlabel?: PositionedLabel\n\tname?: string\n}\n\n/**\n * abstract super class for all node components.\n * This includes all components that are represented by a node, i.e. are drawn via a tikz node command at a single position.\n *\n * Examples are: transistors, ground, rectangles, text boxes, etc.\n *\n * Extend this class to create a new component which is represented by a node.\n *\n * NodeComponents are edited/adjusted in local coordinates. Transformations like translation (moving), rotation, scaling and flipping are done by changing the transformation Matrix\n */\nexport abstract class NodeComponent extends PositionLabelable(Nameable(CircuitComponent)) {\n\t/**\n\t * the current rotation angle in degrees\n\t */\n\tpublic rotationDeg: number = 0\n\n\tprotected scaleState: SVG.Point\n\t/**\n\t * the component size in local coordinates\n\t */\n\tprotected size: SVG.Point\n\n\tprotected resizeVisualizations: Map<DirectionInfo, SVG.Element>\n\tprotected isResizing: boolean = false\n\n\t// where the text should go by default in local coordinates\n\tprotected defaultTextPosition: SVG.Point\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.position = new SVG.Point()\n\t\tthis.size = new SVG.Point()\n\n\t\tthis.rotationDeg = 0\n\t\tthis.scaleState = new SVG.Point(1, 1)\n\n\t\tthis.defaultTextPosition = new SVG.Point()\n\t}\n\n\tpublic abstract resizable(resize: boolean): void\n\n\tpublic placeMove(pos: SVG.Point): void {\n\t\tthis.moveTo(pos)\n\t}\n\tpublic placeRotate(angleDeg: number): void {\n\t\tthis.rotate(angleDeg)\n\t}\n\tpublic placeFlip(horizontal: boolean): void {\n\t\tthis.flip(horizontal)\n\t}\n\tpublic placeStep(pos: SVG.Point): boolean {\n\t\tthis.moveTo(pos)\n\t\treturn true\n\t}\n\tpublic placeFinish(): void {\n\t\t// make draggable\n\t\tthis.finishedPlacing = true\n\t\tthis.update()\n\t}\n\n\tpublic remove(): void {\n\t\tsuper.remove()\n\t\tthis.labelRendering?.remove()\n\t}\n\n\tpublic moveRel(delta: SVG.Point): void {\n\t\tthis.moveTo(this.position.add(delta))\n\t}\n\n\tpublic getTransformMatrix(): SVG.Matrix {\n\t\treturn new SVG.Matrix({\n\t\t\tscaleX: this.scaleState.x,\n\t\t\tscaleY: this.scaleState.y,\n\t\t\ttranslate: [-this.referencePosition.x, -this.referencePosition.y],\n\t\t\torigin: [this.referencePosition.x, this.referencePosition.y],\n\t\t}).lmultiply(\n\t\t\tnew SVG.Matrix({\n\t\t\t\trotate: -this.rotationDeg,\n\t\t\t\ttranslate: [this.position.x, this.position.y],\n\t\t\t})\n\t\t)\n\t}\n\n\tpublic updateTheme() {\n\t\tlet labelColor = defaultStroke\n\t\tif (this.labelColor && this.labelColor.value) {\n\t\t\tlabelColor = this.labelColor.value.toString()\n\t\t}\n\t\tthis.labelRendering?.fill(labelColor)\n\t}\n\n\tprotected recalculateResizePoints(): void {}\n\n\tpublic moveTo(position: SVG.Point) {\n\t\tthis.position = position.clone()\n\t\tthis.update()\n\t}\n\n\tpublic rotate(angleDeg: number): void {\n\t\tthis.rotationDeg += angleDeg\n\t\tthis.simplifyRotationAngle()\n\n\t\tthis.update()\n\t}\n\n\t/**\n\t * helper method to always be between -180 and 180 degrees.\n\t */\n\tpublic simplifyRotationAngle() {\n\t\t// modulo with extra steps since js modulo is weird for negative numbers\n\t\tthis.rotationDeg = ((((this.rotationDeg + 180) % 360) + 360) % 360) - 180\n\t}\n\n\tpublic flip(horizontal: boolean): void {\n\t\tif (horizontal) {\n\t\t\tthis.scaleState.y *= -1\n\t\t\tthis.rotationDeg *= -1\n\t\t} else {\n\t\t\tthis.scaleState.y *= -1\n\t\t\tthis.rotationDeg = 180 - this.rotationDeg\n\t\t}\n\t\tthis.simplifyRotationAngle()\n\t\tthis.update()\n\t}\n\n\tpublic toJson(): NodeSaveObject {\n\t\tconst data = super.toJson() as NodeSaveObject\n\t\tdata.position = this.position.simplifyForJson()\n\n\t\tif (this.rotationDeg !== 0) {\n\t\t\tdata.rotation = this.rotationDeg\n\t\t}\n\t\tif (this.scaleState && (this.scaleState.x != 1 || this.scaleState.y != 1)) {\n\t\t\tdata.scale = this.scaleState\n\t\t}\n\n\t\treturn data\n\t}\n\n\tprotected applyJson(saveObject: NodeSaveObject): void {\n\t\tsuper.applyJson(saveObject)\n\t\tthis.position = new SVG.Point(saveObject.position)\n\t\t// @ts-ignore\n\t\tif (saveObject.rotation || saveObject.rotationDeg) {\n\t\t\t// @ts-ignore\n\t\t\tthis.rotationDeg = saveObject.rotation ?? saveObject.rotationDeg\n\t\t}\n\n\t\tif (saveObject.scale) {\n\t\t\tthis.scaleState = new SVG.Point(saveObject.scale)\n\t\t}\n\t}\n\n\tpublic toTikzString(): string {\n\t\tlet command: TikzNodeCommand = {\n\t\t\tadditionalNodes: [],\n\t\t\toptions: [],\n\t\t}\n\t\tthis.buildTikzCommand(command)\n\t\treturn buildTikzStringFromNodeCommand(command)\n\t}\n\n\tprotected buildTikzCommand(command: TikzNodeCommand) {\n\t\tsuper.buildTikzCommand(command)\n\t\tcommand.position = this.position\n\n\t\tlet [rotation, scale] = simpifyRotationAndScale(this.rotationDeg, this.scaleState)\n\n\t\tif (rotation !== 0) {\n\t\t\tcommand.options.push(\"rotate=\" + rotation)\n\t\t}\n\t\tif (scale.x != 1) {\n\t\t\tcommand.options.push(\"xscale=\" + scale.x)\n\t\t}\n\t\tif (scale.y != 1) {\n\t\t\tcommand.options.push(\"yscale=\" + scale.y)\n\t\t}\n\n\t\tconst shouldAddLabel = this.mathJaxLabel.value !== \"\"\n\t\tcommand.name = this.buildTikzName(shouldAddLabel)\n\t\tif (shouldAddLabel) {\n\t\t\tcommand.additionalNodes.push(this.buildTikzNodeLabel(command.name))\n\t\t}\n\t}\n\n\tpublic updatePositionedLabel(): void {\n\t\tif (!this.mathJaxLabel.value || !this.labelRendering) {\n\t\t\treturn\n\t\t}\n\t\tlet labelSVG = this.labelRendering\n\t\tlet transformMatrix = this.getTransformMatrix()\n\t\tlet textPos: SVG.Point // in local coords\n\t\tlet textDir: SVG.Point // normalized direction to size (length not normalized) in local coords\n\t\tlet halfSize = this.size.div(2)\n\n\t\t// calculate the text position in world space\n\t\tif (this.positionChoice.value.key == defaultBasicDirection.key) {\n\t\t\ttextPos = this.defaultTextPosition.transform(transformMatrix)\n\t\t\tthis.labelPos = undefined\n\t\t\ttextDir = closestBasicDirection(this.defaultTextPosition.sub(halfSize).div(halfSize)).direction\n\t\t} else {\n\t\t\tif (this.labelReferenceProperty.value.key == \"canvas\") {\n\t\t\t\t// the component should be placed absolute to the canvas\n\t\t\t\t// bring desired direction into local coordinates\n\t\t\t\ttextDir = this.positionChoice.value.direction.transform(\n\t\t\t\t\tnew SVG.Matrix({\n\t\t\t\t\t\trotate: -this.rotationDeg,\n\t\t\t\t\t\tscaleX: Math.sign(this.scaleState.x),\n\t\t\t\t\t\tscaleY: Math.sign(this.scaleState.y),\n\t\t\t\t\t}).inverse()\n\t\t\t\t)\n\t\t\t\t// check which label direction should be used to get the final correct direction\n\t\t\t\tthis.labelPos = closestBasicDirection(textDir)\n\t\t\t} else {\n\t\t\t\t// just use whatever is selected\n\t\t\t\tthis.labelPos = this.positionChoice.value\n\t\t\t}\n\t\t\ttextDir = this.labelPos.direction\n\t\t\ttextPos = halfSize.add(textDir.mul(halfSize)).transform(transformMatrix)\n\t\t}\n\n\t\tlet labelBBox = labelSVG.bbox()\n\n\t\t// calculate where on the label the anchor point should be\n\t\tlet labelDist = this.labelDistance.value.convertToUnit(\"px\").value ?? 0\n\t\tif (this.anchorChoice.value.key == defaultBasicDirection.key) {\n\t\t\t//transform anchor direction back to global coordinates\n\t\t\tlet labelRefDir = textDir.mul(-1).transform(\n\t\t\t\tnew SVG.Matrix({\n\t\t\t\t\trotate: -this.rotationDeg,\n\t\t\t\t\tscaleX: Math.sign(this.scaleState.x),\n\t\t\t\t\tscaleY: Math.sign(this.scaleState.y),\n\t\t\t\t})\n\t\t\t)\n\n\t\t\t// check which direction should be used to get the final correct direction\n\t\t\tthis.anchorPos = closestBasicDirection(labelRefDir)\n\t\t} else {\n\t\t\t// an explicit anchor was selected\n\t\t\tthis.anchorPos = this.anchorChoice.value\n\t\t}\n\t\tlet labelRef = this.anchorPos.direction\n\n\t\tlet ref = labelRef\n\t\t\t.add(1)\n\t\t\t.div(2)\n\t\t\t.mul(new SVG.Point(labelBBox.w, labelBBox.h))\n\t\t\t.add(new SVG.Point(labelBBox.x, labelBBox.y))\n\t\t\t.add(labelRef.mul(labelDist))\n\n\t\tlabelSVG.transform({ translate: textPos.sub(ref) })\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tCanvasController,\n\tCircuitComponent,\n\tMainController,\n\tModes,\n\tPropertyController,\n\tSelectionController,\n\tSelectionMode,\n\tSnapController,\n\tSnapCursorController,\n\tUndo,\n} from \"../internal\"\nimport hotkeys from \"hotkeys-js\"\n\n/**\n * used to place all components via user input\n */\nexport class ComponentPlacer {\n\t//singleton\n\tprivate static _instance: ComponentPlacer\n\t/**\n\t * the currently placing component\n\t */\n\tprivate _component: CircuitComponent | null\n\tpublic get component(): CircuitComponent | null {\n\t\treturn this._component\n\t}\n\n\tprivate previousComponent: CircuitComponent | null = null\n\n\tprivate constructor() {\n\t\tthis.placeStep = this.placeStep.bind(this)\n\t\tthis.placeMove = this.placeMove.bind(this)\n\t\tthis.placeFinish = this.placeFinish.bind(this)\n\t}\n\n\tpublic static get instance() {\n\t\treturn ComponentPlacer._instance ?? (ComponentPlacer._instance = new ComponentPlacer())\n\t}\n\n\tpublic static pointFromEvent(ev: MouseEvent | TouchEvent): SVG.Point {\n\t\tlet pt = CanvasController.eventToPoint(ev, false)\n\t\t// let pt:SVG.Point = new SVG.Point(ev.clientX, ev.clientY).transform(component.visualization.screenCTM().inverseO())\n\t\tif (!ev.shiftKey) {\n\t\t\tpt = SnapController.instance.snapPoint(pt, ComponentPlacer.instance.component)\n\t\t}\n\t\treturn pt\n\t}\n\n\t/**\n\t * Initiate one placement step\n\t * @param ev which event is responsible for the placement step\n\t */\n\tpublic placeStep(ev: MouseEvent | TouchEvent) {\n\t\tif (ev instanceof MouseEvent && ev.button !== 0) {\n\t\t\treturn\n\t\t}\n\t\tif (window.TouchEvent && ev instanceof TouchEvent && ev.touches.length !== 0) {\n\t\t\treturn\n\t\t}\n\t\tlet pt = ComponentPlacer.pointFromEvent(ev)\n\t\tif (this.component.placeStep(pt, ev)) {\n\t\t\tthis.placeFinish(ev)\n\t\t}\n\t\tSnapController.instance.recalculateAdditionalSnapPoints()\n\t}\n\n\t/**\n\t * Move the cursor/pointer/... while placing a component\n\t * @param ev which event is responsible for the movement\n\t */\n\tpublic placeMove(ev: MouseEvent | TouchEvent) {\n\t\tlet pt = ComponentPlacer.pointFromEvent(ev)\n\t\tthis.component.placeMove(pt, ev)\n\t\tSnapController.instance.showSnapPoints(!ev.shiftKey)\n\t\tSnapController.instance.recalculateAdditionalSnapPoints()\n\t\tSnapCursorController.instance.moveTo(pt)\n\t}\n\n\t/**\n\t * Rotate the component while placing\n\t * @param angleDeg angle in degrees\n\t */\n\tpublic placeRotate(angleDeg: number) {\n\t\tif (this.component) {\n\t\t\tthis.component.placeRotate(angleDeg)\n\t\t}\n\t}\n\n\t/**\n\t * Flip the component while placing\n\t * @param horizontal which axis to flip at\n\t */\n\tpublic placeFlip(horizontal: boolean) {\n\t\tif (this.component) {\n\t\t\tthis.component.placeFlip(horizontal)\n\t\t}\n\t}\n\n\t/**\n\t * (Force) finish the component placement\n\t */\n\tpublic placeFinish(ev: Event) {\n\t\tif (this.component) {\n\t\t\tthis.component.placeFinish()\n\t\t\tthis.cleanUp()\n\t\t\tUndo.addState()\n\n\t\t\t// restart component placement for just finished component\n\t\t\tif (window.TouchEvent && !(ev instanceof TouchEvent)) {\n\t\t\t\tthis.previousComponent = this.component\n\t\t\t\tthis.placeComponent(this.component.copyForPlacement())\n\t\t\t} else {\n\t\t\t\tthis._component = null\n\t\t\t\tMainController.instance.switchMode(Modes.DRAG_PAN)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * cancel the component placement\n\t * @param ev which event is responsible for the cancellation\n\t */\n\tpublic placeCancel(ev?: KeyboardEvent) {\n\t\tlet component = this.component\n\t\tif (component) {\n\t\t\tcomponent.placeFinish()\n\t\t\tMainController.instance.removeComponent(component)\n\t\t\tthis._component = null\n\t\t}\n\t\tif (this.previousComponent) {\n\t\t\tSelectionController.instance.selectComponents([this.previousComponent], SelectionMode.RESET)\n\t\t}\n\t\tthis.previousComponent = null\n\t\tthis.cleanUp()\n\t\tSnapCursorController.instance.visible = false\n\t\tMainController.instance.switchMode(Modes.DRAG_PAN)\n\t}\n\n\t/**\n\t * Get rid of now not needed event listeners\n\t */\n\tprivate cleanUp() {\n\t\tSnapController.instance.showSnapPoints(false)\n\t\t//remove event listeners\n\t\tlet canvas = CanvasController.instance.canvas\n\t\tcanvas.off(\"mousemove\", this.placeMove)\n\t\tcanvas.off(\"touchmove\", this.placeMove)\n\t\tcanvas.off(\"mouseup\", this.placeStep)\n\t\tcanvas.off(\"touchend\", this.placeStep)\n\t\t// canvas.off(\"dblclick\",this.placeFinish)\n\t\thotkeys.unbind(\"enter\", this.placeFinish)\n\t}\n\n\t/**\n\t * Place a new Component. The component should be an initialized instance of a CircuitComponent\n\t * @param component which component to place\n\t */\n\tpublic placeComponent(component: CircuitComponent) {\n\t\tMainController.instance.switchMode(Modes.COMPONENT)\n\t\tthis._component = component\n\t\tSnapController.instance.updateSnapPoints(component, false)\n\t\tSnapController.instance.showSnapPoints()\n\t\tPropertyController.instance.update()\n\n\t\t// add event listeners to canvas\n\t\tlet canvas = CanvasController.instance.canvas\n\t\tcanvas.on(\"mousemove\", this.placeMove)\n\t\tcanvas.on(\"touchmove\", this.placeMove)\n\t\tcanvas.on(\"mouseup\", this.placeStep)\n\t\tcanvas.on(\"touchend\", this.placeStep)\n\t\thotkeys(\"enter\", { keyup: false, keydown: true }, this.placeFinish)\n\n\t\t// move once to actually place the component at the mouse position\n\t\tthis.component.placeMove(CanvasController.instance.lastCanvasPoint)\n\t\tSnapCursorController.instance.moveTo(\n\t\t\tSnapController.instance.snapPoint(CanvasController.instance.lastCanvasPoint, component)\n\t\t)\n\t\tSnapController.instance.recalculateAdditionalSnapPoints()\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport { ensureInPx } from \"../utils/impSVGNumber\"\nimport { CanvasController } from \"../internal\"\n\n/**\n * a point where one can snap to relative to the component position\n */\nexport type TikZAnchor = {\n\tname?: string\n\tx: SVG.Number\n\ty: SVG.Number\n\tpoint?: SVG.Point\n\tisDefault: boolean\n}\n\nexport type SymbolOption = {\n\tname: string\n\tdisplayName?: string\n\tselected?: boolean\n}\n\nexport type EnumOption = {\n\toptions: SymbolOption[]\n\tselectNone: boolean\n\tdisplayName: string\n}\n\nexport type Variant = {\n\tmid: SVG.Point\n\tviewBox: SVG.Box\n\toptions: SymbolOption[]\n\tsymbol: SVG.Symbol\n\tpins: TikZAnchor[]\n\ttextPosition: TikZAnchor\n\tdefaultAnchor: TikZAnchor\n\tmaxStroke: number\n}\n\n/**\n * Representation of a symbol and its metadata\n */\nexport class ComponentSymbol extends SVG.Symbol {\n\t_mapping: Map<string, Variant>\n\n\tpossibleOptions: SymbolOption[]\n\tpossibleEnumOptions: EnumOption[]\n\n\t/**\n\t * what the component is called\n\t */\n\tdisplayName: string\n\t/**\n\t * the tikz id\n\t */\n\ttikzName: string\n\t/**\n\t * in which group the symbol is located\n\t */\n\tgroupName: string | null\n\n\tviewBox: SVG.Box | null\n\tisNodeSymbol: boolean\n\tsymbolElement: SVG.Symbol\n\n\t/**\n\t * which tikz options where used for this symbol\n\t */\n\t_tikzOptions: SymbolOption[]\n\n\tmaxStroke: number = 0\n\n\tconstructor(componentMetadata: Element) {\n\t\tconst variants = componentMetadata.getElementsByTagName(\"variant\")\n\n\t\tconst firstSymbol = componentMetadata.ownerDocument.getElementById(variants[0].getAttribute(\"for\"))\n\t\tsuper(firstSymbol)\n\t\tthis.isNodeSymbol = componentMetadata.getAttribute(\"type\") == \"node\"\n\n\t\tthis.tikzName = componentMetadata?.getAttribute(\"tikz\") ?? null\n\t\tthis.displayName = componentMetadata?.getAttribute(\"display\") ?? this.tikzName\n\t\tthis.groupName = componentMetadata?.getAttribute(\"group\") ?? null\n\n\t\tconst tikzOptions = componentMetadata.getElementsByTagName(\"options\")[0]\n\t\tif (tikzOptions) {\n\t\t\tthis.possibleEnumOptions = Array.from(tikzOptions.getElementsByTagName(\"enumopt\")).map<EnumOption>(\n\t\t\t\t(enumOption) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\toptions: Array.from(enumOption.getElementsByTagName(\"option\")).map(\n\t\t\t\t\t\t\tthis.optionMetadataToSymbolOption\n\t\t\t\t\t\t),\n\t\t\t\t\t\tselectNone:\n\t\t\t\t\t\t\tenumOption.hasAttribute(\"selectNone\") ?\n\t\t\t\t\t\t\t\tenumOption.getAttribute(\"selectNone\") == \"true\"\n\t\t\t\t\t\t\t:\ttrue,\n\t\t\t\t\t\tdisplayName: enumOption.getAttribute(\"name\") ?? \"Choose an option\",\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\tthis.possibleOptions = Array.from(tikzOptions.getElementsByTagName(\"option\"))\n\t\t\t\t.filter((option) => {\n\t\t\t\t\treturn option.parentElement.tagName == \"options\"\n\t\t\t\t})\n\t\t\t\t.map<SymbolOption>((option) => this.optionMetadataToSymbolOption(option))\n\t\t} else {\n\t\t\tthis.possibleOptions = []\n\t\t\tthis.possibleEnumOptions = []\n\t\t}\n\n\t\tthis.viewBox = new SVG.Box(variants[0].getAttribute(\"viewBox\"))\n\t\tthis._mapping = new Map<string, Variant>()\n\t\tfor (const variant of variants) {\n\t\t\t// get options\n\t\t\tvar symbolOptions = this.getOptionsFromOptionNames(\n\t\t\t\tArray.from(variant.getElementsByTagName(\"option\")).map((option) => option.getAttribute(\"name\"))\n\t\t\t)\n\n\t\t\tconst symbolID = variant.getAttribute(\"for\")\n\t\t\tconst symbol = new SVG.Symbol(componentMetadata.ownerDocument.getElementById(symbolID))\n\n\t\t\tlet maxStroke = 0\n\t\t\tif (symbol.node.id) {\n\t\t\t\tsymbol.node.querySelectorAll(\"[stroke-width]\").forEach((item) => {\n\t\t\t\t\tlet strokeWidth = Number.parseFloat(item.getAttribute(\"stroke-width\"))\n\t\t\t\t\tmaxStroke = strokeWidth > maxStroke ? strokeWidth : maxStroke\n\t\t\t\t})\n\n\t\t\t\t// udpate the bbox for a tighter fit\n\t\t\t\tlet use = CanvasController.instance.canvas.use(symbol.node.id)\n\t\t\t\tlet usenode = use.node as SVGGraphicsElement\n\t\t\t\tconst domrect = usenode.getBBox({ stroke: true, markers: true })\n\n\t\t\t\tlet box = new SVG.Box(domrect.x, domrect.y, domrect.width, domrect.height)\n\n\t\t\t\tvariant.setAttribute(\"viewBox\", box.toString())\n\t\t\t\tuse.remove()\n\t\t\t}\n\n\t\t\tlet pinArray = Array.from(variant.getElementsByTagName(\"pin\")) ?? []\n\t\t\tconst pins = pinArray.map(this.parseAnchor, this)\n\t\t\tconst defaultAnchor = pins.find((pin) => pin.isDefault) || {\n\t\t\t\tname: \"center\",\n\t\t\t\tx: new SVG.Number(),\n\t\t\t\ty: new SVG.Number(),\n\t\t\t\tisDefault: true,\n\t\t\t\tpoint: new SVG.Point(0, 0),\n\t\t\t}\n\n\t\t\tconst textPositionElement = variant.getElementsByTagName(\"textpos\")[0]\n\t\t\tlet textAnchor: TikZAnchor\n\t\t\tif (textPositionElement) {\n\t\t\t\ttextAnchor = this.parseAnchor(textPositionElement)\n\t\t\t\ttextAnchor.name = \"text\"\n\t\t\t} else {\n\t\t\t\ttextAnchor = defaultAnchor\n\t\t\t}\n\n\t\t\tvar variantObject: Variant = {\n\t\t\t\tmid: new SVG.Point(\n\t\t\t\t\tensureInPx(variant.getAttribute(\"x\") ?? 0),\n\t\t\t\t\tensureInPx(variant.getAttribute(\"y\") ?? 0)\n\t\t\t\t),\n\t\t\t\tviewBox: new SVG.Box(variant.getAttribute(\"viewBox\")),\n\t\t\t\tsymbol: new SVG.Symbol(componentMetadata.ownerDocument.getElementById(symbolID)),\n\t\t\t\tpins: pins,\n\t\t\t\ttextPosition: textAnchor,\n\t\t\t\tdefaultAnchor: defaultAnchor,\n\t\t\t\toptions: symbolOptions,\n\t\t\t\tmaxStroke: maxStroke,\n\t\t\t}\n\n\t\t\tconst clickElement = symbol\n\t\t\t\t.rect(variantObject.viewBox.width, variantObject.viewBox.height)\n\t\t\t\t.center(variantObject.viewBox.cx, variantObject.viewBox.cy)\n\t\t\tclickElement.fill(\"transparent\").stroke(\"none\").addClass(\"clickBackground\")\n\n\t\t\tsymbol.add(clickElement)\n\n\t\t\tthis._mapping.set(this.optionsToStringArray(symbolOptions).join(\", \"), variantObject)\n\t\t}\n\n\t\tconst first = this._mapping.values().toArray()[0]\n\t\tthis.symbolElement = first.symbol\n\t\tthis.maxStroke = first.maxStroke\n\t}\n\n\tprivate optionMetadataToSymbolOption(option: Element): SymbolOption {\n\t\treturn {\n\t\t\tname: option.getAttribute(\"name\"),\n\t\t\tdisplayName: option.getAttribute(\"display\") ?? undefined,\n\t\t}\n\t}\n\n\tpublic optionsToStringArray(options: SymbolOption[]) {\n\t\treturn options\n\t\t\t.sort((a, b) => {\n\t\t\t\tif (a.name < b.name) {\n\t\t\t\t\treturn -1\n\t\t\t\t} else if (a.name > b.name) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn 0\n\t\t\t})\n\t\t\t.map((option) => {\n\t\t\t\treturn option.name\n\t\t\t})\n\t}\n\n\tpublic getVariant(options: SymbolOption[]): Variant {\n\t\treturn this._mapping.get(this.optionsToStringArray(options).join(\", \"))\n\t}\n\n\t/**\n\t * Parses an anchor (pin, anchor and textPosition). If `isDefault` is set, `this.defaultAnchor` will be set.\n\t *\n\t * @param {Element} anchorElement - the element to parse\n\t * @returns {TikZAnchor} the parsed anchor\n\t */\n\tprivate parseAnchor(anchorElement: Element): TikZAnchor {\n\t\tconst numberRegEx = /^(\\d*\\.)?\\d+$/ // \"1\", \".1\", \"1.1\"; but not \"1.\"\n\t\tlet anchor: TikZAnchor = {\n\t\t\tname: anchorElement.getAttribute(\"name\") || anchorElement.getAttribute(\"anchorname\") || undefined,\n\t\t\tx: new SVG.Number(anchorElement.getAttribute(\"x\") ?? \"0\"),\n\t\t\ty: new SVG.Number(anchorElement.getAttribute(\"y\") ?? \"0\"),\n\t\t\tisDefault:\n\t\t\t\tBoolean(anchorElement.getAttribute(\"isDefault\")) ||\n\t\t\t\tBoolean(anchorElement.getAttribute(\"isdefault\")) ||\n\t\t\t\tfalse,\n\t\t}\n\t\tif (typeof anchor.x === \"string\" && numberRegEx.test(anchor.x)) anchor.x = new SVG.Number(anchor.x)\n\t\tif (typeof anchor.y === \"string\" && numberRegEx.test(anchor.y)) anchor.y = new SVG.Number(anchor.y)\n\t\tif (typeof anchor.isDefault !== \"boolean\") anchor.isDefault = anchor.isDefault === \"true\"\n\n\t\tanchor.point = new SVG.Point(ensureInPx(anchor.x), ensureInPx(anchor.y))\n\n\t\treturn anchor\n\t}\n\n\tpublic getOptionsFromOptionNames(options: string[]): SymbolOption[] {\n\t\tconst result: SymbolOption[] = []\n\n\t\tfunction optionsEqual(opt1: SymbolOption, opt2: string): boolean {\n\t\t\tconst optionReplaced = opt2.replaceAll(\" \", \"-\")\n\t\t\treturn (\n\t\t\t\t(opt1.displayName ? opt1.displayName.replaceAll(\" \", \"-\") == optionReplaced : false) ||\n\t\t\t\topt1.name.replaceAll(\" \", \"-\") == optionReplaced\n\t\t\t)\n\t\t}\n\n\t\tfor (const option of options) {\n\t\t\tlet foundOption = this.possibleOptions.find((value) => optionsEqual(value, option))\n\t\t\tif (foundOption) {\n\t\t\t\tresult.push(foundOption)\n\t\t\t} else {\n\t\t\t\tfor (const enumOption of this.possibleEnumOptions) {\n\t\t\t\t\tfoundOption = enumOption.options.find((value) => optionsEqual(value, option))\n\t\t\t\t\tif (foundOption) {\n\t\t\t\t\t\tresult.push(foundOption)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result\n\t}\n\tpublic getOptionsFromSymbolID(id: string): SymbolOption[] {\n\t\tconst idSplit = id.split(this.tikzName.replaceAll(\" \", \"-\"))[1]\n\t\tif (idSplit == \"\") {\n\t\t\treturn []\n\t\t}\n\t\tconst options: string[] = idSplit.split(\"_\").slice(1)\n\t\treturn this.getOptionsFromOptionNames(options)\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tBooleanProperty,\n\tbuildTikzStringFromNodeCommand,\n\tCanvasController,\n\tChoiceEntry,\n\tChoiceProperty,\n\tCircuitComponent,\n\tComponentSymbol,\n\tdefaultFill,\n\tdefaultStroke,\n\tEnumOption,\n\tInfoProperty,\n\tMainController,\n\tNodeComponent,\n\tNodeSaveObject,\n\tPropertyCategories,\n\tSaveController,\n\tSectionHeaderProperty,\n\tSliderProperty,\n\tSnappingInfo,\n\tSnapPoint,\n\tSymbolOption,\n\tTikzNodeCommand,\n\tVariant,\n} from \"../internal\"\nimport { selectedBoxWidth } from \"../utils/selectionHelper\"\n\n// TODO don't use <use> element as the component visualisation, but directly the symbol's children\n\nexport type NodeSymbolSaveObject = NodeSaveObject & {\n\tid: string\n\toptions?: string[]\n}\n\n/**\n * The class representing all node components which are based on static symbols from the symbol database, i.e. node circuitikz symbols\n */\nexport class NodeSymbolComponent extends NodeComponent {\n\tprivate static jsonID = \"node\"\n\tstatic {\n\t\tCircuitComponent.jsonSaveMap.set(NodeSymbolComponent.jsonID, NodeSymbolComponent)\n\t}\n\t/**\n\t * All the possible symbol variants for this node component.\n\t */\n\tpublic referenceSymbol: ComponentSymbol\n\n\tprotected optionProperties: Map<BooleanProperty, SymbolOption>\n\tprotected optionEnumProperties: Map<ChoiceProperty<ChoiceEntry>, EnumOption>\n\tprotected componentVariant: Variant\n\n\tprotected scaleProperty: SliderProperty\n\n\tconstructor(symbol: ComponentSymbol) {\n\t\tsuper()\n\t\tthis.displayName = symbol.displayName\n\t\tthis.referenceSymbol = symbol\n\n\t\tthis.optionProperties = new Map()\n\t\tthis.optionEnumProperties = new Map()\n\n\t\tthis.scaleState = new SVG.Point(1, 1)\n\t\tthis.scaleProperty = new SliderProperty(\n\t\t\t\"Scale\",\n\t\t\t0.1,\n\t\t\t10,\n\t\t\t0.01,\n\t\t\tnew SVG.Number(1),\n\t\t\ttrue,\n\t\t\tundefined,\n\t\t\t\"manipulation:scale\"\n\t\t)\n\t\tthis.scaleProperty.addChangeListener((ev) => {\n\t\t\tthis.scaleState = new SVG.Point(\n\t\t\t\tMath.sign(this.scaleState.x) * ev.value.value,\n\t\t\t\tMath.sign(this.scaleState.y) * ev.value.value\n\t\t\t)\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.manipulation, this.scaleProperty)\n\n\t\t// initialize UI for options handling\n\t\tif (symbol.possibleOptions.length > 0 || symbol.possibleEnumOptions.length > 0) {\n\t\t\tthis.properties.add(\n\t\t\t\tPropertyCategories.options,\n\t\t\t\tnew SectionHeaderProperty(\"Options\", undefined, \"options:header\")\n\t\t\t)\n\t\t\tfor (const option of symbol.possibleOptions) {\n\t\t\t\tconst property = new BooleanProperty(\n\t\t\t\t\toption.displayName ?? option.name,\n\t\t\t\t\tfalse,\n\t\t\t\t\tundefined,\n\t\t\t\t\t\"options:option\" + option.name\n\t\t\t\t)\n\t\t\t\tproperty.addChangeListener((ev) => {\n\t\t\t\t\tthis.updateOptions()\n\t\t\t\t})\n\t\t\t\tthis.optionProperties.set(property, option)\n\t\t\t\tthis.properties.add(PropertyCategories.options, property)\n\t\t\t}\n\t\t\tfor (const enumOption of symbol.possibleEnumOptions) {\n\t\t\t\tlet choices: ChoiceEntry[] = enumOption.selectNone ? [{ key: \"-\", name: \"--default--\" }] : []\n\t\t\t\tenumOption.options.forEach((option) => {\n\t\t\t\t\tchoices.push({ key: option.name, name: option.displayName ?? option.name })\n\t\t\t\t})\n\t\t\t\tconst property = new ChoiceProperty(\n\t\t\t\t\tenumOption.displayName,\n\t\t\t\t\tchoices,\n\t\t\t\t\tchoices[0],\n\t\t\t\t\tundefined,\n\t\t\t\t\t\"options:enum_\" + enumOption.displayName\n\t\t\t\t)\n\n\t\t\t\tproperty.addChangeListener((ev) => {\n\t\t\t\t\tthis.updateOptions()\n\t\t\t\t})\n\t\t\t\tthis.optionEnumProperties.set(property, enumOption)\n\t\t\t\tthis.properties.add(PropertyCategories.options, property)\n\t\t\t}\n\t\t}\n\n\t\tthis.componentVariant = symbol.getVariant(this.optionsFromProperties())\n\t\tthis.size = new SVG.Point(this.componentVariant.viewBox.w, this.componentVariant.viewBox.h)\n\t\tthis.defaultTextPosition = this.componentVariant.textPosition.point.add(this.componentVariant.mid)\n\n\t\tthis.componentVisualization = CanvasController.instance.canvas.use(this.componentVariant.symbol)\n\t\tthis.componentVisualization.fill(defaultFill)\n\t\tthis.componentVisualization.stroke(defaultStroke)\n\t\tthis.componentVisualization.node.style.color = defaultStroke\n\t\tthis.referencePosition = this.componentVariant.mid\n\t\tthis.visualization.add(this.componentVisualization)\n\t\tthis.dragElement = this.componentVisualization\n\n\t\tthis.addInfo()\n\n\t\tthis.snappingPoints = this.componentVariant.pins.map(\n\t\t\t(pin) => new SnapPoint(this, pin.name, pin.point.add(this.componentVariant.mid))\n\t\t)\n\t}\n\n\tpublic resizable(resize: boolean): void {}\n\n\tprotected optionsFromProperties(): SymbolOption[] {\n\t\tconst selectedOptions: SymbolOption[] = []\n\t\tthis.optionProperties.forEach((option, property) => {\n\t\t\tif (property.value) {\n\t\t\t\tselectedOptions.push(option)\n\t\t\t}\n\t\t})\n\t\tthis.optionEnumProperties.forEach((option, property) => {\n\t\t\tif (property.value.key != \"-\") {\n\t\t\t\tselectedOptions.push(\n\t\t\t\t\toption.options.find((o) => {\n\t\t\t\t\t\treturn o.name == property.value.key\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t\treturn selectedOptions\n\t}\n\n\tprotected addInfo() {\n\t\tthis.properties.add(PropertyCategories.info, new SectionHeaderProperty(\"Info\"))\n\t\t// the tikz id of the component. e.g. \"nmos\" in \"\\node[nmos] at (0,0){};\"\n\t\tthis.properties.add(PropertyCategories.info, new InfoProperty(\"ID\", this.referenceSymbol.tikzName))\n\t}\n\n\tprotected setPropertiesFromOptions(options: SymbolOption[]) {\n\t\tthis.optionProperties.forEach((value, property) => {\n\t\t\tif (options.find((op) => op.name == value.name)) {\n\t\t\t\tproperty.value = true\n\t\t\t} else {\n\t\t\t\tproperty.value = false\n\t\t\t}\n\t\t})\n\t\tthis.optionEnumProperties.forEach((enumOption, property) => {\n\t\t\tlet foundOption = false\n\t\t\tfor (const option of enumOption.options) {\n\t\t\t\tif (options.find((op) => op.name == option.name)) {\n\t\t\t\t\tfoundOption = true\n\t\t\t\t\tproperty.value = property.entries.find((entry) => entry.key == option.name)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!foundOption) {\n\t\t\t\tproperty.value = property.entries[0]\n\t\t\t}\n\t\t})\n\t\tthis.updateOptions()\n\t}\n\n\tprotected updateOptions() {\n\t\tthis.componentVariant = this.referenceSymbol.getVariant(this.optionsFromProperties())\n\t\tthis.referencePosition = this.componentVariant.mid\n\t\tthis.componentVisualization.node.setAttribute(\"href\", \"#\" + this.componentVariant.symbol.id())\n\t\tthis.size = new SVG.Point(this.componentVariant.viewBox.w, this.componentVariant.viewBox.h)\n\t\tthis.defaultTextPosition = this.componentVariant.textPosition.point.add(this.componentVariant.mid)\n\n\t\tthis.snappingPoints = this.componentVariant.pins.map(\n\t\t\t(pin) => new SnapPoint(this, pin.name, pin.point.add(this.componentVariant.mid))\n\t\t)\n\t\tthis.update()\n\t}\n\n\tpublic getSnappingInfo(): SnappingInfo {\n\t\treturn {\n\t\t\ttrackedSnappingPoints: this.snappingPoints,\n\t\t\tadditionalSnappingPoints: [new SnapPoint(this, \"center\", this.componentVariant.mid)],\n\t\t}\n\t}\n\n\tprotected update() {\n\t\tlet m = this.getTransformMatrix()\n\t\tthis.componentVisualization.transform(m)\n\t\tthis._bbox = this.componentVariant.viewBox.transform(m)\n\n\t\tthis.updatePositionedLabel()\n\n\t\tthis.recalculateSelectionVisuals()\n\t\tthis.recalculateSnappingPoints()\n\t}\n\n\tprotected recalculateSelectionVisuals(): void {\n\t\tif (this.selectionElement) {\n\t\t\t// use the saved position instead of the bounding box (bbox position fails in safari)\n\t\t\tlet bbox = this.componentVariant.viewBox\n\t\t\tlet maxStroke = this.componentVariant.maxStroke\n\n\t\t\tthis.selectionElement\n\t\t\t\t.size(bbox.w + maxStroke + selectedBoxWidth, bbox.h + maxStroke + selectedBoxWidth)\n\t\t\t\t.transform(\n\t\t\t\t\tthis.getTransformMatrix().multiply(\n\t\t\t\t\t\tnew SVG.Matrix({\n\t\t\t\t\t\t\ttranslate: [\n\t\t\t\t\t\t\t\tbbox.x - (selectedBoxWidth + maxStroke) / 2,\n\t\t\t\t\t\t\t\tbbox.y - (selectedBoxWidth + maxStroke) / 2,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t}\n\t}\n\n\tpublic toJson(): NodeSymbolSaveObject {\n\t\tlet data = super.toJson() as NodeSymbolSaveObject\n\t\tdata.type = NodeSymbolComponent.jsonID\n\t\tdata.id = this.referenceSymbol.tikzName\n\n\t\tif (this.componentVariant.options.length > 0) {\n\t\t\tdata.options = this.componentVariant.options.map((option) => option.displayName ?? option.name)\n\t\t}\n\t\tif (this.name.value) {\n\t\t\tdata.name = this.name.value\n\t\t}\n\n\t\treturn data\n\t}\n\n\tpublic toTikzString(): string {\n\t\tlet command: TikzNodeCommand = {\n\t\t\toptions: [this.referenceSymbol.tikzName],\n\t\t\tadditionalNodes: [],\n\t\t}\n\t\tthis.buildTikzCommand(command)\n\t\treturn buildTikzStringFromNodeCommand(command)\n\t}\n\n\tprotected buildTikzCommand(command: TikzNodeCommand): void {\n\t\tcommand.options.push(...this.referenceSymbol.optionsToStringArray(this.optionsFromProperties()))\n\t\tsuper.buildTikzCommand(command)\n\t}\n\n\tprotected applyJson(saveObject: NodeSymbolSaveObject): void {\n\t\tsuper.applyJson(saveObject)\n\t\tlet options = saveObject.options ?? []\n\t\tthis.setPropertiesFromOptions(this.referenceSymbol.getOptionsFromOptionNames(options))\n\t\tthis.scaleProperty.value = new SVG.Number(Math.abs(this.scaleState.x))\n\t\tthis.update()\n\t\tthis.updateTheme()\n\t}\n\n\tpublic static fromJson(saveObject: NodeSymbolSaveObject): NodeSymbolComponent {\n\t\tlet symbol: ComponentSymbol\n\n\t\tif (SaveController.instance.currentlyLoadedSaveVersion != \"\") {\n\t\t\tsymbol = MainController.instance.symbols.find((symbol) => symbol.tikzName == saveObject.id)\n\t\t} else {\n\t\t\tlet idParts = saveObject.id.split(\"_\")\n\t\t\tsymbol = MainController.instance.symbols.find(\n\t\t\t\t(symbol) => symbol.tikzName == idParts[1].replaceAll(\"-\", \" \")\n\t\t\t)\n\t\t\tsaveObject.options = idParts.slice(2)\n\t\t}\n\t\tif (symbol) {\n\t\t\tlet nodeComponent: NodeSymbolComponent = new NodeSymbolComponent(symbol)\n\t\t\treturn nodeComponent\n\t\t} else {\n\t\t\tconsole.error(\"no node symbol found for saveObject: \" + JSON.stringify(saveObject))\n\t\t\treturn null\n\t\t}\n\t}\n\n\tpublic copyForPlacement(): NodeSymbolComponent {\n\t\tlet newComponent = new NodeSymbolComponent(this.referenceSymbol)\n\t\tnewComponent.rotationDeg = this.rotationDeg\n\t\tnewComponent.scaleState = new SVG.Point(this.scaleState)\n\t\treturn newComponent\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tCanvasController,\n\tComponentSymbol,\n\tMainController,\n\tSnapPoint,\n\tSnapDragHandler,\n\tSnappingInfo,\n\tBooleanProperty,\n\tSliderProperty,\n\tSectionHeaderProperty,\n\tdefaultStroke,\n\tSelectionController,\n\tPathComponent,\n\tChoiceEntry,\n\tChoiceProperty,\n\tEnumOption,\n\tPathLabel,\n\tPathSaveObject,\n\tSymbolOption,\n\tVariant,\n\tdefaultFill,\n\tPathLabelable,\n\tInfoProperty,\n\tCircuitComponent,\n\tPropertyCategories,\n\tNameable,\n\tTikzPathCommand,\n\tCircuitikzTo,\n\tSaveController,\n\tbuildTikzStringFromPathCommand,\n\tVoltageLabel,\n\tVoltageable,\n\tCurrentable,\n} from \"../internal\"\nimport { lineRectIntersection, pointInsideRect, selectedBoxWidth, selectionSize } from \"../utils/selectionHelper\"\n\nexport type PathSymbolSaveObject = PathSaveObject & {\n\tid: string\n\tscale?: SVG.Point\n\tname?: string\n\toptions?: string[]\n\tlabel?: PathLabel\n\tvoltage?: VoltageLabel\n}\n\nexport class PathSymbolComponent extends Currentable(Voltageable(PathLabelable(Nameable(PathComponent)))) {\n\tprivate static jsonID = \"path\"\n\tstatic {\n\t\tCircuitComponent.jsonSaveMap.set(PathSymbolComponent.jsonID, PathSymbolComponent)\n\t}\n\tpublic referenceSymbol: ComponentSymbol\n\n\tprivate startLine: SVG.Line\n\tprivate endLine: SVG.Line\n\tprivate startLineSelection: SVG.Line\n\tprivate endLineSelection: SVG.Line\n\tprivate selectionRect: SVG.Rect\n\tprivate dragStartLine: SVG.Line\n\tprivate dragEndLine: SVG.Line\n\t/**\n\t * the vector in local coordinates from componentVariant.mid to the point where the first half of the path line should end\n\t */\n\tprivate relSymbolStart: SVG.Point\n\t/**\n\t * the vector in local coordinates from componentVariant.mid to the point where the second half of the path line should start\n\t */\n\tprivate relSymbolEnd: SVG.Point\n\n\tprivate rotationDeg: number = 0\n\n\tprivate mirror: BooleanProperty\n\tprivate invert: BooleanProperty\n\n\tprotected scaleProperty: SliderProperty\n\n\t/**\n\t * the scale of the component, i.e. how much it is scaled compared to the original symbol size. this also includes mirroring and inverting.\n\t * It is greatly discouraged to use this property to scale the component, since an elegant solution in tikz does not exist for that.\n\t */\n\tprotected scaleState: SVG.Point\n\n\tprotected optionProperties: Map<BooleanProperty, SymbolOption>\n\tprotected optionEnumProperties: Map<ChoiceProperty<ChoiceEntry>, EnumOption>\n\tprotected componentVariant: Variant\n\n\tconstructor(symbol: ComponentSymbol) {\n\t\tsuper()\n\t\tthis.scaleState = new SVG.Point(1, 1)\n\t\tthis.scaleProperty = new SliderProperty(\n\t\t\t\"Scale\",\n\t\t\t0.1,\n\t\t\t10,\n\t\t\t0.01,\n\t\t\tnew SVG.Number(1),\n\t\t\ttrue,\n\t\t\tundefined,\n\t\t\t\"manipulation:scale\"\n\t\t)\n\t\tthis.scaleProperty.addChangeListener((ev) => {\n\t\t\tthis.scaleState = new SVG.Point(\n\t\t\t\tMath.sign(this.scaleState.x) * ev.value.value,\n\t\t\t\tMath.sign(this.scaleState.y) * ev.value.value\n\t\t\t)\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.manipulation, this.scaleProperty)\n\n\t\tthis.optionProperties = new Map()\n\t\tthis.optionEnumProperties = new Map()\n\n\t\tif (symbol.possibleOptions.length > 0 || symbol.possibleEnumOptions.length > 0) {\n\t\t\tthis.properties.add(\n\t\t\t\tPropertyCategories.options,\n\t\t\t\tnew SectionHeaderProperty(\"Options\", undefined, \"options:header\")\n\t\t\t)\n\t\t\tfor (const option of symbol.possibleOptions) {\n\t\t\t\tconst property = new BooleanProperty(\n\t\t\t\t\toption.displayName ?? option.name,\n\t\t\t\t\tfalse,\n\t\t\t\t\tundefined,\n\t\t\t\t\t\"options:option\" + option.name\n\t\t\t\t)\n\t\t\t\tproperty.addChangeListener((ev) => {\n\t\t\t\t\tthis.updateOptions()\n\t\t\t\t})\n\t\t\t\tthis.optionProperties.set(property, option)\n\t\t\t\tthis.properties.add(PropertyCategories.options, property)\n\t\t\t}\n\t\t\tfor (const enumOption of symbol.possibleEnumOptions) {\n\t\t\t\tlet choices: ChoiceEntry[] = enumOption.selectNone ? [{ key: \"-\", name: \"--default--\" }] : []\n\t\t\t\tenumOption.options.forEach((option) => {\n\t\t\t\t\tchoices.push({ key: option.name, name: option.displayName ?? option.name })\n\t\t\t\t})\n\t\t\t\tconst property = new ChoiceProperty(\n\t\t\t\t\tenumOption.displayName,\n\t\t\t\t\tchoices,\n\t\t\t\t\tchoices[0],\n\t\t\t\t\tundefined,\n\t\t\t\t\t\"options:enum_\" + enumOption.displayName\n\t\t\t\t)\n\n\t\t\t\tproperty.addChangeListener((ev) => {\n\t\t\t\t\tthis.updateOptions()\n\t\t\t\t})\n\t\t\t\tthis.optionEnumProperties.set(property, enumOption)\n\t\t\t\tthis.properties.add(PropertyCategories.options, property)\n\t\t\t}\n\t\t}\n\n\t\tthis.componentVariant = symbol.getVariant(this.optionsFromProperties())\n\n\t\tthis.componentVisualization = CanvasController.instance.canvas.use(this.componentVariant.symbol)\n\t\tthis.componentVisualization.fill(defaultFill)\n\t\tthis.componentVisualization.stroke(defaultStroke)\n\t\tthis.componentVisualization.node.style.color = defaultStroke\n\n\t\tthis.displayName = symbol.displayName\n\t\tthis.referenceSymbol = symbol\n\t\tthis.scaleState = new SVG.Point(1, 1)\n\n\t\tlet startPinIndex = this.componentVariant.pins.findIndex((value) => value.name === \"START\")\n\t\tlet endPinIndex = this.componentVariant.pins.findIndex((value) => value.name === \"END\")\n\n\t\tthis.relSymbolStart = this.componentVariant.pins.at(startPinIndex).point\n\t\tthis.relSymbolEnd = this.componentVariant.pins.at(endPinIndex).point\n\n\t\tthis.startLine = CanvasController.instance.canvas\n\t\t\t.line()\n\t\t\t.fill(\"none\")\n\t\t\t.stroke({ color: defaultStroke, width: 1.0 })\n\t\tthis.endLine = this.startLine.clone(true)\n\n\t\tthis.dragStartLine = CanvasController.instance.canvas\n\t\t\t.line()\n\t\t\t.fill(\"none\")\n\t\t\t.stroke({ width: selectionSize, color: \"transparent\" })\n\t\tthis.dragEndLine = this.dragStartLine.clone(true)\n\n\t\tthis.selectionElement.remove()\n\t\tthis.selectionElement = CanvasController.instance.canvas.group()\n\t\tthis.startLineSelection = CanvasController.instance.canvas.line().fill(\"none\")\n\t\tthis.endLineSelection = CanvasController.instance.canvas.line().fill(\"none\")\n\t\tthis.selectionRect = CanvasController.instance.canvas.rect(0, 0).fill(\"none\")\n\t\tthis.selectionElement.add(this.selectionRect)\n\t\tthis.selectionElement.add(this.startLineSelection)\n\t\tthis.selectionElement.add(this.endLineSelection)\n\n\t\tthis.selectionElement.hide()\n\n\t\tthis.visualization.add(this.componentVisualization)\n\t\tthis.visualization.add(this.startLine)\n\t\tthis.visualization.add(this.endLine)\n\t\tthis.visualization.add(this.dragStartLine)\n\t\tthis.visualization.add(this.dragEndLine)\n\t\tthis.visualization.hide()\n\n\t\tthis.properties.add(\n\t\t\tPropertyCategories.manipulation,\n\t\t\tnew SectionHeaderProperty(\"Symbol Orientation\", undefined, \"manipulation:header\")\n\t\t)\n\n\t\tthis.mirror = new BooleanProperty(\"Mirror\", false, undefined, \"manipulation:mirror\")\n\t\tthis.mirror.addChangeListener((ev) => {\n\t\t\tthis.scaleState.y *= -1\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.manipulation, this.mirror)\n\n\t\tthis.invert = new BooleanProperty(\"Invert\", false, undefined, \"manipulation:invert\")\n\t\tthis.invert.addChangeListener((ev) => {\n\t\t\tthis.scaleState.x *= -1\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.manipulation, this.invert)\n\n\t\tthis.addInfo()\n\n\t\tthis.snappingPoints = [\n\t\t\tnew SnapPoint(this, null, new SVG.Point(0, 0)),\n\t\t\tnew SnapPoint(this, null, new SVG.Point(0, 0)),\n\t\t\t...this.componentVariant.pins\n\t\t\t\t.filter((_, index) => !(index == startPinIndex || index == endPinIndex))\n\t\t\t\t.map((pin) => new SnapPoint(this, pin.name, pin.point.add(this.componentVariant.mid))),\n\t\t]\n\t}\n\n\tprotected updateVoltageRender() {\n\t\tthis.voltageArrowRendering?.remove()\n\t\t// Require a valid geometry and rendering group before updating\n\t\tif (!this.referencePoints || this.referencePoints.length < 2 || !this.voltageRendering) {\n\t\t\treturn\n\t\t}\n\t\tif (this.voltageLabel.value != \"\") {\n\t\t\tlet voltageArrow = this.generateVoltageArrow(\n\t\t\t\tthis.referencePoints[0],\n\t\t\t\tthis.referencePoints[1],\n\t\t\t\tthis.componentVariant.mid.mul(-1),\n\t\t\t\tnew SVG.Point(this.componentVariant.viewBox.x2, this.componentVariant.viewBox.y2).sub(\n\t\t\t\t\tthis.componentVariant.mid\n\t\t\t\t),\n\t\t\t\tthis.scaleState\n\t\t\t)\n\t\t\tthis.voltageArrowRendering = voltageArrow.arrow\n\t\t\tthis.voltageRendering.add(this.voltageArrowRendering)\n\n\t\t\tconst voltageLabelBbox = this.voltageLabelRendering.bbox()\n\t\t\tconst voltageLabelReference = new SVG.Point(voltageLabelBbox.cx, voltageLabelBbox.cy).add(\n\t\t\t\tnew SVG.Point(voltageLabelBbox.w / 2, voltageLabelBbox.h / 2).mul(voltageArrow.labelAnchorDir)\n\t\t\t)\n\t\t\tthis.voltageLabelRendering.transform(\n\t\t\t\tnew SVG.Matrix({ translate: voltageArrow.labelPos.sub(voltageLabelReference) })\n\t\t\t)\n\t\t}\n\t}\n\n\tprotected updateCurrentRender(): void {\n\t\tthis.currentArrowRendering?.remove()\n\t\t// Require a valid geometry and rendering group before updating\n\t\tif (!this.referencePoints || this.referencePoints.length < 2 || !this.currentRendering) {\n\t\t\treturn\n\t\t}\n\t\t// Show current arrow if currentShow is enabled OR if there's a label\n\t\tif (this.currentShow.value || this.currentLabel.value != \"\") {\n\t\t\tlet currentArrow = this.generateCurrentArrow(\n\t\t\t\tthis.referencePoints[0],\n\t\t\t\tthis.referencePoints[1],\n\t\t\t\tthis.componentVariant.mid.mul(-1),\n\t\t\t\tnew SVG.Point(this.componentVariant.viewBox.x2, this.componentVariant.viewBox.y2).sub(\n\t\t\t\t\tthis.componentVariant.mid\n\t\t\t\t),\n\t\t\t\tthis.scaleState\n\t\t\t)\n\t\t\tthis.currentArrowRendering = currentArrow.arrow\n\t\t\tthis.currentRendering.add(this.currentArrowRendering)\n\n\t\t\tconst currentLabelBbox = this.currentLabelRendering.bbox()\n\t\t\tconst currentLabelReference = new SVG.Point(currentLabelBbox.cx, currentLabelBbox.cy).add(\n\t\t\t\tnew SVG.Point(currentLabelBbox.w / 2, currentLabelBbox.h / 2).mul(currentArrow.labelAnchorDir)\n\t\t\t)\n\t\t\tthis.currentLabelRendering.transform(\n\t\t\t\tnew SVG.Matrix({ translate: currentArrow.labelPos.sub(currentLabelReference) })\n\t\t\t)\n\t\t}\n\t}\n\n\tprotected addInfo() {\n\t\tthis.properties.add(PropertyCategories.info, new SectionHeaderProperty(\"Info\"))\n\t\tthis.properties.add(PropertyCategories.info, new InfoProperty(\"ID\", this.referenceSymbol.tikzName))\n\t}\n\n\tprotected optionsFromProperties(): SymbolOption[] {\n\t\tconst selectedOptions: SymbolOption[] = []\n\t\tthis.optionProperties.forEach((option, property) => {\n\t\t\tif (property.value) {\n\t\t\t\tselectedOptions.push(option)\n\t\t\t}\n\t\t})\n\t\tthis.optionEnumProperties.forEach((option, property) => {\n\t\t\tif (property.value.key != \"-\") {\n\t\t\t\tselectedOptions.push(\n\t\t\t\t\toption.options.find((o) => {\n\t\t\t\t\t\treturn o.name == property.value.key\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t\treturn selectedOptions\n\t}\n\n\tprotected setPropertiesFromOptions(options: SymbolOption[]) {\n\t\tthis.optionProperties.forEach((value, property) => {\n\t\t\tif (options.find((op) => op.name == value.name)) {\n\t\t\t\tproperty.value = true\n\t\t\t} else {\n\t\t\t\tproperty.value = false\n\t\t\t}\n\t\t})\n\t\tthis.optionEnumProperties.forEach((enumOption, property) => {\n\t\t\tlet foundOption = false\n\t\t\tfor (const option of enumOption.options) {\n\t\t\t\tif (options.find((op) => op.name == option.name)) {\n\t\t\t\t\tfoundOption = true\n\t\t\t\t\tproperty.value = property.entries.find((entry) => entry.key == option.name)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!foundOption) {\n\t\t\t\tproperty.value = property.entries[0]\n\t\t\t}\n\t\t})\n\t\tthis.updateOptions()\n\t}\n\n\tpublic moveStartTo(position: SVG.Point) {\n\t\tthis.referencePoints[0] = position\n\t\tthis.update()\n\t}\n\n\tpublic moveEndTo(position: SVG.Point) {\n\t\tthis.referencePoints[1] = position\n\t\tthis.update()\n\t}\n\n\tpublic flip(horizontal: boolean): void {\n\t\tlet newPos1 = new SVG.Point(this.referencePoints[0].x, this.referencePoints[1].y)\n\t\tlet newPos2 = new SVG.Point(this.referencePoints[1].x, this.referencePoints[0].y)\n\t\tif (horizontal) {\n\t\t\tthis.referencePoints[0] = newPos1\n\t\t\tthis.referencePoints[1] = newPos2\n\t\t} else {\n\t\t\tthis.referencePoints[0] = newPos2\n\t\t\tthis.referencePoints[1] = newPos1\n\t\t}\n\t\tthis.mirror.updateValue(!this.mirror.value)\n\n\t\tthis.update()\n\t}\n\n\tpublic recalculateSnappingPoints(): void {\n\t\tconst inverseTransform = this.getTransformMatrix().inverse()\n\t\tthis.snappingPoints[0].updateRelPosition(this.referencePoints[0].transform(inverseTransform))\n\t\tthis.snappingPoints[1].updateRelPosition(this.referencePoints[1].transform(inverseTransform))\n\t\tsuper.recalculateSnappingPoints()\n\t}\n\n\tprotected updateOptions(): void {\n\t\tthis.componentVariant = this.referenceSymbol.getVariant(this.optionsFromProperties())\n\t\tthis.componentVisualization.node.setAttribute(\"href\", \"#\" + this.componentVariant.symbol.id())\n\n\t\tlet startPinIndex = this.componentVariant.pins.findIndex((value) => value.name === \"START\")\n\t\tlet endPinIndex = this.componentVariant.pins.findIndex((value) => value.name === \"END\")\n\t\tthis.snappingPoints = [\n\t\t\tnew SnapPoint(this, null, new SVG.Point(0, 0)),\n\t\t\tnew SnapPoint(this, null, new SVG.Point(0, 0)),\n\t\t\t...this.componentVariant.pins\n\t\t\t\t.filter((_, index) => !(index == startPinIndex || index == endPinIndex))\n\t\t\t\t.map((pin) => new SnapPoint(this, pin.name, pin.point.add(this.componentVariant.mid))),\n\t\t]\n\t\tthis.update()\n\t}\n\n\tpublic getSnappingInfo(): SnappingInfo {\n\t\tif (this.finishedPlacing) {\n\t\t\treturn {\n\t\t\t\ttrackedSnappingPoints: this.snappingPoints,\n\t\t\t\tadditionalSnappingPoints: [],\n\t\t\t}\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttrackedSnappingPoints: [],\n\t\t\t\tadditionalSnappingPoints:\n\t\t\t\t\tthis.referencePoints.length > 0 ? [new SnapPoint(this, \"\", new SVG.Point())] : [],\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected update(): void {\n\t\t// Guard against invalid or incomplete reference points\n\t\tif (!this.referencePoints || this.referencePoints.length < 2) {\n\t\t\treturn\n\t\t}\n\t\tthis.position = this.referencePoints[0].add(this.referencePoints[1]).div(2)\n\n\t\tconst angle = Math.atan2(\n\t\t\tthis.referencePoints[0].y - this.referencePoints[1].y,\n\t\t\tthis.referencePoints[1].x - this.referencePoints[0].x\n\t\t)\n\t\tthis.rotationDeg = (angle * 180) / Math.PI\n\n\t\tlet m = this.getTransformMatrix()\n\t\tthis.componentVisualization.transform(m)\n\n\t\t// For rmeter and rmeterwa, calculate line endpoints differently since symbol doesn't rotate\n\t\tconst keepHorizontal =\n\t\t\tthis.referenceSymbol.tikzName === \"rmeter\" || this.referenceSymbol.tikzName === \"rmeterwa\"\n\n\t\tlet startLineEndPoint: SVG.Point\n\t\tlet endLineStartPoint: SVG.Point\n\n\t\tif (keepHorizontal) {\n\t\t\t// For horizontal meters, the connection points are at the left and right edges of the symbol\n\t\t\t// We need to calculate where the wires meet the symbol circle\n\t\t\tconst symbolMid = this.componentVariant.mid\n\t\t\tconst radius = Math.abs(this.relSymbolStart.x) // Distance from center to edge\n\n\t\t\t// Calculate the angle from center to each reference point\n\t\t\tconst angleToStart = Math.atan2(\n\t\t\t\tthis.referencePoints[0].y - this.position.y,\n\t\t\t\tthis.referencePoints[0].x - this.position.x\n\t\t\t)\n\t\t\tconst angleToEnd = Math.atan2(\n\t\t\t\tthis.referencePoints[1].y - this.position.y,\n\t\t\t\tthis.referencePoints[1].x - this.position.x\n\t\t\t)\n\n\t\t\t// Connection points on the circle edge\n\t\t\tstartLineEndPoint = new SVG.Point(\n\t\t\t\tthis.position.x + radius * Math.cos(angleToStart) * this.scaleState.x,\n\t\t\t\tthis.position.y + radius * Math.sin(angleToStart) * this.scaleState.y\n\t\t\t)\n\t\t\tendLineStartPoint = new SVG.Point(\n\t\t\t\tthis.position.x + radius * Math.cos(angleToEnd) * this.scaleState.x,\n\t\t\t\tthis.position.y + radius * Math.sin(angleToEnd) * this.scaleState.y\n\t\t\t)\n\t\t} else {\n\t\t\t// Normal behavior for other components\n\t\t\tstartLineEndPoint = this.relSymbolStart.add(this.componentVariant.mid).transform(m)\n\t\t\tendLineStartPoint = this.relSymbolEnd.add(this.componentVariant.mid).transform(m)\n\t\t}\n\n\t\tif (this.invert.value) {\n\t\t\tlet switchPos = startLineEndPoint\n\t\t\tstartLineEndPoint = endLineStartPoint\n\t\t\tendLineStartPoint = switchPos\n\t\t}\n\n\t\tthis.recalculateResizePoints()\n\t\tthis.startLine.plot(\n\t\t\tthis.referencePoints[0].x,\n\t\t\tthis.referencePoints[0].y,\n\t\t\tstartLineEndPoint.x,\n\t\t\tstartLineEndPoint.y\n\t\t)\n\t\tthis.endLine.plot(\n\t\t\tthis.referencePoints[1].x,\n\t\t\tthis.referencePoints[1].y,\n\t\t\tendLineStartPoint.x,\n\t\t\tendLineStartPoint.y\n\t\t)\n\t\tthis.startLineSelection.plot(\n\t\t\tthis.referencePoints[0].x,\n\t\t\tthis.referencePoints[0].y,\n\t\t\tstartLineEndPoint.x,\n\t\t\tstartLineEndPoint.y\n\t\t)\n\t\tthis.endLineSelection.plot(\n\t\t\tthis.referencePoints[1].x,\n\t\t\tthis.referencePoints[1].y,\n\t\t\tendLineStartPoint.x,\n\t\t\tendLineStartPoint.y\n\t\t)\n\t\tthis.dragStartLine.plot(\n\t\t\tthis.referencePoints[0].x,\n\t\t\tthis.referencePoints[0].y,\n\t\t\tstartLineEndPoint.x,\n\t\t\tstartLineEndPoint.y\n\t\t)\n\t\tthis.dragEndLine.plot(\n\t\t\tthis.referencePoints[1].x,\n\t\t\tthis.referencePoints[1].y,\n\t\t\tendLineStartPoint.x,\n\t\t\tendLineStartPoint.y\n\t\t)\n\n\t\tthis.updatePathLabel()\n\t\tthis.updateVoltageRender()\n\t\tthis.updateCurrentRender()\n\t\tthis._bbox = this.visualization.bbox()\n\t\tthis.referencePosition = this.position.sub(new SVG.Point(this._bbox.x, this._bbox.y))\n\n\t\tthis.recalculateSelectionVisuals()\n\t\tthis.recalculateSnappingPoints()\n\t}\n\n\tprotected recalculateSelectionVisuals(): void {\n\t\tif (this.selectionElement) {\n\t\t\t// use the saved position instead of the bounding box (bbox position fails in safari)\n\t\t\tlet bbox = this.componentVariant.viewBox\n\t\t\tthis.selectionRect\n\t\t\t\t.center(bbox.cx, bbox.cy)\n\t\t\t\t.size(bbox.w + selectedBoxWidth, bbox.h + selectedBoxWidth)\n\t\t\t\t.transform(this.getTransformMatrix())\n\t\t}\n\t}\n\n\tpublic viewSelected(show: boolean): void {\n\t\tsuper.viewSelected(show)\n\t\tthis.resizable(this.isSelected && show && SelectionController.instance.currentlySelectedComponents.length == 1)\n\t}\n\n\t/**\n\t * For tikz path symbols, this getTransformMatrix returns the transformation necessary for the symbol from local symbol coodinates to world coordinates\n\t */\n\tpublic getTransformMatrix(): SVG.Matrix {\n\t\tconst symbolRel = this.componentVariant.mid\n\n\t\t// For rmeter and rmeterwa, keep the symbol horizontal (don't rotate)\n\t\tconst keepHorizontal =\n\t\t\tthis.referenceSymbol.tikzName === \"rmeter\" || this.referenceSymbol.tikzName === \"rmeterwa\"\n\t\tconst rotationAngle = keepHorizontal ? 0 : -this.rotationDeg\n\n\t\treturn new SVG.Matrix({\n\t\t\tscaleX: this.scaleState.x,\n\t\t\tscaleY: this.scaleState.y,\n\t\t\ttranslate: [-symbolRel.x, -symbolRel.y],\n\t\t\torigin: [symbolRel.x, symbolRel.y],\n\t\t}).lmultiply(\n\t\t\tnew SVG.Matrix({\n\t\t\t\trotate: rotationAngle,\n\t\t\t\ttranslate: [this.position.x, this.position.y],\n\t\t\t})\n\t\t)\n\t}\n\n\tpublic updateTheme() {\n\t\tlet labelColor = defaultStroke\n\t\tif (this.labelColor && this.labelColor.value) {\n\t\t\tlabelColor = this.labelColor.value.toString()\n\t\t}\n\t\tthis.labelRendering?.fill(labelColor)\n\t}\n\n\tpublic isInsideSelectionRectangle(selectionRectangle: SVG.Box): boolean {\n\t\t// if 1 of the 2 lines hanging of the symbol intersect the selection rect -> should select\n\t\tif (\n\t\t\tlineRectIntersection(this.startLine, selectionRectangle) ||\n\t\t\tlineRectIntersection(this.endLine, selectionRectangle)\n\t\t) {\n\t\t\treturn true\n\t\t}\n\n\t\tconst bbox = this.componentVariant.viewBox\n\t\t// get the corner points of the bounding box and rotate each of them to their proper positions\n\t\tconst transform = this.getTransformMatrix()\n\t\tconst boxPoints = [\n\t\t\tnew SVG.Point(bbox.x, bbox.y).transform(transform),\n\t\t\tnew SVG.Point(bbox.x2, bbox.y).transform(transform),\n\t\t\tnew SVG.Point(bbox.x2, bbox.y2).transform(transform),\n\t\t\tnew SVG.Point(bbox.x, bbox.y2).transform(transform),\n\t\t]\n\n\t\t// if all of these points are inside the selection rect -> should select\n\t\tif (boxPoints.map((value) => pointInsideRect(value, selectionRectangle)).every((value) => value)) {\n\t\t\treturn true\n\t\t}\n\n\t\t//necessary to check if the complete selection rect is inside the component\n\t\tlet selectionRectInside = true\n\n\t\t// if at least one line defined by 2 of the 4 corner points intersects the selection rect -> should select\n\t\tfor (let index = 0; index < boxPoints.length; index++) {\n\t\t\tconst p1 = boxPoints[index]\n\t\t\tconst p2 = boxPoints[(index + 1) % boxPoints.length]\n\t\t\tif (\n\t\t\t\tlineRectIntersection(\n\t\t\t\t\t[\n\t\t\t\t\t\t[p1.x, p1.y],\n\t\t\t\t\t\t[p2.x, p2.y],\n\t\t\t\t\t],\n\t\t\t\t\tselectionRectangle\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn true\n\t\t\t} else {\n\t\t\t\tselectionRectInside =\n\t\t\t\t\tselectionRectInside &&\n\t\t\t\t\tp2.sub(p1).rotate(-90).dot(new SVG.Point(selectionRectangle.cx, selectionRectangle.cy).sub(p1)) > 0\n\t\t\t}\n\t\t}\n\n\t\t// no intersection between the selection rect and the component or selection rect inside component\n\t\treturn selectionRectInside\n\t}\n\n\tpublic toJson(): PathSymbolSaveObject {\n\t\tlet data = super.toJson() as PathSymbolSaveObject\n\t\tdata.type = PathSymbolComponent.jsonID\n\t\tdata.id = this.referenceSymbol.tikzName\n\n\t\tif (this.componentVariant.options.length > 0) {\n\t\t\tdata.options = this.componentVariant.options.map((option) => option.displayName ?? option.name)\n\t\t}\n\n\t\tif (this.scaleState && (this.scaleState.x != 1 || this.scaleState.y != 1)) {\n\t\t\tdata.scale = this.scaleState\n\t\t}\n\n\t\treturn data\n\t}\n\n\tpublic toTikzString(): string {\n\t\t// Skip invalid components that don't have two reference points\n\t\tif (!this.referencePoints || this.referencePoints.length < 2) {\n\t\t\treturn \"\"\n\t\t}\n\t\tlet command: TikzPathCommand = {\n\t\t\toptions: [\"draw\"],\n\t\t\tadditionalNodes: [],\n\t\t\tcoordinates: [],\n\t\t\tconnectors: [],\n\t\t}\n\t\tthis.buildTikzCommand(command)\n\t\treturn buildTikzStringFromPathCommand(command)\n\t}\n\n\tprotected buildTikzCommand(command: TikzPathCommand): void {\n\t\tsuper.buildTikzCommand(command)\n\t\tlet options: string[] = [this.referenceSymbol.tikzName]\n\t\toptions.push(...this.referenceSymbol.optionsToStringArray(this.optionsFromProperties()))\n\t\tif (this.mirror.value) {\n\t\t\toptions.push(\"mirror\")\n\t\t}\n\t\tif (this.invert.value) {\n\t\t\toptions.push(\"invert\")\n\t\t}\n\n\t\tconst scaleFactor =\n\t\t\tthis.scaleProperty.value.value != 1 ? new SVG.Number(this.scaleProperty.value.value * 1.4, \"cm\") : undefined\n\t\tif (scaleFactor) {\n\t\t\toptions.push(\"/tikz/circuitikz/bipoles/length=\" + scaleFactor.value.toPrecision(3) + scaleFactor.unit)\n\t\t}\n\n\t\tlet to: CircuitikzTo = { options: options, name: this.name.value }\n\n\t\t// For rmeter and rmeterwa, add the 't' parameter for text inside meter\n\t\tif (this.referenceSymbol.tikzName === \"rmeter\") {\n\t\t\t// rmeter is for voltage measurement, add t=V\n\t\t\toptions.push(\"t=V\")\n\t\t} else if (this.referenceSymbol.tikzName === \"rmeterwa\") {\n\t\t\t// rmeterwa is for current measurement, add t=A\n\t\t\toptions.push(\"t=A\")\n\t\t}\n\n\t\tthis.buildTikzPathLabel(to)\n\t\tthis.buildTikzVoltage(to)\n\t\tthis.buildTikzCurrent(to)\n\t\t// Only add connector when we have at least two coordinates\n\t\tif (command.coordinates.length >= 2) {\n\t\t\tcommand.connectors.push(to)\n\t\t}\n\t}\n\n\tpublic remove(): void {\n\t\tSnapDragHandler.snapDrag(this, false)\n\t\tthis.resizable(false)\n\t\tthis.viewSelected(false)\n\t\tthis.visualization.remove()\n\t\tthis.selectionElement?.remove()\n\t\tthis.labelRendering?.remove()\n\t}\n\n\tpublic copyForPlacement(): PathSymbolComponent {\n\t\treturn new PathSymbolComponent(this.referenceSymbol)\n\t}\n\n\tprotected static idNoOptions(id: string): string {\n\t\treturn id.split(\"_\").slice(0, 2).join(\"_\")\n\t}\n\n\tpublic applyJson(saveObject: PathSymbolSaveObject): void {\n\t\tsuper.applyJson(saveObject)\n\t\tlet options = saveObject.options ?? []\n\t\tthis.setPropertiesFromOptions(this.referenceSymbol.getOptionsFromOptionNames(options))\n\n\t\tif (saveObject.scale) {\n\t\t\tthis.scaleState = new SVG.Point(saveObject.scale)\n\t\t\tthis.scaleProperty.updateValue(new SVG.Number(Math.abs(saveObject.scale.x)))\n\t\t}\n\t\tthis.mirror.value = this.scaleState.y < 0\n\t\tthis.invert.value = this.scaleState.x < 0\n\t\tthis.scaleProperty.value = new SVG.Number(Math.abs(this.scaleState.x))\n\n\t\tthis.update()\n\t\tthis.visualization.show()\n\t}\n\n\tpublic static fromJson(saveObject: PathSymbolSaveObject): PathSymbolComponent {\n\t\tlet symbol: ComponentSymbol\n\n\t\tif (SaveController.instance.currentlyLoadedSaveVersion != \"\") {\n\t\t\tsymbol = MainController.instance.symbols.find((symbol) => symbol.tikzName == saveObject.id)\n\t\t} else {\n\t\t\tlet idParts = saveObject.id.split(\"_\")\n\t\t\tsymbol = MainController.instance.symbols.find(\n\t\t\t\t(symbol) => symbol.tikzName == idParts[1].replaceAll(\"-\", \" \")\n\t\t\t)\n\t\t\tsaveObject.options = idParts.slice(2)\n\t\t\t// @ts-ignore\n\t\t\tsaveObject.points = [saveObject.start, saveObject.end]\n\t\t}\n\t\tif (symbol) {\n\t\t\tlet pathComponent: PathSymbolComponent = new PathSymbolComponent(symbol)\n\t\t\treturn pathComponent\n\t\t} else {\n\t\t\tconsole.error(\"no path symbol found for saveObject: \" + JSON.stringify(saveObject))\n\t\t\treturn null\n\t\t}\n\t}\n\n\tpublic updatePathLabel(): void {\n\t\tif (!this.mathJaxLabel || !this.labelRendering) {\n\t\t\treturn\n\t\t}\n\t\tlet labelSVG = this.labelRendering\n\t\t// breaking points where the label is parallel to the path or to the x axis. in degrees\n\t\tconst breakVertical = 70\n\t\tconst breakHorizontal = 21\n\n\t\tlet pathDiff = this.referencePoints[1].sub(this.referencePoints[0])\n\n\t\t// the bounding boxes for the label and the symbol\n\t\tlet labelBBox = labelSVG.bbox()\n\t\tlet labelHalfSize = new SVG.Point(labelBBox.w, labelBBox.h).div(2)\n\t\tlet symbolBBox = this.componentVisualization.bbox()\n\t\tlet symbolHalfSize = new SVG.Point(symbolBBox.w, symbolBBox.h).div(2)\n\n\t\t// the nominal reference point of the label (bottom center)\n\t\tlet labelRef = new SVG.Point(labelBBox.cx, labelBBox.y2)\n\t\t// the rotation angle of the label (not always identical to the path rotation angle)\n\t\tlet rotAngle = this.rotationDeg\n\t\tif (rotAngle > 90 || rotAngle < -90) {\n\t\t\t// left halfplane -> don't show label upside down -> rotate the label by additional 180 deg\n\t\t\trotAngle += 180\n\t\t\t// the dafault label reference point should now be the top center\n\t\t\tlabelRef.y = labelBBox.y\n\t\t}\n\n\t\t// mirroring the symbol should not impact the label except from shifting its position to stay close to the symbol (only relevant for asymetric symbols)\n\t\tlet referenceoffsetY =\n\t\t\tthis.scaleState.y < 0 ? this.componentVariant.mid.y - symbolBBox.h : -this.componentVariant.mid.y\n\t\treferenceoffsetY *= Math.abs(this.scaleState.y)\n\n\t\t// nominally the reference point of the symbol is its center (w.r.t. the x coordinate for a path which is horizontal)\n\t\tlet referenceOffsetX = 0\n\n\t\tlet other = this.labelSide.value ? -1 : 1\n\t\tif (other < 0) {\n\t\t\tlabelRef.y = labelBBox.y - labelRef.y\n\t\t\treferenceoffsetY += symbolBBox.h * Math.abs(this.scaleState.y)\n\t\t}\n\n\t\t// if the path is close to horizontal or vertical according to the break points\n\t\tlet nearHorizontal =\n\t\t\tMath.abs(this.rotationDeg) < breakHorizontal || Math.abs(this.rotationDeg) > 180 - breakHorizontal\n\t\tlet nearVertical =\n\t\t\tMath.abs(this.rotationDeg) > breakVertical && Math.abs(this.rotationDeg) < 180 - breakVertical\n\n\t\tif (nearHorizontal) {\n\t\t\t// the label should not be rotated w.r.t. the x axis\n\t\t\trotAngle = 0\n\t\t\tlet right = Math.sign(pathDiff.x)\n\t\t\tlet up = Math.sign(this.rotationDeg)\n\t\t\t//the offset where the rotation pivot point should lie (for both label and symbol)\n\t\t\tlet horizontalOffset = Math.min(labelHalfSize.x, symbolHalfSize.x) * up\n\t\t\treferenceOffsetX = horizontalOffset * right * other\n\t\t\tlabelRef.x += horizontalOffset * other\n\t\t} else if (nearVertical) {\n\t\t\t// the label should not be rotated w.r.t. the x axis\n\t\t\trotAngle = 0\n\t\t\tlet right = Math.sign(pathDiff.x)\n\t\t\tlet up = Math.sign(this.rotationDeg)\n\t\t\t//the offset where the rotation pivot point should lie (for both label and symbol)\n\t\t\tlet verticalOffset = Math.min(labelHalfSize.y, symbolHalfSize.x) * right * other\n\n\t\t\treferenceOffsetX = -verticalOffset * up\n\n\t\t\tlabelRef.y = labelBBox.cy + verticalOffset\n\t\t\tlabelRef.x += labelHalfSize.x * (up * other)\n\t\t}\n\n\t\treferenceoffsetY -= other * (this.labelDistance.value ? this.labelDistance.value.convertToUnit(\"px\").value : 0)\n\n\t\t// where the anchor point of the symbol is located relative to the midAbs point\n\t\tlet referenceOffset = new SVG.Point(referenceOffsetX, referenceoffsetY).transform(\n\t\t\tnew SVG.Matrix({\n\t\t\t\trotate: -this.rotationDeg,\n\t\t\t})\n\t\t)\n\n\t\t// actually move and rotate the label to the correct position\n\t\tlet compRef = this.position.add(referenceOffset)\n\t\tlet movePos = compRef.sub(labelRef)\n\t\tlabelSVG.transform({\n\t\t\trotate: -rotAngle,\n\t\t\tox: labelRef.x,\n\t\t\toy: labelRef.y,\n\t\t\ttranslate: [movePos.x, movePos.y],\n\t\t})\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tbboxFromPoints,\n\tCanvasController,\n\tChoiceEntry,\n\tChoiceProperty,\n\tCircuitComponent,\n\tCurrentable,\n\tdefaultStroke,\n\tMainController,\n\tPathComponent,\n\tPathSaveObject,\n\tPropertyCategories,\n\tSaveController,\n\tSectionHeaderProperty,\n\tSelectionController,\n\tSnappingInfo,\n\tSnapPoint,\n\tStrokable,\n\tStrokeInfo,\n\tTikzPathCommand,\n} from \"../internal\"\nimport { AdjustDragHandler } from \"../snapDrag/dragHandlers\"\nimport {\n\tlineRectIntersection,\n\tpointInsideRect,\n\tresizeSVG,\n\tselectedBoxWidth,\n\tselectionSize,\n} from \"../utils/selectionHelper\"\n\n/**\n * how the wire should be drawn. horizontal then vertical, vertical then horizontal or straight\n */\nexport enum WireDirection {\n\tStraight = \"--\",\n\tHV = \"-|\",\n\tVH = \"|-\",\n}\n\nfunction oppositeDirection(direction: WireDirection): WireDirection {\n\tswitch (direction) {\n\t\tcase WireDirection.HV:\n\t\t\treturn WireDirection.VH\n\t\tcase WireDirection.VH:\n\t\t\treturn WireDirection.HV\n\t\tdefault:\n\t\t\treturn WireDirection.Straight\n\t}\n}\n\n/**\n * a wire has directions between points\n */\nexport type WireSaveObject = PathSaveObject & {\n\tdirections: WireDirection[]\n\tstartArrow?: string\n\tendArrow?: string\n\tstroke?: StrokeInfo\n}\n\nexport type ArrowTip = ChoiceEntry & {\n\ttikz: string\n\tsetBack: number\n\tstrokeFactor?: number\n\trefXY?: SVG.Point\n}\n\nexport const arrowTips: ArrowTip[] = [\n\t{ key: \"none\", name: \"none\", tikz: \"\", setBack: 0 },\n\t{ key: \"stealth\", name: \"stealth\", tikz: \"stealth\", setBack: 0.5 },\n\t{ key: \"stealthR\", name: \"stealth reversed\", tikz: \"stealth reversed\", setBack: 0.5 },\n\t{ key: \"latex\", name: \"latex\", tikz: \"latex\", setBack: 0.5 },\n\t{ key: \"latexR\", name: \"latex reversed\", tikz: \"latex reversed\", setBack: 0.5 },\n\t{ key: \"to\", name: \"to\", tikz: \"to\", setBack: 0.1, strokeFactor: 0.7, refXY: new SVG.Point(-1, -0.6) },\n\t{\n\t\tkey: \"toR\",\n\t\tname: \"to reversed\",\n\t\ttikz: \"to reversed\",\n\t\tsetBack: 0.4,\n\t\tstrokeFactor: 0.7,\n\t\trefXY: new SVG.Point(-1, -0.6),\n\t},\n\t{ key: \"line\", name: \"line\", tikz: \"|\", setBack: 0, strokeFactor: 1, refXY: new SVG.Point(-0.5, -0.5) },\n]\nexport const defaultArrowTip = arrowTips[0]\n/**\n * The component responsible for multi segmented wires (polylines)/wires\n */\nexport class WireComponent extends Currentable(Strokable(PathComponent)) {\n\tprivate static jsonID = \"wire\"\n\tstatic {\n\t\tCircuitComponent.jsonSaveMap.set(WireComponent.jsonID, WireComponent)\n\t}\n\n\t/**\n\t * the wire directions when drawing\n\t */\n\tprivate wireDirections: WireDirection[]\n\n\t// useful for placing\n\tprivate previousPlacingDirection = new SVG.Point(1, 0)\n\n\t// essentially the main visualisation\n\tprivate wire: SVG.Polyline\n\t// a wider copy of wire, but invisible, Meant for dragging the wire\n\tprivate draggableWire: SVG.Polyline\n\n\t// the svg elements where adjusting the wire is possible\n\tprivate adjustmentPoints: SVG.Element[] = []\n\n\tpublic arrowEndChoice: ChoiceProperty<ArrowTip>\n\tpublic arrowStartChoice: ChoiceProperty<ArrowTip>\n\tprivate startArrowElement: SVG.Element\n\tprivate endArrowElement: SVG.Element\n\n\tpublic static arrowSymbols: Map<string, SVGSymbolElement>\n\n\tprivate onlyStraight: boolean\n\tprivate defaultArrowHead: boolean\n\n\tconstructor(onlyStraight: boolean = false, defaultArrowHead: boolean = false) {\n\t\tsuper()\n\t\tthis.onlyStraight = onlyStraight\n\t\tthis.defaultArrowHead = defaultArrowHead\n\t\tthis.referencePoints = []\n\t\tthis.pointLimit = -1\n\t\tthis.wireDirections = []\n\t\tthis.displayName = \"Wire\"\n\n\t\tthis.wire = CanvasController.instance.canvas.polyline()\n\t\tthis.wire.fill(\"none\")\n\n\t\tthis.draggableWire = CanvasController.instance.canvas.polyline()\n\t\tthis.draggableWire.attr({\n\t\t\t\"fill\": \"none\",\n\t\t\t\"stroke\": \"transparent\",\n\t\t\t\"stroke-width\": selectionSize,\n\t\t})\n\n\t\t// override default value\n\t\tthis.strokeWidthProperty.value = new SVG.Number(\"1.0pt\")\n\t\tthis.strokeInfo.width = this.strokeWidthProperty.value\n\n\t\tthis.visualization.add(this.wire)\n\t\tthis.visualization.add(this.draggableWire)\n\t\tthis.snappingPoints = []\n\n\t\tthis.properties.add(PropertyCategories.options, new SectionHeaderProperty(\"Arrows\", undefined, \"arrows:header\"))\n\t\tthis.arrowStartChoice = new ChoiceProperty(\"Start\", arrowTips, defaultArrowTip, undefined, \"arrows:start\")\n\t\tthis.arrowStartChoice.addChangeListener((ev) => {\n\t\t\tthis.updateArrowTypesAndColors()\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.options, this.arrowStartChoice)\n\n\t\tthis.arrowEndChoice = new ChoiceProperty(\n\t\t\t\"End\",\n\t\t\tarrowTips,\n\t\t\tthis.defaultArrowHead ? arrowTips[3] : defaultArrowTip,\n\t\t\tundefined,\n\t\t\t\"arrows:end\"\n\t\t)\n\t\tthis.arrowEndChoice.addChangeListener((ev) => {\n\t\t\tthis.updateArrowTypesAndColors()\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.options, this.arrowEndChoice)\n\n\t\tif (!WireComponent.arrowSymbols) {\n\t\t\tWireComponent.arrowSymbols = new Map<string, SVGSymbolElement>()\n\t\t\tfor (const tip of arrowTips) {\n\t\t\t\tWireComponent.arrowSymbols.set(tip.key, document.getElementById(tip.key) as any)\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate lineWidthToArrowScale(): number {\n\t\tlet scale = this.strokeInfo.width.convertToUnit(\"pt\").value * 4.5 + 2.8 // magic numbers for converting the line width to the scale value\n\t\treturn scale\n\t}\n\n\tprivate updateArrowTypesAndColors() {\n\t\tlet arrowColor = this.strokeInfo.color\n\t\tif (arrowColor == \"default\") {\n\t\t\tarrowColor = defaultStroke\n\t\t}\n\n\t\tthis.startArrowElement?.remove()\n\t\tthis.startArrowElement = null\n\t\tif (this.arrowStartChoice.value.key != defaultArrowTip.key) {\n\t\t\tthis.startArrowElement = CanvasController.instance.canvas.group()\n\t\t\tthis.startArrowElement.addTo(this.visualization)\n\t\t\tthis.startArrowElement.stroke({ color: arrowColor, opacity: this.strokeInfo.opacity })\n\t\t\tthis.startArrowElement.fill({ color: arrowColor, opacity: this.strokeInfo.opacity })\n\t\t\tconst arrowPath = document.getElementById(this.arrowStartChoice.value.key)\n\t\t\tfor (const element of arrowPath.children) {\n\t\t\t\tthis.startArrowElement.node.append(element.cloneNode(true))\n\t\t\t}\n\t\t}\n\n\t\tthis.endArrowElement?.remove()\n\t\tthis.endArrowElement = null\n\t\tif (this.arrowEndChoice.value.key != defaultArrowTip.key) {\n\t\t\tthis.endArrowElement = CanvasController.instance.canvas.group()\n\t\t\tthis.endArrowElement.addTo(this.visualization)\n\t\t\tthis.endArrowElement.stroke({ color: arrowColor, opacity: this.strokeInfo.opacity })\n\t\t\tthis.endArrowElement.fill({ color: arrowColor, opacity: this.strokeInfo.opacity })\n\t\t\tconst arrowPath = document.getElementById(this.arrowEndChoice.value.key)\n\t\t\tfor (const element of arrowPath.children) {\n\t\t\t\tthis.endArrowElement.node.append(element.cloneNode(true))\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate updateArrowTransforms(startArrowReference: SVG.Point, endArrowReference: SVG.Point) {\n\t\tconst scale = this.lineWidthToArrowScale()\n\t\tconst strokeWidth = this.strokeInfo.width.convertToUnit(\"px\").value / scale\n\n\t\tif (this.arrowStartChoice.value.key != defaultArrowTip.key) {\n\t\t\tlet wireDirection = this.referencePoints.at(0).sub(startArrowReference)\n\t\t\tlet rotationAngleDeg = (Math.atan2(wireDirection.y, wireDirection.x) * 180) / Math.PI\n\n\t\t\tlet refXY = this.arrowStartChoice.value.refXY ?? new SVG.Point(-1, -0.5)\n\n\t\t\tthis.startArrowElement.transform(\n\t\t\t\tnew SVG.Matrix({\n\t\t\t\t\ttranslate: this.referencePoints.at(0).toArray(),\n\t\t\t\t\trotate: rotationAngleDeg,\n\t\t\t\t\tscale: [scale, scale],\n\t\t\t\t}).multiply({ translate: refXY.toArray() })\n\t\t\t)\n\t\t\tthis.startArrowElement.attr(\"stroke-width\", strokeWidth * (this.arrowStartChoice.value.strokeFactor ?? 0))\n\t\t}\n\n\t\tif (this.arrowEndChoice.value.key != defaultArrowTip.key) {\n\t\t\tlet wireDirection = this.referencePoints.at(-1).sub(endArrowReference)\n\t\t\tlet rotationAngleDeg = (Math.atan2(wireDirection.y, wireDirection.x) * 180) / Math.PI\n\n\t\t\tlet refXY = this.arrowEndChoice.value.refXY ?? new SVG.Point(-1, -0.5)\n\n\t\t\tthis.endArrowElement.transform(\n\t\t\t\tnew SVG.Matrix({\n\t\t\t\t\ttranslate: this.referencePoints.at(-1).toArray(),\n\t\t\t\t\trotate: rotationAngleDeg,\n\t\t\t\t\tscale: [scale, scale],\n\t\t\t\t}).multiply({ translate: refXY.toArray() })\n\t\t\t)\n\t\t\tthis.endArrowElement.attr(\"stroke-width\", strokeWidth * (this.arrowEndChoice.value.strokeFactor ?? 0))\n\t\t}\n\t}\n\n\tpublic updateTheme(): void {\n\t\tlet strokeColor = this.strokeInfo.color\n\t\tif (strokeColor == \"default\") {\n\t\t\tstrokeColor = \"var(--bs-body-color)\"\n\t\t}\n\n\t\tthis.updateArrowTypesAndColors()\n\n\t\tthis.wire.stroke({\n\t\t\tcolor: strokeColor,\n\t\t\topacity: this.strokeInfo.opacity,\n\t\t\twidth: this.strokeInfo.opacity == 0 ? 0 : this.strokeInfo.width.convertToUnit(\"px\").value,\n\t\t\tdasharray: this.strokeStyleProperty.value.dasharray\n\t\t\t\t.map((factor) => this.strokeInfo.width.times(factor).toString())\n\t\t\t\t.join(\" \"),\n\t\t})\n\n\t\t// Update current label color if exists\n\t\tif (this.currentLabelRendering) {\n\t\t\tthis.currentLabelRendering.fill(strokeColor)\n\t\t}\n\t\tif (this.currentArrowRendering) {\n\t\t\tthis.currentArrowRendering.fill(strokeColor)\n\t\t}\n\n\t\tif (this.finishedPlacing) {\n\t\t\tthis.update()\n\t\t}\n\t}\n\n\tprotected updateCurrentRender(): void {\n\t\tthis.currentArrowRendering?.remove()\n\t\t// Show current arrow if currentShow is enabled OR if there's a label\n\t\tif ((this.currentShow.value || this.currentLabel.value != \"\") && this.referencePoints.length >= 2) {\n\t\t\t// For wire, we draw current on the first or last segment depending on currentPosition\n\t\t\tconst positionStart = this.currentPosition.value\n\n\t\t\t// Get start and end points for the segment where current will be drawn\n\t\t\tlet segmentStart: SVG.Point\n\t\t\tlet segmentEnd: SVG.Point\n\n\t\t\tif (positionStart) {\n\t\t\t\t// Draw on first segment\n\t\t\t\tsegmentStart = this.referencePoints[0]\n\t\t\t\tsegmentEnd = this.referencePoints[1]\n\t\t\t} else {\n\t\t\t\t// Draw on last segment\n\t\t\t\tsegmentStart = this.referencePoints[this.referencePoints.length - 2]\n\t\t\t\tsegmentEnd = this.referencePoints[this.referencePoints.length - 1]\n\t\t\t}\n\n\t\t\t// For wire, we don't have component bounds, so use zero deltas\n\t\t\tconst zeroDelta = new SVG.Point(0, 0)\n\t\t\tconst scale = new SVG.Point(1, 1)\n\n\t\t\tlet currentArrow = this.generateCurrentArrow(segmentStart, segmentEnd, zeroDelta, zeroDelta, scale)\n\t\t\tthis.currentArrowRendering = currentArrow.arrow\n\t\t\tthis.currentRendering.add(this.currentArrowRendering)\n\n\t\t\tconst currentLabelBbox = this.currentLabelRendering.bbox()\n\t\t\tconst currentLabelReference = new SVG.Point(currentLabelBbox.cx, currentLabelBbox.cy).add(\n\t\t\t\tnew SVG.Point(currentLabelBbox.w / 2, currentLabelBbox.h / 2).mul(currentArrow.labelAnchorDir)\n\t\t\t)\n\t\t\tthis.currentLabelRendering.dmove(\n\t\t\t\tcurrentArrow.labelPos.x - currentLabelReference.x,\n\t\t\t\tcurrentArrow.labelPos.y - currentLabelReference.y\n\t\t\t)\n\t\t} else {\n\t\t\tthis.currentLabelRendering?.dmove(0, 0)\n\t\t}\n\t}\n\n\tpublic recalculateSnappingPoints(): void {\n\t\tsuper.recalculateSnappingPoints(this.getTransformMatrix())\n\t}\n\n\tpublic getSnappingInfo(): SnappingInfo {\n\t\tif (this.finishedPlacing) {\n\t\t\t// only snap to the snapping points\n\t\t\treturn {\n\t\t\t\ttrackedSnappingPoints: this.snappingPoints,\n\t\t\t\tadditionalSnappingPoints: [],\n\t\t\t}\n\t\t} else {\n\t\t\t// only snap the cursor\n\t\t\treturn {\n\t\t\t\ttrackedSnappingPoints: [],\n\t\t\t\tadditionalSnappingPoints:\n\t\t\t\t\tthis.referencePoints.length > 0 ? [new SnapPoint(this, \"center\", new SVG.Point())] : [],\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic resizable(resize: boolean): void {\n\t\tif (resize == this.isResizing) {\n\t\t\treturn\n\t\t}\n\t\tthis.isResizing = resize\n\t\tif (resize) {\n\t\t\t// pre calculate the direction of the wire as a vector from the wiredirection objects\n\t\t\tlet dirs: SVG.Point[] = []\n\t\t\tfor (let index = 0; index < this.wireDirections.length; index++) {\n\t\t\t\tlet rel = this.referencePoints[index + 1].sub(this.referencePoints[index])\n\t\t\t\tdirs[index] =\n\t\t\t\t\tthis.wireDirections[index] == WireDirection.VH ?\n\t\t\t\t\t\tnew SVG.Point(0, Math.sign(rel.y))\n\t\t\t\t\t:\tnew SVG.Point(Math.sign(rel.x), 0)\n\t\t\t}\n\n\t\t\t// add dragging to all corner points\n\t\t\tfor (let index = 0; index < this.referencePoints.length; index++) {\n\t\t\t\tconst element = resizeSVG()\n\t\t\t\telement.node.style.cursor = \"move\"\n\t\t\t\tthis.adjustmentPoints.push(element)\n\n\t\t\t\tlet startPos: SVG.Point\n\t\t\t\tAdjustDragHandler.snapDrag(this, element, resize, {\n\t\t\t\t\tdragStart: (pos) => {\n\t\t\t\t\t\tstartPos = this.referencePoints[index]\n\t\t\t\t\t},\n\t\t\t\t\tdragMove: (pos, ev) => {\n\t\t\t\t\t\tif (ev && (ev.ctrlKey || (MainController.instance.isMac && ev.metaKey))) {\n\t\t\t\t\t\t\t// wires from and to this point should be straight\n\t\t\t\t\t\t\tif (index > 0) {\n\t\t\t\t\t\t\t\t// is not first point\n\t\t\t\t\t\t\t\tthis.wireDirections[index - 1] = WireDirection.Straight\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (index < this.wireDirections.length) {\n\t\t\t\t\t\t\t\t// is not last point\n\t\t\t\t\t\t\t\tthis.wireDirections[index] = WireDirection.Straight\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// change the wire direction if necessary\n\t\t\t\t\t\t\tif (index > 0) {\n\t\t\t\t\t\t\t\t// from the last point to this point\n\t\t\t\t\t\t\t\tdirs[index - 1] = this.directionVecFromPos(\n\t\t\t\t\t\t\t\t\tpos.sub(this.referencePoints[index - 1]),\n\t\t\t\t\t\t\t\t\tdirs[index - 1]\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\tthis.wireDirections[index - 1] = this.wireDirectionFromDirectionVec(dirs[index - 1], ev)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (index < this.adjustmentPoints.length - 1) {\n\t\t\t\t\t\t\t\t// from this point to the next point\n\t\t\t\t\t\t\t\tlet rel = pos.sub(this.referencePoints[index + 1])\n\t\t\t\t\t\t\t\tdirs[index] = this.directionVecFromPos(rel, dirs[index])\n\t\t\t\t\t\t\t\tlet dir = dirs[index].x != 0 ? new SVG.Point(0, rel.y) : new SVG.Point(rel.x, 0)\n\t\t\t\t\t\t\t\tthis.wireDirections[index] = this.wireDirectionFromDirectionVec(dir, ev)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.referencePoints[index] = pos\n\t\t\t\t\t\tthis.update()\n\t\t\t\t\t},\n\t\t\t\t\tdragEnd: () => {\n\t\t\t\t\t\tthis.update()\n\t\t\t\t\t\treturn !this.referencePoints[index].eq(startPos)\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.update()\n\t\t} else {\n\t\t\tfor (const point of this.adjustmentPoints) {\n\t\t\t\tAdjustDragHandler.snapDrag(this, point, false)\n\t\t\t\tpoint.remove()\n\t\t\t}\n\t\t\tthis.adjustmentPoints = []\n\t\t}\n\t}\n\n\tprotected recalculateResizePoints() {\n\t\tconst transformMatrix = this.getTransformMatrix()\n\t\tfor (let index = 0; index < this.adjustmentPoints.length; index++) {\n\t\t\tconst viz = this.adjustmentPoints[index]\n\t\t\tconst point = this.referencePoints[index].transform(transformMatrix)\n\n\t\t\tviz.center(point.x, point.y)\n\t\t}\n\t}\n\n\tpublic rotate(angleDeg: number): void {\n\t\tif (Math.abs(angleDeg) == 45) {\n\t\t\t// no 45 degree rotations\n\t\t\treturn\n\t\t}\n\t\tthis.referencePoints = this.referencePoints.map((point) => point.rotate(angleDeg, this.position))\n\t\tif (Math.abs(angleDeg) == 90) {\n\t\t\tthis.wireDirections = this.wireDirections.map(oppositeDirection)\n\t\t}\n\t\tthis.update()\n\t}\n\n\tprotected update(): void {\n\t\t//recalculate the bounding box and position\n\t\tthis._bbox = bboxFromPoints(this.referencePoints)\n\t\tthis.position = new SVG.Point(this._bbox.cx, this._bbox.cy)\n\n\t\t// generate all the points in the wire from the corner points and the wire directions\n\t\tlet pointArray = this.pointsFromCornerPoints()\n\n\t\tlet startArrowRef = pointArray.at(1).clone()\n\t\tstartArrowRef =\n\t\t\tstartArrowRef.eq(this.referencePoints.at(0)) ? (pointArray.at(2) ?? new SVG.Point()).clone() : startArrowRef\n\t\tlet endArrowRef = pointArray.at(-2).clone()\n\t\tendArrowRef =\n\t\t\tendArrowRef.eq(this.referencePoints.at(-1)) ? (pointArray.at(-3) ?? new SVG.Point()).clone() : endArrowRef\n\n\t\t// first update the relative positions of the snapping points w.r.t. the wire, i.e. the start and end positions\n\t\tlet pointsNoArrow = pointArray.map((point) => point.clone())\n\n\t\t// adjust end points for arrow heads\n\t\tconst arrowSize = this.lineWidthToArrowScale()\n\t\tif (this.arrowStartChoice.value.key !== defaultArrowTip.key) {\n\t\t\tlet firstRef = pointArray[1].sub(pointArray[0])\n\t\t\tlet firstRefLength = firstRef.abs()\n\t\t\tif (firstRefLength > 0) {\n\t\t\t\tpointArray[0] = pointArray[0].add(\n\t\t\t\t\tfirstRef.div(firstRefLength).mul(arrowSize * this.arrowStartChoice.value.setBack)\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\n\t\tif (this.arrowEndChoice.value.key !== defaultArrowTip.key) {\n\t\t\tlet numPoints = pointArray.length - 1\n\t\t\tlet secondRef = pointArray[numPoints - 1].sub(pointArray[numPoints])\n\t\t\tlet secondRefLength = secondRef.abs()\n\t\t\tif (secondRefLength > 0) {\n\t\t\t\tpointArray[numPoints] = pointArray[numPoints].add(\n\t\t\t\t\tsecondRef.div(secondRefLength).mul(arrowSize * this.arrowEndChoice.value.setBack)\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\n\t\t//update arrows. has to be done before bbox calculation, otherwise, the arrow tips are not shown in the bounding box\n\t\tthis.updateArrowTransforms(startArrowRef, endArrowRef)\n\n\t\t// actually plot the points\n\t\tlet plotPoints = new SVG.PointArray(pointArray.map((val) => val.toArray()))\n\t\tthis.wire.clear()\n\t\tthis.wire.plot(plotPoints)\n\t\tthis.draggableWire.clear()\n\t\tthis.draggableWire.plot(plotPoints)\n\n\t\t//recalculate the snapping point offsets\n\t\tif (this.snappingPoints.length == pointsNoArrow.length) {\n\t\t\t//update the existing snap points\n\t\t\tfor (let index = 0; index < this.snappingPoints.length; index++) {\n\t\t\t\tconst snapPoint = this.snappingPoints[index]\n\t\t\t\tconst point = pointsNoArrow[index]\n\t\t\t\tsnapPoint.updateRelPosition(point)\n\t\t\t}\n\t\t} else {\n\t\t\t// a point was added -> redo snap points\n\t\t\tthis.snappingPoints = pointsNoArrow.map(\n\t\t\t\t(point, idx) =>\n\t\t\t\t\tnew SnapPoint(\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tidx == 0 ? \"START\"\n\t\t\t\t\t\t: idx == pointsNoArrow.length - 1 ? \"END\"\n\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\tpoint\n\t\t\t\t\t)\n\t\t\t)\n\t\t}\n\n\t\t// update visuals\n\t\tthis.recalculateSelectionVisuals()\n\t\tthis.recalculateSnappingPoints()\n\t\tthis.recalculateResizePoints()\n\n\t\t// update current annotation if exists\n\t\tthis.updateCurrentRender()\n\t}\n\n\tprivate pointsFromCornerPoints() {\n\t\tlet pointArray: SVG.Point[] = [this.referencePoints[0].clone()]\n\t\tfor (let index = 0; index < this.wireDirections.length; index++) {\n\t\t\tconst direction = this.wireDirections[index]\n\n\t\t\tconst previousPoint = this.referencePoints[index]\n\t\t\tconst point = this.referencePoints[index + 1]\n\t\t\tif (direction == WireDirection.HV && previousPoint.x != point.x && previousPoint.y != point.y) {\n\t\t\t\tpointArray.push(new SVG.Point(point.x, previousPoint.y))\n\t\t\t} else if (direction == WireDirection.VH && previousPoint.x != point.x && previousPoint.y != point.y) {\n\t\t\t\tpointArray.push(new SVG.Point(previousPoint.x, point.y))\n\t\t\t}\n\t\t\tpointArray.push(point.clone())\n\t\t}\n\t\treturn pointArray\n\t}\n\n\tprotected recalculateSelectionVisuals(): void {\n\t\tif (this.selectionElement) {\n\t\t\tconst transformMatrix = this.getTransformMatrix()\n\t\t\tconst transformMatrixInv = transformMatrix.inverse()\n\n\t\t\tlet bbox = this.bbox\n\t\t\tconst strokeWidth = this.strokeInfo.width.convertToUnit(\"px\").value\n\t\t\tbbox = new SVG.Box(\n\t\t\t\tbbox.x - strokeWidth / 2,\n\t\t\t\tbbox.y - strokeWidth / 2,\n\t\t\t\tbbox.w + strokeWidth,\n\t\t\t\tbbox.h + strokeWidth\n\t\t\t)\n\n\t\t\tif (this.startArrowElement) {\n\t\t\t\tconst currentTransform = new SVG.Matrix(this.startArrowElement.transform())\n\t\t\t\tconst arrowTransform = currentTransform.lmultiply(transformMatrixInv)\n\t\t\t\tconst startBBox = this.startArrowElement.bbox().transform(arrowTransform)\n\t\t\t\tbbox = bbox.merge(startBBox)\n\t\t\t}\n\n\t\t\tif (this.endArrowElement) {\n\t\t\t\tconst currentTransform = new SVG.Matrix(this.endArrowElement.transform())\n\t\t\t\tconst arrowTransform = currentTransform.lmultiply(transformMatrixInv)\n\t\t\t\tconst endBBox = this.endArrowElement.bbox().transform(arrowTransform)\n\t\t\t\tbbox = bbox.merge(endBBox)\n\t\t\t}\n\n\t\t\tthis.selectionElement.size(bbox.width + selectedBoxWidth, bbox.height + selectedBoxWidth)\n\t\t\tthis.selectionElement.center(bbox.cx, bbox.cy)\n\t\t\tthis.selectionElement.transform(transformMatrix)\n\t\t}\n\t}\n\n\tpublic isInsideSelectionRectangle(selectionRectangle: SVG.Box): boolean {\n\t\t//essentially check each wire segment via a wire rect intersection\n\t\tconst transformMatrix = this.getTransformMatrix()\n\t\tlet pointsArray = this.pointsFromCornerPoints().map((point) => point.transform(transformMatrix))\n\n\t\tfor (let idx = 0; idx < pointsArray.length - 1; idx++) {\n\t\t\tconst p1 = pointsArray[idx]\n\t\t\tconst p2 = pointsArray[idx + 1]\n\n\t\t\tif (pointInsideRect(p1, selectionRectangle)) {\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tlineRectIntersection(\n\t\t\t\t\t[\n\t\t\t\t\t\t[p1.x, p1.y],\n\t\t\t\t\t\t[p2.x, p2.y],\n\t\t\t\t\t],\n\t\t\t\t\tselectionRectangle\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t}\n\n\tpublic viewSelected(show: boolean): void {\n\t\tsuper.viewSelected(show)\n\t\tthis.resizable(this.isSelected && show && SelectionController.instance.currentlySelectedComponents.length == 1)\n\t}\n\n\tpublic toJson(): WireSaveObject {\n\t\tlet data = super.toJson() as WireSaveObject\n\t\tdata.type = WireComponent.jsonID\n\t\tdata.directions = this.wireDirections\n\n\t\tif (this.arrowStartChoice.value.key !== defaultArrowTip.key) {\n\t\t\tdata.startArrow = this.arrowStartChoice.value.key\n\t\t}\n\n\t\tif (this.arrowEndChoice.value.key !== defaultArrowTip.key) {\n\t\t\tdata.endArrow = this.arrowEndChoice.value.key\n\t\t}\n\n\t\treturn data\n\t}\n\n\tpublic static fromJson(saveObject: WireSaveObject): WireComponent {\n\t\tif (SaveController.instance.currentlyLoadedSaveVersion == \"\") {\n\t\t\t//@ts-ignore\n\t\t\tlet points: SVG.Point[] = [saveObject.start]\n\t\t\tlet directions: WireDirection[] = []\n\t\t\t//@ts-ignore\n\t\t\tfor (const segment of saveObject.segments) {\n\t\t\t\tpoints.push(segment.endPoint)\n\t\t\t\tdirections.push(segment.direction)\n\t\t\t}\n\n\t\t\tsaveObject.points = points\n\t\t\tsaveObject.directions = directions\n\t\t}\n\t\treturn new WireComponent()\n\t}\n\n\tprotected buildTikzCommand(command: TikzPathCommand): void {\n\t\tsuper.buildTikzCommand(command)\n\n\t\tlet arrowOptions: string[] = []\n\t\tif (this.arrowStartChoice.value.key !== defaultArrowTip.key) {\n\t\t\tarrowOptions.push(this.arrowStartChoice.value.tikz)\n\t\t\tarrowOptions.push(\"-\")\n\t\t}\n\t\tif (this.arrowEndChoice.value.key !== defaultArrowTip.key) {\n\t\t\tif (arrowOptions.length == 0) {\n\t\t\t\tarrowOptions.push(\"-\")\n\t\t\t}\n\t\t\tarrowOptions.push(this.arrowEndChoice.value.tikz)\n\t\t}\n\t\tif (arrowOptions.length > 0) {\n\t\t\tcommand.options.push(arrowOptions.join(\"\"))\n\t\t}\n\n\t\t// Add current annotation if specified\n\t\tif (this.currentLabel && this.currentLabel.value != \"\") {\n\t\t\tlet currentString = \"i\"\n\t\t\tlet labelPosString = this.currentLabelPosition.value ? \"_\" : \"^\"\n\t\t\tlet dirString = this.currentDirection.value ? \"<\" : \">\"\n\n\t\t\tif (this.currentPosition.value) {\n\t\t\t\t// if position is start, the label position comes after the direction and both are required, except:\n\t\t\t\tif (this.currentLabelPosition.value == false && this.currentDirection.value == true) {\n\t\t\t\t\t// if direction is backward and the label position is default above, the label position is not required\n\t\t\t\t\tlabelPosString = \"\"\n\t\t\t\t}\n\t\t\t\tcurrentString += dirString + labelPosString\n\t\t\t} else {\n\t\t\t\t// if position is end, the label position comes before the direction\n\t\t\t\tif (this.currentDirection.value == false) {\n\t\t\t\t\t// if direction is forward the label position is not required\n\t\t\t\t\tdirString = \"\"\n\t\t\t\t\tif (this.currentLabelPosition.value == false) {\n\t\t\t\t\t\t// if the label position is default above and the direction is forward, the label position is also not required\n\t\t\t\t\t\tlabelPosString = \"\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcurrentString += labelPosString + dirString\n\t\t\t}\n\n\t\t\tcurrentString += \"={$\" + this.currentLabel.value + \"$}\"\n\t\t\tcommand.options.push(currentString)\n\n\t\t\tif (this.currentDistance.value.value != 0.5) {\n\t\t\t\tcommand.options.push(\"current/distance=\" + this.currentDistance.value.value.toString())\n\t\t\t}\n\t\t}\n\n\t\tlet pointArray = this.referencePoints.map((point) => point)\n\t\tfor (let index = 0; index < this.wireDirections.length; index++) {\n\t\t\tconst previousPoint = pointArray[index]\n\t\t\tconst point = pointArray[index + 1]\n\t\t\tlet dir = this.wireDirections[index]\n\t\t\tif (dir == WireDirection.HV && previousPoint.y == point.y) {\n\t\t\t\tdir = WireDirection.Straight\n\t\t\t}\n\t\t\tif (dir == WireDirection.VH && previousPoint.x == point.x) {\n\t\t\t\tdir = WireDirection.Straight\n\t\t\t}\n\t\t\tif (!dir) {\n\t\t\t\tdir = WireDirection.Straight\n\t\t\t}\n\t\t\tcommand.connectors.push(dir)\n\t\t}\n\t}\n\n\tpublic copyForPlacement(): WireComponent {\n\t\treturn new WireComponent(this.onlyStraight, this.defaultArrowHead)\n\t}\n\n\tpublic remove(): void {\n\t\tthis.visualization.remove()\n\t\tthis.viewSelected(false)\n\t\tthis.selectionElement?.remove()\n\t\tif (this.finishedPlacing) {\n\t\t\tthis.draggable(false)\n\t\t}\n\t}\n\n\tpublic placeMove(pos: SVG.Point, ev?: MouseEvent): void {\n\t\t//only move the last corner point in the array\n\t\tif (this.referencePoints.length > 1) {\n\t\t\tlet previousPoint = this.referencePoints.at(-2)\n\t\t\tlet relToPreviousPoint = pos.sub(previousPoint)\n\n\t\t\tthis.previousPlacingDirection = this.directionVecFromPos(relToPreviousPoint, this.previousPlacingDirection)\n\t\t\tthis.wireDirections[this.wireDirections.length - 1] = this.wireDirectionFromDirectionVec(\n\t\t\t\tthis.previousPlacingDirection,\n\t\t\t\tev\n\t\t\t)\n\n\t\t\tthis.referencePoints[this.referencePoints.length - 1] = pos\n\t\t\tthis.update()\n\t\t}\n\t}\n\n\t/**\n\t * This essentially adjusts the wire direction if necessary. If the cursor crosses the axis perpendicular to the previous initial direction of the wire segment, this axis should now be the initial direction of the wire segment\n\t * @param relPos the current position relative to the position of the previous point\n\t * @param lastDirection in which direction the wire was previously starting\n\t * @returns the adjusted direction\n\t */\n\tprivate directionVecFromPos(relPos: SVG.Point, lastDirection: SVG.Point): SVG.Point {\n\t\tvar dir = lastDirection.clone()\n\t\tif (relPos.y != 0 && relPos.x * lastDirection.x < 0) {\n\t\t\tdir.x = 0\n\t\t\tdir.y = Math.sign(relPos.y)\n\t\t} else if (relPos.x != 0 && relPos.y * lastDirection.y < 0) {\n\t\t\tdir.x = Math.sign(relPos.x)\n\t\t\tdir.y = 0\n\t\t}\n\t\treturn dir\n\t}\n\n\tprivate wireDirectionFromDirectionVec(directionVec: SVG.Point, ev?: MouseEvent | TouchEvent): WireDirection {\n\t\tif (this.onlyStraight || (ev && (ev.ctrlKey || (MainController.instance.isMac && ev.metaKey)))) {\n\t\t\treturn WireDirection.Straight\n\t\t} else if (directionVec.x != 0) {\n\t\t\treturn WireDirection.HV\n\t\t} else if (directionVec.y != 0) {\n\t\t\treturn WireDirection.VH\n\t\t}\n\t}\n\n\tpublic placeStep(pos: SVG.Point): boolean {\n\t\tif (this.finishedPlacing) {\n\t\t\treturn true\n\t\t}\n\t\tif (this.referencePoints.length > 0) {\n\t\t\t//if there already exists a wire, check if the same point was placed twice --> if so, the wire placement should end\n\t\t\tlet previousPoint = this.referencePoints.at(-2) // there is never only one corner point in the array\n\t\t\tif (pos.eq(previousPoint)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t} else {\n\t\t\tthis.referencePoints.push(pos.clone())\n\t\t\tthis.updateTheme()\n\t\t}\n\n\t\tthis.referencePoints.push(pos)\n\n\t\tthis.wireDirections.push(WireDirection.HV)\n\t\tthis.previousPlacingDirection.x = 1\n\t\tthis.previousPlacingDirection.y = 0\n\n\t\tthis.placeMove(pos)\n\n\t\treturn false\n\t}\n\n\tpublic placeFinish(): void {\n\t\tif (this.finishedPlacing) {\n\t\t\t//was already called\n\t\t\treturn\n\t\t}\n\n\t\tif (this.referencePoints.length == 0) {\n\t\t\tthis.placeStep(new SVG.Point())\n\t\t}\n\n\t\t// remove the point which was currently being placed (not actually part of the wire)\n\t\tthis.referencePoints.pop()\n\t\tthis.wireDirections.pop()\n\t\tif (this.referencePoints.length >= 2 && this.referencePoints.at(-1).eq(this.referencePoints.at(-2))) {\n\t\t\t// the last two points where equal -> remove one more\n\t\t\tthis.referencePoints.pop()\n\t\t\tthis.wireDirections.pop()\n\t\t}\n\n\t\tif (this.referencePoints.length < 2) {\n\t\t\t// if not event 2 corner points --> not a wire\n\t\t\tMainController.instance.removeComponent(this)\n\t\t\treturn\n\t\t}\n\n\t\tthis.updateTheme()\n\t\tthis.update()\n\n\t\tthis.finishedPlacing = true\n\t}\n\n\tpublic applyJson(saveObject: WireSaveObject): void {\n\t\tsuper.applyJson(saveObject)\n\t\tthis.wireDirections = saveObject.directions ?? []\n\t\twhile (this.wireDirections.length < this.referencePoints.length - 1) {\n\t\t\tthis.wireDirections.push(WireDirection.Straight)\n\t\t}\n\n\t\tif (saveObject.startArrow) {\n\t\t\tthis.arrowStartChoice.value = arrowTips.find((item) => item.key == saveObject.startArrow)\n\t\t}\n\n\t\tif (saveObject.endArrow) {\n\t\t\tthis.arrowEndChoice.value = arrowTips.find((item) => item.key == saveObject.endArrow)\n\t\t}\n\n\t\tthis.updateTheme()\n\t\tthis.update()\n\n\t\tthis.finishedPlacing = true\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tCanvasController,\n\tCircuitComponent,\n\tMainController,\n\tSelectionController,\n\tSelectionMode,\n\tSnapController,\n\tUndo,\n} from \"../internal\"\n\nexport type DragCallbacks = {\n\tdragStart?(pos: SVG.Point, ev?: MouseEvent | TouchEvent): void\n\tdragMove?(pos: SVG.Point, ev?: MouseEvent | TouchEvent): void\n\tdragEnd?(): boolean //return true if an Undo state can be added\n}\n\ntype DragHandler = {\n\tel: SVG.Element\n\tbox: SVG.Box\n\tlastClick: SVG.Point\n\tdrag(event: Event): void\n\tstartDrag(event: Event): void\n\tendDrag(event: Event): void\n\tmove(x: number, y: number): SVG.Element\n\tinit(enabled: boolean): void\n}\n\ntype DragMoveEventDetail = {\n\tbox: SVG.Box\n\tevent: MouseEvent | TouchEvent\n\thandler: DragHandler\n}\n\ntype DragEvent = CustomEvent<DragMoveEventDetail>\n\nfunction getHighestParentGroup(component: CircuitComponent) {\n\tlet parent: CircuitComponent = component\n\twhile (parent.parentGroup) {\n\t\tparent = parent.parentGroup\n\t}\n\treturn parent\n}\n\nlet currentlyDragging: CircuitComponent = null\n\nexport class SnapDragHandler {\n\tprivate componentReference: CircuitComponent\n\tprivate element: SVG.Element\n\n\tprivate startedDragging = false\n\tprivate didDrag = false\n\n\tconstructor(componentReference: CircuitComponent, element: SVG.Element) {\n\t\tthis.componentReference = componentReference\n\t\tthis.element = element\n\t\tthis.element.remember(\"_snapDragHandler\", this)\n\t\tthis.element.draggable(true)\n\n\t\tthis.element.on(\"dragstart\", this.dragStart, this, { passive: true })\n\t\tthis.element.on(\"dragmove.namespace\", this.dragMove, this)\n\t\tthis.element.on(\"dragend\", this.dragEnd, this, { passive: true })\n\t\tthis.element.on(\"mouseenter\", (ev) => {\n\t\t\tgetHighestParentGroup(this.componentReference).isHovered =\n\t\t\t\tcurrentlyDragging ? this.componentReference == currentlyDragging : true\n\t\t})\n\t\tthis.element.on(\"mouseleave\", (ev) => {\n\t\t\tgetHighestParentGroup(this.componentReference).isHovered = this.didDrag\n\t\t})\n\t}\n\n\tstatic snapDrag(\n\t\tcomponentReference: CircuitComponent,\n\t\tenable: boolean,\n\t\telement: SVG.Element = componentReference.visualization\n\t): SnapDragHandler | null {\n\t\tlet snapDragHandler: SnapDragHandler | null =\n\t\t\telement.remember(\"_snapDragHandler\") ?? (enable ? new SnapDragHandler(componentReference, element) : null)\n\t\tif (enable === false && snapDragHandler) {\n\t\t\t// enable === false --> not undefined\n\t\t\t// if the snapDragHandler gets removed while currently moving, this means that the component placement is cancelled, i.e. no state should be added\n\t\t\tif (snapDragHandler.startedDragging) {\n\t\t\t\tsnapDragHandler.dragEnd(null, false)\n\t\t\t}\n\t\t\tsnapDragHandler.removeHandler()\n\t\t\treturn null\n\t\t}\n\t\treturn snapDragHandler\n\t}\n\n\tremoveHandler() {\n\t\tthis.element.off(\"dragstart\", this.dragStart)\n\t\tthis.element.off(\"dragmove.namespace\", this.dragMove)\n\t\tthis.element.off(\"dragend\", this.dragEnd)\n\t\tthis.element.off(\"mouseenter\")\n\t\tthis.element.off(\"mouseleave\")\n\t\tthis.element.draggable(false)\n\t\tthis.element.forget(\"_snapDragHandler\")\n\t\tthis.element.forget(\"_draggable\")\n\t}\n\n\tprivate dragOffset: SVG.Point\n\tprivate dragStart(ev: DragEvent) {\n\t\tthis.startedDragging = true\n\t\tcurrentlyDragging = this.componentReference\n\t\tthis.element.node.classList.add(\"dragging\")\n\t\tthis.element.parent().node.classList.add(\"dragging\")\n\t\tthis.dragOffset = this.componentReference.position.sub(CanvasController.eventToPoint(ev.detail.event, false))\n\n\t\tSnapController.instance.updateSnapPoints(getHighestParentGroup(this.componentReference), false)\n\t}\n\tprivate dragMove(ev: DragEvent) {\n\t\tthis.didDrag = true\n\t\tev.preventDefault()\n\n\t\tconst draggedPoint = CanvasController.eventToPoint(ev.detail.event, false).add(this.dragOffset)\n\n\t\t// calculate where the selection/component should be placed\n\t\tlet shiftKey = ev.detail.event.shiftKey\n\t\tlet destination =\n\t\t\tshiftKey ? draggedPoint : SnapController.instance.snapPoint(draggedPoint, this.componentReference)\n\n\t\tSnapController.instance.showSnapPoints(!shiftKey)\n\n\t\tlet parent: CircuitComponent = getHighestParentGroup(this.componentReference)\n\n\t\tif (parent.isSelected) {\n\t\t\t//move the whole selection to the destination\n\t\t\tSelectionController.instance.moveSelectionRel(destination.sub(this.componentReference.position))\n\t\t} else {\n\t\t\tparent.moveTo(destination.add(parent.position.sub(this.componentReference.position)))\n\t\t}\n\t\tSnapController.instance.recalculateAdditionalSnapPoints()\n\t}\n\tprivate dragEnd(ev: DragEvent, trackState = true) {\n\t\tif (!this.startedDragging) {\n\t\t\treturn\n\t\t}\n\t\tcurrentlyDragging = null\n\n\t\tlet parent: CircuitComponent = getHighestParentGroup(this.componentReference)\n\n\t\tif (!this.didDrag) {\n\t\t\t// didn't move at all -> essentially clicked the component --> select the component instead; no Undo state\n\t\t\tlet ctrlCommand = ev.detail.event.ctrlKey || (MainController.instance.isMac && ev.detail.event.metaKey)\n\t\t\tlet selectionMode =\n\t\t\t\tev.detail.event.shiftKey ? SelectionMode.ADD\n\t\t\t\t: ctrlCommand ? SelectionMode.SUB\n\t\t\t\t: SelectionMode.RESET\n\n\t\t\tif (\n\t\t\t\tselectionMode == SelectionMode.RESET &&\n\t\t\t\tSelectionController.instance.currentlySelectedComponents.includes(parent) &&\n\t\t\t\tSelectionController.instance.currentlySelectedComponents.length > 1\n\t\t\t) {\n\t\t\t\tSelectionController.instance.setReference(parent)\n\t\t\t} else {\n\t\t\t\tSelectionController.instance.selectComponents([parent], selectionMode)\n\t\t\t}\n\t\t\ttrackState = false\n\t\t}\n\n\t\t// reset drag states\n\t\tthis.didDrag = false\n\t\tthis.startedDragging = false\n\t\tthis.element.node.classList.remove(\"dragging\")\n\t\tthis.element.parent().node.classList.remove(\"dragging\")\n\t\tSnapController.instance.showSnapPoints(false)\n\n\t\tif (window.TouchEvent && ev.detail?.event instanceof TouchEvent) {\n\t\t\tconst clientXY = ev.detail.event.touches?.[0] ?? ev.detail.event.changedTouches?.[0]\n\t\t\tconst contextMenuEvent = new PointerEvent(\"contextmenu\", {\n\t\t\t\tclientX: clientXY.clientX,\n\t\t\t\tclientY: clientXY.clientY,\n\t\t\t})\n\t\t\tPromise.resolve().then(() => this.element.node.dispatchEvent(contextMenuEvent))\n\t\t}\n\n\t\t// only recalculate snapping points after movement is done! (since they are part of the movement which would lead to eratic behaviour)\n\t\tif (parent.isSelected) {\n\t\t\tfor (const component of SelectionController.instance.currentlySelectedComponents) {\n\t\t\t\tcomponent.recalculateSnappingPoints()\n\t\t\t}\n\t\t} else {\n\t\t\tparent.recalculateSnappingPoints()\n\t\t}\n\n\t\tif (trackState) {\n\t\t\tUndo.addState()\n\t\t}\n\t}\n}\n\nexport class AdjustDragHandler {\n\tprivate dragCallbacks?: DragCallbacks\n\tprivate element: SVG.Element\n\tprivate componentReference: CircuitComponent\n\n\tprivate startedDragging = false\n\tprivate didDrag = false\n\n\tconstructor(componentReference: CircuitComponent, element: SVG.Element, callbacks: DragCallbacks) {\n\t\tthis.element = element\n\t\tthis.componentReference = componentReference\n\t\tthis.dragCallbacks = callbacks\n\t\tthis.element.remember(\"_adjustDragHandler\", this)\n\t\tthis.element.draggable(true)\n\n\t\tthis.element.on(\"dragstart\", this.dragStart, this, { passive: true })\n\t\tthis.element.on(\"dragmove.namespace\", this.dragMove, this)\n\t\tthis.element.on(\"dragend\", this.dragEnd, this, { passive: true })\n\t\tthis.element.on(\"mouseenter\", (ev) => {\n\t\t\tthis.componentReference.isHovered = currentlyDragging ? this.componentReference == currentlyDragging : true\n\t\t})\n\t\tthis.element.on(\"mouseleave\", (ev) => {\n\t\t\tthis.componentReference.isHovered = this.didDrag\n\t\t})\n\t}\n\n\tstatic snapDrag(\n\t\tcomponentReference: CircuitComponent,\n\t\telement: SVG.Element,\n\t\tenable: boolean,\n\t\tcallbacks: DragCallbacks = {}\n\t): AdjustDragHandler | null {\n\t\tlet adjustDragHandler: AdjustDragHandler | null =\n\t\t\telement.remember(\"_adjustDragHandler\") ??\n\t\t\t(enable ? new AdjustDragHandler(componentReference, element, callbacks) : null)\n\t\tif (enable === false && adjustDragHandler) {\n\t\t\t// enable === false --> not undefined\n\t\t\t// if the snapDragHandler gets removed while currently moving, this means that the component placement is cancelled, i.e. no state should be added\n\t\t\tif (adjustDragHandler.startedDragging) {\n\t\t\t\tadjustDragHandler.dragEnd(null, false)\n\t\t\t}\n\t\t\tadjustDragHandler.removeHandler()\n\t\t\treturn null\n\t\t}\n\t\treturn adjustDragHandler\n\t}\n\n\t/**\n\t * Remove the handler and deactivate `draggable` feature.\n\t */\n\tprivate removeHandler() {\n\t\tthis.element.off(\"dragstart\", this.dragStart)\n\t\tthis.element.off(\"dragmove.namespace\", this.dragMove)\n\t\tthis.element.off(\"dragend\", this.dragEnd)\n\t\tthis.element.off(\"mouseenter\")\n\t\tthis.element.off(\"mouseleave\")\n\t\tthis.element.draggable(false)\n\t\tthis.element.forget(\"_adjustDragHandler\")\n\t\tthis.element.forget(\"_draggable\")\n\t}\n\n\t//- listener -------------------------------------------------------------------------------------------------------\n\n\t/**\n\t * Listener for the \"dragstart\" event. Changes the cursor symbol using the class \"dragging\".\n\t * @param {DragEvent} event\n\t */\n\tdragStart(event: DragEvent) {\n\t\tthis.startedDragging = true\n\t\tcurrentlyDragging = this.componentReference\n\t\tthis.element.node.classList.add(\"dragging\")\n\t\tthis.element.parent().node.classList.add(\"dragging\")\n\t\tSnapController.instance.updateSnapPoints(this.componentReference, true)\n\t\tif (this.dragCallbacks && this.dragCallbacks.dragStart) {\n\t\t\tconst draggedPoint = new SVG.Point(event.detail.box.cx, event.detail.box.cy)\n\t\t\tlet shiftKey = event.detail.event.shiftKey\n\t\t\tlet destination =\n\t\t\t\tshiftKey ? draggedPoint : SnapController.instance.snapPoint(draggedPoint, this.componentReference)\n\t\t\tthis.dragCallbacks.dragStart(destination, event.detail.event)\n\t\t\tSnapController.instance.recalculateAdditionalSnapPoints()\n\t\t}\n\t}\n\n\t/**\n\t * Handler for the dragging event. Alters the default behavior to enable snapping to grid and to other components.\n\t *\n\t * @private\n\t * @param {DragEvent} event - the dragging event.\n\t */\n\tdragMove(event: DragEvent) {\n\t\tevent.preventDefault()\n\n\t\tif (window.TouchEvent && event.detail.event instanceof TouchEvent && event.detail.event.touches.length > 1) {\n\t\t\tthis.didDrag = true\n\t\t\tthis.dragEnd(event, true)\n\t\t\treturn\n\t\t}\n\n\t\tthis.didDrag = true\n\n\t\tconst draggedPoint = new SVG.Point(event.detail.box.cx, event.detail.box.cy)\n\n\t\tlet shiftKey = event.detail.event.shiftKey\n\t\tlet destination =\n\t\t\tshiftKey ? draggedPoint : SnapController.instance.snapPoint(draggedPoint, this.componentReference)\n\n\t\tSnapController.instance.showSnapPoints(!shiftKey)\n\n\t\tif (this.dragCallbacks && this.dragCallbacks.dragMove) {\n\t\t\tthis.dragCallbacks.dragMove(destination, event.detail.event)\n\t\t}\n\t\tSnapController.instance.recalculateAdditionalSnapPoints()\n\t}\n\n\t/**\n\t * Listener for the \"dragend\" event. Undo the cursor change from {@link \"#dragStart\"}.\n\t * @param {DragEvent} event\n\t */\n\tdragEnd(event: DragEvent, trackState = true) {\n\t\tif (!this.startedDragging) {\n\t\t\treturn\n\t\t}\n\t\tcurrentlyDragging = null\n\n\t\tif (!this.didDrag) {\n\t\t\t// didn't move at all -> essentially clicked the component --> select the component instead\n\t\t\tlet ctrlCommand =\n\t\t\t\tevent.detail.event.ctrlKey || (MainController.instance.isMac && event.detail.event.metaKey)\n\t\t\tlet selectionMode =\n\t\t\t\tevent.detail.event.shiftKey ? SelectionMode.ADD\n\t\t\t\t: ctrlCommand ? SelectionMode.SUB\n\t\t\t\t: SelectionMode.RESET\n\n\t\t\tif (\n\t\t\t\tselectionMode == SelectionMode.RESET &&\n\t\t\t\tSelectionController.instance.currentlySelectedComponents.includes(this.componentReference) &&\n\t\t\t\tSelectionController.instance.currentlySelectedComponents.length > 1\n\t\t\t) {\n\t\t\t\tSelectionController.instance.setReference(this.componentReference)\n\t\t\t} else {\n\t\t\t\tSelectionController.instance.selectComponents([this.componentReference], selectionMode)\n\t\t\t}\n\t\t\ttrackState = false\n\t\t}\n\n\t\tthis.didDrag = false\n\t\tthis.startedDragging = false\n\t\tthis.element.node.classList.remove(\"dragging\")\n\t\tthis.element.parent().node.classList.remove(\"dragging\")\n\n\t\tSnapController.instance.showSnapPoints(false)\n\n\t\tlet shouldUndo = false\n\t\tif (this.dragCallbacks && this.dragCallbacks.dragEnd) {\n\t\t\tshouldUndo = this.dragCallbacks.dragEnd()\n\t\t}\n\n\t\tthis.componentReference.recalculateSnappingPoints()\n\n\t\tif (trackState && shouldUndo) {\n\t\t\tUndo.addState()\n\t\t}\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tDirectionInfo,\n\tCanvasController,\n\tbasicDirections,\n\tdefaultBasicDirection,\n\tSnappingInfo,\n\tSnapDragHandler,\n\tAdjustDragHandler,\n\tdefaultStroke,\n\tSelectionController,\n\tNodeComponent,\n\tNodeSaveObject,\n\tFillInfo,\n\tFillable,\n\tStrokeInfo,\n\tStrokable,\n\tclosestBasicDirection,\n} from \"../internal\"\nimport { resizeSVG, selectedBoxWidth } from \"../utils/selectionHelper\"\n\nexport type ShapeSaveObject = NodeSaveObject & {\n\tfill?: FillInfo\n\tstroke?: StrokeInfo\n\tsize: SVG.Point\n}\n\nexport const dashArrayToPattern = (linewidth: SVG.Number, dasharray: number[]): string => {\n\tlet pattern = []\n\tfor (let index = 0; index < dasharray.length - 1; index += 2) {\n\t\tconst onElement = dasharray[index]\n\t\tconst offElement = dasharray[index + 1]\n\t\tpattern.push(\"on \" + linewidth.times(onElement).toString())\n\t\tpattern.push(\"off \" + linewidth.times(offElement).toString())\n\t}\n\treturn \"dash pattern={\" + pattern.join(\" \") + \"}\"\n}\n\nexport abstract class ShapeComponent extends Strokable(Fillable(NodeComponent)) {\n\tprotected placePoint: SVG.Point\n\n\tpublic constructor() {\n\t\tsuper()\n\t\tthis.resizeVisualizations = new Map<DirectionInfo, SVG.Element>()\n\n\t\tthis.snappingPoints = []\n\t\tCanvasController.instance.canvas.add(this.visualization)\n\t}\n\n\tpublic moveTo(position: SVG.Point): void {\n\t\tthis.position = position\n\t\tthis.update()\n\t}\n\n\tpublic rotate(angleDeg: number): void {\n\t\tthis.rotationDeg += angleDeg\n\t\tthis.simplifyRotationAngle()\n\t\tthis.update()\n\t}\n\n\tpublic flip(horizontal: boolean): void {\n\t\tthis.rotationDeg = (horizontal ? 0 : 180) - this.rotationDeg\n\t\tthis.simplifyRotationAngle()\n\t\tthis.update()\n\t}\n\n\tprotected recalculateResizePoints() {\n\t\tconst halfsize = this.size.div(2)\n\t\tconst transformMatrix = this.getTransformMatrix()\n\t\tfor (const [dir, viz] of this.resizeVisualizations) {\n\t\t\tlet pos = halfsize.add(halfsize.mul(dir.direction)).transform(transformMatrix)\n\t\t\tviz.center(pos.x, pos.y)\n\t\t}\n\t}\n\n\tprotected applyJson(saveObject: ShapeSaveObject): void {\n\t\tsuper.applyJson(saveObject)\n\t\tthis.placePoint = this.position\n\t\tthis.size = new SVG.Point(saveObject.size)\n\t\tthis.referencePosition = this.size.div(2)\n\t}\n\n\tpublic toJson(): ShapeSaveObject {\n\t\tconst data = super.toJson() as ShapeSaveObject\n\t\tdata.size = this.size\n\t\treturn data\n\t}\n\n\tpublic getTransformMatrix(): SVG.Matrix {\n\t\treturn new SVG.Matrix({\n\t\t\tscaleX: this.scaleState.x,\n\t\t\tscaleY: this.scaleState.y,\n\t\t\ttranslate: [-this.referencePosition.x, -this.referencePosition.y],\n\t\t\torigin: [this.referencePosition.x, this.referencePosition.y],\n\t\t}).lmultiply(\n\t\t\tnew SVG.Matrix({\n\t\t\t\trotate: -this.rotationDeg,\n\t\t\t\ttranslate: [this.position.x, this.position.y],\n\t\t\t})\n\t\t)\n\t}\n\n\tprotected update(): void {\n\t\tlet strokeWidth = this.strokeInfo.width.convertToUnit(\"px\").value\n\n\t\tlet transformMatrix = this.getTransformMatrix()\n\t\tconst halfSize = this.size.div(2)\n\n\t\tthis.dragElement.size(this.size.x, this.size.y)\n\t\tthis.dragElement.transform(transformMatrix)\n\n\t\tthis.componentVisualization.size(\n\t\t\tthis.size.x < strokeWidth ? 0 : this.size.x - strokeWidth,\n\t\t\tthis.size.y < strokeWidth ? 0 : this.size.y - strokeWidth\n\t\t)\n\t\tthis.componentVisualization.center(halfSize.x, halfSize.y)\n\t\tthis.componentVisualization.transform(transformMatrix)\n\n\t\tthis.defaultTextPosition = halfSize\n\t\tthis._bbox = this.dragElement.bbox().transform(transformMatrix)\n\n\t\t//update resize pointers\n\t\tif (this.isResizing) {\n\t\t\tfor (const [direction, viz] of this.resizeVisualizations.entries()) {\n\t\t\t\tconst directionTransformed = direction.direction.transform(\n\t\t\t\t\tnew SVG.Matrix({\n\t\t\t\t\t\trotate: -this.rotationDeg,\n\t\t\t\t\t\tscaleX: this.scaleState.x,\n\t\t\t\t\t\tscaleY: this.scaleState.y,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\tviz.node.style.cursor = closestBasicDirection(directionTransformed).pointer\n\t\t\t}\n\t\t}\n\n\t\tthis.recalculateSelectionVisuals()\n\t\tthis.recalculateSnappingPoints()\n\t\tthis.recalculateResizePoints()\n\t\tthis.updatePositionedLabel()\n\t}\n\n\tprotected recalculateSelectionVisuals(): void {\n\t\tif (this.selectionElement) {\n\t\t\tthis.selectionElement\n\t\t\t\t.size(this.size.x + selectedBoxWidth, this.size.y + selectedBoxWidth)\n\t\t\t\t.center(this.size.x / 2, this.size.y / 2)\n\t\t\t\t.transform(this.getTransformMatrix())\n\t\t}\n\t}\n\n\tpublic updateTheme(): void {\n\t\tlet strokeColor = this.strokeInfo.color\n\t\tif (strokeColor == \"default\") {\n\t\t\tstrokeColor = defaultStroke\n\t\t}\n\n\t\tthis.componentVisualization?.stroke({\n\t\t\tcolor: strokeColor,\n\t\t\topacity: this.strokeInfo.opacity,\n\t\t\twidth: this.strokeInfo.opacity == 0 ? 0 : this.strokeInfo.width.convertToUnit(\"px\").value,\n\t\t\tdasharray: this.strokeStyleProperty.value.dasharray\n\t\t\t\t.map((factor) => this.strokeInfo.width.times(factor).toString())\n\t\t\t\t.join(\" \"),\n\t\t})\n\n\t\tlet fillColor = this.fillInfo.color\n\t\tif (fillColor == \"default\") {\n\t\t\tfillColor = \"none\"\n\t\t}\n\t\tthis.componentVisualization?.fill({\n\t\t\tcolor: fillColor,\n\t\t\topacity: this.fillInfo.opacity,\n\t\t})\n\n\t\tlet labelColor = defaultStroke\n\t\tif (this.labelColor.value) {\n\t\t\tlabelColor = this.labelColor.value.toString()\n\t\t}\n\n\t\tthis.labelRendering?.fill(labelColor)\n\t}\n\n\tpublic remove(): void {\n\t\tfor (const [dir, viz] of this.resizeVisualizations) {\n\t\t\tAdjustDragHandler.snapDrag(this, viz, false)\n\t\t\tviz.remove()\n\t\t}\n\t\tSnapDragHandler.snapDrag(this, false)\n\t\tthis.visualization.remove()\n\t\tthis.draggable(false)\n\t\tthis.resizable(false)\n\t\tthis.viewSelected(false)\n\t\tthis.selectionElement?.remove()\n\t}\n\n\tpublic getSnappingInfo(): SnappingInfo {\n\t\treturn {\n\t\t\ttrackedSnappingPoints: this.snappingPoints,\n\t\t\tadditionalSnappingPoints: [],\n\t\t}\n\t}\n\n\tpublic viewSelected(show: boolean): void {\n\t\tsuper.viewSelected(show)\n\t\tthis.resizable(this.isSelected && show && SelectionController.instance.currentlySelectedComponents.length == 1)\n\t}\n\n\tpublic resizable(resize: boolean): void {\n\t\t// general method: work with positions in non rotated reference frame (rotation of rotated positions has to be compensated --> inverse transform Matrix). Rotation is done in update via the transformMatrix\n\t\tif (resize == this.isResizing) {\n\t\t\treturn\n\t\t}\n\t\tthis.isResizing = resize\n\t\tif (resize) {\n\t\t\tlet originalPos: SVG.Point\n\t\t\tlet originalSize: SVG.Point\n\t\t\tlet transformMatrixInv: SVG.Matrix\n\t\t\tconst getInitialDim = () => {\n\t\t\t\toriginalPos = this.position.clone()\n\t\t\t\toriginalSize = this.size.clone()\n\t\t\t\ttransformMatrixInv = this.getTransformMatrix().inverse()\n\t\t\t}\n\n\t\t\tfor (const direction of basicDirections) {\n\t\t\t\tif (direction.key == defaultBasicDirection.key || direction.key == \"center\") {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tlet viz = resizeSVG()\n\t\t\t\tthis.resizeVisualizations.set(direction, viz)\n\n\t\t\t\tlet startPoint: SVG.Point\n\t\t\t\tlet oppositePoint: SVG.Point\n\t\t\t\tAdjustDragHandler.snapDrag(this, viz, true, {\n\t\t\t\t\tdragStart: (pos) => {\n\t\t\t\t\t\tgetInitialDim()\n\t\t\t\t\t\tlet positionLocal = originalPos.transform(transformMatrixInv)\n\t\t\t\t\t\tstartPoint = positionLocal.add(direction.direction.mul(originalSize).div(2))\n\t\t\t\t\t\toppositePoint = positionLocal.add(direction.direction.mul(originalSize).div(-2))\n\t\t\t\t\t},\n\t\t\t\t\tdragMove: (pos, ev) => {\n\t\t\t\t\t\tpos = pos.transform(transformMatrixInv)\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tev &&\n\t\t\t\t\t\t\t(ev as MouseEvent | TouchEvent).ctrlKey &&\n\t\t\t\t\t\t\tdirection.direction.x * direction.direction.y != 0\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// get closest point on one of the two diagonals\n\t\t\t\t\t\t\tlet diff = pos.sub(oppositePoint)\n\t\t\t\t\t\t\tif (diff.x * diff.y < 0) {\n\t\t\t\t\t\t\t\tpos = new SVG.Point(pos.x - pos.y, pos.y - pos.x)\n\t\t\t\t\t\t\t\t\t.add(oppositePoint.x + oppositePoint.y)\n\t\t\t\t\t\t\t\t\t.div(2)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpos = new SVG.Point(\n\t\t\t\t\t\t\t\t\toppositePoint.x - oppositePoint.y,\n\t\t\t\t\t\t\t\t\toppositePoint.y - oppositePoint.x\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.add(pos.x + pos.y)\n\t\t\t\t\t\t\t\t\t.div(2)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet dirAbs = new SVG.Point(Math.abs(direction.direction.x), Math.abs(direction.direction.y))\n\t\t\t\t\t\tlet delta = pos.sub(startPoint)\n\n\t\t\t\t\t\tthis.size.x = direction.direction.x ? Math.abs(pos.x - oppositePoint.x) : originalSize.x\n\t\t\t\t\t\tthis.size.y = direction.direction.y ? Math.abs(pos.y - oppositePoint.y) : originalSize.y\n\t\t\t\t\t\tthis.referencePosition = this.size.div(2)\n\n\t\t\t\t\t\tthis.position = originalPos.add(delta.mul(dirAbs.div(2)).rotate(this.rotationDeg))\n\t\t\t\t\t\tthis.update()\n\t\t\t\t\t},\n\t\t\t\t\tdragEnd: () => {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.update()\n\t\t} else {\n\t\t\tfor (const [dir, viz] of this.resizeVisualizations) {\n\t\t\t\tAdjustDragHandler.snapDrag(this, viz, false)\n\t\t\t\tviz.remove()\n\t\t\t}\n\t\t\tthis.resizeVisualizations.clear()\n\t\t}\n\t}\n\n\tpublic placeMove(pos: SVG.Point, ev?: Event): void {\n\t\tif (!this.placePoint) {\n\t\t\t// not started placing\n\t\t} else {\n\t\t\tlet secondPoint: SVG.Point\n\t\t\tif (ev && (ev as MouseEvent | TouchEvent).ctrlKey) {\n\t\t\t\t// get point on one of the two diagonals\n\t\t\t\tlet diff = pos.sub(this.placePoint)\n\t\t\t\tif (diff.x * diff.y < 0) {\n\t\t\t\t\tsecondPoint = new SVG.Point(pos.x - pos.y, pos.y - pos.x)\n\t\t\t\t\t\t.add(this.placePoint.x + this.placePoint.y)\n\t\t\t\t\t\t.div(2)\n\t\t\t\t} else {\n\t\t\t\t\tsecondPoint = new SVG.Point(\n\t\t\t\t\t\tthis.placePoint.x - this.placePoint.y,\n\t\t\t\t\t\tthis.placePoint.y - this.placePoint.x\n\t\t\t\t\t)\n\t\t\t\t\t\t.add(pos.x + pos.y)\n\t\t\t\t\t\t.div(2)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsecondPoint = pos\n\t\t\t}\n\t\t\tthis.position = this.placePoint.add(secondPoint).div(2)\n\t\t\tthis.size = new SVG.Point(\n\t\t\t\tMath.abs(secondPoint.x - this.placePoint.x),\n\t\t\t\tMath.abs(secondPoint.y - this.placePoint.y)\n\t\t\t)\n\t\t\tthis.referencePosition = this.size.div(2)\n\t\t\tthis.update()\n\t\t}\n\t}\n\n\tpublic placeStep(pos: SVG.Point, ev?: Event): boolean {\n\t\tif (this.finishedPlacing) {\n\t\t\treturn true\n\t\t}\n\t\tif (!this.placePoint) {\n\t\t\tthis.placePoint = pos\n\t\t\tthis.position = pos\n\t\t\tthis.size = new SVG.Point()\n\t\t\tthis.referencePosition = this.size.div(2)\n\t\t\tthis.componentVisualization.show()\n\t\t\tthis.updateTheme()\n\t\t\treturn false\n\t\t}\n\n\t\tthis.placeMove(pos, ev)\n\t\treturn true\n\t}\n\n\tpublic placeFinish(): void {\n\t\tif (this.finishedPlacing) {\n\t\t\treturn\n\t\t}\n\t\tif (!this.placePoint) {\n\t\t\tthis.placeStep(new SVG.Point())\n\t\t}\n\n\t\tthis.finishedPlacing = true\n\t\tthis.update()\n\t\tthis.componentVisualization.show()\n\t\tthis.updateTheme()\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tbasicDirections,\n\tBooleanProperty,\n\tCanvasController,\n\tChoiceEntry,\n\tChoiceProperty,\n\tCircuitComponent,\n\tColorProperty,\n\tconvertTextToNativeSVGText,\n\tdefaultBasicDirection,\n\tMathjaxParser,\n\tPropertyCategories,\n\tSectionHeaderProperty,\n\tShapeComponent,\n\tShapeSaveObject,\n\tSliderProperty,\n\tSnapPoint,\n\tstrokeStyleChoices,\n\tTextAreaProperty,\n\ttextToSVG,\n\tTikzNodeCommand,\n\tRadioButtonProperty,\n} from \"../internal\"\nimport { rectRectIntersection, roundTikz } from \"../utils/selectionHelper\"\n\nexport type RectangleSaveObject = ShapeSaveObject & {\n\ttext?: Text\n}\n\nexport type FontSize = ChoiceEntry & {\n\tsize: number\n}\nexport const fontSizes: FontSize[] = [\n\t{ key: \"tiny\", name: \"tiny\", size: 5 },\n\t{ key: \"scriptsize\", name: \"scriptsize\", size: 7 },\n\t{ key: \"footnotesize\", name: \"footnotesize\", size: 8 },\n\t{ key: \"small\", name: \"small\", size: 9 },\n\t{ key: \"normalsize\", name: \"normalsize\", size: 10 },\n\t{ key: \"large\", name: \"large\", size: 12 },\n\t{ key: \"Large\", name: \"Large\", size: 14.4 },\n\t{ key: \"LARGE\", name: \"LARGE\", size: 17.28 },\n\t{ key: \"huge\", name: \"huge\", size: 20.74 },\n\t{ key: \"Huge\", name: \"Huge\", size: 24.88 },\n]\nexport const defaultFontSize = fontSizes[4]\n\nexport type Text = {\n\ttext: string\n\talign?: TextAlign\n\tjustify?: TextJustify\n\tfontSize?: string\n\tinnerSep?: SVG.Number\n\tcolor?: string | \"default\"\n\tshowPlaceholderText?: boolean\n\tuseHyphenation?: boolean\n}\n\nexport enum TextAlign {\n\tLEFT,\n\tCENTER,\n\tRIGHT,\n\tJUSTIFY,\n}\n\nexport enum TextJustify {\n\tSTART = -1,\n\tCENTER = 0,\n\tEND = 1,\n}\n\nexport class RectangleComponent extends ShapeComponent {\n\tprivate static jsonID = \"rect\"\n\tstatic {\n\t\tCircuitComponent.jsonSaveMap.set(RectangleComponent.jsonID, RectangleComponent)\n\t}\n\n\tdeclare protected dragElement: SVG.Rect\n\n\tprivate text: Text\n\tprivate textAreaProperty: TextAreaProperty\n\tprivate textAreaPlaceHolder: BooleanProperty\n\tprivate textAreaHyphenation: BooleanProperty\n\tprivate textAreaAlign: RadioButtonProperty<{ key: string; name: string; isMaterialSymbol: boolean; numberID: any }>\n\tprivate textAreaJustify: RadioButtonProperty<{\n\t\tkey: string\n\t\tname: string\n\t\tisMaterialSymbol: boolean\n\t\tnumberID: any\n\t}>\n\tprivate textFontSize: ChoiceProperty<FontSize>\n\tprivate textInnerSep: SliderProperty\n\tprivate textColor: ColorProperty\n\tprivate textSVG: SVG.G\n\n\tprivate createAsText: boolean\n\tprivate useHyphenation: boolean\n\n\tpublic constructor(createAsText: boolean = false) {\n\t\tsuper()\n\t\tthis.createAsText = createAsText\n\t\tthis.useHyphenation = false\n\t\tthis.displayName = \"Rectangle\"\n\n\t\tthis.componentVisualization = CanvasController.instance.canvas.rect(0, 0)\n\t\tthis.componentVisualization.hide()\n\n\t\tthis.dragElement = CanvasController.instance.canvas.rect(0, 0)\n\t\tthis.dragElement.attr({\n\t\t\tfill: \"transparent\",\n\t\t\tstroke: \"none\",\n\t\t})\n\n\t\tthis.visualization.add(this.componentVisualization)\n\n\t\tthis.visualization.add(this.dragElement)\n\n\t\tthis.properties.add(PropertyCategories.text, new SectionHeaderProperty(\"Text\", undefined, \"text:header\"))\n\t\tthis.textAreaProperty = new TextAreaProperty(\"\", undefined, \"text:area\")\n\t\tif (createAsText) {\n\t\t\tthis.strokeStyleProperty.value = strokeStyleChoices[1]\n\t\t}\n\t\tthis.textAreaProperty.addChangeListener((ev) => {\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.text, this.textAreaProperty)\n\n\t\tthis.textAreaPlaceHolder = new BooleanProperty(\"Placeholder\", createAsText, undefined, \"text:placeholder\")\n\t\tthis.textAreaPlaceHolder.addChangeListener((ev) => {\n\t\t\tthis.createAsText = ev.value\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.text, this.textAreaPlaceHolder)\n\n\t\tthis.textAreaHyphenation = new BooleanProperty(\n\t\t\t\"Hyphenation\",\n\t\t\tthis.useHyphenation,\n\t\t\tundefined,\n\t\t\t\"text:hyphenation\"\n\t\t)\n\t\tthis.textAreaHyphenation.addChangeListener((ev) => {\n\t\t\tthis.useHyphenation = ev.value\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.text, this.textAreaHyphenation)\n\n\t\tthis.textAreaAlign = new RadioButtonProperty<{\n\t\t\tkey: string\n\t\t\tname: string\n\t\t\tisMaterialSymbol: boolean\n\t\t\tnumberID: any\n\t\t}>(\n\t\t\t\"Align\",\n\t\t\t[\n\t\t\t\t{ key: \"LEFT\", name: \"format_align_left\", isMaterialSymbol: true, numberID: TextAlign.LEFT },\n\t\t\t\t{ key: \"CENTER\", name: \"format_align_center\", isMaterialSymbol: true, numberID: TextAlign.CENTER },\n\t\t\t\t{ key: \"RIGHT\", name: \"format_align_right\", isMaterialSymbol: true, numberID: TextAlign.RIGHT },\n\t\t\t\t{ key: \"JUSTIFY\", name: \"format_align_justify\", isMaterialSymbol: true, numberID: TextAlign.JUSTIFY },\n\t\t\t],\n\t\t\t{ key: \"LEFT\", name: \"format_align_left\", isMaterialSymbol: true, numberID: TextAlign.LEFT },\n\t\t\tundefined,\n\t\t\t\"text:align\"\n\t\t)\n\t\tthis.textAreaAlign.addChangeListener((ev) => {\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.text, this.textAreaAlign)\n\n\t\tthis.textAreaJustify = new RadioButtonProperty<{\n\t\t\tkey: string\n\t\t\tname: string\n\t\t\tisMaterialSymbol: boolean\n\t\t\tnumberID: any\n\t\t}>(\n\t\t\t\"Justify\",\n\t\t\t[\n\t\t\t\t{ key: \"START\", name: \"vertical_align_top\", isMaterialSymbol: true, numberID: TextJustify.START },\n\t\t\t\t{ key: \"CENTER\", name: \"vertical_align_center\", isMaterialSymbol: true, numberID: TextJustify.CENTER },\n\t\t\t\t{ key: \"END\", name: \"vertical_align_bottom\", isMaterialSymbol: true, numberID: TextJustify.END },\n\t\t\t],\n\t\t\t{ key: \"START\", name: \"vertical_align_top\", isMaterialSymbol: true, numberID: TextJustify.START },\n\t\t\tundefined,\n\t\t\t\"text:justify\"\n\t\t)\n\t\tthis.textAreaJustify.addChangeListener((ev) => {\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.text, this.textAreaJustify)\n\n\t\tthis.textFontSize = new ChoiceProperty(\"Fontsize\", fontSizes, defaultFontSize, undefined, \"text:fontsize\")\n\t\tthis.textFontSize.addChangeListener((ev) => {\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.text, this.textFontSize)\n\n\t\tthis.textInnerSep = new SliderProperty(\n\t\t\t\"Inner sep\",\n\t\t\t0,\n\t\t\t10,\n\t\t\t0.1,\n\t\t\tnew SVG.Number(5, \"pt\"),\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\t\"text:innersep\"\n\t\t)\n\t\tthis.textInnerSep.addChangeListener((ev) => {\n\t\t\tthis.update()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.text, this.textInnerSep)\n\n\t\tthis.textColor = new ColorProperty(\"Color\", null, undefined, undefined, \"text:color\")\n\t\tthis.textColor.addChangeListener((ev) => {\n\t\t\tthis.updateText()\n\t\t})\n\t\tthis.properties.add(PropertyCategories.text, this.textColor)\n\n\t\tthis.selectionElement = CanvasController.instance.canvas.rect(0, 0).hide()\n\t}\n\n\tpublic recalculateSnappingPoints(matrix?: SVG.Matrix): void {\n\t\tlet relPositions: { anchorname: string; relPos: SVG.Point }[] = []\n\t\tlet halfSize = this.size.div(2)\n\t\tfor (const anchor of basicDirections) {\n\t\t\tif (anchor.key == defaultBasicDirection.key) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\trelPositions.push({ relPos: halfSize.mul(anchor.direction), anchorname: anchor.name })\n\t\t}\n\t\tif (!this.snappingPoints || this.snappingPoints.length == 0) {\n\t\t\tfor (const element of relPositions) {\n\t\t\t\tthis.snappingPoints.push(new SnapPoint(this, element.anchorname, element.relPos.add(halfSize)))\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let index = 0; index < relPositions.length; index++) {\n\t\t\t\tconst relPos = relPositions[index].relPos\n\t\t\t\tconst snappingPoint = this.snappingPoints[index]\n\t\t\t\tsnappingPoint.updateRelPosition(relPos.add(halfSize))\n\t\t\t\tsnappingPoint.recalculate()\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic isInsideSelectionRectangle(selectionRectangle: SVG.Box): boolean {\n\t\tconst rect = new SVG.Box(\n\t\t\tthis.position.x - this.size.x / 2,\n\t\t\tthis.position.y - this.size.y / 2,\n\t\t\tthis.size.x,\n\t\t\tthis.size.y\n\t\t)\n\t\treturn rectRectIntersection(rect, selectionRectangle, this.rotationDeg)\n\t}\n\n\tprotected update(): void {\n\t\tsuper.update()\n\t\tthis.updateText()\n\t}\n\n\tpublic toJson(): RectangleSaveObject {\n\t\tconst data = super.toJson() as RectangleSaveObject\n\t\tdata.type = RectangleComponent.jsonID\n\t\tdata.size = this.size.simplifyForJson()\n\n\t\tif (this.textAreaProperty.value) {\n\t\t\tlet textData: Text = {\n\t\t\t\ttext: undefined,\n\t\t\t}\n\t\t\tlet hasText = false\n\t\t\tif (this.textAreaProperty.value != undefined && this.textAreaProperty.value !== \"\") {\n\t\t\t\ttextData.text = this.textAreaProperty.value\n\t\t\t\tif (this.textAreaAlign.value.numberID !== TextAlign.LEFT) {\n\t\t\t\t\ttextData.align = this.textAreaAlign.value.numberID\n\t\t\t\t}\n\t\t\t\tif (this.textAreaJustify.value.numberID !== TextJustify.START) {\n\t\t\t\t\ttextData.justify = this.textAreaJustify.value.numberID\n\t\t\t\t}\n\t\t\t\tif (this.textFontSize.value.key !== defaultFontSize.key) {\n\t\t\t\t\ttextData.fontSize = this.textFontSize.value.key\n\t\t\t\t}\n\t\t\t\tif (this.textInnerSep.value.value !== 5) {\n\t\t\t\t\ttextData.innerSep = this.textInnerSep.value\n\t\t\t\t}\n\t\t\t\tif (this.textColor.value) {\n\t\t\t\t\ttextData.color = this.textColor.value.toString()\n\t\t\t\t}\n\t\t\t\thasText = true\n\t\t\t}\n\t\t\ttextData.showPlaceholderText = this.createAsText || undefined\n\t\t\ttextData.useHyphenation = this.useHyphenation || undefined\n\n\t\t\tif (hasText || this.createAsText) {\n\t\t\t\tdata.text = textData\n\t\t\t}\n\t\t}\n\n\t\treturn data\n\t}\n\n\tprotected applyJson(saveObject: RectangleSaveObject): void {\n\t\tsuper.applyJson(saveObject)\n\n\t\tif (saveObject.text) {\n\t\t\tlet text: Text = {\n\t\t\t\ttext: saveObject.text.text == undefined ? \"\" : saveObject.text.text,\n\t\t\t\talign: saveObject.text.align ?? TextAlign.LEFT,\n\t\t\t\tjustify: saveObject.text.justify ?? TextJustify.START,\n\t\t\t\tshowPlaceholderText: saveObject.text.showPlaceholderText ?? false,\n\t\t\t\tuseHyphenation: saveObject.text.useHyphenation ?? false,\n\t\t\t}\n\t\t\tthis.createAsText = text.showPlaceholderText\n\t\t\tthis.useHyphenation = text.useHyphenation\n\t\t\tthis.textAreaProperty.value = text.text\n\t\t\tthis.textAreaPlaceHolder.value = this.createAsText\n\t\t\tthis.textAreaHyphenation.value = this.useHyphenation\n\t\t\tthis.textAreaAlign.value =\n\t\t\t\tObject.values(this.textAreaAlign.options).find((item) => item.numberID == text.align) ??\n\t\t\t\tthis.textAreaAlign.options[0]\n\t\t\tthis.textAreaJustify.value =\n\t\t\t\tObject.values(this.textAreaJustify.options).find((item) => item.numberID == text.justify) ??\n\t\t\t\tthis.textAreaJustify.options[0]\n\n\t\t\tthis.textFontSize.value =\n\t\t\t\tsaveObject.text.fontSize ?\n\t\t\t\t\tfontSizes.find((item) => item.key == saveObject.text.fontSize)\n\t\t\t\t:\tdefaultFontSize\n\n\t\t\tif (saveObject.text.innerSep) {\n\t\t\t\tif (!(typeof saveObject.text.innerSep == \"string\")) {\n\t\t\t\t\t// SVG.Number as object\n\t\t\t\t\tthis.textInnerSep.value = new SVG.Number(\n\t\t\t\t\t\tsaveObject.text.innerSep.value,\n\t\t\t\t\t\tsaveObject.text.innerSep.unit\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\t// SVG.Number as string\n\t\t\t\t\tthis.textInnerSep.value = new SVG.Number(saveObject.text.innerSep)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.textInnerSep.value = new SVG.Number(\"5pt\")\n\t\t\t}\n\n\t\t\tthis.textColor.value = saveObject.text.color ? new SVG.Color(saveObject.text.color) : null\n\t\t}\n\n\t\tthis.update()\n\t\tthis.componentVisualization.show()\n\t\tthis.updateTheme()\n\t}\n\n\tstatic fromJson(saveObject: RectangleSaveObject): RectangleComponent {\n\t\tlet rectComponent = new RectangleComponent()\n\t\treturn rectComponent\n\t}\n\n\t/**\n\t * override placeFinish: change the default look of the component if the rectangle was created as a text component\n\t */\n\tpublic placeFinish(): void {\n\t\tsuper.placeFinish()\n\t\tif (this.createAsText) {\n\t\t\tthis.strokeOpacityProperty.value = new SVG.Number(0, \"%\")\n\t\t\tthis.strokeInfo.opacity = this.strokeOpacityProperty.value.value / 100\n\t\t\tthis.updateTheme()\n\n\t\t\tthis.strokeStyleProperty.value = strokeStyleChoices[0]\n\n\t\t\tthis.update()\n\t\t}\n\t}\n\n\tprotected buildTikzCommand(command: TikzNodeCommand): void {\n\t\tcommand.options.push(\"shape=rectangle\")\n\t\tsuper.buildTikzCommand(command)\n\n\t\tlet strokeWidth = this.strokeInfo.width.convertToUnit(\"px\").value\n\n\t\tcommand.options.push(\n\t\t\t\"minimum width=\" +\n\t\t\t\troundTikz(new SVG.Number(this.size.x - strokeWidth, \"px\").convertToUnit(\"cm\").value) +\n\t\t\t\t\"cm\"\n\t\t)\n\t\tcommand.options.push(\n\t\t\t\"minimum height=\" +\n\t\t\t\troundTikz(new SVG.Number(this.size.y - strokeWidth, \"px\").convertToUnit(\"cm\").value) +\n\t\t\t\t\"cm\"\n\t\t)\n\n\t\tif (this.textAreaProperty.value) {\n\t\t\tlet options: string[] = []\n\n\t\t\t//treat justify like left aligned\n\t\t\tlet alignDir =\n\t\t\t\tthis.textAreaAlign.value.numberID == TextAlign.JUSTIFY ? -1 : this.textAreaAlign.value.numberID - 1\n\t\t\tlet dir = new SVG.Point(alignDir, this.textAreaJustify.value.numberID)\n\n\t\t\t// which anchor and position corresponds to the direction?\n\t\t\tlet anchor = basicDirections.find((item) => item.direction.eq(dir)).name\n\t\t\tlet pos = this.position.add(dir.mul(this.size.div(2)).rotate(this.rotationDeg))\n\t\t\toptions.push(\"anchor=\" + anchor)\n\n\t\t\tswitch (this.textAreaAlign.value.numberID) {\n\t\t\t\tcase TextAlign.LEFT:\n\t\t\t\t\toptions.push(\"align=left\")\n\t\t\t\t\tbreak\n\t\t\t\tcase TextAlign.CENTER:\n\t\t\t\t\toptions.push(\"align=center\")\n\t\t\t\t\tbreak\n\t\t\t\tcase TextAlign.RIGHT:\n\t\t\t\t\toptions.push(\"align=right\")\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\toptions.push(\"align=justify\")\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\t// text dimensions\n\t\t\tlet innerSep = this.textInnerSep.value.plus(this.strokeInfo.width)\n\t\t\tlet textWidth = new SVG.Number(this.size.x, \"px\").minus(innerSep.times(2)).convertToUnit(\"cm\")\n\n\t\t\toptions.push(`text width=${roundTikz(textWidth.value)}cm`)\n\t\t\toptions.push(`inner sep=${innerSep.toString()}`)\n\n\t\t\t//escape special characters\n\t\t\tconst replaceDict = {\n\t\t\t\t\"#\": \"\\\\#\",\n\t\t\t\t\"$\": \"\\\\$\",\n\t\t\t\t\"%\": \"\\\\%\",\n\t\t\t\t\"&\": \"\\\\&\",\n\t\t\t\t\"_\": \"\\\\_\",\n\t\t\t\t\"{\": \"\\\\{\",\n\t\t\t\t\"}\": \"\\\\}\",\n\t\t\t\t\"~\": \"\\\\textasciitilde\",\n\t\t\t\t\"^\": \"\\\\textasciicircum\",\n\t\t\t\t\"\\\\\": \"\\\\textbackslash\",\n\t\t\t\t\"\\n\": \"\\\\\\\\\",\n\t\t\t}\n\t\t\tconst mathjaxParser = new MathjaxParser()\n\t\t\tconst sections: string[] = []\n\t\t\tconst textSections = mathjaxParser.parse(this.textAreaProperty.value)\n\t\t\tfor (const section of textSections) {\n\t\t\t\tif (section.type == \"text\") {\n\t\t\t\t\tsections.push(section.text.replaceAll(/[\\#\\%\\$\\&\\_\\{\\}\\~\\^\\\\\\n]/g, (match) => replaceDict[match]))\n\t\t\t\t} else {\n\t\t\t\t\tsections.push(\"$\" + section.text + \"$\")\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet escapedText = sections.join(\" \")\n\n\t\t\tlet fontStr = this.textFontSize.value.key == defaultFontSize.key ? \"\" : `\\\\${this.textFontSize.value.name} `\n\t\t\tlet latexStr = `${fontStr}${escapedText}`\n\t\t\tlatexStr =\n\t\t\t\tthis.textColor.value ?\n\t\t\t\t\t\"\\\\textcolor\" + this.textColor.value.toTikzString() + \"{\" + latexStr + \"}\"\n\t\t\t\t:\tlatexStr\n\n\t\t\tcommand.additionalNodes.push({ options: options, position: pos, content: latexStr, additionalNodes: [] })\n\t\t}\n\t}\n\n\tpublic toSVG(defs: Map<string, SVG.Element>): SVG.Element {\n\t\tconst copiedSVG = super.toSVG(defs)\n\t\tif (this.textSVG) {\n\t\t\tlet texts = copiedSVG.find(\"text\") as SVG.List<SVG.Text>\n\t\t\tfor (const textElement of texts) {\n\t\t\t\tlet transform = textElement.transform()\n\t\t\t\tlet fontSize = new SVG.Number(textElement.attr(\"font-size\")).convertToUnit(\"px\").value\n\t\t\t\tlet fill = textElement.fill()\n\n\t\t\t\tlet g = new SVG.G()\n\t\t\t\tg.fill(fill)\n\t\t\t\tg.transform(transform)\n\n\t\t\t\tlet tspans = textElement.find(\"tspan\") as SVG.List<SVG.Tspan>\n\t\t\t\tfor (const tspanElement of tspans) {\n\t\t\t\t\tlet pathString = textToSVG.getD(tspanElement.node.textContent, {\n\t\t\t\t\t\tx: Number.parseFloat(tspanElement.node.getAttribute(\"x\")),\n\t\t\t\t\t\ty: Number.parseFloat(tspanElement.node.getAttribute(\"y\")),\n\t\t\t\t\t\tfontSize: fontSize,\n\t\t\t\t\t})\n\t\t\t\t\tlet path = new SVG.Path({ d: pathString })\n\t\t\t\t\tg.add(path)\n\t\t\t\t}\n\t\t\t\ttextElement.parent().add(g)\n\t\t\t\ttextElement.remove()\n\t\t\t}\n\n\t\t\tif (!this.textAreaProperty.value) {\n\t\t\t\tcopiedSVG.removeElement(copiedSVG.find(\".textSVG\")[0])\n\t\t\t}\n\t\t\tthis.textSVG.removeClass(\"textSVG\")\n\t\t\tcopiedSVG.findOne(\".textSVG\")?.removeClass(\"textSVG\")\n\t\t}\n\n\t\treturn copiedSVG\n\t}\n\n\tpublic copyForPlacement(): CircuitComponent {\n\t\treturn new RectangleComponent(this.createAsText)\n\t}\n\n\tprivate updateText() {\n\t\tthis.textSVG?.remove()\n\n\t\tif (this.textAreaProperty.value || this.createAsText) {\n\t\t\tlet textData: Text = {\n\t\t\t\ttext: this.textAreaProperty.value || (this.createAsText ? \"text component\" : \"\"),\n\t\t\t}\n\t\t\ttextData.align = this.textAreaAlign.value.numberID ?? TextAlign.LEFT\n\t\t\ttextData.justify = this.textAreaJustify.value.numberID ?? TextJustify.START\n\t\t\ttextData.fontSize = this.textFontSize.value.key\n\n\t\t\ttextData.color = this.textColor.value?.toString() || \"var(--bs-emphasis-color)\"\n\n\t\t\tconst innerSep = this.textInnerSep.value.convertToUnit(\"px\").value\n\t\t\tlet strokeWidth = this.strokeInfo.width.convertToUnit(\"px\").value\n\t\t\tlet w = this.size.x - strokeWidth * 2 - 2 * innerSep\n\t\t\tlet h = this.size.y - strokeWidth * 2 - 2 * innerSep\n\t\t\tconst textPos = this.position.sub(new SVG.Point(w > 0 ? w : 0, h > 0 ? h : 0).div(2))\n\t\t\tconst textBox = new SVG.Box(textPos.x, textPos.y, w > 0 ? w : 0, h > 0 ? h : 0)\n\n\t\t\tif (this.textSVG) {\n\t\t\t\tlet removeIDs = new Set<string>()\n\t\t\t\tfor (const element of this.textSVG.find(\"use\")) {\n\t\t\t\t\tremoveIDs.add(element.node.getAttribute(\"xlink:href\"))\n\t\t\t\t}\n\n\t\t\t\tfor (const id of removeIDs) {\n\t\t\t\t\tCanvasController.instance.canvas.find(id)[0]?.remove()\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.textSVG = convertTextToNativeSVGText(textData, textBox, this.useHyphenation)\n\n\t\t\tlet transformMatrix = new SVG.Matrix({\n\t\t\t\trotate: -this.rotationDeg,\n\t\t\t\torigin: [this.position.x, this.position.y],\n\t\t\t})\n\t\t\tthis.textSVG.transform(transformMatrix)\n\t\t\tthis.textSVG.node.style.pointerEvents = \"none\"\n\n\t\t\tthis.visualization.add(this.textSVG)\n\t\t}\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tbasicDirections,\n\tCanvasController,\n\tCircuitComponent,\n\tdefaultBasicDirection,\n\tShapeComponent,\n\tShapeSaveObject,\n\tSnapPoint,\n\tTikzNodeCommand,\n} from \"../internal\"\nimport { pointInsideRect, roundTikz } from \"../utils/selectionHelper\"\n\nexport type EllipseSaveObject = ShapeSaveObject & {\n\tposition: SVG.Point\n\tsize: SVG.Point\n}\n\nexport class EllipseComponent extends ShapeComponent {\n\tprivate static jsonID = \"ellipse\"\n\tstatic {\n\t\tCircuitComponent.jsonSaveMap.set(EllipseComponent.jsonID, EllipseComponent)\n\t}\n\n\tdeclare protected dragElement: SVG.Ellipse\n\n\tpublic get isCircle() {\n\t\treturn Math.abs(this.size.x - this.size.y) < 1e-5\n\t}\n\n\tpublic constructor() {\n\t\tsuper()\n\t\tthis.displayName = \"Ellipse\"\n\n\t\tthis.componentVisualization = CanvasController.instance.canvas.ellipse(0, 0)\n\t\tthis.componentVisualization.hide()\n\n\t\tthis.dragElement = CanvasController.instance.canvas.ellipse(0, 0)\n\t\tthis.dragElement.attr({\n\t\t\tfill: \"transparent\",\n\t\t\tstroke: \"none\",\n\t\t})\n\n\t\tthis.visualization.add(this.componentVisualization)\n\n\t\tthis.visualization.add(this.dragElement)\n\t}\n\n\tprotected update(): void {\n\t\tsuper.update()\n\t\tthis.componentVisualization.center(this.referencePosition.x, this.referencePosition.y)\n\t\tthis.dragElement.center(this.referencePosition.x, this.referencePosition.y)\n\t}\n\n\tpublic recalculateSnappingPoints(matrix?: SVG.Matrix): void {\n\t\tlet relPositions: { anchorname: string; relPos: SVG.Point }[] = []\n\t\tlet halfSize = this.size.div(2)\n\t\tfor (const anchor of basicDirections) {\n\t\t\tif (anchor.key == defaultBasicDirection.key) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tlet dirLength = anchor.direction.abs()\n\t\t\tdirLength = dirLength == 0 ? 1 : dirLength\n\t\t\trelPositions.push({ relPos: halfSize.mul(anchor.direction.div(dirLength)), anchorname: anchor.name })\n\t\t\tif (dirLength > 1) {\n\t\t\t\trelPositions.push({ relPos: halfSize.mul(anchor.direction), anchorname: \"\" })\n\t\t\t}\n\t\t}\n\n\t\tif (!this.snappingPoints || this.snappingPoints.length == 0) {\n\t\t\tfor (const element of relPositions) {\n\t\t\t\tthis.snappingPoints.push(new SnapPoint(this, element.anchorname, element.relPos.add(halfSize)))\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let index = 0; index < relPositions.length; index++) {\n\t\t\t\tconst relPos = relPositions[index].relPos\n\t\t\t\tconst snappingPoint = this.snappingPoints[index]\n\t\t\t\tsnappingPoint.updateRelPosition(relPos.add(halfSize))\n\t\t\t\tsnappingPoint.recalculate()\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic toJson(): EllipseSaveObject {\n\t\tconst data = super.toJson() as EllipseSaveObject\n\t\tdata.type = EllipseComponent.jsonID\n\t\treturn data\n\t}\n\n\tpublic applyJson(saveObject: EllipseSaveObject) {\n\t\tsuper.applyJson(saveObject)\n\n\t\tthis.update()\n\t\tthis.componentVisualization.show()\n\t\tthis.updateTheme()\n\t}\n\n\tpublic static fromJson(saveObject: EllipseSaveObject): EllipseComponent {\n\t\treturn new EllipseComponent()\n\t}\n\n\tprotected buildTikzCommand(command: TikzNodeCommand): void {\n\t\tif (this.isCircle) {\n\t\t\tcommand.options.push(\"shape=circle\")\n\t\t} else {\n\t\t\tcommand.options.push(\"shape=ellipse\")\n\t\t}\n\t\tsuper.buildTikzCommand(command)\n\n\t\tlet strokeWidth = this.strokeInfo.width.convertToUnit(\"px\").value\n\n\t\tcommand.options.push(\n\t\t\t\"minimum width=\" +\n\t\t\t\troundTikz(new SVG.Number(this.size.x - strokeWidth, \"px\").convertToUnit(\"cm\").value) +\n\t\t\t\t\"cm\"\n\t\t)\n\t\tif (!this.isCircle) {\n\t\t\tcommand.options.push(\n\t\t\t\t\"minimum height=\" +\n\t\t\t\t\troundTikz(new SVG.Number(this.size.y - strokeWidth, \"px\").convertToUnit(\"cm\").value) +\n\t\t\t\t\t\"cm\"\n\t\t\t)\n\t\t}\n\t}\n\n\tpublic requiredTikzLibraries(): string[] {\n\t\treturn this.isCircle ? [] : [\"shapes.geometric\"]\n\t}\n\n\tpublic isInsideSelectionRectangle(selectionRectangle: SVG.Box): boolean {\n\t\tif (pointInsideRect(this.position, selectionRectangle)) {\n\t\t\t// if the center of the ellipse is inside the rectangle -> done\n\t\t\treturn true\n\t\t}\n\t\t//the corner points of the selection rectangle\n\t\tlet boxPoints = [\n\t\t\t[selectionRectangle.x, selectionRectangle.y],\n\t\t\t[selectionRectangle.x2, selectionRectangle.y],\n\t\t\t[selectionRectangle.x2, selectionRectangle.y2],\n\t\t\t[selectionRectangle.x, selectionRectangle.y2],\n\t\t]\n\n\t\t// apply transformation, which transforms the ellipse into a unit circle at the origin, to the box points -> the box points now describe some rotated parallelogram instead of a rectangle. this essentially transforms the calculation to an easier problem\n\t\tconst points = boxPoints.map((point) =>\n\t\t\tnew SVG.Point(point[0], point[1]).sub(this.position).rotate(-this.rotationDeg).div(this.size.div(2))\n\t\t)\n\n\t\tfor (let index = 0; index < points.length - 1; index++) {\n\t\t\tconst A = points[index]\n\t\t\tconst B = points[(index + 1) % points.length]\n\n\t\t\tif (A.absSquared() <= 1 || B.absSquared() <= 1) {\n\t\t\t\t// at least one corner point of the parallelogram is in the unit circle -> collision\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\t// from here: no corner point of the current line segment is in the unit circle -> check if line segement cuts through the unit circle\n\n\t\t\tconst AB = B.sub(A)\n\t\t\tconst AC = A.mul(-1)\n\n\t\t\t// t*AB is the projection of AC onto AB, i.e. the closest point of the line described by A and B to the origin\n\t\t\tconst t = AC.dot(AB) / AB.absSquared()\n\n\t\t\tif (t <= 1 && t >= 0) {\n\t\t\t\t// the closest point of the line through A and B to the origin lies on the line segment AB -> collision possible\n\t\t\t\tconst P = A.add(AB.mul(t))\n\t\t\t\tif (P.absSquared() <= 1) {\n\t\t\t\t\t// the closest point lies inside the unit circle -> collision\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t}\n\n\tpublic copyForPlacement(): CircuitComponent {\n\t\treturn new EllipseComponent()\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tbasicDirections,\n\tCanvasController,\n\tCircuitComponent,\n\tdefaultBasicDirection,\n\tdefaultStroke,\n\tFillable,\n\tFillInfo,\n\tMainController,\n\tPathComponent,\n\tPathSaveObject,\n\tPositionedLabel,\n\tSnappingInfo,\n\tSnapPoint,\n\tStrokable,\n\tStrokeInfo,\n\tPositionLabelable,\n\tbboxFromPoints,\n\tclosestBasicDirection,\n\tSelectionController,\n\tTikzPathCommand,\n\tSaveController,\n} from \"../internal\"\nimport { lineRectIntersection, selectedBoxWidth } from \"../utils/selectionHelper\"\n\nexport type PolygonSaveObject = PathSaveObject & {\n\tfill?: FillInfo\n\tstroke?: StrokeInfo\n\tname?: string\n\tlabel?: PositionedLabel\n}\n\nexport class PolygonComponent extends PositionLabelable(Strokable(Fillable(PathComponent))) {\n\tprivate static jsonID = \"polygon\"\n\tstatic {\n\t\tCircuitComponent.jsonSaveMap.set(PolygonComponent.jsonID, PolygonComponent)\n\t}\n\n\tdeclare public componentVisualization: SVG.Polygon\n\tdeclare protected dragElement: SVG.Polygon\n\n\tpublic constructor() {\n\t\tsuper()\n\n\t\tthis.snappingPoints = []\n\t\tCanvasController.instance.canvas.add(this.visualization)\n\t\tthis.displayName = \"Polygon\"\n\t\tthis.position = new SVG.Point()\n\n\t\tthis.componentVisualization = CanvasController.instance.canvas.polygon()\n\n\t\tthis.dragElement = CanvasController.instance.canvas.polygon()\n\t\tthis.dragElement.attr({\n\t\t\tfill: \"transparent\",\n\t\t\tstroke: \"none\",\n\t\t})\n\n\t\tthis.visualization.add(this.componentVisualization)\n\t\tthis.visualization.add(this.dragElement)\n\t}\n\n\tpublic getSnappingInfo(): SnappingInfo {\n\t\treturn {\n\t\t\ttrackedSnappingPoints: this.snappingPoints,\n\t\t\tadditionalSnappingPoints: [],\n\t\t}\n\t}\n\n\tpublic recalculateSnappingPoints(matrix?: SVG.Matrix): void {\n\t\tlet positions: { anchorname: string; relPos: SVG.Point }[] = []\n\n\t\tlet halfSize = this.size.div(2)\n\t\tfor (const anchor of basicDirections) {\n\t\t\t// basic dirs\n\t\t\tif (anchor.key == defaultBasicDirection.key) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tpositions.push({ relPos: this.position.add(halfSize.mul(anchor.direction)), anchorname: anchor.name })\n\t\t}\n\n\t\tfor (let index = 0; index < this.referencePoints.length; index++) {\n\t\t\t//the corner points as well as the center between 2 connected points\n\t\t\tconst p1 = this.referencePoints[index]\n\t\t\tconst p2 = this.referencePoints[(index + 1) % this.referencePoints.length]\n\n\t\t\tpositions.push({ relPos: p1, anchorname: \"\" })\n\t\t\tpositions.push({ relPos: p1.add(p2).div(2), anchorname: \"\" })\n\t\t}\n\n\t\tif (!this.snappingPoints || this.snappingPoints.length != positions.length) {\n\t\t\tthis.snappingPoints.forEach((snapPoint) => snapPoint.show(false))\n\t\t\tthis.snappingPoints = []\n\t\t\tfor (const position of positions) {\n\t\t\t\tthis.snappingPoints.push(new SnapPoint(this, position.anchorname, position.relPos))\n\t\t\t}\n\t\t} else {\n\t\t\tconst recalcMatrix = new SVG.Matrix()\n\t\t\tfor (let index = 0; index < positions.length; index++) {\n\t\t\t\tconst relPos = positions[index].relPos\n\t\t\t\tconst snappingPoint = this.snappingPoints[index]\n\t\t\t\tsnappingPoint.updateRelPosition(relPos)\n\t\t\t\tsnappingPoint.recalculate(recalcMatrix)\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic viewSelected(show: boolean): void {\n\t\tsuper.viewSelected(show)\n\t\tthis.resizable(this.isSelected && show && SelectionController.instance.currentlySelectedComponents.length == 1)\n\t}\n\n\tpublic toJson(): PolygonSaveObject {\n\t\tlet data = super.toJson() as PolygonSaveObject\n\t\tdata.type = PolygonComponent.jsonID\n\n\t\treturn data\n\t}\n\n\tpublic applyJson(saveObject: PolygonSaveObject): void {\n\t\tsuper.applyJson(saveObject)\n\n\t\tthis.update()\n\t\tthis.updateTheme()\n\t}\n\n\tstatic fromJson(saveObject: PolygonSaveObject): PolygonComponent {\n\t\tif (SaveController.instance.currentlyLoadedSaveVersion == \"\") {\n\t\t\t//@ts-ignore\n\t\t\tlet rotation: number = saveObject.rotationDeg ?? 0\n\t\t\t//@ts-ignore\n\t\t\tlet scale = saveObject.scale ? new SVG.Point(saveObject.scale) : new SVG.Point(1, 1)\n\t\t\tlet bbox = bboxFromPoints(saveObject.points)\n\t\t\tlet transformMatrix = new SVG.Matrix({\n\t\t\t\trotate: rotation,\n\t\t\t\tscale: [scale.x, scale.y],\n\t\t\t\torigin: [bbox.cx, bbox.cy],\n\t\t\t})\n\t\t\tsaveObject.points = saveObject.points.map((point) => new SVG.Point(point).transform(transformMatrix))\n\t\t}\n\t\treturn new PolygonComponent()\n\t}\n\n\tpublic updateTheme(): void {\n\t\tlet strokeColor = this.strokeInfo.color\n\t\tif (strokeColor == \"default\") {\n\t\t\tstrokeColor = defaultStroke\n\t\t}\n\n\t\tthis.componentVisualization?.stroke({\n\t\t\tcolor: strokeColor,\n\t\t\topacity: this.strokeInfo.opacity,\n\t\t\twidth: this.strokeInfo.opacity == 0 ? 0 : this.strokeInfo.width.convertToUnit(\"px\").value,\n\t\t\tdasharray: this.strokeStyleProperty.value.dasharray\n\t\t\t\t.map((factor) => this.strokeInfo.width.times(factor).toString())\n\t\t\t\t.join(\" \"),\n\t\t})\n\n\t\tlet fillColor = this.fillInfo.color\n\t\tif (fillColor == \"default\") {\n\t\t\tfillColor = \"none\"\n\t\t}\n\t\tthis.componentVisualization?.fill({\n\t\t\tcolor: fillColor,\n\t\t\topacity: this.fillInfo.opacity,\n\t\t})\n\n\t\tlet labelColor = defaultStroke\n\t\tif (this.labelColor.value) {\n\t\t\tlabelColor = this.labelColor.value.toString()\n\t\t}\n\n\t\tthis.labelRendering?.fill(labelColor)\n\t}\n\n\tprotected buildTikzCommand(command: TikzPathCommand): void {\n\t\tsuper.buildTikzCommand(command)\n\t\tif (this.mathJaxLabel.value !== \"\" && this.textPos) {\n\t\t\tcommand.additionalNodes.push(this.buildTikzNodeLabel(this.textPos))\n\t\t}\n\t\tthis.referencePoints.forEach(() => command.connectors.push(\"--\"))\n\t\tcommand.coordinates.push(\"cycle\")\n\t}\n\n\tpublic requiredTikzLibraries(): string[] {\n\t\treturn []\n\t}\n\n\tpublic isInsideSelectionRectangle(selectionRectangle: SVG.Box): boolean {\n\t\tlet points = this.referencePoints\n\t\tfor (let idx = 0; idx < points.length; idx++) {\n\t\t\tconst p1 = points[idx]\n\t\t\tconst p2 = points[(idx + 1) % points.length]\n\t\t\tif (lineRectIntersection(new SVG.Line().plot(p1.x, p1.y, p2.x, p2.y), selectionRectangle)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\n\t\t// TODO selection rectangle inside polygon?\n\n\t\treturn false\n\t}\n\n\tprivate size: SVG.Point\n\tprotected update(): void {\n\t\tlet pointsArray: [number, number][] = this.referencePoints.map((point) => point.toArray())\n\n\t\tconst bbox = bboxFromPoints(this.referencePoints)\n\t\tthis._bbox = bbox\n\n\t\tthis.size = new SVG.Point(bbox.w, bbox.h)\n\t\tthis.position = new SVG.Point(bbox.cx, bbox.cy)\n\n\t\tthis.dragElement.plot(pointsArray)\n\t\tthis.componentVisualization.plot(pointsArray)\n\t\tthis.referencePosition = this.position.sub(new SVG.Point(this.bbox.x, this.bbox.y))\n\n\t\tthis.recalculateSelectionVisuals()\n\t\tthis.recalculateSnappingPoints()\n\t\tthis.recalculateResizePoints()\n\t\tthis.updatePositionedLabel()\n\t}\n\n\tprotected recalculateSelectionVisuals(): void {\n\t\tif (this.selectionElement) {\n\t\t\tlet strokeWidth = this.strokeInfo.width.convertToUnit(\"px\").value\n\t\t\tlet additionalWidth = selectedBoxWidth + strokeWidth + 2\n\n\t\t\tthis.selectionElement\n\t\t\t\t.size(this.size.x + additionalWidth, this.size.y + additionalWidth)\n\t\t\t\t.center(this.position.x, this.position.y)\n\t\t}\n\t}\n\n\tpublic placeMove(pos: SVG.Point, ev?: Event): void {\n\t\tif (this.referencePoints.length < 1) {\n\t\t\t// not started placing\n\t\t} else {\n\t\t\tlet placePoint = this.referencePoints.at(-2)\n\t\t\tlet secondPoint: SVG.Point\n\t\t\tif (ev && (ev as MouseEvent | TouchEvent).ctrlKey) {\n\t\t\t\t// get point on one of the two diagonals\n\t\t\t\tlet diff = pos.sub(placePoint)\n\t\t\t\tif (diff.x * diff.y < 0) {\n\t\t\t\t\tsecondPoint = new SVG.Point(pos.x - pos.y, pos.y - pos.x).add(placePoint.x + placePoint.y).div(2)\n\t\t\t\t} else {\n\t\t\t\t\tsecondPoint = new SVG.Point(placePoint.x - placePoint.y, placePoint.y - placePoint.x)\n\t\t\t\t\t\t.add(pos.x + pos.y)\n\t\t\t\t\t\t.div(2)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsecondPoint = pos\n\t\t\t}\n\t\t\tthis.referencePoints[this.referencePoints.length - 1] = secondPoint\n\n\t\t\tthis.update()\n\t\t}\n\t}\n\n\tpublic placeStep(pos: SVG.Point, ev?: Event): boolean {\n\t\tif (this.finishedPlacing) {\n\t\t\treturn true\n\t\t}\n\n\t\tif (this.referencePoints.length == 0) {\n\t\t\tthis.referencePoints.push(pos.clone())\n\t\t\tthis.componentVisualization.show()\n\t\t\tthis.updateTheme()\n\t\t} else {\n\t\t\tif (this.referencePoints.at(-2).eq(pos)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\n\t\tthis.referencePoints.push(pos)\n\n\t\tthis.placeMove(pos, ev)\n\t\treturn false\n\t}\n\n\tpublic placeFinish(): void {\n\t\tif (this.finishedPlacing) {\n\t\t\treturn\n\t\t}\n\t\tif (this.referencePoints.length == 0) {\n\t\t\tthis.placeStep(new SVG.Point())\n\t\t}\n\t\tthis.referencePoints.pop()\n\t\tif (this.referencePoints.length >= 2 && this.referencePoints.at(-1).eq(this.referencePoints.at(-2))) {\n\t\t\tthis.referencePoints.pop()\n\t\t}\n\t\tif (this.referencePoints.length < 2) {\n\t\t\t// if not even 2 corner points -> no polygon, delete\n\t\t\tMainController.instance.removeComponent(this)\n\t\t\treturn\n\t\t}\n\n\t\tthis.finishedPlacing = true\n\t\tthis.componentVisualization.show()\n\t\tthis.updateTheme()\n\t\tthis.update()\n\t}\n\n\tpublic copyForPlacement(): CircuitComponent {\n\t\treturn new PolygonComponent()\n\t}\n\n\t// private labelPos: DirectionInfo\n\tprivate textPos: SVG.Point\n\tpublic updatePositionedLabel(): void {\n\t\tif (!this.mathJaxLabel.value || !this.labelRendering) {\n\t\t\treturn\n\t\t}\n\n\t\tlet labelSVG = this.labelRendering\n\t\tlet bbox = this.bbox\n\t\tlet halfSize = this.size.div(2)\n\n\t\tlet textDir: SVG.Point // normalized direction to size (length not normalized) in local coords\n\t\tlet textPosNoTrans = new SVG.Point()\n\t\tthis.labelPos = this.positionChoice.value\n\t\tif (this.positionChoice.value.key != defaultBasicDirection.key) {\n\t\t\ttextDir = this.positionChoice.value.direction\n\t\t\ttextPosNoTrans = halfSize.mul(this.positionChoice.value.direction)\n\t\t\tthis.textPos = this.position.add(textPosNoTrans)\n\t\t} else {\n\t\t\ttextDir = new SVG.Point()\n\t\t\ttextPosNoTrans = new SVG.Point()\n\t\t\tthis.textPos = this.position\n\t\t}\n\t\tlet labelBBox = labelSVG.bbox()\n\n\t\t// calculate where on the label the anchor point should be\n\t\tlet labelDist = this.labelDistance.value.convertToUnit(\"px\").value ?? 0\n\t\tif (this.anchorChoice.value.key == defaultBasicDirection.key) {\n\t\t\t//transform anchor direction back to global coordinates\n\t\t\tlet labelRefDir = textDir.mul(-1)\n\n\t\t\t// check which direction should be used to get the final correct direction\n\t\t\tthis.anchorPos = closestBasicDirection(labelRefDir)\n\t\t} else {\n\t\t\t// an explicit anchor was selected\n\t\t\tthis.anchorPos = this.anchorChoice.value\n\t\t}\n\t\tlet labelRef = this.anchorPos.direction\n\n\t\tlet ref = labelRef\n\t\t\t.add(1)\n\t\t\t.div(2)\n\t\t\t.mul(new SVG.Point(labelBBox.w, labelBBox.h))\n\t\t\t.add(new SVG.Point(labelBBox.x, labelBBox.y))\n\t\t\t.add(labelRef.mul(labelDist))\n\n\t\t// acutally move the label\n\t\tlabelSVG.transform({ translate: this.textPos.sub(ref) })\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport {\n\tButtonGridProperty,\n\tCircuitComponent,\n\tComponentSaveObject,\n\tMainController,\n\tPropertyCategories,\n\tSectionHeaderProperty,\n\tSelectionController,\n\tSelectionMode,\n\tSnappingInfo,\n\tUndo,\n} from \"../internal\"\nimport { rectRectIntersection } from \"../utils/selectionHelper\"\n\nexport type GroupSaveObject = ComponentSaveObject & {\n\tcomponents: ComponentSaveObject[]\n}\n\nexport class GroupComponent extends CircuitComponent {\n\tprivate static jsonID = \"group\"\n\tstatic {\n\t\tCircuitComponent.jsonSaveMap.set(GroupComponent.jsonID, GroupComponent)\n\t}\n\n\tpublic groupedComponents: CircuitComponent[] = []\n\n\tconstructor(components: CircuitComponent[]) {\n\t\tsuper()\n\t\tMainController.instance.circuitComponents.pop() // add later at specific index instead\n\t\tthis.displayName = \"Group\"\n\t\tthis.snappingPoints = []\n\t\tthis.groupedComponents.push(...components)\n\t\tconst idx = this.visualization.parent().index(components[0].visualization)\n\t\tthis.visualization.parent().add(this.visualization, idx)\n\t\tlet firstIndex = -1\n\t\tfor (const component of components) {\n\t\t\tconst idx = MainController.instance.circuitComponents.indexOf(component)\n\t\t\tfirstIndex = firstIndex < 0 ? idx : firstIndex\n\t\t\tMainController.instance.circuitComponents.splice(idx, 1)\n\t\t\tcomponent.parentGroup = this\n\t\t\tcomponent.viewSelected(false)\n\t\t\tthis.visualization.add(component.visualization)\n\t\t}\n\n\t\tMainController.instance.circuitComponents.splice(firstIndex, 0, this) // added here\n\n\t\tthis.properties.add(PropertyCategories.ordering, new SectionHeaderProperty(\"Grouping\"))\n\t\tlet grouping = new ButtonGridProperty(\n\t\t\t1,\n\t\t\t[[\"Ungroup\", \"\"]],\n\t\t\t[(ev) => this.ungroup()],\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\t\"ordering:ungroup\"\n\t\t)\n\t\tthis.properties.add(PropertyCategories.ordering, grouping)\n\n\t\tthis.update()\n\t\tSelectionController.instance.selectComponents([this], SelectionMode.RESET)\n\t\tthis.snappingPoints = this.groupedComponents.map((component) => component.snappingPoints).flat()\n\t}\n\n\tpublic static group(circuitComponents: CircuitComponent[]) {\n\t\tnew GroupComponent(circuitComponents)\n\t\tUndo.addState()\n\t}\n\n\tpublic ungroup() {\n\t\tconst idx = MainController.instance.circuitComponents.indexOf(this)\n\t\tMainController.instance.circuitComponents.splice(idx, 1, ...this.groupedComponents)\n\t\tconst parent = this.visualization.parent()\n\t\tconst currentIdx = parent.index(this.visualization)\n\t\tfor (let index = 0; index < this.groupedComponents.length; index++) {\n\t\t\tconst component = this.groupedComponents[index]\n\t\t\tcomponent.parentGroup = null\n\t\t\tparent.add(component.visualization, currentIdx + index)\n\t\t}\n\t\tSelectionController.instance.selectComponents(this.groupedComponents, SelectionMode.RESET)\n\t\tthis.groupedComponents = []\n\t\tthis.remove()\n\t\tUndo.addState()\n\t}\n\n\tpublic isInsideSelectionRectangle(selectionRectangle: SVG.Box): boolean {\n\t\treturn rectRectIntersection(this._bbox, selectionRectangle)\n\t}\n\n\tpublic getSnappingInfo(): SnappingInfo {\n\t\treturn { additionalSnappingPoints: [], trackedSnappingPoints: this.snappingPoints }\n\t}\n\tpublic draggable(drag: boolean): void {\n\t\tfor (const element of this.groupedComponents) {\n\t\t\telement.draggable(drag)\n\t\t}\n\t}\n\tpublic resizable(resize: boolean): void {\n\t\t// Not all components are resizable, so this is not implemented here\n\t}\n\tprotected recalculateResizePoints(): void {\n\t\t//No resizing for now\n\t}\n\tpublic moveTo(position: SVG.Point): void {\n\t\tconst rel = position.sub(this.position)\n\t\tfor (const component of this.groupedComponents) {\n\t\t\tcomponent.moveRel(rel)\n\t\t}\n\t\tthis.update()\n\t}\n\tpublic rotate(angleDeg: number): void {\n\t\tfor (const element of this.groupedComponents) {\n\t\t\telement.moveTo(element.position.rotate(angleDeg, this.position))\n\t\t\telement.rotate(angleDeg)\n\t\t}\n\t\tthis.update()\n\t}\n\tpublic flip(horizontal: boolean): void {\n\t\tfor (const element of this.groupedComponents) {\n\t\t\tconst moveRel = element.position\n\t\t\t\t.sub(this.position)\n\t\t\t\t.mul(new SVG.Point(horizontal ? 0 : -2, horizontal ? -2 : 0))\n\t\t\telement.moveRel(moveRel)\n\t\t\telement.flip(horizontal)\n\t\t}\n\t\tthis.update()\n\t}\n\tprotected update(): void {\n\t\tthis._bbox = undefined\n\t\tfor (const component of this.groupedComponents) {\n\t\t\tif (this._bbox) {\n\t\t\t\tthis._bbox = this._bbox.merge(component.bbox)\n\t\t\t} else {\n\t\t\t\tthis._bbox = component.bbox\n\t\t\t}\n\t\t}\n\t\tthis.position = new SVG.Point(this._bbox.cx, this._bbox.cy)\n\n\t\tthis.referencePosition = this.position.sub(new SVG.Point(this._bbox.x, this._bbox.y))\n\t\tthis.recalculateSelectionVisuals()\n\t}\n\tprotected recalculateSelectionVisuals(): void {\n\t\tif (this.selectionElement) {\n\t\t\tlet box = this.bbox\n\n\t\t\tthis.selectionElement.size(box.w, box.h)\n\t\t\tthis.selectionElement.center(this.position.x, this.position.y)\n\t\t}\n\t}\n\tpublic toJson(): GroupSaveObject {\n\t\tlet componentSaveObjects: ComponentSaveObject[] = []\n\t\tfor (const component of this.groupedComponents) {\n\t\t\tcomponentSaveObjects.push(component.toJson())\n\t\t}\n\t\tlet saveObject: GroupSaveObject = {\n\t\t\ttype: GroupComponent.jsonID,\n\t\t\tcomponents: componentSaveObjects,\n\t\t}\n\n\t\treturn saveObject\n\t}\n\tpublic static fromJson(saveObject: GroupSaveObject): GroupComponent {\n\t\tlet components: CircuitComponent[] = []\n\t\tfor (const saveObj of saveObject.components) {\n\t\t\tcomponents.push(CircuitComponent.fromJson(saveObj))\n\t\t}\n\t\treturn new GroupComponent(components)\n\t}\n\tpublic toTikzString(): string {\n\t\tlet outStr = []\n\t\tfor (const component of this.groupedComponents) {\n\t\t\toutStr.push(component.toTikzString())\n\t\t}\n\t\treturn outStr.join(\"\\n\\t\")\n\t}\n\tpublic toSVG(defs: Map<string, SVG.Element>): SVG.Element {\n\t\tlet group = new SVG.G()\n\t\tfor (const element of this.groupedComponents) {\n\t\t\tgroup.add(element.toSVG(defs))\n\t\t}\n\t\treturn group\n\t}\n\tpublic copyForPlacement(): CircuitComponent {\n\t\t//not needed\n\t\treturn\n\t}\n\tpublic remove(): void {\n\t\tthis.viewSelected(false)\n\t\tthis.selectionElement?.remove()\n\t\tfor (const component of this.groupedComponents) {\n\t\t\tcomponent.remove()\n\t\t}\n\t\tthis.visualization.remove()\n\t}\n\tpublic placeMove(pos: SVG.Point, ev?: Event): void {\n\t\t//not needed\n\t\treturn\n\t}\n\tpublic placeStep(pos: SVG.Point, ev?: Event): boolean {\n\t\t//not needed\n\t\treturn\n\t}\n\tpublic placeFinish(): void {\n\t\t//not needed\n\t\treturn\n\t}\n\n\tpublic moveRel(delta: SVG.Point): void {\n\t\tfor (const component of this.groupedComponents) {\n\t\t\tcomponent.moveRel(delta)\n\t\t}\n\t\tthis.update()\n\t}\n\n\tpublic updateTheme() {\n\t\t// not needed\n\t}\n}\n","/**\n * @module snapController\n */\n\nimport * as SVG from \"@svgdotjs/svg.js\"\nimport { CanvasController, CircuitComponent, MainController, SnapPoint } from \"../internal\"\n\ntype DistStruct = {\n\tdist: number\n\tvector?: SVG.Point\n\tsnapPoints?: SVG.Point[]\n}\n\nexport type SnappingInfo = {\n\ttrackedSnappingPoints: SnapPoint[]\n\tadditionalSnappingPoints: SnapPoint[]\n}\n\n/**\n * Controller for snapping points, objects, etc. to the grid or other already added components.\n * @class\n */\nexport class SnapController {\n\tprivate static _instance: SnapController\n\tpublic static get instance(): SnapController {\n\t\tif (!SnapController._instance) {\n\t\t\tSnapController._instance = new SnapController()\n\t\t}\n\t\treturn SnapController._instance\n\t}\n\n\tprivate fixedSnapPoints: SnapPoint[] = []\n\tprivate movingSnapPoints: SnapPoint[] = []\n\tprivate additionalSnapPoints: SnapPoint[] = []\n\n\tprivate whereSnap: SVG.Element[] = []\n\n\tprivate constructor() {}\n\n\tpublic recalculateAdditionalSnapPoints() {\n\t\tthis.additionalSnapPoints.forEach((snapPoint) => snapPoint.recalculate())\n\t}\n\n\tpublic updateSnapPoints(currentComponent: CircuitComponent, adjustOnly = false) {\n\t\t//reset\n\t\tthis.fixedSnapPoints.forEach((snapPoint) => snapPoint.show(false))\n\t\tthis.movingSnapPoints.forEach((snapPoint) => snapPoint.show(false))\n\t\tthis.additionalSnapPoints.forEach((snapPoint) => snapPoint.show(false))\n\t\tthis.fixedSnapPoints = []\n\t\tthis.movingSnapPoints = []\n\t\tthis.additionalSnapPoints = []\n\n\t\tif (currentComponent) {\n\t\t\tif (currentComponent.isSelected && !adjustOnly) {\n\t\t\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\t\t\tif (component.isSelected) {\n\t\t\t\t\t\tif (currentComponent === component) {\n\t\t\t\t\t\t\tlet snappingInfo = component.getSnappingInfo()\n\t\t\t\t\t\t\tthis.movingSnapPoints.push(...snappingInfo.trackedSnappingPoints)\n\t\t\t\t\t\t\tthis.additionalSnapPoints.push(...snappingInfo.additionalSnappingPoints)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.movingSnapPoints.push(...component.snappingPoints)\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.fixedSnapPoints.push(...component.snappingPoints)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\t\t\tif (component !== currentComponent) {\n\t\t\t\t\t\tthis.fixedSnapPoints.push(...component.snappingPoints)\n\t\t\t\t\t} else if (!adjustOnly) {\n\t\t\t\t\t\tlet snappingInfo = component.getSnappingInfo()\n\t\t\t\t\t\tthis.movingSnapPoints.push(...snappingInfo.trackedSnappingPoints)\n\t\t\t\t\t\tthis.additionalSnapPoints.push(...snappingInfo.additionalSnappingPoints)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const component of MainController.instance.circuitComponents) {\n\t\t\t\tthis.fixedSnapPoints.push(...component.snappingPoints)\n\t\t\t}\n\t\t}\n\n\t\tthis.showSnapPoints(this.whereSnap.length > 0)\n\t}\n\n\t/**\n\t * show or hide the snap points on the canvas (doesn't show grid points)\n\t */\n\tpublic showSnapPoints(show = true) {\n\t\tif (show == this._snapPointsShown) {\n\t\t\treturn\n\t\t}\n\n\t\tif (show) {\n\t\t\tthis.fixedSnapPoints.forEach((snapPoint) => {\n\t\t\t\tsnapPoint.show(true, false)\n\t\t\t})\n\t\t\tthis.movingSnapPoints.forEach((snapPoint) => {\n\t\t\t\tsnapPoint.show(true, true)\n\t\t\t})\n\t\t\tthis.additionalSnapPoints.forEach((snapPoint) => {\n\t\t\t\tsnapPoint.show(true, true)\n\t\t\t})\n\t\t} else {\n\t\t\tthis.fixedSnapPoints.forEach((snapPoint) => {\n\t\t\t\tsnapPoint.show(false)\n\t\t\t})\n\t\t\tthis.movingSnapPoints.forEach((snapPoint) => {\n\t\t\t\tsnapPoint.show(false)\n\t\t\t})\n\t\t\tthis.additionalSnapPoints.forEach((snapPoint) => {\n\t\t\t\tsnapPoint.show(false)\n\t\t\t})\n\t\t\twhile (this.whereSnap.length > 0) {\n\t\t\t\tthis.whereSnap.pop().remove()\n\t\t\t}\n\t\t}\n\t\tthis._snapPointsShown = show\n\t}\n\n\tprivate _snapPointsShown = false\n\tpublic get snapPointsShown(): boolean {\n\t\treturn this._snapPointsShown\n\t}\n\n\t/**\n\t * Snap a point to the grid or one of the added snap points.\n\t * Calculations done in px since the node snap points are defined in px\n\t */\n\tpublic snapPoint(pos: SVG.Point, component: CircuitComponent): SVG.Point {\n\t\t// 1. Calculate grid snap points\n\t\tconst canvasController = CanvasController.instance\n\t\tlet gridSpacing: number = new SVG.Number(\n\t\t\tcanvasController.majorGridSizecm / canvasController.majorGridSubdivisions,\n\t\t\t\"cm\"\n\t\t).convertToUnit(\"px\").value\n\n\t\t// take zoom level into account (canvas.screenctm().a): zoomed in means smaller maximum distance\n\t\tconst maxSnapDistance =\n\t\t\tnew SVG.Number(1, \"cm\").convertToUnit(\"px\").value / CanvasController.instance.canvas.node.getScreenCTM().a\n\t\tconst maxSnapDistance2 = maxSnapDistance * maxSnapDistance\n\n\t\tlet relSnapPoints = this.movingSnapPoints.map((snapPoint) =>\n\t\t\tsnapPoint.relToComponentAnchor().add(snapPoint.componentReference.position).sub(component.position)\n\t\t)\n\t\tif (this.additionalSnapPoints) {\n\t\t\trelSnapPoints.push(...this.additionalSnapPoints.map((snapPoint) => snapPoint.relToComponentAnchor()))\n\t\t}\n\t\tif (relSnapPoints.length < 1) {\n\t\t\trelSnapPoints.push(new SVG.Point())\n\t\t}\n\t\tconst movingSnapPoints = relSnapPoints.map((point) => pos.add(point))\n\n\t\tif (!CanvasController.instance.gridVisible) {\n\t\t\t// effectively only snap the origin\n\t\t\tgridSpacing = 1e9\n\t\t}\n\n\t\t// directly calculate the closest grid snapping point to each possible relSnapPoint and filter which is closest overall\n\t\tlet distStruct = movingSnapPoints.reduce<DistStruct>(\n\t\t\t/**\n\t\t\t * @param {DistStruct} prevVal - helper struct for finding snap point with lowest dist. to a grid point\n\t\t\t * @param {SVG.Point} movSnapPoint - possible point to snap to (grid)\n\t\t\t * @returns {DistStruct}\n\t\t\t */\n\t\t\t(prevVal: DistStruct, movSnapPoint: SVG.Point): DistStruct => {\n\t\t\t\tconst x = Math.round(movSnapPoint.x / gridSpacing) * gridSpacing\n\t\t\t\tconst y = Math.round(movSnapPoint.y / gridSpacing) * gridSpacing\n\t\t\t\tconst gridPoint = new SVG.Point(x, y)\n\t\t\t\treturn this.reduceSinglePointPair(movSnapPoint, gridPoint, prevVal, maxSnapDistance2)\n\t\t\t},\n\t\t\t{ dist: Number.MAX_VALUE, snapPoints: [] }\n\t\t)\n\n\t\t// 2. calculate bounds where a closer point could lie\n\t\tlet relSnapPointsMinX = relSnapPoints[0].x,\n\t\t\trelSnapPointsMaxX = relSnapPoints[0].x,\n\t\t\trelSnapPointsMinY = relSnapPoints[0].y,\n\t\t\trelSnapPointsMaxY = relSnapPoints[0].y\n\t\tfor (const point of relSnapPoints) {\n\t\t\tif (point.x < relSnapPointsMinX) relSnapPointsMinX = point.x\n\t\t\telse if (point.x > relSnapPointsMaxX) relSnapPointsMaxX = point.x\n\t\t\tif (point.y < relSnapPointsMinY) relSnapPointsMinY = point.y\n\t\t\telse if (point.y > relSnapPointsMaxY) relSnapPointsMaxY = point.y\n\t\t}\n\t\tconst xMin = relSnapPointsMinX + pos.x - maxSnapDistance\n\t\tconst yMin = relSnapPointsMinY + pos.y - maxSnapDistance\n\t\tconst xMax = relSnapPointsMaxX + pos.x + maxSnapDistance\n\t\tconst yMax = relSnapPointsMaxY + pos.y + maxSnapDistance\n\n\t\t// 3. filter remaining snap points\n\t\tconst filteredFixSnapPoints = this.fixedSnapPoints.filter(\n\t\t\t(point) => point.x >= xMin && point.x <= xMax && point.y >= yMin && point.y <= yMax\n\t\t)\n\n\t\t// 4. snap to non grid points\n\t\tif (filteredFixSnapPoints.length > 0) {\n\t\t\tdistStruct = this.getSnapDistStruct(movingSnapPoints, filteredFixSnapPoints, distStruct)\n\t\t}\n\n\t\t// 5. Calculate snapped point using vector\n\t\tif (distStruct.snapPoints.length == 0) {\n\t\t\tdistStruct.vector = new SVG.Point()\n\t\t} else {\n\t\t\tthis.positionSnapPoints(distStruct.snapPoints)\n\t\t}\n\n\t\treturn distStruct.vector.add(pos)\n\t}\n\n\tprivate positionSnapPoints(positions: SVG.Point[]) {\n\t\twhile (positions.length < this.whereSnap.length) {\n\t\t\tthis.whereSnap.pop().remove()\n\t\t}\n\t\twhile (positions.length > this.whereSnap.length) {\n\t\t\tthis.whereSnap.push(\n\t\t\t\tCanvasController.instance.canvas.circle(4).fill(\"none\").stroke({\n\t\t\t\t\tcolor: \"var(--bs-yellow)\",\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\n\t\tfor (let index = 0; index < positions.length; index++) {\n\t\t\tconst position = positions[index]\n\t\t\tconst snap = this.whereSnap[index]\n\t\t\tsnap.center(position.x, position.y)\n\t\t}\n\t}\n\n\t/**\n\t * Snap absolute points to absolute positions. The point with the lowest distance is returned with its additional\n\t * information ({@link DistStruct}). As this function supports multiple possible (moving) snap points, the returned\n\t * vector should be used for moving the object to the snapped position.\n\t */\n\tprivate getSnapDistStruct(\n\t\tmovingSnapPoints: SVG.Point[],\n\t\tfixedSnapPoints: SVG.Point[],\n\t\tinitialDistStruct?: DistStruct,\n\t\tmaxSnapDistance2?: number\n\t): DistStruct {\n\t\tif (!initialDistStruct) initialDistStruct = { dist: Number.MAX_VALUE, snapPoints: [] }\n\t\tif (!maxSnapDistance2) {\n\t\t\tmaxSnapDistance2 = Number.MAX_VALUE\n\t\t}\n\t\treturn movingSnapPoints.reduce(\n\t\t\t(prevVal: DistStruct, movSnapPoint): DistStruct =>\n\t\t\t\tfixedSnapPoints.reduce((prevVal: DistStruct, fixSnapPoint: SVG.Point): DistStruct => {\n\t\t\t\t\treturn this.reduceSinglePointPair(movSnapPoint, fixSnapPoint, prevVal, maxSnapDistance2)\n\t\t\t\t}, prevVal),\n\t\t\tinitialDistStruct\n\t\t)\n\t}\n\n\tprivate reduceSinglePointPair(\n\t\tmovingSnapPoint: SVG.Point,\n\t\tfixedSnapPoint: SVG.Point,\n\t\tpreviousDist: DistStruct,\n\t\tmaxSnapDistance2: number\n\t): DistStruct {\n\t\tconst vector = fixedSnapPoint.sub(movingSnapPoint)\n\t\t// check if the already established move vector makes the current point pair intersect, i.e. the vectors are the same\n\t\tif (previousDist.vector?.eq(vector, 1e-2)) {\n\t\t\t//if so, we are done and add the point to the array\n\t\t\tpreviousDist.snapPoints.push(fixedSnapPoint)\n\t\t\treturn previousDist\n\t\t}\n\t\tconst squaredDistance = vector.absSquared()\n\t\tif (squaredDistance > previousDist.dist || squaredDistance > maxSnapDistance2) {\n\t\t\treturn previousDist\n\t\t}\n\n\t\tpreviousDist.dist = squaredDistance\n\t\tpreviousDist.vector = vector\n\t\tpreviousDist.snapPoints = [fixedSnapPoint]\n\t\treturn previousDist\n\t}\n}\n","/**\n * @module snapCursorController\n */\n\nimport * as SVG from \"@svgdotjs/svg.js\"\nimport { CanvasController } from \"../internal\"\n\n/**\n * Realizes an in canvas cursor. Can be used to visualize the point to snap to.\n * @class\n */\nexport class SnapCursorController {\n\tprivate static _instance: SnapCursorController\n\tpublic static get instance(): SnapCursorController {\n\t\tif (!SnapCursorController._instance) {\n\t\t\tSnapCursorController._instance = new SnapCursorController()\n\t\t}\n\t\treturn SnapCursorController._instance\n\t}\n\n\tprivate cursorViewBox: SVG.Box\n\tprivate cursor: SVG.Use\n\n\tconstructor() {\n\t\tconst cursorSymbol = new SVG.Symbol(document.getElementById(\"snapCursor\"))\n\t\tthis.cursor = CanvasController.instance.canvas.use(cursorSymbol)\n\t\tthis.cursor.id(\"snapCursorUse\")\n\t\tthis.cursorViewBox = cursorSymbol.viewbox()\n\t\tthis.cursor.width(this.cursorViewBox.width)\n\t\tthis.cursor.height(this.cursorViewBox.height)\n\t\t// CanvasController.instance.canvas.add(this.cursor);\n\t\tthis.cursor.hide()\n\t}\n\n\t/**\n\t * Moves the cursor to a new position.\n\t *\n\t * @param {SVG.Point} position - the new position\n\t */\n\tmoveTo(position: SVG.Point) {\n\t\tthis.cursor.center(position.x, position.y)\n\t}\n\n\t/**\n\t * Show or hide the cursor.\n\t *\n\t * @param {boolean} b - the visibility\n\t */\n\tset visible(b: boolean) {\n\t\tif (b) this.cursor.show()\n\t\telse this.cursor.hide()\n\t}\n\n\t/**\n\t * Get the visibility.\n\t *\n\t * @returns {boolean} the visibility\n\t */\n\tget visible(): boolean {\n\t\treturn this.cursor.visible()\n\t}\n}\n","/**\n * @module snapPoint\n */\n\nimport * as SVG from \"@svgdotjs/svg.js\"\nimport { CanvasController, CircuitComponent } from \"../internal\"\nimport { selectionColor } from \"../utils/selectionHelper\"\n\n/**\n * Realizes a point which is relative to another point. This can be used to recreate CircuiTikZ anchors, which are\n * relative to components. This is useful for snap points.\n */\nexport class SnapPoint extends SVG.Point {\n\tpublic componentReference: CircuitComponent // to which component this snapPoint belongs\n\tprivate anchorName: string // the name of the snap point (i.e. G, D, S, center...)\n\tprivate relPosition: SVG.Point // the position of this snapPoint relative to the component center\n\n\tprivate element: SVG.Element\n\n\tconstructor(componentReference: CircuitComponent, anchorName: string, relPosition: SVG.Point) {\n\t\tsuper()\n\t\tthis.componentReference = componentReference\n\t\tthis.anchorName = anchorName\n\t\tthis.relPosition = relPosition\n\t\tthis.recalculate()\n\t}\n\n\tpublic recalculate(transformMatrix: SVG.Matrix = this.componentReference.getTransformMatrix()) {\n\t\tconst point = this.relPosition.transform(transformMatrix)\n\t\tthis.x = point.x\n\t\tthis.y = point.y\n\n\t\tif (this.element) {\n\t\t\tthis.element.center(this.x, this.y)\n\t\t}\n\t}\n\n\tpublic updateRelPosition(relPosition: SVG.Point) {\n\t\tthis.relPosition = relPosition\n\t}\n\n\tpublic relToComponentAnchor(): SVG.Point {\n\t\treturn this.sub(this.componentReference.position)\n\t}\n\n\tpublic show(show = true, moving = false) {\n\t\tif (show) {\n\t\t\tif (!this.element) {\n\t\t\t\tconst container = CanvasController.instance.canvas\n\t\t\t\tthis.element = container\n\t\t\t\t\t.circle(4)\n\t\t\t\t\t.fill(\"none\")\n\t\t\t\t\t.stroke({ color: moving ? \"var(--bs-cyan)\" : selectionColor, width: 1 })\n\t\t\t\tthis.element.node.style.pointerEvents = \"none\"\n\t\t\t\tthis.componentReference.visualization.before(this.element)\n\t\t\t\tthis.element.center(this.x, this.y)\n\t\t\t}\n\t\t} else {\n\t\t\tthis.element?.remove()\n\t\t\tthis.element = null\n\t\t}\n\t}\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport TextToSVG from \"text-to-svg\"\nimport { CanvasController, fontSizes, Text, TextAlign } from \"../internal\"\n\n// the information of a single line\n// this contains the information of all elements in the line\n// the total width of the line, the ascent and descent of the line\n// ascent and descent are the maximum ascent and descent of all elements in the line\ntype LineInfo = {\n\telements: ElementInfo[]\n\ttotalWidth: number\n\tascent: number\n\tdescent: number\n}\n\n// the information of a single element in a line\n// this can be a string or a mathjax rendering\ntype ElementInfo = {\n\telement: string | SVG.G\n\t//the width of the element\n\twidth: number\n\t// the distance from the baseline to the top of the element\n\tascent: number\n\t// the distance from the baseline to the bottom of the element\n\tdescent: number\n}\n\nconst syllableRegex = /([^aeiouy]*[aeiouy]+(?:[^aeiouy]*$|[^aeiouy](?=[^aeiouy]))?)|[^aeiouy]+$/gi\n\nexport let textToSVG: TextToSVG\n\nexport function loadTextConverter() {\n\treturn new Promise<void>((resolve) => {\n\t\tTextToSVG.load(\n\t\t\t\"https://cdn.jsdelivr.net/gh/dreampulse/computer-modern-web-font@master/font/Serif/cmunrm.woff\",\n\t\t\t(err, tTSVG) => {\n\t\t\t\ttextToSVG = tTSVG\n\t\t\t\tresolve()\n\t\t\t}\n\t\t)\n\t})\n}\n\n// this function converts text into an SVG group containing the text tags and mathjax renderings\n// it uses the Mathjax parser to parse the text and then renders the mathjax elements\nexport function convertTextToNativeSVGText(text: Text, textBox: SVG.Box, useHyphenation = false) {\n\tconst fontSizept = fontSizes.find((fs) => fs.key == text.fontSize).size\n\tconst fontSize = fontSizept.toString() + \"pt\"\n\n\t// used to parse the text into text and mathjax elements\n\tconst mathjaxParser = new MathjaxParser()\n\n\tconst explicitLines = text.text.split(\"\\n\").map((line) => line.trim())\n\n\tconst lines: LineInfo[] = []\n\tfor (const line of explicitLines) {\n\t\tconst textSections = mathjaxParser.parse(line)\n\t\tconst renderedSections: (string | MathJaxRenderInfo)[] = []\n\t\tfor (const section of textSections) {\n\t\t\tif (section.type == \"inline\") {\n\t\t\t\tconst rendered = renderMathJax(section.text, fontSizept)\n\t\t\t\trenderedSections.push(rendered)\n\t\t\t} else {\n\t\t\t\tsection.text.split(/\\s+/).forEach((word) => {\n\t\t\t\t\trenderedSections.push(word)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tconst wrappedLines = wrapLine(renderedSections, fontSize, textBox.w, useHyphenation)\n\t\tlines.push(...wrappedLines)\n\t}\n\n\t// return svgText\n\treturn layoutText(lines, text, textBox)\n}\n\nfunction layoutText(lines: LineInfo[], text: Text, textBox: SVG.Box): SVG.G {\n\tconst fontSizept = fontSizes.find((fs) => fs.key == text.fontSize).size\n\tconst fontSizepx = (fontSizept * 4) / 3\n\tconst fontSize = fontSizept.toString() + \"pt\"\n\tconst spaceWidth = getTextMetrics(\" \", fontSize).width\n\tconst lineSpacing = 0.414 // the standard line spacing in em\n\n\tconst group = new SVG.G()\n\tconst renderedElements = new SVG.G()\n\trenderedElements.fill(text.color == \"default\" ? \"black\" : text.color)\n\tlet tspans = []\n\tlet lineTspans = []\n\n\tconst defaultTextMetrics = getTextMetrics(\"pH\", fontSize)\n\tconst defaultAscent = defaultTextMetrics.actualBoundingBoxAscent\n\tconst defaultDescent = defaultTextMetrics.actualBoundingBoxDescent\n\n\tlet currentBaselineYPos = 0\n\n\tfor (let index = 0; index < lines.length; index++) {\n\t\tconst line = lines[index]\n\t\tline.ascent = index > 0 ? Math.max(line.ascent, defaultAscent) : line.ascent\n\t\tline.descent = index < lines.length - 1 ? Math.max(line.descent, defaultDescent) : line.descent\n\n\t\tcurrentBaselineYPos += line.ascent\n\n\t\tconst remainingLineSpace = textBox.w - line.totalWidth\n\n\t\tconst xoffset =\n\t\t\ttext.align == TextAlign.RIGHT ? remainingLineSpace\n\t\t\t: text.align == TextAlign.CENTER ? remainingLineSpace / 2\n\t\t\t: 0\n\n\t\tconst currentSpaceWidth =\n\t\t\ttext.align == TextAlign.JUSTIFY ? remainingLineSpace / (line.elements.length - 1) + spaceWidth : spaceWidth\n\n\t\tlet currentXPos = 0\n\t\tfor (let elementIndex = 0; elementIndex < line.elements.length; elementIndex++) {\n\t\t\tconst element = line.elements[elementIndex]\n\n\t\t\tif (typeof element.element == \"string\") {\n\t\t\t\tlineTspans.push(\n\t\t\t\t\t`<tspan x=\"${xoffset + currentXPos}\" y=\"${currentBaselineYPos}\" >${element.element}</tspan>`\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tconst renderedElement = element.element\n\t\t\t\tconst containerGroup = new SVG.G()\n\t\t\t\tcontainerGroup.add(renderedElement)\n\t\t\t\tcontainerGroup.transform({\n\t\t\t\t\ttranslateX: xoffset + currentXPos,\n\t\t\t\t\ttranslateY: currentBaselineYPos,\n\t\t\t\t})\n\t\t\t\trenderedElements.add(containerGroup)\n\t\t\t}\n\t\t\tcurrentXPos += currentSpaceWidth + element.width\n\t\t}\n\n\t\ttspans.push(lineTspans.join(\"\"))\n\t\tlineTspans = []\n\t\tcurrentBaselineYPos += line.descent + (index < lines.length - 1 ? fontSizepx * lineSpacing : 0)\n\t}\n\n\tconst ypos = textBox.y + ((text.justify + 1) / 2) * (textBox.h - currentBaselineYPos)\n\n\tconst textPos = new SVG.Point(textBox.x, ypos)\n\tlet svgText = new SVG.Text()\n\tsvgText.transform({ translateX: textPos.x, translateY: textPos.y })\n\tsvgText.fill(text.color == \"default\" ? \"black\" : text.color)\n\tsvgText.node.innerHTML = tspans.join(\"\\n\")\n\tsvgText.attr(\"font-family\", \"Computer Modern Serif\")\n\tsvgText.stroke(\"none\")\n\tsvgText.attr(\"font-size\", fontSize)\n\tgroup.add(svgText)\n\n\trenderedElements.transform({ translateX: textPos.x, translateY: textPos.y })\n\tgroup.add(renderedElements)\n\n\treturn group\n}\n\n// greedy algorithm to fully use up the text rectangle. maybe change to KnuthPlass line breaking later on\nfunction wrapLine(\n\tline: (string | MathJaxRenderInfo)[],\n\tfontSize: string,\n\tmaxWidth: number,\n\tuseHyphenation: boolean\n): LineInfo[] {\n\tconst completedLines: LineInfo[] = []\n\tlet currentLine: ElementInfo[] = []\n\tlet currentLineWidth = 0\n\tlet currentMaxAscent = 0\n\tlet currentMaxDescent = 0\n\tconst spaceWidth = getTextMetrics(\" \", fontSize).width\n\n\tline.forEach((element, index) => {\n\t\tlet elementWidth = 0\n\t\tlet elementAscent = 0\n\t\tlet elementDescent = 0\n\t\tconst startSpace = currentLineWidth > 0 ? spaceWidth : 0\n\n\t\tif (typeof element === \"string\") {\n\t\t\t// if the element is a string\n\t\t\tlet textMetrics = getTextMetrics(element, fontSize)\n\t\t\telementWidth = textMetrics.width\n\t\t\telementAscent = textMetrics.actualBoundingBoxAscent\n\t\t\telementDescent = textMetrics.actualBoundingBoxDescent\n\n\t\t\tif (currentLineWidth + startSpace + elementWidth > maxWidth) {\n\t\t\t\tif (useHyphenation) {\n\t\t\t\t\tconst syllables = element.match(syllableRegex)\n\t\t\t\t\t// if syllables is not empty, fit the word into the linewidth while respecting the bounding box\n\t\t\t\t\tif (syllables) {\n\t\t\t\t\t\tlet fittedSyllables = fitWord(syllables, currentLineWidth + startSpace, maxWidth, fontSize)\n\n\t\t\t\t\t\t// Add syllables to lines\n\t\t\t\t\t\tfor (let i = 0; i < fittedSyllables.length; i++) {\n\t\t\t\t\t\t\tlet textMetrics = getTextMetrics(fittedSyllables[i], fontSize)\n\t\t\t\t\t\t\telementWidth = textMetrics.width\n\t\t\t\t\t\t\telementAscent = textMetrics.actualBoundingBoxAscent\n\t\t\t\t\t\t\telementDescent = textMetrics.actualBoundingBoxDescent\n\n\t\t\t\t\t\t\tif (elementWidth > 0) {\n\t\t\t\t\t\t\t\t// Add the fitted syllable to the current line\n\t\t\t\t\t\t\t\tcurrentLine.push({\n\t\t\t\t\t\t\t\t\tascent: elementAscent,\n\t\t\t\t\t\t\t\t\tdescent: elementDescent,\n\t\t\t\t\t\t\t\t\twidth: elementWidth,\n\t\t\t\t\t\t\t\t\telement: fittedSyllables[i],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tcurrentLineWidth += elementWidth + (i == 0 ? startSpace : 0)\n\t\t\t\t\t\t\t\tcurrentMaxAscent = Math.max(currentMaxAscent, elementAscent)\n\t\t\t\t\t\t\t\tcurrentMaxDescent = Math.max(currentMaxDescent, elementDescent)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Add to completed lines if it's not the last fitted syllable\n\t\t\t\t\t\t\tif (i < fittedSyllables.length - 1) {\n\t\t\t\t\t\t\t\tcompletedLines.push({\n\t\t\t\t\t\t\t\t\telements: currentLine,\n\t\t\t\t\t\t\t\t\ttotalWidth: currentLineWidth,\n\t\t\t\t\t\t\t\t\tascent: currentMaxAscent,\n\t\t\t\t\t\t\t\t\tdescent: currentMaxDescent,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t// reset for the next line\n\t\t\t\t\t\t\t\tcurrentLine = []\n\t\t\t\t\t\t\t\tcurrentLineWidth = 0\n\t\t\t\t\t\t\t\tcurrentMaxAscent = 0\n\t\t\t\t\t\t\t\tcurrentMaxDescent = 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//no hyphenation, just add the current line to the completed lines and start a new line with the current element\n\t\t\t\t\tcompletedLines.push({\n\t\t\t\t\t\telements: currentLine,\n\t\t\t\t\t\ttotalWidth: currentLineWidth,\n\t\t\t\t\t\tascent: currentMaxAscent,\n\t\t\t\t\t\tdescent: currentMaxDescent,\n\t\t\t\t\t})\n\t\t\t\t\tcurrentLine = [\n\t\t\t\t\t\t{ ascent: elementAscent, descent: elementDescent, width: elementWidth, element: element },\n\t\t\t\t\t]\n\t\t\t\t\tcurrentLineWidth = elementWidth\n\t\t\t\t\tcurrentMaxAscent = elementAscent\n\t\t\t\t\tcurrentMaxDescent = elementDescent\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// the current element fits into the current line\n\t\t\t\t// add the current element to the current line\n\t\t\t\tcurrentLine.push({\n\t\t\t\t\tascent: elementAscent,\n\t\t\t\t\tdescent: elementDescent,\n\t\t\t\t\twidth: elementWidth,\n\t\t\t\t\telement: element,\n\t\t\t\t})\n\t\t\t\tcurrentLineWidth += elementWidth + startSpace\n\t\t\t\tcurrentMaxAscent = Math.max(currentMaxAscent, elementAscent)\n\t\t\t\tcurrentMaxDescent = Math.max(currentMaxDescent, elementDescent)\n\t\t\t}\n\t\t} else {\n\t\t\t// the element is a mathjax rendering\n\t\t\t// the ascent depends on the baseline alignment\n\t\t\telementAscent = (1 + element.baselineAlignmentRatio) * element.height\n\t\t\telementDescent = element.height - elementAscent\n\t\t\telementWidth = element.width\n\n\t\t\tif (currentLineWidth + startSpace + elementWidth > maxWidth) {\n\t\t\t\t// if the element does not fit into the current line, add the current line to the completed lines\n\t\t\t\tcompletedLines.push({\n\t\t\t\t\telements: currentLine,\n\t\t\t\t\ttotalWidth: currentLineWidth,\n\t\t\t\t\tascent: currentMaxAscent,\n\t\t\t\t\tdescent: currentMaxDescent,\n\t\t\t\t})\n\t\t\t\t// and start a new line with the current element\n\t\t\t\tcurrentLine = [\n\t\t\t\t\t{ ascent: elementAscent, descent: elementDescent, width: elementWidth, element: element.element },\n\t\t\t\t]\n\t\t\t\tcurrentLineWidth = elementWidth\n\t\t\t\tcurrentMaxAscent = elementAscent\n\t\t\t\tcurrentMaxDescent = elementDescent\n\t\t\t} else {\n\t\t\t\t// the current element fits into the current line\n\t\t\t\t// add the current element to the current line\n\t\t\t\tcurrentLine.push({\n\t\t\t\t\tascent: elementAscent,\n\t\t\t\t\tdescent: elementDescent,\n\t\t\t\t\twidth: elementWidth,\n\t\t\t\t\telement: element.element,\n\t\t\t\t})\n\t\t\t\tcurrentLineWidth += elementWidth + startSpace\n\t\t\t\tcurrentMaxAscent = Math.max(currentMaxAscent, elementAscent)\n\t\t\t\tcurrentMaxDescent = Math.max(currentMaxDescent, elementDescent)\n\t\t\t}\n\t\t}\n\n\t\t// Add the last line if it's the final element\n\t\tif (index === line.length - 1 && currentLine.length > 0) {\n\t\t\tcompletedLines.push({\n\t\t\t\telements: currentLine,\n\t\t\t\ttotalWidth: currentLineWidth,\n\t\t\t\tascent: currentMaxAscent,\n\t\t\t\tdescent: currentMaxDescent,\n\t\t\t})\n\t\t}\n\t})\n\n\t// remove empty lines\n\treturn completedLines.filter((line) => line.elements.length > 0)\n}\n\n// fit the word into the current line width\n// if the word is too long, split it into syllables and add a hyphen\nfunction fitWord(syllables: string[], currentLineWidth: number, maxWidth: number, fontSize: string): string[] {\n\tlet remainingSyllables = []\n\tlet currentLine = \"\"\n\tconst min = currentLineWidth > 0 ? 0 : 1 // if an empty line is used, at least one syllable should be written in that line\n\tfor (let index = syllables.length; index >= min; index--) {\n\t\tcurrentLine = syllables.slice(0, index).join(\"\") + (index < syllables.length && index > 0 ? \"-\" : \"\")\n\t\tremainingSyllables = syllables.slice(index)\n\n\t\tlet leftWidth = getTextMetrics(currentLine, fontSize).width\n\t\tif (currentLineWidth + leftWidth < maxWidth) {\n\t\t\tbreak\n\t\t}\n\t}\n\tlet remainingLines = []\n\tif (remainingSyllables.length > 0) {\n\t\tremainingLines = fitWord(remainingSyllables, 0, maxWidth, fontSize)\n\t}\n\treturn [currentLine].concat(remainingLines)\n}\n\n// get the metrics of a string\n// this is used to get the width of the string and the ascent and descent of the font\n// the ascent and descent are used to calculate the position of the text\nfunction getTextMetrics(text: string, fontSize: string): TextMetrics {\n\tconst canvas = document.createElement(\"canvas\")\n\tconst context = canvas.getContext(\"2d\")\n\tcontext.font = `${fontSize} \"Computer Modern Serif\"`\n\treturn context.measureText(text)\n}\nexport type MathJaxRenderInfo = {\n\t// the rendered mathjax element\n\telement: SVG.G\n\t// how much the baseline of the rendered mathjax element is shifted from the baseline of the text\n\tbaselineAlignmentRatio: number\n\t// the width of the rendered mathjax element\n\twidth: number\n\t// the height of the rendered mathjax element\n\theight: number\n}\nexport function renderMathJax(text: string, fontSize = 10): MathJaxRenderInfo {\n\t// @ts-ignore\n\twindow.MathJax.texReset()\n\t// @ts-ignore\n\tconst node = window.MathJax.tex2svg(text, { display: false })\n\t// mathjax renders the text via an svg container. That container also contains definitions and SVG.Use elements. get that container\n\tlet svgElement = new SVG.Svg(node.querySelector(\"svg\"))\n\n\t// move the label definitions to the overall definitions of the canvas\n\tlet backgroundDefs = CanvasController.instance.canvas.findOne(\"#backgroundDefs\") as SVG.Defs\n\tlet defs = svgElement.findOne(\"defs\") as SVG.Defs\n\tfor (const def of defs.children()) {\n\t\tbackgroundDefs.put(def)\n\t}\n\tdefs.remove()\n\n\t// 1.971 magic number (how large 1em, i.e. font size, is in terms of ex) for the font used in MathJax.\n\t// 1.137 is a correction factor to make the normal text ex align with the mathjax ex (looks better). this is a bit of a hack\n\tlet exem = 1 / (1.971 * 1.137)\n\t//convert width and height from ex to pt via expt and then to px\n\tlet widthStr = svgElement.node.getAttribute(\"width\")\n\tlet width = new SVG.Number(new SVG.Number(widthStr).value * exem * fontSize, \"pt\").convertToUnit(\"px\")\n\tlet heightStr = svgElement.node.getAttribute(\"height\")\n\tlet height = new SVG.Number(new SVG.Number(heightStr).value * exem * fontSize, \"pt\").convertToUnit(\"px\")\n\tlet size = new SVG.Point(width.value, height.value)\n\n\t// remove unnecessary data\n\tfor (const elementGroup of svgElement.find(\"use\")) {\n\t\telementGroup.node.removeAttribute(\"data-c\")\n\t}\n\tlet groupElements = svgElement.find(\"g\") as SVG.List<SVG.G>\n\tfor (const elementGroup of groupElements) {\n\t\telementGroup.node.removeAttribute(\"data-mml-node\")\n\t}\n\t// remove unnecessary svg groups\n\tfor (const elementGroup of groupElements) {\n\t\tlet children = elementGroup.children()\n\t\tif (children.length == 1 && !elementGroup.node.hasAttributes()) {\n\t\t\telementGroup.parent().put(children[0])\n\t\t\telementGroup.remove()\n\t\t} else {\n\t\t\tif (elementGroup.fill() == \"currentColor\") {\n\t\t\t\telementGroup.fill(\"inherit\")\n\t\t\t}\n\t\t}\n\t}\n\n\t//remove background of mathjax error message\n\tfor (const elementGroup of svgElement.find(\"rect\")) {\n\t\tif (elementGroup.node.hasAttribute(\"data-background\")) {\n\t\t\telementGroup.remove()\n\t\t}\n\t}\n\n\t// the current rendering svg viewbox\n\tlet svgViewBox = svgElement.viewbox()\n\n\t// scale such that px size is actually correct for rendering\n\tlet scale = size.div(new SVG.Point(svgViewBox.w, svgViewBox.h))\n\tlet m = new SVG.Matrix({\n\t\tscaleX: scale.x,\n\t\tscaleY: scale.y,\n\t})\n\t// add all symbol components to a group\n\tlet transformGroup = new SVG.G()\n\tfor (const child of svgElement.children()) {\n\t\ttransformGroup.add(child)\n\t}\n\t// apply the transformation --> the symbol now has the correct size and no rotation\n\ttransformGroup.transform(m)\n\n\tlet renderInfo: MathJaxRenderInfo = {\n\t\telement: transformGroup,\n\t\tbaselineAlignmentRatio:\n\t\t\tnew SVG.Number(svgElement.node.style.verticalAlign).value /\n\t\t\tsvgElement.node.height.baseVal.valueInSpecifiedUnits,\n\t\twidth: size.x,\n\t\theight: size.y,\n\t}\n\n\treturn renderInfo\n}\n\nexport class MathjaxParser {\n\t// adjusted from https://github.com/bersling/mathjax-parser\n\n\tprivate config: MathjaxParserConfig\n\n\tpublic parse(inputText: string, config?: MathjaxParserConfig): TextSection[] {\n\t\t//set a default config\n\t\tthis.config = config || {\n\t\t\tinlineMath: [\n\t\t\t\t[\"$\", \"$\"],\n\t\t\t\t[\"\\\\(\", \"\\\\)\"],\n\t\t\t],\n\t\t}\n\n\t\tconst delimiterArray = this.buildDelimiterArray(this.config)\n\n\t\tconst state = this.findDelimiterPairs(delimiterArray, inputText)\n\n\t\tlet result: TextSection[] = []\n\t\tlet startIdx = 0\n\t\tfor (let index = 0; index < state.matchedDelimiterSets.length; index++) {\n\t\t\tconst delimiterSet = state.matchedDelimiterSets[index]\n\n\t\t\tif (delimiterSet.start.index > startIdx) {\n\t\t\t\t// after finding the delimiter pairs, we need to replace the escaped dollar signs with a single dollar sign in order to show only the dollar sign in the ui\n\t\t\t\tconst adjustedText = inputText.slice(startIdx, delimiterSet.start.index).replace(/\\\\\\$/g, \"$\")\n\t\t\t\tresult.push({ text: adjustedText.trim(), type: \"text\" })\n\t\t\t}\n\t\t\tlet innerStart = delimiterSet.start.index + delimiterSet.start.delimiterGroup.group[0].length\n\t\t\tlet outerEnd = delimiterSet.end.index + delimiterSet.end.delimiterGroup.group[1].length\n\n\t\t\tresult.push({\n\t\t\t\ttext: inputText.slice(innerStart, delimiterSet.end.index),\n\t\t\t\ttype: delimiterSet.start.delimiterGroup.type,\n\t\t\t})\n\n\t\t\tstartIdx = outerEnd\n\t\t}\n\n\t\tif (startIdx < inputText.length) {\n\t\t\t// after finding the delimiter pairs, we need to replace the escaped dollar signs with a single dollar sign in order to show only the dollar sign in the ui\n\t\t\tconst adjustedText = inputText.slice(startIdx).replace(/\\\\\\$/g, \"$\")\n\t\t\tresult.push({ text: adjustedText.trim(), type: \"text\" })\n\t\t}\n\n\t\treturn result\n\t}\n\n\tprivate buildDelimiterArray(config: MathjaxParserConfig): DelimiterGroup[] {\n\t\tlet delimiterArray: DelimiterGroup[] = []\n\t\tlet insertAtIndex = (idx: number, delimiterArray, grp: string[], type: string) => {\n\t\t\tdelimiterArray.splice(idx, 0, {\n\t\t\t\tgroup: grp,\n\t\t\t\ttype: type,\n\t\t\t})\n\t\t}\n\t\tlet findIndex = (delimiterArray: DelimiterGroup[], startDelimiter: string): number => {\n\t\t\tlet index = 0\n\t\t\tfor (let i = 0; i < delimiterArray.length; i++) {\n\t\t\t\tif (startDelimiter.indexOf(delimiterArray[i].group[0]) > -1) {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t++index\n\t\t\t}\n\t\t\treturn index\n\t\t}\n\n\t\tconfig.inlineMath.forEach((grp) => {\n\t\t\tlet idx = findIndex(delimiterArray, grp[0])\n\t\t\tinsertAtIndex(idx, delimiterArray, grp, \"inline\")\n\t\t})\n\t\treturn delimiterArray\n\t}\n\n\tprivate findDelimiterPairs(delimiterArray: DelimiterGroup[], textContent: string): CurrentState {\n\t\t//Iterate through all delimiters, trying to find matching delimiters\n\t\tlet state: CurrentState = {\n\t\t\tmatchedDelimiterSets: [],\n\t\t}\n\n\t\tlet idx = 0\n\t\twhile (idx < textContent.length) {\n\t\t\t//if all occurrences of delimiters so far are closed (i.e. have 'end'), we're looking for a new opening delimiter\n\t\t\tif (\n\t\t\t\tstate.matchedDelimiterSets.length === 0 ||\n\t\t\t\tstate.matchedDelimiterSets[state.matchedDelimiterSets.length - 1].end\n\t\t\t) {\n\t\t\t\tlet isMatch: boolean = false\n\t\t\t\tdelimiterArray.some((delimiterGroup) => {\n\t\t\t\t\tif (this.isMatchingIndex(textContent, idx, delimiterGroup.group[0])) {\n\t\t\t\t\t\tstate.lastMatchedGroup = delimiterGroup\n\t\t\t\t\t\tMathjaxParser.pushStart(state.matchedDelimiterSets, idx, delimiterGroup)\n\t\t\t\t\t\tisMatch = true\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (isMatch) {\n\t\t\t\t\tidx += state.lastMatchedGroup.group[0].length\n\t\t\t\t} else {\n\t\t\t\t\t++idx\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//if start matched, but end not matched yet\n\t\t\telse {\n\t\t\t\tif (this.isMatchingIndex(textContent, idx, state.lastMatchedGroup.group[1])) {\n\t\t\t\t\tMathjaxParser.pushEnd(state.matchedDelimiterSets, idx, state.lastMatchedGroup)\n\t\t\t\t\tidx += state.lastMatchedGroup.group[1].length\n\t\t\t\t} else {\n\t\t\t\t\t++idx\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.cleanOccurrences(state.matchedDelimiterSets)\n\n\t\treturn state\n\t}\n\n\tprivate cleanOccurrences = (occurrences: MyRange<DelimiterMatch>[]) => {\n\t\tif (occurrences.length > 0) {\n\t\t\tif (!occurrences[occurrences.length - 1].end) {\n\t\t\t\toccurrences.pop()\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static pushStart(\n\t\tmatchedDelimiterSets: MyRange<DelimiterMatch>[],\n\t\tidx: number,\n\t\tdelimiterGroup: DelimiterGroup\n\t) {\n\t\tmatchedDelimiterSets.push({\n\t\t\tstart: {\n\t\t\t\tindex: idx,\n\t\t\t\tdelimiterGroup: delimiterGroup,\n\t\t\t\tisStart: true,\n\t\t\t},\n\t\t\tend: undefined,\n\t\t})\n\t}\n\n\tprivate static pushEnd(\n\t\tmatchedDelimiterSets: MyRange<DelimiterMatch>[],\n\t\tidx: number,\n\t\tdelimiterGroup: DelimiterGroup\n\t) {\n\t\tmatchedDelimiterSets[matchedDelimiterSets.length - 1].end = {\n\t\t\tindex: idx,\n\t\t\tdelimiterGroup: delimiterGroup,\n\t\t\tisStart: false,\n\t\t}\n\t}\n\n\tprivate isMatchingIndex(text: string, idx: number, delimiter: string): boolean {\n\t\t//check number of consecutive escape characters \"\\\" before the delimiter. If uneven, the current delimiter is escaped and not actually matching\n\t\tif (idx > 0 && text.slice(0, idx).match(/\\\\*$/gi)[0].length % 2 == 1) {\n\t\t\treturn false\n\t\t}\n\t\treturn text.slice(idx, idx + delimiter.length) === delimiter\n\t}\n}\n\ninterface TextSection {\n\ttext: string\n\ttype: MathType\n}\n\ninterface MyRange<T> {\n\tstart: T\n\tend: T\n}\ninterface DelimiterMatch {\n\tindex: number\n\tisStart: boolean\n\tdelimiterGroup: DelimiterGroup\n}\n\ninterface MathjaxParserConfig {\n\tinlineMath: string[][] //e.g. [['$','$'],['\\\\(','\\\\)']]\n}\n\ninterface DelimiterGroup {\n\tgroup: string[]\n\ttype: MathType\n}\n\ninterface CurrentState {\n\tmatchedDelimiterSets: MyRange<DelimiterMatch>[]\n\tlastMatchedGroup?: DelimiterGroup\n}\n\ntype MathType = \"text\" | \"inline\"\n","/**\n * Copyright (c) 2016 Hideki Shiro\n */\n\nmodule.exports = require('./build/src/index.js');\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar opentype = _interopRequireWildcard(require(\"opentype.js\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DEFAULT_FONT = require('path').join(__dirname, '../fonts/ipag.ttf'); // Private method\n\n\nfunction parseAnchorOption(anchor) {\n  var horizontal = anchor.match(/left|center|right/gi) || [];\n  horizontal = horizontal.length === 0 ? 'left' : horizontal[0];\n  var vertical = anchor.match(/baseline|top|bottom|middle/gi) || [];\n  vertical = vertical.length === 0 ? 'baseline' : vertical[0];\n  return {\n    horizontal: horizontal,\n    vertical: vertical\n  };\n}\n\nvar TextToSVG =\n/*#__PURE__*/\nfunction () {\n  function TextToSVG(font) {\n    _classCallCheck(this, TextToSVG);\n\n    this.font = font;\n  }\n\n  _createClass(TextToSVG, [{\n    key: \"getWidth\",\n    value: function getWidth(text, options) {\n      var fontSize = options.fontSize || 72;\n      var kerning = 'kerning' in options ? options.kerning : true;\n      var fontScale = 1 / this.font.unitsPerEm * fontSize;\n      var width = 0;\n      var glyphs = this.font.stringToGlyphs(text);\n\n      for (var i = 0; i < glyphs.length; i++) {\n        var glyph = glyphs[i];\n\n        if (glyph.advanceWidth) {\n          width += glyph.advanceWidth * fontScale;\n        }\n\n        if (kerning && i < glyphs.length - 1) {\n          var kerningValue = this.font.getKerningValue(glyph, glyphs[i + 1]);\n          width += kerningValue * fontScale;\n        }\n\n        if (options.letterSpacing) {\n          width += options.letterSpacing * fontSize;\n        } else if (options.tracking) {\n          width += options.tracking / 1000 * fontSize;\n        }\n      }\n\n      return width;\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight(fontSize) {\n      var fontScale = 1 / this.font.unitsPerEm * fontSize;\n      return (this.font.ascender - this.font.descender) * fontScale;\n    }\n  }, {\n    key: \"getMetrics\",\n    value: function getMetrics(text) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var fontSize = options.fontSize || 72;\n      var anchor = parseAnchorOption(options.anchor || '');\n      var width = this.getWidth(text, options);\n      var height = this.getHeight(fontSize);\n      var fontScale = 1 / this.font.unitsPerEm * fontSize;\n      var ascender = this.font.ascender * fontScale;\n      var descender = this.font.descender * fontScale;\n      var x = options.x || 0;\n\n      switch (anchor.horizontal) {\n        case 'left':\n          x -= 0;\n          break;\n\n        case 'center':\n          x -= width / 2;\n          break;\n\n        case 'right':\n          x -= width;\n          break;\n\n        default:\n          throw new Error(\"Unknown anchor option: \".concat(anchor.horizontal));\n      }\n\n      var y = options.y || 0;\n\n      switch (anchor.vertical) {\n        case 'baseline':\n          y -= ascender;\n          break;\n\n        case 'top':\n          y -= 0;\n          break;\n\n        case 'middle':\n          y -= height / 2;\n          break;\n\n        case 'bottom':\n          y -= height;\n          break;\n\n        default:\n          throw new Error(\"Unknown anchor option: \".concat(anchor.vertical));\n      }\n\n      var baseline = y + ascender;\n      return {\n        x: x,\n        y: y,\n        baseline: baseline,\n        width: width,\n        height: height,\n        ascender: ascender,\n        descender: descender\n      };\n    }\n  }, {\n    key: \"getD\",\n    value: function getD(text) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var fontSize = options.fontSize || 72;\n      var kerning = 'kerning' in options ? options.kerning : true;\n      var letterSpacing = 'letterSpacing' in options ? options.letterSpacing : false;\n      var tracking = 'tracking' in options ? options.tracking : false;\n      var metrics = this.getMetrics(text, options);\n      var path = this.font.getPath(text, metrics.x, metrics.baseline, fontSize, {\n        kerning: kerning,\n        letterSpacing: letterSpacing,\n        tracking: tracking\n      });\n      return path.toPathData();\n    }\n  }, {\n    key: \"getPath\",\n    value: function getPath(text) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var attributes = Object.keys(options.attributes || {}).map(function (key) {\n        return \"\".concat(key, \"=\\\"\").concat(options.attributes[key], \"\\\"\");\n      }).join(' ');\n      var d = this.getD(text, options);\n\n      if (attributes) {\n        return \"<path \".concat(attributes, \" d=\\\"\").concat(d, \"\\\"/>\");\n      }\n\n      return \"<path d=\\\"\".concat(d, \"\\\"/>\");\n    }\n  }, {\n    key: \"getSVG\",\n    value: function getSVG(text) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var metrics = this.getMetrics(text, options);\n      var svg = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"\".concat(metrics.width, \"\\\" height=\\\"\").concat(metrics.height, \"\\\">\");\n      svg += this.getPath(text, options);\n      svg += '</svg>';\n      return svg;\n    }\n  }, {\n    key: \"getDebugSVG\",\n    value: function getDebugSVG(text) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      options = JSON.parse(JSON.stringify(options));\n      options.x = options.x || 0;\n      options.y = options.y || 0;\n      var metrics = this.getMetrics(text, options);\n      var box = {\n        width: Math.max(metrics.x + metrics.width, 0) - Math.min(metrics.x, 0),\n        height: Math.max(metrics.y + metrics.height, 0) - Math.min(metrics.y, 0)\n      };\n      var origin = {\n        x: box.width - Math.max(metrics.x + metrics.width, 0),\n        y: box.height - Math.max(metrics.y + metrics.height, 0)\n      }; // Shift text based on origin\n\n      options.x += origin.x;\n      options.y += origin.y;\n      var svg = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"\".concat(box.width, \"\\\" height=\\\"\").concat(box.height, \"\\\">\");\n      svg += \"<path fill=\\\"none\\\" stroke=\\\"red\\\" stroke-width=\\\"1\\\" d=\\\"M0,\".concat(origin.y, \"L\").concat(box.width, \",\").concat(origin.y, \"\\\"/>\"); // X Axis\n\n      svg += \"<path fill=\\\"none\\\" stroke=\\\"red\\\" stroke-width=\\\"1\\\" d=\\\"M\".concat(origin.x, \",0L\").concat(origin.x, \",\").concat(box.height, \"\\\"/>\"); // Y Axis\n\n      svg += this.getPath(text, options);\n      svg += '</svg>';\n      return svg;\n    }\n  }], [{\n    key: \"loadSync\",\n    value: function loadSync() {\n      var file = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_FONT;\n      return new TextToSVG(opentype.loadSync(file));\n    }\n  }, {\n    key: \"load\",\n    value: function load(url, cb) {\n      opentype.load(url, function (err, font) {\n        if (err !== null) {\n          return cb(err, null);\n        }\n\n        return cb(null, new TextToSVG(font));\n      });\n    }\n  }]);\n\n  return TextToSVG;\n}();\n\nexports.default = TextToSVG;\nmodule.exports = exports.default;","// opentype.js\n// https://github.com/opentypejs/opentype.js\n// (c) 2015 Frederik De Bleser\n// opentype.js may be freely distributed under the MIT license.\n\n/* global DataView, Uint8Array, XMLHttpRequest  */\n\nimport 'string.prototype.codepointat';\nimport inflate from 'tiny-inflate';\nimport Font from './font';\nimport Glyph from './glyph';\nimport { CmapEncoding, GlyphNames, addGlyphNames } from './encoding';\nimport parse from './parse';\nimport BoundingBox from './bbox';\nimport Path from './path';\nimport { nodeBufferToArrayBuffer } from './util';\nimport cmap from './tables/cmap';\nimport cff from './tables/cff';\nimport fvar from './tables/fvar';\nimport glyf from './tables/glyf';\nimport gpos from './tables/gpos';\nimport gsub from './tables/gsub';\nimport head from './tables/head';\nimport hhea from './tables/hhea';\nimport hmtx from './tables/hmtx';\nimport kern from './tables/kern';\nimport ltag from './tables/ltag';\nimport loca from './tables/loca';\nimport maxp from './tables/maxp';\nimport _name from './tables/name';\nimport os2 from './tables/os2';\nimport post from './tables/post';\nimport meta from './tables/meta';\n\n/**\n * The opentype library.\n * @namespace opentype\n */\n\n// File loaders /////////////////////////////////////////////////////////\n/**\n * Loads a font from a file. The callback throws an error message as the first parameter if it fails\n * and the font as an ArrayBuffer in the second parameter if it succeeds.\n * @param  {string} path - The path of the file\n * @param  {Function} callback - The function to call when the font load completes\n */\nfunction loadFromFile(path, callback) {\n    const fs = require('fs');\n    fs.readFile(path, function(err, buffer) {\n        if (err) {\n            return callback(err.message);\n        }\n\n        callback(null, nodeBufferToArrayBuffer(buffer));\n    });\n}\n/**\n * Loads a font from a URL. The callback throws an error message as the first parameter if it fails\n * and the font as an ArrayBuffer in the second parameter if it succeeds.\n * @param  {string} url - The URL of the font file.\n * @param  {Function} callback - The function to call when the font load completes\n */\nfunction loadFromUrl(url, callback) {\n    const request = new XMLHttpRequest();\n    request.open('get', url, true);\n    request.responseType = 'arraybuffer';\n    request.onload = function() {\n        if (request.response) {\n            return callback(null, request.response);\n        } else {\n            return callback('Font could not be loaded: ' + request.statusText);\n        }\n    };\n\n    request.onerror = function () {\n        callback('Font could not be loaded');\n    };\n\n    request.send();\n}\n\n// Table Directory Entries //////////////////////////////////////////////\n/**\n * Parses OpenType table entries.\n * @param  {DataView}\n * @param  {Number}\n * @return {Object[]}\n */\nfunction parseOpenTypeTableEntries(data, numTables) {\n    const tableEntries = [];\n    let p = 12;\n    for (let i = 0; i < numTables; i += 1) {\n        const tag = parse.getTag(data, p);\n        const checksum = parse.getULong(data, p + 4);\n        const offset = parse.getULong(data, p + 8);\n        const length = parse.getULong(data, p + 12);\n        tableEntries.push({tag: tag, checksum: checksum, offset: offset, length: length, compression: false});\n        p += 16;\n    }\n\n    return tableEntries;\n}\n\n/**\n * Parses WOFF table entries.\n * @param  {DataView}\n * @param  {Number}\n * @return {Object[]}\n */\nfunction parseWOFFTableEntries(data, numTables) {\n    const tableEntries = [];\n    let p = 44; // offset to the first table directory entry.\n    for (let i = 0; i < numTables; i += 1) {\n        const tag = parse.getTag(data, p);\n        const offset = parse.getULong(data, p + 4);\n        const compLength = parse.getULong(data, p + 8);\n        const origLength = parse.getULong(data, p + 12);\n        let compression;\n        if (compLength < origLength) {\n            compression = 'WOFF';\n        } else {\n            compression = false;\n        }\n\n        tableEntries.push({tag: tag, offset: offset, compression: compression,\n            compressedLength: compLength, length: origLength});\n        p += 20;\n    }\n\n    return tableEntries;\n}\n\n/**\n * @typedef TableData\n * @type Object\n * @property {DataView} data - The DataView\n * @property {number} offset - The data offset.\n */\n\n/**\n * @param  {DataView}\n * @param  {Object}\n * @return {TableData}\n */\nfunction uncompressTable(data, tableEntry) {\n    if (tableEntry.compression === 'WOFF') {\n        const inBuffer = new Uint8Array(data.buffer, tableEntry.offset + 2, tableEntry.compressedLength - 2);\n        const outBuffer = new Uint8Array(tableEntry.length);\n        inflate(inBuffer, outBuffer);\n        if (outBuffer.byteLength !== tableEntry.length) {\n            throw new Error('Decompression error: ' + tableEntry.tag + ' decompressed length doesn\\'t match recorded length');\n        }\n\n        const view = new DataView(outBuffer.buffer, 0);\n        return {data: view, offset: 0};\n    } else {\n        return {data: data, offset: tableEntry.offset};\n    }\n}\n\n// Public API ///////////////////////////////////////////////////////////\n\n/**\n * Parse the OpenType file data (as an ArrayBuffer) and return a Font object.\n * Throws an error if the font could not be parsed.\n * @param  {ArrayBuffer}\n * @return {opentype.Font}\n */\nfunction parseBuffer(buffer) {\n    let indexToLocFormat;\n    let ltagTable;\n\n    // Since the constructor can also be called to create new fonts from scratch, we indicate this\n    // should be an empty font that we'll fill with our own data.\n    const font = new Font({empty: true});\n\n    // OpenType fonts use big endian byte ordering.\n    // We can't rely on typed array view types, because they operate with the endianness of the host computer.\n    // Instead we use DataViews where we can specify endianness.\n    const data = new DataView(buffer, 0);\n    let numTables;\n    let tableEntries = [];\n    const signature = parse.getTag(data, 0);\n    if (signature === String.fromCharCode(0, 1, 0, 0) || signature === 'true' || signature === 'typ1') {\n        font.outlinesFormat = 'truetype';\n        numTables = parse.getUShort(data, 4);\n        tableEntries = parseOpenTypeTableEntries(data, numTables);\n    } else if (signature === 'OTTO') {\n        font.outlinesFormat = 'cff';\n        numTables = parse.getUShort(data, 4);\n        tableEntries = parseOpenTypeTableEntries(data, numTables);\n    } else if (signature === 'wOFF') {\n        const flavor = parse.getTag(data, 4);\n        if (flavor === String.fromCharCode(0, 1, 0, 0)) {\n            font.outlinesFormat = 'truetype';\n        } else if (flavor === 'OTTO') {\n            font.outlinesFormat = 'cff';\n        } else {\n            throw new Error('Unsupported OpenType flavor ' + signature);\n        }\n\n        numTables = parse.getUShort(data, 12);\n        tableEntries = parseWOFFTableEntries(data, numTables);\n    } else {\n        throw new Error('Unsupported OpenType signature ' + signature);\n    }\n\n    let cffTableEntry;\n    let fvarTableEntry;\n    let glyfTableEntry;\n    let gposTableEntry;\n    let gsubTableEntry;\n    let hmtxTableEntry;\n    let kernTableEntry;\n    let locaTableEntry;\n    let nameTableEntry;\n    let metaTableEntry;\n    let p;\n\n    for (let i = 0; i < numTables; i += 1) {\n        const tableEntry = tableEntries[i];\n        let table;\n        switch (tableEntry.tag) {\n            case 'cmap':\n                table = uncompressTable(data, tableEntry);\n                font.tables.cmap = cmap.parse(table.data, table.offset);\n                font.encoding = new CmapEncoding(font.tables.cmap);\n                break;\n            case 'cvt ' :\n                table = uncompressTable(data, tableEntry);\n                p = new parse.Parser(table.data, table.offset);\n                font.tables.cvt = p.parseShortList(tableEntry.length / 2);\n                break;\n            case 'fvar':\n                fvarTableEntry = tableEntry;\n                break;\n            case 'fpgm' :\n                table = uncompressTable(data, tableEntry);\n                p = new parse.Parser(table.data, table.offset);\n                font.tables.fpgm = p.parseByteList(tableEntry.length);\n                break;\n            case 'head':\n                table = uncompressTable(data, tableEntry);\n                font.tables.head = head.parse(table.data, table.offset);\n                font.unitsPerEm = font.tables.head.unitsPerEm;\n                indexToLocFormat = font.tables.head.indexToLocFormat;\n                break;\n            case 'hhea':\n                table = uncompressTable(data, tableEntry);\n                font.tables.hhea = hhea.parse(table.data, table.offset);\n                font.ascender = font.tables.hhea.ascender;\n                font.descender = font.tables.hhea.descender;\n                font.numberOfHMetrics = font.tables.hhea.numberOfHMetrics;\n                break;\n            case 'hmtx':\n                hmtxTableEntry = tableEntry;\n                break;\n            case 'ltag':\n                table = uncompressTable(data, tableEntry);\n                ltagTable = ltag.parse(table.data, table.offset);\n                break;\n            case 'maxp':\n                table = uncompressTable(data, tableEntry);\n                font.tables.maxp = maxp.parse(table.data, table.offset);\n                font.numGlyphs = font.tables.maxp.numGlyphs;\n                break;\n            case 'name':\n                nameTableEntry = tableEntry;\n                break;\n            case 'OS/2':\n                table = uncompressTable(data, tableEntry);\n                font.tables.os2 = os2.parse(table.data, table.offset);\n                break;\n            case 'post':\n                table = uncompressTable(data, tableEntry);\n                font.tables.post = post.parse(table.data, table.offset);\n                font.glyphNames = new GlyphNames(font.tables.post);\n                break;\n            case 'prep' :\n                table = uncompressTable(data, tableEntry);\n                p = new parse.Parser(table.data, table.offset);\n                font.tables.prep = p.parseByteList(tableEntry.length);\n                break;\n            case 'glyf':\n                glyfTableEntry = tableEntry;\n                break;\n            case 'loca':\n                locaTableEntry = tableEntry;\n                break;\n            case 'CFF ':\n                cffTableEntry = tableEntry;\n                break;\n            case 'kern':\n                kernTableEntry = tableEntry;\n                break;\n            case 'GPOS':\n                gposTableEntry = tableEntry;\n                break;\n            case 'GSUB':\n                gsubTableEntry = tableEntry;\n                break;\n            case 'meta':\n                metaTableEntry = tableEntry;\n                break;\n        }\n    }\n\n    const nameTable = uncompressTable(data, nameTableEntry);\n    font.tables.name = _name.parse(nameTable.data, nameTable.offset, ltagTable);\n    font.names = font.tables.name;\n\n    if (glyfTableEntry && locaTableEntry) {\n        const shortVersion = indexToLocFormat === 0;\n        const locaTable = uncompressTable(data, locaTableEntry);\n        const locaOffsets = loca.parse(locaTable.data, locaTable.offset, font.numGlyphs, shortVersion);\n        const glyfTable = uncompressTable(data, glyfTableEntry);\n        font.glyphs = glyf.parse(glyfTable.data, glyfTable.offset, locaOffsets, font);\n    } else if (cffTableEntry) {\n        const cffTable = uncompressTable(data, cffTableEntry);\n        cff.parse(cffTable.data, cffTable.offset, font);\n    } else {\n        throw new Error('Font doesn\\'t contain TrueType or CFF outlines.');\n    }\n\n    const hmtxTable = uncompressTable(data, hmtxTableEntry);\n    hmtx.parse(hmtxTable.data, hmtxTable.offset, font.numberOfHMetrics, font.numGlyphs, font.glyphs);\n    addGlyphNames(font);\n\n    if (kernTableEntry) {\n        const kernTable = uncompressTable(data, kernTableEntry);\n        font.kerningPairs = kern.parse(kernTable.data, kernTable.offset);\n    } else {\n        font.kerningPairs = {};\n    }\n\n    if (gposTableEntry) {\n        const gposTable = uncompressTable(data, gposTableEntry);\n        font.tables.gpos = gpos.parse(gposTable.data, gposTable.offset);\n        font.position.init();\n    }\n\n    if (gsubTableEntry) {\n        const gsubTable = uncompressTable(data, gsubTableEntry);\n        font.tables.gsub = gsub.parse(gsubTable.data, gsubTable.offset);\n    }\n\n    if (fvarTableEntry) {\n        const fvarTable = uncompressTable(data, fvarTableEntry);\n        font.tables.fvar = fvar.parse(fvarTable.data, fvarTable.offset, font.names);\n    }\n\n    if (metaTableEntry) {\n        const metaTable = uncompressTable(data, metaTableEntry);\n        font.tables.meta = meta.parse(metaTable.data, metaTable.offset);\n        font.metas = font.tables.meta;\n    }\n\n    return font;\n}\n\n/**\n * Asynchronously load the font from a URL or a filesystem. When done, call the callback\n * with two arguments `(err, font)`. The `err` will be null on success,\n * the `font` is a Font object.\n * We use the node.js callback convention so that\n * opentype.js can integrate with frameworks like async.js.\n * @alias opentype.load\n * @param  {string} url - The URL of the font to load.\n * @param  {Function} callback - The callback.\n */\nfunction load(url, callback) {\n    const isNode = typeof window === 'undefined';\n    const loadFn = isNode ? loadFromFile : loadFromUrl;\n    loadFn(url, function(err, arrayBuffer) {\n        if (err) {\n            return callback(err);\n        }\n        let font;\n        try {\n            font = parseBuffer(arrayBuffer);\n        } catch (e) {\n            return callback(e, null);\n        }\n        return callback(null, font);\n    });\n}\n\n/**\n * Synchronously load the font from a URL or file.\n * When done, returns the font object or throws an error.\n * @alias opentype.loadSync\n * @param  {string} url - The URL of the font to load.\n * @return {opentype.Font}\n */\nfunction loadSync(url) {\n    const fs = require('fs');\n    const buffer = fs.readFileSync(url);\n    return parseBuffer(nodeBufferToArrayBuffer(buffer));\n}\n\nexport {\n    Font,\n    Glyph,\n    Path,\n    BoundingBox,\n    parse as _parse,\n    parseBuffer as parse,\n    load,\n    loadSync\n};\n","/*! https://mths.be/codepointat v0.2.0 by @mathias */\nif (!String.prototype.codePointAt) {\n\t(function() {\n\t\t'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\t\tvar defineProperty = (function() {\n\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\ttry {\n\t\t\t\tvar object = {};\n\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\tvar result = $defineProperty(object, object, object) && $defineProperty;\n\t\t\t} catch(error) {}\n\t\t\treturn result;\n\t\t}());\n\t\tvar codePointAt = function(position) {\n\t\t\tif (this == null) {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar string = String(this);\n\t\t\tvar size = string.length;\n\t\t\t// `ToInteger`\n\t\t\tvar index = position ? Number(position) : 0;\n\t\t\tif (index != index) { // better `isNaN`\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\t// Account for out-of-bounds indices:\n\t\t\tif (index < 0 || index >= size) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\t// Get the first code unit\n\t\t\tvar first = string.charCodeAt(index);\n\t\t\tvar second;\n\t\t\tif ( // check if its the start of a surrogate pair\n\t\t\t\tfirst >= 0xD800 && first <= 0xDBFF && // high surrogate\n\t\t\t\tsize > index + 1 // there is a next code unit\n\t\t\t) {\n\t\t\t\tsecond = string.charCodeAt(index + 1);\n\t\t\t\tif (second >= 0xDC00 && second <= 0xDFFF) { // low surrogate\n\t\t\t\t\t// https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\t\t\treturn (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn first;\n\t\t};\n\t\tif (defineProperty) {\n\t\t\tdefineProperty(String.prototype, 'codePointAt', {\n\t\t\t\t'value': codePointAt,\n\t\t\t\t'configurable': true,\n\t\t\t\t'writable': true\n\t\t\t});\n\t\t} else {\n\t\t\tString.prototype.codePointAt = codePointAt;\n\t\t}\n\t}());\n}\n","var TINF_OK = 0;\nvar TINF_DATA_ERROR = -3;\n\nfunction Tree() {\n  this.table = new Uint16Array(16);   /* table of code length counts */\n  this.trans = new Uint16Array(288);  /* code -> symbol translation table */\n}\n\nfunction Data(source, dest) {\n  this.source = source;\n  this.sourceIndex = 0;\n  this.tag = 0;\n  this.bitcount = 0;\n  \n  this.dest = dest;\n  this.destLen = 0;\n  \n  this.ltree = new Tree();  /* dynamic length/symbol tree */\n  this.dtree = new Tree();  /* dynamic distance tree */\n}\n\n/* --------------------------------------------------- *\n * -- uninitialized global data (static structures) -- *\n * --------------------------------------------------- */\n\nvar sltree = new Tree();\nvar sdtree = new Tree();\n\n/* extra bits and base tables for length codes */\nvar length_bits = new Uint8Array(30);\nvar length_base = new Uint16Array(30);\n\n/* extra bits and base tables for distance codes */\nvar dist_bits = new Uint8Array(30);\nvar dist_base = new Uint16Array(30);\n\n/* special ordering of code length codes */\nvar clcidx = new Uint8Array([\n  16, 17, 18, 0, 8, 7, 9, 6,\n  10, 5, 11, 4, 12, 3, 13, 2,\n  14, 1, 15\n]);\n\n/* used by tinf_decode_trees, avoids allocations every call */\nvar code_tree = new Tree();\nvar lengths = new Uint8Array(288 + 32);\n\n/* ----------------------- *\n * -- utility functions -- *\n * ----------------------- */\n\n/* build extra bits and base tables */\nfunction tinf_build_bits_base(bits, base, delta, first) {\n  var i, sum;\n\n  /* build bits table */\n  for (i = 0; i < delta; ++i) bits[i] = 0;\n  for (i = 0; i < 30 - delta; ++i) bits[i + delta] = i / delta | 0;\n\n  /* build base table */\n  for (sum = first, i = 0; i < 30; ++i) {\n    base[i] = sum;\n    sum += 1 << bits[i];\n  }\n}\n\n/* build the fixed huffman trees */\nfunction tinf_build_fixed_trees(lt, dt) {\n  var i;\n\n  /* build fixed length tree */\n  for (i = 0; i < 7; ++i) lt.table[i] = 0;\n\n  lt.table[7] = 24;\n  lt.table[8] = 152;\n  lt.table[9] = 112;\n\n  for (i = 0; i < 24; ++i) lt.trans[i] = 256 + i;\n  for (i = 0; i < 144; ++i) lt.trans[24 + i] = i;\n  for (i = 0; i < 8; ++i) lt.trans[24 + 144 + i] = 280 + i;\n  for (i = 0; i < 112; ++i) lt.trans[24 + 144 + 8 + i] = 144 + i;\n\n  /* build fixed distance tree */\n  for (i = 0; i < 5; ++i) dt.table[i] = 0;\n\n  dt.table[5] = 32;\n\n  for (i = 0; i < 32; ++i) dt.trans[i] = i;\n}\n\n/* given an array of code lengths, build a tree */\nvar offs = new Uint16Array(16);\n\nfunction tinf_build_tree(t, lengths, off, num) {\n  var i, sum;\n\n  /* clear code length count table */\n  for (i = 0; i < 16; ++i) t.table[i] = 0;\n\n  /* scan symbol lengths, and sum code length counts */\n  for (i = 0; i < num; ++i) t.table[lengths[off + i]]++;\n\n  t.table[0] = 0;\n\n  /* compute offset table for distribution sort */\n  for (sum = 0, i = 0; i < 16; ++i) {\n    offs[i] = sum;\n    sum += t.table[i];\n  }\n\n  /* create code->symbol translation table (symbols sorted by code) */\n  for (i = 0; i < num; ++i) {\n    if (lengths[off + i]) t.trans[offs[lengths[off + i]]++] = i;\n  }\n}\n\n/* ---------------------- *\n * -- decode functions -- *\n * ---------------------- */\n\n/* get one bit from source stream */\nfunction tinf_getbit(d) {\n  /* check if tag is empty */\n  if (!d.bitcount--) {\n    /* load next tag */\n    d.tag = d.source[d.sourceIndex++];\n    d.bitcount = 7;\n  }\n\n  /* shift bit out of tag */\n  var bit = d.tag & 1;\n  d.tag >>>= 1;\n\n  return bit;\n}\n\n/* read a num bit value from a stream and add base */\nfunction tinf_read_bits(d, num, base) {\n  if (!num)\n    return base;\n\n  while (d.bitcount < 24) {\n    d.tag |= d.source[d.sourceIndex++] << d.bitcount;\n    d.bitcount += 8;\n  }\n\n  var val = d.tag & (0xffff >>> (16 - num));\n  d.tag >>>= num;\n  d.bitcount -= num;\n  return val + base;\n}\n\n/* given a data stream and a tree, decode a symbol */\nfunction tinf_decode_symbol(d, t) {\n  while (d.bitcount < 24) {\n    d.tag |= d.source[d.sourceIndex++] << d.bitcount;\n    d.bitcount += 8;\n  }\n  \n  var sum = 0, cur = 0, len = 0;\n  var tag = d.tag;\n\n  /* get more bits while code value is above sum */\n  do {\n    cur = 2 * cur + (tag & 1);\n    tag >>>= 1;\n    ++len;\n\n    sum += t.table[len];\n    cur -= t.table[len];\n  } while (cur >= 0);\n  \n  d.tag = tag;\n  d.bitcount -= len;\n\n  return t.trans[sum + cur];\n}\n\n/* given a data stream, decode dynamic trees from it */\nfunction tinf_decode_trees(d, lt, dt) {\n  var hlit, hdist, hclen;\n  var i, num, length;\n\n  /* get 5 bits HLIT (257-286) */\n  hlit = tinf_read_bits(d, 5, 257);\n\n  /* get 5 bits HDIST (1-32) */\n  hdist = tinf_read_bits(d, 5, 1);\n\n  /* get 4 bits HCLEN (4-19) */\n  hclen = tinf_read_bits(d, 4, 4);\n\n  for (i = 0; i < 19; ++i) lengths[i] = 0;\n\n  /* read code lengths for code length alphabet */\n  for (i = 0; i < hclen; ++i) {\n    /* get 3 bits code length (0-7) */\n    var clen = tinf_read_bits(d, 3, 0);\n    lengths[clcidx[i]] = clen;\n  }\n\n  /* build code length tree */\n  tinf_build_tree(code_tree, lengths, 0, 19);\n\n  /* decode code lengths for the dynamic trees */\n  for (num = 0; num < hlit + hdist;) {\n    var sym = tinf_decode_symbol(d, code_tree);\n\n    switch (sym) {\n      case 16:\n        /* copy previous code length 3-6 times (read 2 bits) */\n        var prev = lengths[num - 1];\n        for (length = tinf_read_bits(d, 2, 3); length; --length) {\n          lengths[num++] = prev;\n        }\n        break;\n      case 17:\n        /* repeat code length 0 for 3-10 times (read 3 bits) */\n        for (length = tinf_read_bits(d, 3, 3); length; --length) {\n          lengths[num++] = 0;\n        }\n        break;\n      case 18:\n        /* repeat code length 0 for 11-138 times (read 7 bits) */\n        for (length = tinf_read_bits(d, 7, 11); length; --length) {\n          lengths[num++] = 0;\n        }\n        break;\n      default:\n        /* values 0-15 represent the actual code lengths */\n        lengths[num++] = sym;\n        break;\n    }\n  }\n\n  /* build dynamic trees */\n  tinf_build_tree(lt, lengths, 0, hlit);\n  tinf_build_tree(dt, lengths, hlit, hdist);\n}\n\n/* ----------------------------- *\n * -- block inflate functions -- *\n * ----------------------------- */\n\n/* given a stream and two trees, inflate a block of data */\nfunction tinf_inflate_block_data(d, lt, dt) {\n  while (1) {\n    var sym = tinf_decode_symbol(d, lt);\n\n    /* check for end of block */\n    if (sym === 256) {\n      return TINF_OK;\n    }\n\n    if (sym < 256) {\n      d.dest[d.destLen++] = sym;\n    } else {\n      var length, dist, offs;\n      var i;\n\n      sym -= 257;\n\n      /* possibly get more bits from length code */\n      length = tinf_read_bits(d, length_bits[sym], length_base[sym]);\n\n      dist = tinf_decode_symbol(d, dt);\n\n      /* possibly get more bits from distance code */\n      offs = d.destLen - tinf_read_bits(d, dist_bits[dist], dist_base[dist]);\n\n      /* copy match */\n      for (i = offs; i < offs + length; ++i) {\n        d.dest[d.destLen++] = d.dest[i];\n      }\n    }\n  }\n}\n\n/* inflate an uncompressed block of data */\nfunction tinf_inflate_uncompressed_block(d) {\n  var length, invlength;\n  var i;\n  \n  /* unread from bitbuffer */\n  while (d.bitcount > 8) {\n    d.sourceIndex--;\n    d.bitcount -= 8;\n  }\n\n  /* get length */\n  length = d.source[d.sourceIndex + 1];\n  length = 256 * length + d.source[d.sourceIndex];\n\n  /* get one's complement of length */\n  invlength = d.source[d.sourceIndex + 3];\n  invlength = 256 * invlength + d.source[d.sourceIndex + 2];\n\n  /* check length */\n  if (length !== (~invlength & 0x0000ffff))\n    return TINF_DATA_ERROR;\n\n  d.sourceIndex += 4;\n\n  /* copy block */\n  for (i = length; i; --i)\n    d.dest[d.destLen++] = d.source[d.sourceIndex++];\n\n  /* make sure we start next block on a byte boundary */\n  d.bitcount = 0;\n\n  return TINF_OK;\n}\n\n/* inflate stream from source to dest */\nfunction tinf_uncompress(source, dest) {\n  var d = new Data(source, dest);\n  var bfinal, btype, res;\n\n  do {\n    /* read final block flag */\n    bfinal = tinf_getbit(d);\n\n    /* read block type (2 bits) */\n    btype = tinf_read_bits(d, 2, 0);\n\n    /* decompress block */\n    switch (btype) {\n      case 0:\n        /* decompress uncompressed block */\n        res = tinf_inflate_uncompressed_block(d);\n        break;\n      case 1:\n        /* decompress block with fixed huffman trees */\n        res = tinf_inflate_block_data(d, sltree, sdtree);\n        break;\n      case 2:\n        /* decompress block with dynamic huffman trees */\n        tinf_decode_trees(d, d.ltree, d.dtree);\n        res = tinf_inflate_block_data(d, d.ltree, d.dtree);\n        break;\n      default:\n        res = TINF_DATA_ERROR;\n    }\n\n    if (res !== TINF_OK)\n      throw new Error('Data error');\n\n  } while (!bfinal);\n\n  if (d.destLen < d.dest.length) {\n    if (typeof d.dest.slice === 'function')\n      return d.dest.slice(0, d.destLen);\n    else\n      return d.dest.subarray(0, d.destLen);\n  }\n  \n  return d.dest;\n}\n\n/* -------------------- *\n * -- initialization -- *\n * -------------------- */\n\n/* build fixed huffman trees */\ntinf_build_fixed_trees(sltree, sdtree);\n\n/* build extra bits and base tables */\ntinf_build_bits_base(length_bits, length_base, 4, 3);\ntinf_build_bits_base(dist_bits, dist_base, 2, 1);\n\n/* fix a special case */\nlength_bits[28] = 0;\nlength_base[28] = 258;\n\nmodule.exports = tinf_uncompress;\n","// The Font object\n\nimport Path from './path';\nimport sfnt from './tables/sfnt';\nimport { DefaultEncoding } from './encoding';\nimport glyphset from './glyphset';\nimport Position from './position';\nimport Substitution from './substitution';\nimport { isBrowser, checkArgument, arrayBufferToNodeBuffer } from './util';\nimport HintingTrueType from './hintingtt';\nimport Bidi from './bidi';\nimport FeatureQuery from './features/featureQuery';\n\n/**\n * @typedef FontOptions\n * @type Object\n * @property {Boolean} empty - whether to create a new empty font\n * @property {string} familyName\n * @property {string} styleName\n * @property {string=} fullName\n * @property {string=} postScriptName\n * @property {string=} designer\n * @property {string=} designerURL\n * @property {string=} manufacturer\n * @property {string=} manufacturerURL\n * @property {string=} license\n * @property {string=} licenseURL\n * @property {string=} version\n * @property {string=} description\n * @property {string=} copyright\n * @property {string=} trademark\n * @property {Number} unitsPerEm\n * @property {Number} ascender\n * @property {Number} descender\n * @property {Number} createdTimestamp\n * @property {string=} weightClass\n * @property {string=} widthClass\n * @property {string=} fsSelection\n */\n\n/**\n * A Font represents a loaded OpenType font file.\n * It contains a set of glyphs and methods to draw text on a drawing context,\n * or to get a path representing the text.\n * @exports opentype.Font\n * @class\n * @param {FontOptions}\n * @constructor\n */\nfunction Font(options) {\n    options = options || {};\n\n    if (!options.empty) {\n        // Check that we've provided the minimum set of names.\n        checkArgument(options.familyName, 'When creating a new Font object, familyName is required.');\n        checkArgument(options.styleName, 'When creating a new Font object, styleName is required.');\n        checkArgument(options.unitsPerEm, 'When creating a new Font object, unitsPerEm is required.');\n        checkArgument(options.ascender, 'When creating a new Font object, ascender is required.');\n        checkArgument(options.descender, 'When creating a new Font object, descender is required.');\n        checkArgument(options.descender < 0, 'Descender should be negative (e.g. -512).');\n\n        // OS X will complain if the names are empty, so we put a single space everywhere by default.\n        this.names = {\n            fontFamily: {en: options.familyName || ' '},\n            fontSubfamily: {en: options.styleName || ' '},\n            fullName: {en: options.fullName || options.familyName + ' ' + options.styleName},\n            // postScriptName may not contain any whitespace\n            postScriptName: {en: options.postScriptName || (options.familyName + options.styleName).replace(/\\s/g, '')},\n            designer: {en: options.designer || ' '},\n            designerURL: {en: options.designerURL || ' '},\n            manufacturer: {en: options.manufacturer || ' '},\n            manufacturerURL: {en: options.manufacturerURL || ' '},\n            license: {en: options.license || ' '},\n            licenseURL: {en: options.licenseURL || ' '},\n            version: {en: options.version || 'Version 0.1'},\n            description: {en: options.description || ' '},\n            copyright: {en: options.copyright || ' '},\n            trademark: {en: options.trademark || ' '}\n        };\n        this.unitsPerEm = options.unitsPerEm || 1000;\n        this.ascender = options.ascender;\n        this.descender = options.descender;\n        this.createdTimestamp = options.createdTimestamp;\n        this.tables = { os2: {\n            usWeightClass: options.weightClass || this.usWeightClasses.MEDIUM,\n            usWidthClass: options.widthClass || this.usWidthClasses.MEDIUM,\n            fsSelection: options.fsSelection || this.fsSelectionValues.REGULAR\n        } };\n    }\n\n    this.supported = true; // Deprecated: parseBuffer will throw an error if font is not supported.\n    this.glyphs = new glyphset.GlyphSet(this, options.glyphs || []);\n    this.encoding = new DefaultEncoding(this);\n    this.position = new Position(this);\n    this.substitution = new Substitution(this);\n    this.tables = this.tables || {};\n\n    Object.defineProperty(this, 'hinting', {\n        get: function() {\n            if (this._hinting) return this._hinting;\n            if (this.outlinesFormat === 'truetype') {\n                return (this._hinting = new HintingTrueType(this));\n            }\n        }\n    });\n}\n\n/**\n * Check if the font has a glyph for the given character.\n * @param  {string}\n * @return {Boolean}\n */\nFont.prototype.hasChar = function(c) {\n    return this.encoding.charToGlyphIndex(c) !== null;\n};\n\n/**\n * Convert the given character to a single glyph index.\n * Note that this function assumes that there is a one-to-one mapping between\n * the given character and a glyph; for complex scripts this might not be the case.\n * @param  {string}\n * @return {Number}\n */\nFont.prototype.charToGlyphIndex = function(s) {\n    return this.encoding.charToGlyphIndex(s);\n};\n\n/**\n * Convert the given character to a single Glyph object.\n * Note that this function assumes that there is a one-to-one mapping between\n * the given character and a glyph; for complex scripts this might not be the case.\n * @param  {string}\n * @return {opentype.Glyph}\n */\nFont.prototype.charToGlyph = function(c) {\n    const glyphIndex = this.charToGlyphIndex(c);\n    let glyph = this.glyphs.get(glyphIndex);\n    if (!glyph) {\n        // .notdef\n        glyph = this.glyphs.get(0);\n    }\n\n    return glyph;\n};\n\n/**\n * Convert the given text to a list of Glyph objects.\n * Note that there is no strict one-to-one mapping between characters and\n * glyphs, so the list of returned glyphs can be larger or smaller than the\n * length of the given string.\n * @param  {string}\n * @param  {GlyphRenderOptions} [options]\n * @return {opentype.Glyph[]}\n */\nFont.prototype.stringToGlyphs = function(s, options) {\n    options = options || this.defaultRenderOptions;\n\n    const bidi = new Bidi();\n\n    // Create and register 'glyphIndex' state modifier\n    const charToGlyphIndexMod = token => this.charToGlyphIndex(token.char);\n    bidi.registerModifier('glyphIndex', null, charToGlyphIndexMod);\n\n    const arabFeatureQuery = new FeatureQuery(this);\n    const arabFeatures = ['init', 'medi', 'fina', 'rlig'];\n    bidi.applyFeatures(\n        arabFeatures.map(tag => {\n            let query = { tag, script: 'arab' };\n            let feature = arabFeatureQuery.getFeature(query);\n            if (!!feature) return feature;\n        })\n    );\n    const indexes = bidi.getTextGlyphs(s);\n\n    let length = indexes.length;\n\n    // Apply substitutions on glyph indexes\n    if (options.features) {\n        const script = options.script || this.substitution.getDefaultScriptName();\n        let manyToOne = [];\n        if (options.features.liga) manyToOne = manyToOne.concat(this.substitution.getFeature('liga', script, options.language));\n        if (options.features.rlig) manyToOne = manyToOne.concat(this.substitution.getFeature('rlig', script, options.language));\n        for (let i = 0; i < length; i += 1) {\n            for (let j = 0; j < manyToOne.length; j++) {\n                const ligature = manyToOne[j];\n                const components = ligature.sub;\n                const compCount = components.length;\n                let k = 0;\n                while (k < compCount && components[k] === indexes[i + k]) k++;\n                if (k === compCount) {\n                    indexes.splice(i, compCount, ligature.by);\n                    length = length - compCount + 1;\n                }\n            }\n        }\n    }\n\n    // convert glyph indexes to glyph objects\n    const glyphs = new Array(length);\n    const notdef = this.glyphs.get(0);\n    for (let i = 0; i < length; i += 1) {\n        glyphs[i] = this.glyphs.get(indexes[i]) || notdef;\n    }\n    return glyphs;\n};\n\n/**\n * @param  {string}\n * @return {Number}\n */\nFont.prototype.nameToGlyphIndex = function(name) {\n    return this.glyphNames.nameToGlyphIndex(name);\n};\n\n/**\n * @param  {string}\n * @return {opentype.Glyph}\n */\nFont.prototype.nameToGlyph = function(name) {\n    const glyphIndex = this.nameToGlyphIndex(name);\n    let glyph = this.glyphs.get(glyphIndex);\n    if (!glyph) {\n        // .notdef\n        glyph = this.glyphs.get(0);\n    }\n\n    return glyph;\n};\n\n/**\n * @param  {Number}\n * @return {String}\n */\nFont.prototype.glyphIndexToName = function(gid) {\n    if (!this.glyphNames.glyphIndexToName) {\n        return '';\n    }\n\n    return this.glyphNames.glyphIndexToName(gid);\n};\n\n/**\n * Retrieve the value of the kerning pair between the left glyph (or its index)\n * and the right glyph (or its index). If no kerning pair is found, return 0.\n * The kerning value gets added to the advance width when calculating the spacing\n * between glyphs.\n * For GPOS kerning, this method uses the default script and language, which covers\n * most use cases. To have greater control, use font.position.getKerningValue .\n * @param  {opentype.Glyph} leftGlyph\n * @param  {opentype.Glyph} rightGlyph\n * @return {Number}\n */\nFont.prototype.getKerningValue = function(leftGlyph, rightGlyph) {\n    leftGlyph = leftGlyph.index || leftGlyph;\n    rightGlyph = rightGlyph.index || rightGlyph;\n    const gposKerning = this.position.defaultKerningTables;\n    if (gposKerning) {\n        return this.position.getKerningValue(gposKerning, leftGlyph, rightGlyph);\n    }\n    // \"kern\" table\n    return this.kerningPairs[leftGlyph + ',' + rightGlyph] || 0;\n};\n\n/**\n * @typedef GlyphRenderOptions\n * @type Object\n * @property {string} [script] - script used to determine which features to apply. By default, 'DFLT' or 'latn' is used.\n *                               See https://www.microsoft.com/typography/otspec/scripttags.htm\n * @property {string} [language='dflt'] - language system used to determine which features to apply.\n *                                        See https://www.microsoft.com/typography/developers/opentype/languagetags.aspx\n * @property {boolean} [kerning=true] - whether to include kerning values\n * @property {object} [features] - OpenType Layout feature tags. Used to enable or disable the features of the given script/language system.\n *                                 See https://www.microsoft.com/typography/otspec/featuretags.htm\n */\nFont.prototype.defaultRenderOptions = {\n    kerning: true,\n    features: {\n        liga: true,\n        rlig: true\n    }\n};\n\n/**\n * Helper function that invokes the given callback for each glyph in the given text.\n * The callback gets `(glyph, x, y, fontSize, options)`.* @param  {string} text\n * @param {string} text - The text to apply.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {GlyphRenderOptions=} options\n * @param  {Function} callback\n */\nFont.prototype.forEachGlyph = function(text, x, y, fontSize, options, callback) {\n    x = x !== undefined ? x : 0;\n    y = y !== undefined ? y : 0;\n    fontSize = fontSize !== undefined ? fontSize : 72;\n    options = options || this.defaultRenderOptions;\n    const fontScale = 1 / this.unitsPerEm * fontSize;\n    const glyphs = this.stringToGlyphs(text, options);\n    let kerningLookups;\n    if (options.kerning) {\n        const script = options.script || this.position.getDefaultScriptName();\n        kerningLookups = this.position.getKerningTables(script, options.language);\n    }\n    for (let i = 0; i < glyphs.length; i += 1) {\n        const glyph = glyphs[i];\n        callback.call(this, glyph, x, y, fontSize, options);\n        if (glyph.advanceWidth) {\n            x += glyph.advanceWidth * fontScale;\n        }\n\n        if (options.kerning && i < glyphs.length - 1) {\n            // We should apply position adjustment lookups in a more generic way.\n            // Here we only use the xAdvance value.\n            const kerningValue = kerningLookups ?\n                  this.position.getKerningValue(kerningLookups, glyph.index, glyphs[i + 1].index) :\n                  this.getKerningValue(glyph, glyphs[i + 1]);\n            x += kerningValue * fontScale;\n        }\n\n        if (options.letterSpacing) {\n            x += options.letterSpacing * fontSize;\n        } else if (options.tracking) {\n            x += (options.tracking / 1000) * fontSize;\n        }\n    }\n    return x;\n};\n\n/**\n * Create a Path object that represents the given text.\n * @param  {string} text - The text to create.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {GlyphRenderOptions=} options\n * @return {opentype.Path}\n */\nFont.prototype.getPath = function(text, x, y, fontSize, options) {\n    const fullPath = new Path();\n    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n        const glyphPath = glyph.getPath(gX, gY, gFontSize, options, this);\n        fullPath.extend(glyphPath);\n    });\n    return fullPath;\n};\n\n/**\n * Create an array of Path objects that represent the glyphs of a given text.\n * @param  {string} text - The text to create.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {GlyphRenderOptions=} options\n * @return {opentype.Path[]}\n */\nFont.prototype.getPaths = function(text, x, y, fontSize, options) {\n    const glyphPaths = [];\n    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n        const glyphPath = glyph.getPath(gX, gY, gFontSize, options, this);\n        glyphPaths.push(glyphPath);\n    });\n\n    return glyphPaths;\n};\n\n/**\n * Returns the advance width of a text.\n *\n * This is something different than Path.getBoundingBox() as for example a\n * suffixed whitespace increases the advanceWidth but not the bounding box\n * or an overhanging letter like a calligraphic 'f' might have a quite larger\n * bounding box than its advance width.\n *\n * This corresponds to canvas2dContext.measureText(text).width\n *\n * @param  {string} text - The text to create.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {GlyphRenderOptions=} options\n * @return advance width\n */\nFont.prototype.getAdvanceWidth = function(text, fontSize, options) {\n    return this.forEachGlyph(text, 0, 0, fontSize, options, function() {});\n};\n\n/**\n * Draw the text on the given drawing context.\n * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param  {string} text - The text to create.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {GlyphRenderOptions=} options\n */\nFont.prototype.draw = function(ctx, text, x, y, fontSize, options) {\n    this.getPath(text, x, y, fontSize, options).draw(ctx);\n};\n\n/**\n * Draw the points of all glyphs in the text.\n * On-curve points will be drawn in blue, off-curve points will be drawn in red.\n * @param {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param {string} text - The text to create.\n * @param {number} [x=0] - Horizontal position of the beginning of the text.\n * @param {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param {GlyphRenderOptions=} options\n */\nFont.prototype.drawPoints = function(ctx, text, x, y, fontSize, options) {\n    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n        glyph.drawPoints(ctx, gX, gY, gFontSize);\n    });\n};\n\n/**\n * Draw lines indicating important font measurements for all glyphs in the text.\n * Black lines indicate the origin of the coordinate system (point 0,0).\n * Blue lines indicate the glyph bounding box.\n * Green line indicates the advance width of the glyph.\n * @param {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param {string} text - The text to create.\n * @param {number} [x=0] - Horizontal position of the beginning of the text.\n * @param {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param {GlyphRenderOptions=} options\n */\nFont.prototype.drawMetrics = function(ctx, text, x, y, fontSize, options) {\n    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n        glyph.drawMetrics(ctx, gX, gY, gFontSize);\n    });\n};\n\n/**\n * @param  {string}\n * @return {string}\n */\nFont.prototype.getEnglishName = function(name) {\n    const translations = this.names[name];\n    if (translations) {\n        return translations.en;\n    }\n};\n\n/**\n * Validate\n */\nFont.prototype.validate = function() {\n    const warnings = [];\n    const _this = this;\n\n    function assert(predicate, message) {\n        if (!predicate) {\n            warnings.push(message);\n        }\n    }\n\n    function assertNamePresent(name) {\n        const englishName = _this.getEnglishName(name);\n        assert(englishName && englishName.trim().length > 0,\n               'No English ' + name + ' specified.');\n    }\n\n    // Identification information\n    assertNamePresent('fontFamily');\n    assertNamePresent('weightName');\n    assertNamePresent('manufacturer');\n    assertNamePresent('copyright');\n    assertNamePresent('version');\n\n    // Dimension information\n    assert(this.unitsPerEm > 0, 'No unitsPerEm specified.');\n};\n\n/**\n * Convert the font object to a SFNT data structure.\n * This structure contains all the necessary tables and metadata to create a binary OTF file.\n * @return {opentype.Table}\n */\nFont.prototype.toTables = function() {\n    return sfnt.fontToTable(this);\n};\n/**\n * @deprecated Font.toBuffer is deprecated. Use Font.toArrayBuffer instead.\n */\nFont.prototype.toBuffer = function() {\n    console.warn('Font.toBuffer is deprecated. Use Font.toArrayBuffer instead.');\n    return this.toArrayBuffer();\n};\n/**\n * Converts a `opentype.Font` into an `ArrayBuffer`\n * @return {ArrayBuffer}\n */\nFont.prototype.toArrayBuffer = function() {\n    const sfntTable = this.toTables();\n    const bytes = sfntTable.encode();\n    const buffer = new ArrayBuffer(bytes.length);\n    const intArray = new Uint8Array(buffer);\n    for (let i = 0; i < bytes.length; i++) {\n        intArray[i] = bytes[i];\n    }\n\n    return buffer;\n};\n\n/**\n * Initiate a download of the OpenType font.\n */\nFont.prototype.download = function(fileName) {\n    const familyName = this.getEnglishName('fontFamily');\n    const styleName = this.getEnglishName('fontSubfamily');\n    fileName = fileName || familyName.replace(/\\s/g, '') + '-' + styleName + '.otf';\n    const arrayBuffer = this.toArrayBuffer();\n\n    if (isBrowser()) {\n        window.URL = window.URL || window.webkitURL;\n\n        if (window.URL) {\n            const dataView = new DataView(arrayBuffer);\n            const blob = new Blob([dataView], {type: 'font/opentype'});\n\n            let link = document.createElement('a');\n            link.href = window.URL.createObjectURL(blob);\n            link.download = fileName;\n\n            let event = document.createEvent('MouseEvents');\n            event.initEvent('click', true, false);\n            link.dispatchEvent(event);\n        } else {\n            console.warn('Font file could not be downloaded. Try using a different browser.');\n        }\n    } else {\n        const fs = require('fs');\n        const buffer = arrayBufferToNodeBuffer(arrayBuffer);\n        fs.writeFileSync(fileName, buffer);\n    }\n};\n/**\n * @private\n */\nFont.prototype.fsSelectionValues = {\n    ITALIC:              0x001, //1\n    UNDERSCORE:          0x002, //2\n    NEGATIVE:            0x004, //4\n    OUTLINED:            0x008, //8\n    STRIKEOUT:           0x010, //16\n    BOLD:                0x020, //32\n    REGULAR:             0x040, //64\n    USER_TYPO_METRICS:   0x080, //128\n    WWS:                 0x100, //256\n    OBLIQUE:             0x200  //512\n};\n\n/**\n * @private\n */\nFont.prototype.usWidthClasses = {\n    ULTRA_CONDENSED: 1,\n    EXTRA_CONDENSED: 2,\n    CONDENSED: 3,\n    SEMI_CONDENSED: 4,\n    MEDIUM: 5,\n    SEMI_EXPANDED: 6,\n    EXPANDED: 7,\n    EXTRA_EXPANDED: 8,\n    ULTRA_EXPANDED: 9\n};\n\n/**\n * @private\n */\nFont.prototype.usWeightClasses = {\n    THIN: 100,\n    EXTRA_LIGHT: 200,\n    LIGHT: 300,\n    NORMAL: 400,\n    MEDIUM: 500,\n    SEMI_BOLD: 600,\n    BOLD: 700,\n    EXTRA_BOLD: 800,\n    BLACK:    900\n};\n\nexport default Font;\n","// Geometric objects\n\nimport BoundingBox from './bbox';\n\n/**\n * A bzier path containing a set of path commands similar to a SVG path.\n * Paths can be drawn on a context using `draw`.\n * @exports opentype.Path\n * @class\n * @constructor\n */\nfunction Path() {\n    this.commands = [];\n    this.fill = 'black';\n    this.stroke = null;\n    this.strokeWidth = 1;\n}\n\n/**\n * @param  {number} x\n * @param  {number} y\n */\nPath.prototype.moveTo = function(x, y) {\n    this.commands.push({\n        type: 'M',\n        x: x,\n        y: y\n    });\n};\n\n/**\n * @param  {number} x\n * @param  {number} y\n */\nPath.prototype.lineTo = function(x, y) {\n    this.commands.push({\n        type: 'L',\n        x: x,\n        y: y\n    });\n};\n\n/**\n * Draws cubic curve\n * @function\n * curveTo\n * @memberof opentype.Path.prototype\n * @param  {number} x1 - x of control 1\n * @param  {number} y1 - y of control 1\n * @param  {number} x2 - x of control 2\n * @param  {number} y2 - y of control 2\n * @param  {number} x - x of path point\n * @param  {number} y - y of path point\n */\n\n/**\n * Draws cubic curve\n * @function\n * bezierCurveTo\n * @memberof opentype.Path.prototype\n * @param  {number} x1 - x of control 1\n * @param  {number} y1 - y of control 1\n * @param  {number} x2 - x of control 2\n * @param  {number} y2 - y of control 2\n * @param  {number} x - x of path point\n * @param  {number} y - y of path point\n * @see curveTo\n */\nPath.prototype.curveTo = Path.prototype.bezierCurveTo = function(x1, y1, x2, y2, x, y) {\n    this.commands.push({\n        type: 'C',\n        x1: x1,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        x: x,\n        y: y\n    });\n};\n\n/**\n * Draws quadratic curve\n * @function\n * quadraticCurveTo\n * @memberof opentype.Path.prototype\n * @param  {number} x1 - x of control\n * @param  {number} y1 - y of control\n * @param  {number} x - x of path point\n * @param  {number} y - y of path point\n */\n\n/**\n * Draws quadratic curve\n * @function\n * quadTo\n * @memberof opentype.Path.prototype\n * @param  {number} x1 - x of control\n * @param  {number} y1 - y of control\n * @param  {number} x - x of path point\n * @param  {number} y - y of path point\n */\nPath.prototype.quadTo = Path.prototype.quadraticCurveTo = function(x1, y1, x, y) {\n    this.commands.push({\n        type: 'Q',\n        x1: x1,\n        y1: y1,\n        x: x,\n        y: y\n    });\n};\n\n/**\n * Closes the path\n * @function closePath\n * @memberof opentype.Path.prototype\n */\n\n/**\n * Close the path\n * @function close\n * @memberof opentype.Path.prototype\n */\nPath.prototype.close = Path.prototype.closePath = function() {\n    this.commands.push({\n        type: 'Z'\n    });\n};\n\n/**\n * Add the given path or list of commands to the commands of this path.\n * @param  {Array} pathOrCommands - another opentype.Path, an opentype.BoundingBox, or an array of commands.\n */\nPath.prototype.extend = function(pathOrCommands) {\n    if (pathOrCommands.commands) {\n        pathOrCommands = pathOrCommands.commands;\n    } else if (pathOrCommands instanceof BoundingBox) {\n        const box = pathOrCommands;\n        this.moveTo(box.x1, box.y1);\n        this.lineTo(box.x2, box.y1);\n        this.lineTo(box.x2, box.y2);\n        this.lineTo(box.x1, box.y2);\n        this.close();\n        return;\n    }\n\n    Array.prototype.push.apply(this.commands, pathOrCommands);\n};\n\n/**\n * Calculate the bounding box of the path.\n * @returns {opentype.BoundingBox}\n */\nPath.prototype.getBoundingBox = function() {\n    const box = new BoundingBox();\n\n    let startX = 0;\n    let startY = 0;\n    let prevX = 0;\n    let prevY = 0;\n    for (let i = 0; i < this.commands.length; i++) {\n        const cmd = this.commands[i];\n        switch (cmd.type) {\n            case 'M':\n                box.addPoint(cmd.x, cmd.y);\n                startX = prevX = cmd.x;\n                startY = prevY = cmd.y;\n                break;\n            case 'L':\n                box.addPoint(cmd.x, cmd.y);\n                prevX = cmd.x;\n                prevY = cmd.y;\n                break;\n            case 'Q':\n                box.addQuad(prevX, prevY, cmd.x1, cmd.y1, cmd.x, cmd.y);\n                prevX = cmd.x;\n                prevY = cmd.y;\n                break;\n            case 'C':\n                box.addBezier(prevX, prevY, cmd.x1, cmd.y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n                prevX = cmd.x;\n                prevY = cmd.y;\n                break;\n            case 'Z':\n                prevX = startX;\n                prevY = startY;\n                break;\n            default:\n                throw new Error('Unexpected path command ' + cmd.type);\n        }\n    }\n    if (box.isEmpty()) {\n        box.addPoint(0, 0);\n    }\n    return box;\n};\n\n/**\n * Draw the path to a 2D context.\n * @param {CanvasRenderingContext2D} ctx - A 2D drawing context.\n */\nPath.prototype.draw = function(ctx) {\n    ctx.beginPath();\n    for (let i = 0; i < this.commands.length; i += 1) {\n        const cmd = this.commands[i];\n        if (cmd.type === 'M') {\n            ctx.moveTo(cmd.x, cmd.y);\n        } else if (cmd.type === 'L') {\n            ctx.lineTo(cmd.x, cmd.y);\n        } else if (cmd.type === 'C') {\n            ctx.bezierCurveTo(cmd.x1, cmd.y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n        } else if (cmd.type === 'Q') {\n            ctx.quadraticCurveTo(cmd.x1, cmd.y1, cmd.x, cmd.y);\n        } else if (cmd.type === 'Z') {\n            ctx.closePath();\n        }\n    }\n\n    if (this.fill) {\n        ctx.fillStyle = this.fill;\n        ctx.fill();\n    }\n\n    if (this.stroke) {\n        ctx.strokeStyle = this.stroke;\n        ctx.lineWidth = this.strokeWidth;\n        ctx.stroke();\n    }\n};\n\n/**\n * Convert the Path to a string of path data instructions\n * See http://www.w3.org/TR/SVG/paths.html#PathData\n * @param  {number} [decimalPlaces=2] - The amount of decimal places for floating-point values\n * @return {string}\n */\nPath.prototype.toPathData = function(decimalPlaces) {\n    decimalPlaces = decimalPlaces !== undefined ? decimalPlaces : 2;\n\n    function floatToString(v) {\n        if (Math.round(v) === v) {\n            return '' + Math.round(v);\n        } else {\n            return v.toFixed(decimalPlaces);\n        }\n    }\n\n    function packValues() {\n        let s = '';\n        for (let i = 0; i < arguments.length; i += 1) {\n            const v = arguments[i];\n            if (v >= 0 && i > 0) {\n                s += ' ';\n            }\n\n            s += floatToString(v);\n        }\n\n        return s;\n    }\n\n    let d = '';\n    for (let i = 0; i < this.commands.length; i += 1) {\n        const cmd = this.commands[i];\n        if (cmd.type === 'M') {\n            d += 'M' + packValues(cmd.x, cmd.y);\n        } else if (cmd.type === 'L') {\n            d += 'L' + packValues(cmd.x, cmd.y);\n        } else if (cmd.type === 'C') {\n            d += 'C' + packValues(cmd.x1, cmd.y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n        } else if (cmd.type === 'Q') {\n            d += 'Q' + packValues(cmd.x1, cmd.y1, cmd.x, cmd.y);\n        } else if (cmd.type === 'Z') {\n            d += 'Z';\n        }\n    }\n\n    return d;\n};\n\n/**\n * Convert the path to an SVG <path> element, as a string.\n * @param  {number} [decimalPlaces=2] - The amount of decimal places for floating-point values\n * @return {string}\n */\nPath.prototype.toSVG = function(decimalPlaces) {\n    let svg = '<path d=\"';\n    svg += this.toPathData(decimalPlaces);\n    svg += '\"';\n    if (this.fill && this.fill !== 'black') {\n        if (this.fill === null) {\n            svg += ' fill=\"none\"';\n        } else {\n            svg += ' fill=\"' + this.fill + '\"';\n        }\n    }\n\n    if (this.stroke) {\n        svg += ' stroke=\"' + this.stroke + '\" stroke-width=\"' + this.strokeWidth + '\"';\n    }\n\n    svg += '/>';\n    return svg;\n};\n\n/**\n * Convert the path to a DOM element.\n * @param  {number} [decimalPlaces=2] - The amount of decimal places for floating-point values\n * @return {SVGPathElement}\n */\nPath.prototype.toDOMElement = function(decimalPlaces) {\n    const temporaryPath = this.toPathData(decimalPlaces);\n    const newPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\n    newPath.setAttribute('d', temporaryPath);\n\n    return newPath;\n};\n\nexport default Path;\n","// The Bounding Box object\n\nfunction derive(v0, v1, v2, v3, t) {\n    return Math.pow(1 - t, 3) * v0 +\n        3 * Math.pow(1 - t, 2) * t * v1 +\n        3 * (1 - t) * Math.pow(t, 2) * v2 +\n        Math.pow(t, 3) * v3;\n}\n/**\n * A bounding box is an enclosing box that describes the smallest measure within which all the points lie.\n * It is used to calculate the bounding box of a glyph or text path.\n *\n * On initialization, x1/y1/x2/y2 will be NaN. Check if the bounding box is empty using `isEmpty()`.\n *\n * @exports opentype.BoundingBox\n * @class\n * @constructor\n */\nfunction BoundingBox() {\n    this.x1 = Number.NaN;\n    this.y1 = Number.NaN;\n    this.x2 = Number.NaN;\n    this.y2 = Number.NaN;\n}\n\n/**\n * Returns true if the bounding box is empty, that is, no points have been added to the box yet.\n */\nBoundingBox.prototype.isEmpty = function() {\n    return isNaN(this.x1) || isNaN(this.y1) || isNaN(this.x2) || isNaN(this.y2);\n};\n\n/**\n * Add the point to the bounding box.\n * The x1/y1/x2/y2 coordinates of the bounding box will now encompass the given point.\n * @param {number} x - The X coordinate of the point.\n * @param {number} y - The Y coordinate of the point.\n */\nBoundingBox.prototype.addPoint = function(x, y) {\n    if (typeof x === 'number') {\n        if (isNaN(this.x1) || isNaN(this.x2)) {\n            this.x1 = x;\n            this.x2 = x;\n        }\n        if (x < this.x1) {\n            this.x1 = x;\n        }\n        if (x > this.x2) {\n            this.x2 = x;\n        }\n    }\n    if (typeof y === 'number') {\n        if (isNaN(this.y1) || isNaN(this.y2)) {\n            this.y1 = y;\n            this.y2 = y;\n        }\n        if (y < this.y1) {\n            this.y1 = y;\n        }\n        if (y > this.y2) {\n            this.y2 = y;\n        }\n    }\n};\n\n/**\n * Add a X coordinate to the bounding box.\n * This extends the bounding box to include the X coordinate.\n * This function is used internally inside of addBezier.\n * @param {number} x - The X coordinate of the point.\n */\nBoundingBox.prototype.addX = function(x) {\n    this.addPoint(x, null);\n};\n\n/**\n * Add a Y coordinate to the bounding box.\n * This extends the bounding box to include the Y coordinate.\n * This function is used internally inside of addBezier.\n * @param {number} y - The Y coordinate of the point.\n */\nBoundingBox.prototype.addY = function(y) {\n    this.addPoint(null, y);\n};\n\n/**\n * Add a Bzier curve to the bounding box.\n * This extends the bounding box to include the entire Bzier.\n * @param {number} x0 - The starting X coordinate.\n * @param {number} y0 - The starting Y coordinate.\n * @param {number} x1 - The X coordinate of the first control point.\n * @param {number} y1 - The Y coordinate of the first control point.\n * @param {number} x2 - The X coordinate of the second control point.\n * @param {number} y2 - The Y coordinate of the second control point.\n * @param {number} x - The ending X coordinate.\n * @param {number} y - The ending Y coordinate.\n */\nBoundingBox.prototype.addBezier = function(x0, y0, x1, y1, x2, y2, x, y) {\n    // This code is based on http://nishiohirokazu.blogspot.com/2009/06/how-to-calculate-bezier-curves-bounding.html\n    // and https://github.com/icons8/svg-path-bounding-box\n\n    const p0 = [x0, y0];\n    const p1 = [x1, y1];\n    const p2 = [x2, y2];\n    const p3 = [x, y];\n\n    this.addPoint(x0, y0);\n    this.addPoint(x, y);\n\n    for (let i = 0; i <= 1; i++) {\n        const b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n        const a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n        const c = 3 * p1[i] - 3 * p0[i];\n\n        if (a === 0) {\n            if (b === 0) continue;\n            const t = -c / b;\n            if (0 < t && t < 1) {\n                if (i === 0) this.addX(derive(p0[i], p1[i], p2[i], p3[i], t));\n                if (i === 1) this.addY(derive(p0[i], p1[i], p2[i], p3[i], t));\n            }\n            continue;\n        }\n\n        const b2ac = Math.pow(b, 2) - 4 * c * a;\n        if (b2ac < 0) continue;\n        const t1 = (-b + Math.sqrt(b2ac)) / (2 * a);\n        if (0 < t1 && t1 < 1) {\n            if (i === 0) this.addX(derive(p0[i], p1[i], p2[i], p3[i], t1));\n            if (i === 1) this.addY(derive(p0[i], p1[i], p2[i], p3[i], t1));\n        }\n        const t2 = (-b - Math.sqrt(b2ac)) / (2 * a);\n        if (0 < t2 && t2 < 1) {\n            if (i === 0) this.addX(derive(p0[i], p1[i], p2[i], p3[i], t2));\n            if (i === 1) this.addY(derive(p0[i], p1[i], p2[i], p3[i], t2));\n        }\n    }\n};\n\n/**\n * Add a quadratic curve to the bounding box.\n * This extends the bounding box to include the entire quadratic curve.\n * @param {number} x0 - The starting X coordinate.\n * @param {number} y0 - The starting Y coordinate.\n * @param {number} x1 - The X coordinate of the control point.\n * @param {number} y1 - The Y coordinate of the control point.\n * @param {number} x - The ending X coordinate.\n * @param {number} y - The ending Y coordinate.\n */\nBoundingBox.prototype.addQuad = function(x0, y0, x1, y1, x, y) {\n    const cp1x = x0 + 2 / 3 * (x1 - x0);\n    const cp1y = y0 + 2 / 3 * (y1 - y0);\n    const cp2x = cp1x + 1 / 3 * (x - x0);\n    const cp2y = cp1y + 1 / 3 * (y - y0);\n    this.addBezier(x0, y0, cp1x, cp1y, cp2x, cp2y, x, y);\n};\n\nexport default BoundingBox;\n","// The `sfnt` wrapper provides organization for the tables in the font.\n// It is the top-level data structure in a font.\n// https://www.microsoft.com/typography/OTSPEC/otff.htm\n// Recommendations for creating OpenType Fonts:\n// http://www.microsoft.com/typography/otspec140/recom.htm\n\nimport check from '../check';\nimport table from '../table';\n\nimport cmap from './cmap';\nimport cff from './cff';\nimport head from './head';\nimport hhea from './hhea';\nimport hmtx from './hmtx';\nimport ltag from './ltag';\nimport maxp from './maxp';\nimport _name from './name';\nimport os2 from './os2';\nimport post from './post';\nimport gsub from './gsub';\nimport meta from './meta';\n\nfunction log2(v) {\n    return Math.log(v) / Math.log(2) | 0;\n}\n\nfunction computeCheckSum(bytes) {\n    while (bytes.length % 4 !== 0) {\n        bytes.push(0);\n    }\n\n    let sum = 0;\n    for (let i = 0; i < bytes.length; i += 4) {\n        sum += (bytes[i] << 24) +\n            (bytes[i + 1] << 16) +\n            (bytes[i + 2] << 8) +\n            (bytes[i + 3]);\n    }\n\n    sum %= Math.pow(2, 32);\n    return sum;\n}\n\nfunction makeTableRecord(tag, checkSum, offset, length) {\n    return new table.Record('Table Record', [\n        {name: 'tag', type: 'TAG', value: tag !== undefined ? tag : ''},\n        {name: 'checkSum', type: 'ULONG', value: checkSum !== undefined ? checkSum : 0},\n        {name: 'offset', type: 'ULONG', value: offset !== undefined ? offset : 0},\n        {name: 'length', type: 'ULONG', value: length !== undefined ? length : 0}\n    ]);\n}\n\nfunction makeSfntTable(tables) {\n    const sfnt = new table.Table('sfnt', [\n        {name: 'version', type: 'TAG', value: 'OTTO'},\n        {name: 'numTables', type: 'USHORT', value: 0},\n        {name: 'searchRange', type: 'USHORT', value: 0},\n        {name: 'entrySelector', type: 'USHORT', value: 0},\n        {name: 'rangeShift', type: 'USHORT', value: 0}\n    ]);\n    sfnt.tables = tables;\n    sfnt.numTables = tables.length;\n    const highestPowerOf2 = Math.pow(2, log2(sfnt.numTables));\n    sfnt.searchRange = 16 * highestPowerOf2;\n    sfnt.entrySelector = log2(highestPowerOf2);\n    sfnt.rangeShift = sfnt.numTables * 16 - sfnt.searchRange;\n\n    const recordFields = [];\n    const tableFields = [];\n\n    let offset = sfnt.sizeOf() + (makeTableRecord().sizeOf() * sfnt.numTables);\n    while (offset % 4 !== 0) {\n        offset += 1;\n        tableFields.push({name: 'padding', type: 'BYTE', value: 0});\n    }\n\n    for (let i = 0; i < tables.length; i += 1) {\n        const t = tables[i];\n        check.argument(t.tableName.length === 4, 'Table name' + t.tableName + ' is invalid.');\n        const tableLength = t.sizeOf();\n        const tableRecord = makeTableRecord(t.tableName, computeCheckSum(t.encode()), offset, tableLength);\n        recordFields.push({name: tableRecord.tag + ' Table Record', type: 'RECORD', value: tableRecord});\n        tableFields.push({name: t.tableName + ' table', type: 'RECORD', value: t});\n        offset += tableLength;\n        check.argument(!isNaN(offset), 'Something went wrong calculating the offset.');\n        while (offset % 4 !== 0) {\n            offset += 1;\n            tableFields.push({name: 'padding', type: 'BYTE', value: 0});\n        }\n    }\n\n    // Table records need to be sorted alphabetically.\n    recordFields.sort(function(r1, r2) {\n        if (r1.value.tag > r2.value.tag) {\n            return 1;\n        } else {\n            return -1;\n        }\n    });\n\n    sfnt.fields = sfnt.fields.concat(recordFields);\n    sfnt.fields = sfnt.fields.concat(tableFields);\n    return sfnt;\n}\n\n// Get the metrics for a character. If the string has more than one character\n// this function returns metrics for the first available character.\n// You can provide optional fallback metrics if no characters are available.\nfunction metricsForChar(font, chars, notFoundMetrics) {\n    for (let i = 0; i < chars.length; i += 1) {\n        const glyphIndex = font.charToGlyphIndex(chars[i]);\n        if (glyphIndex > 0) {\n            const glyph = font.glyphs.get(glyphIndex);\n            return glyph.getMetrics();\n        }\n    }\n\n    return notFoundMetrics;\n}\n\nfunction average(vs) {\n    let sum = 0;\n    for (let i = 0; i < vs.length; i += 1) {\n        sum += vs[i];\n    }\n\n    return sum / vs.length;\n}\n\n// Convert the font object to a SFNT data structure.\n// This structure contains all the necessary tables and metadata to create a binary OTF file.\nfunction fontToSfntTable(font) {\n    const xMins = [];\n    const yMins = [];\n    const xMaxs = [];\n    const yMaxs = [];\n    const advanceWidths = [];\n    const leftSideBearings = [];\n    const rightSideBearings = [];\n    let firstCharIndex;\n    let lastCharIndex = 0;\n    let ulUnicodeRange1 = 0;\n    let ulUnicodeRange2 = 0;\n    let ulUnicodeRange3 = 0;\n    let ulUnicodeRange4 = 0;\n\n    for (let i = 0; i < font.glyphs.length; i += 1) {\n        const glyph = font.glyphs.get(i);\n        const unicode = glyph.unicode | 0;\n\n        if (isNaN(glyph.advanceWidth)) {\n            throw new Error('Glyph ' + glyph.name + ' (' + i + '): advanceWidth is not a number.');\n        }\n\n        if (firstCharIndex > unicode || firstCharIndex === undefined) {\n            // ignore .notdef char\n            if (unicode > 0) {\n                firstCharIndex = unicode;\n            }\n        }\n\n        if (lastCharIndex < unicode) {\n            lastCharIndex = unicode;\n        }\n\n        const position = os2.getUnicodeRange(unicode);\n        if (position < 32) {\n            ulUnicodeRange1 |= 1 << position;\n        } else if (position < 64) {\n            ulUnicodeRange2 |= 1 << position - 32;\n        } else if (position < 96) {\n            ulUnicodeRange3 |= 1 << position - 64;\n        } else if (position < 123) {\n            ulUnicodeRange4 |= 1 << position - 96;\n        } else {\n            throw new Error('Unicode ranges bits > 123 are reserved for internal usage');\n        }\n        // Skip non-important characters.\n        if (glyph.name === '.notdef') continue;\n        const metrics = glyph.getMetrics();\n        xMins.push(metrics.xMin);\n        yMins.push(metrics.yMin);\n        xMaxs.push(metrics.xMax);\n        yMaxs.push(metrics.yMax);\n        leftSideBearings.push(metrics.leftSideBearing);\n        rightSideBearings.push(metrics.rightSideBearing);\n        advanceWidths.push(glyph.advanceWidth);\n    }\n\n    const globals = {\n        xMin: Math.min.apply(null, xMins),\n        yMin: Math.min.apply(null, yMins),\n        xMax: Math.max.apply(null, xMaxs),\n        yMax: Math.max.apply(null, yMaxs),\n        advanceWidthMax: Math.max.apply(null, advanceWidths),\n        advanceWidthAvg: average(advanceWidths),\n        minLeftSideBearing: Math.min.apply(null, leftSideBearings),\n        maxLeftSideBearing: Math.max.apply(null, leftSideBearings),\n        minRightSideBearing: Math.min.apply(null, rightSideBearings)\n    };\n    globals.ascender = font.ascender;\n    globals.descender = font.descender;\n\n    const headTable = head.make({\n        flags: 3, // 00000011 (baseline for font at y=0; left sidebearing point at x=0)\n        unitsPerEm: font.unitsPerEm,\n        xMin: globals.xMin,\n        yMin: globals.yMin,\n        xMax: globals.xMax,\n        yMax: globals.yMax,\n        lowestRecPPEM: 3,\n        createdTimestamp: font.createdTimestamp\n    });\n\n    const hheaTable = hhea.make({\n        ascender: globals.ascender,\n        descender: globals.descender,\n        advanceWidthMax: globals.advanceWidthMax,\n        minLeftSideBearing: globals.minLeftSideBearing,\n        minRightSideBearing: globals.minRightSideBearing,\n        xMaxExtent: globals.maxLeftSideBearing + (globals.xMax - globals.xMin),\n        numberOfHMetrics: font.glyphs.length\n    });\n\n    const maxpTable = maxp.make(font.glyphs.length);\n\n    const os2Table = os2.make({\n        xAvgCharWidth: Math.round(globals.advanceWidthAvg),\n        usWeightClass: font.tables.os2.usWeightClass,\n        usWidthClass: font.tables.os2.usWidthClass,\n        usFirstCharIndex: firstCharIndex,\n        usLastCharIndex: lastCharIndex,\n        ulUnicodeRange1: ulUnicodeRange1,\n        ulUnicodeRange2: ulUnicodeRange2,\n        ulUnicodeRange3: ulUnicodeRange3,\n        ulUnicodeRange4: ulUnicodeRange4,\n        fsSelection: font.tables.os2.fsSelection, // REGULAR\n        // See http://typophile.com/node/13081 for more info on vertical metrics.\n        // We get metrics for typical characters (such as \"x\" for xHeight).\n        // We provide some fallback characters if characters are unavailable: their\n        // ordering was chosen experimentally.\n        sTypoAscender: globals.ascender,\n        sTypoDescender: globals.descender,\n        sTypoLineGap: 0,\n        usWinAscent: globals.yMax,\n        usWinDescent: Math.abs(globals.yMin),\n        ulCodePageRange1: 1, // FIXME: hard-code Latin 1 support for now\n        sxHeight: metricsForChar(font, 'xyvw', {yMax: Math.round(globals.ascender / 2)}).yMax,\n        sCapHeight: metricsForChar(font, 'HIKLEFJMNTZBDPRAGOQSUVWXY', globals).yMax,\n        usDefaultChar: font.hasChar(' ') ? 32 : 0, // Use space as the default character, if available.\n        usBreakChar: font.hasChar(' ') ? 32 : 0 // Use space as the break character, if available.\n    });\n\n    const hmtxTable = hmtx.make(font.glyphs);\n    const cmapTable = cmap.make(font.glyphs);\n\n    const englishFamilyName = font.getEnglishName('fontFamily');\n    const englishStyleName = font.getEnglishName('fontSubfamily');\n    const englishFullName = englishFamilyName + ' ' + englishStyleName;\n    let postScriptName = font.getEnglishName('postScriptName');\n    if (!postScriptName) {\n        postScriptName = englishFamilyName.replace(/\\s/g, '') + '-' + englishStyleName;\n    }\n\n    const names = {};\n    for (let n in font.names) {\n        names[n] = font.names[n];\n    }\n\n    if (!names.uniqueID) {\n        names.uniqueID = {en: font.getEnglishName('manufacturer') + ':' + englishFullName};\n    }\n\n    if (!names.postScriptName) {\n        names.postScriptName = {en: postScriptName};\n    }\n\n    if (!names.preferredFamily) {\n        names.preferredFamily = font.names.fontFamily;\n    }\n\n    if (!names.preferredSubfamily) {\n        names.preferredSubfamily = font.names.fontSubfamily;\n    }\n\n    const languageTags = [];\n    const nameTable = _name.make(names, languageTags);\n    const ltagTable = (languageTags.length > 0 ? ltag.make(languageTags) : undefined);\n\n    const postTable = post.make();\n    const cffTable = cff.make(font.glyphs, {\n        version: font.getEnglishName('version'),\n        fullName: englishFullName,\n        familyName: englishFamilyName,\n        weightName: englishStyleName,\n        postScriptName: postScriptName,\n        unitsPerEm: font.unitsPerEm,\n        fontBBox: [0, globals.yMin, globals.ascender, globals.advanceWidthMax]\n    });\n\n    const metaTable = (font.metas && Object.keys(font.metas).length > 0) ? meta.make(font.metas) : undefined;\n\n    // The order does not matter because makeSfntTable() will sort them.\n    const tables = [headTable, hheaTable, maxpTable, os2Table, nameTable, cmapTable, postTable, cffTable, hmtxTable];\n    if (ltagTable) {\n        tables.push(ltagTable);\n    }\n    // Optional tables\n    if (font.tables.gsub) {\n        tables.push(gsub.make(font.tables.gsub));\n    }\n    if (metaTable) {\n        tables.push(metaTable);\n    }\n\n    const sfntTable = makeSfntTable(tables);\n\n    // Compute the font's checkSum and store it in head.checkSumAdjustment.\n    const bytes = sfntTable.encode();\n    const checkSum = computeCheckSum(bytes);\n    const tableFields = sfntTable.fields;\n    let checkSumAdjusted = false;\n    for (let i = 0; i < tableFields.length; i += 1) {\n        if (tableFields[i].name === 'head table') {\n            tableFields[i].value.checkSumAdjustment = 0xB1B0AFBA - checkSum;\n            checkSumAdjusted = true;\n            break;\n        }\n    }\n\n    if (!checkSumAdjusted) {\n        throw new Error('Could not find head table with checkSum to adjust.');\n    }\n\n    return sfntTable;\n}\n\nexport default { make: makeSfntTable, fontToTable: fontToSfntTable, computeCheckSum };\n","// Run-time checking of preconditions.\n\nfunction fail(message) {\n    throw new Error(message);\n}\n\n// Precondition function that checks if the given predicate is true.\n// If not, it will throw an error.\nfunction argument(predicate, message) {\n    if (!predicate) {\n        fail(message);\n    }\n}\n\nexport { fail, argument, argument as assert };\nexport default { fail, argument, assert: argument };\n","// Table metadata\n\nimport check from './check';\nimport { encode, sizeOf } from './types';\n\n/**\n * @exports opentype.Table\n * @class\n * @param {string} tableName\n * @param {Array} fields\n * @param {Object} options\n * @constructor\n */\nfunction Table(tableName, fields, options) {\n    for (let i = 0; i < fields.length; i += 1) {\n        const field = fields[i];\n        this[field.name] = field.value;\n    }\n\n    this.tableName = tableName;\n    this.fields = fields;\n    if (options) {\n        const optionKeys = Object.keys(options);\n        for (let i = 0; i < optionKeys.length; i += 1) {\n            const k = optionKeys[i];\n            const v = options[k];\n            if (this[k] !== undefined) {\n                this[k] = v;\n            }\n        }\n    }\n}\n\n/**\n * Encodes the table and returns an array of bytes\n * @return {Array}\n */\nTable.prototype.encode = function() {\n    return encode.TABLE(this);\n};\n\n/**\n * Get the size of the table.\n * @return {number}\n */\nTable.prototype.sizeOf = function() {\n    return sizeOf.TABLE(this);\n};\n\n/**\n * @private\n */\nfunction ushortList(itemName, list, count) {\n    if (count === undefined) {\n        count = list.length;\n    }\n    const fields = new Array(list.length + 1);\n    fields[0] = {name: itemName + 'Count', type: 'USHORT', value: count};\n    for (let i = 0; i < list.length; i++) {\n        fields[i + 1] = {name: itemName + i, type: 'USHORT', value: list[i]};\n    }\n    return fields;\n}\n\n/**\n * @private\n */\nfunction tableList(itemName, records, itemCallback) {\n    const count = records.length;\n    const fields = new Array(count + 1);\n    fields[0] = {name: itemName + 'Count', type: 'USHORT', value: count};\n    for (let i = 0; i < count; i++) {\n        fields[i + 1] = {name: itemName + i, type: 'TABLE', value: itemCallback(records[i], i)};\n    }\n    return fields;\n}\n\n/**\n * @private\n */\nfunction recordList(itemName, records, itemCallback) {\n    const count = records.length;\n    let fields = [];\n    fields[0] = {name: itemName + 'Count', type: 'USHORT', value: count};\n    for (let i = 0; i < count; i++) {\n        fields = fields.concat(itemCallback(records[i], i));\n    }\n    return fields;\n}\n\n// Common Layout Tables\n\n/**\n * @exports opentype.Coverage\n * @class\n * @param {opentype.Table}\n * @constructor\n * @extends opentype.Table\n */\nfunction Coverage(coverageTable) {\n    if (coverageTable.format === 1) {\n        Table.call(this, 'coverageTable',\n            [{name: 'coverageFormat', type: 'USHORT', value: 1}]\n            .concat(ushortList('glyph', coverageTable.glyphs))\n        );\n    } else {\n        check.assert(false, 'Can\\'t create coverage table format 2 yet.');\n    }\n}\nCoverage.prototype = Object.create(Table.prototype);\nCoverage.prototype.constructor = Coverage;\n\nfunction ScriptList(scriptListTable) {\n    Table.call(this, 'scriptListTable',\n        recordList('scriptRecord', scriptListTable, function(scriptRecord, i) {\n            const script = scriptRecord.script;\n            let defaultLangSys = script.defaultLangSys;\n            check.assert(!!defaultLangSys, 'Unable to write GSUB: script ' + scriptRecord.tag + ' has no default language system.');\n            return [\n                {name: 'scriptTag' + i, type: 'TAG', value: scriptRecord.tag},\n                {name: 'script' + i, type: 'TABLE', value: new Table('scriptTable', [\n                    {name: 'defaultLangSys', type: 'TABLE', value: new Table('defaultLangSys', [\n                        {name: 'lookupOrder', type: 'USHORT', value: 0},\n                        {name: 'reqFeatureIndex', type: 'USHORT', value: defaultLangSys.reqFeatureIndex}]\n                        .concat(ushortList('featureIndex', defaultLangSys.featureIndexes)))}\n                    ].concat(recordList('langSys', script.langSysRecords, function(langSysRecord, i) {\n                        const langSys = langSysRecord.langSys;\n                        return [\n                            {name: 'langSysTag' + i, type: 'TAG', value: langSysRecord.tag},\n                            {name: 'langSys' + i, type: 'TABLE', value: new Table('langSys', [\n                                {name: 'lookupOrder', type: 'USHORT', value: 0},\n                                {name: 'reqFeatureIndex', type: 'USHORT', value: langSys.reqFeatureIndex}\n                                ].concat(ushortList('featureIndex', langSys.featureIndexes)))}\n                        ];\n                    })))}\n            ];\n        })\n    );\n}\nScriptList.prototype = Object.create(Table.prototype);\nScriptList.prototype.constructor = ScriptList;\n\n/**\n * @exports opentype.FeatureList\n * @class\n * @param {opentype.Table}\n * @constructor\n * @extends opentype.Table\n */\nfunction FeatureList(featureListTable) {\n    Table.call(this, 'featureListTable',\n        recordList('featureRecord', featureListTable, function(featureRecord, i) {\n            const feature = featureRecord.feature;\n            return [\n                {name: 'featureTag' + i, type: 'TAG', value: featureRecord.tag},\n                {name: 'feature' + i, type: 'TABLE', value: new Table('featureTable', [\n                    {name: 'featureParams', type: 'USHORT', value: feature.featureParams},\n                    ].concat(ushortList('lookupListIndex', feature.lookupListIndexes)))}\n            ];\n        })\n    );\n}\nFeatureList.prototype = Object.create(Table.prototype);\nFeatureList.prototype.constructor = FeatureList;\n\n/**\n * @exports opentype.LookupList\n * @class\n * @param {opentype.Table}\n * @param {Object}\n * @constructor\n * @extends opentype.Table\n */\nfunction LookupList(lookupListTable, subtableMakers) {\n    Table.call(this, 'lookupListTable', tableList('lookup', lookupListTable, function(lookupTable) {\n        let subtableCallback = subtableMakers[lookupTable.lookupType];\n        check.assert(!!subtableCallback, 'Unable to write GSUB lookup type ' + lookupTable.lookupType + ' tables.');\n        return new Table('lookupTable', [\n            {name: 'lookupType', type: 'USHORT', value: lookupTable.lookupType},\n            {name: 'lookupFlag', type: 'USHORT', value: lookupTable.lookupFlag}\n        ].concat(tableList('subtable', lookupTable.subtables, subtableCallback)));\n    }));\n}\nLookupList.prototype = Object.create(Table.prototype);\nLookupList.prototype.constructor = LookupList;\n\n// Record = same as Table, but inlined (a Table has an offset and its data is further in the stream)\n// Don't use offsets inside Records (probable bug), only in Tables.\nexport default {\n    Table,\n    Record: Table,\n    Coverage,\n    ScriptList,\n    FeatureList,\n    LookupList,\n    ushortList,\n    tableList,\n    recordList,\n};\n","// Data types used in the OpenType font file.\n// All OpenType fonts use Motorola-style byte ordering (Big Endian)\n\nimport check from './check';\n\nconst LIMIT16 = 32768; // The limit at which a 16-bit number switches signs == 2^15\nconst LIMIT32 = 2147483648; // The limit at which a 32-bit number switches signs == 2 ^ 31\n\n/**\n * @exports opentype.decode\n * @class\n */\nconst decode = {};\n/**\n * @exports opentype.encode\n * @class\n */\nconst encode = {};\n/**\n * @exports opentype.sizeOf\n * @class\n */\nconst sizeOf = {};\n\n// Return a function that always returns the same value.\nfunction constant(v) {\n    return function() {\n        return v;\n    };\n}\n\n// OpenType data types //////////////////////////////////////////////////////\n\n/**\n * Convert an 8-bit unsigned integer to a list of 1 byte.\n * @param {number}\n * @returns {Array}\n */\nencode.BYTE = function(v) {\n    check.argument(v >= 0 && v <= 255, 'Byte value should be between 0 and 255.');\n    return [v];\n};\n/**\n * @constant\n * @type {number}\n */\nsizeOf.BYTE = constant(1);\n\n/**\n * Convert a 8-bit signed integer to a list of 1 byte.\n * @param {string}\n * @returns {Array}\n */\nencode.CHAR = function(v) {\n    return [v.charCodeAt(0)];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.CHAR = constant(1);\n\n/**\n * Convert an ASCII string to a list of bytes.\n * @param {string}\n * @returns {Array}\n */\nencode.CHARARRAY = function(v) {\n    const b = [];\n    for (let i = 0; i < v.length; i += 1) {\n        b[i] = v.charCodeAt(i);\n    }\n\n    return b;\n};\n\n/**\n * @param {Array}\n * @returns {number}\n */\nsizeOf.CHARARRAY = function(v) {\n    return v.length;\n};\n\n/**\n * Convert a 16-bit unsigned integer to a list of 2 bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.USHORT = function(v) {\n    return [(v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.USHORT = constant(2);\n\n/**\n * Convert a 16-bit signed integer to a list of 2 bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.SHORT = function(v) {\n    // Two's complement\n    if (v >= LIMIT16) {\n        v = -(2 * LIMIT16 - v);\n    }\n\n    return [(v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.SHORT = constant(2);\n\n/**\n * Convert a 24-bit unsigned integer to a list of 3 bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.UINT24 = function(v) {\n    return [(v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.UINT24 = constant(3);\n\n/**\n * Convert a 32-bit unsigned integer to a list of 4 bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.ULONG = function(v) {\n    return [(v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.ULONG = constant(4);\n\n/**\n * Convert a 32-bit unsigned integer to a list of 4 bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.LONG = function(v) {\n    // Two's complement\n    if (v >= LIMIT32) {\n        v = -(2 * LIMIT32 - v);\n    }\n\n    return [(v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.LONG = constant(4);\n\nencode.FIXED = encode.ULONG;\nsizeOf.FIXED = sizeOf.ULONG;\n\nencode.FWORD = encode.SHORT;\nsizeOf.FWORD = sizeOf.SHORT;\n\nencode.UFWORD = encode.USHORT;\nsizeOf.UFWORD = sizeOf.USHORT;\n\n/**\n * Convert a 32-bit Apple Mac timestamp integer to a list of 8 bytes, 64-bit timestamp.\n * @param {number}\n * @returns {Array}\n */\nencode.LONGDATETIME = function(v) {\n    return [0, 0, 0, 0, (v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.LONGDATETIME = constant(8);\n\n/**\n * Convert a 4-char tag to a list of 4 bytes.\n * @param {string}\n * @returns {Array}\n */\nencode.TAG = function(v) {\n    check.argument(v.length === 4, 'Tag should be exactly 4 ASCII characters.');\n    return [v.charCodeAt(0),\n            v.charCodeAt(1),\n            v.charCodeAt(2),\n            v.charCodeAt(3)];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.TAG = constant(4);\n\n// CFF data types ///////////////////////////////////////////////////////////\n\nencode.Card8 = encode.BYTE;\nsizeOf.Card8 = sizeOf.BYTE;\n\nencode.Card16 = encode.USHORT;\nsizeOf.Card16 = sizeOf.USHORT;\n\nencode.OffSize = encode.BYTE;\nsizeOf.OffSize = sizeOf.BYTE;\n\nencode.SID = encode.USHORT;\nsizeOf.SID = sizeOf.USHORT;\n\n// Convert a numeric operand or charstring number to a variable-size list of bytes.\n/**\n * Convert a numeric operand or charstring number to a variable-size list of bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.NUMBER = function(v) {\n    if (v >= -107 && v <= 107) {\n        return [v + 139];\n    } else if (v >= 108 && v <= 1131) {\n        v = v - 108;\n        return [(v >> 8) + 247, v & 0xFF];\n    } else if (v >= -1131 && v <= -108) {\n        v = -v - 108;\n        return [(v >> 8) + 251, v & 0xFF];\n    } else if (v >= -32768 && v <= 32767) {\n        return encode.NUMBER16(v);\n    } else {\n        return encode.NUMBER32(v);\n    }\n};\n\n/**\n * @param {number}\n * @returns {number}\n */\nsizeOf.NUMBER = function(v) {\n    return encode.NUMBER(v).length;\n};\n\n/**\n * Convert a signed number between -32768 and +32767 to a three-byte value.\n * This ensures we always use three bytes, but is not the most compact format.\n * @param {number}\n * @returns {Array}\n */\nencode.NUMBER16 = function(v) {\n    return [28, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.NUMBER16 = constant(3);\n\n/**\n * Convert a signed number between -(2^31) and +(2^31-1) to a five-byte value.\n * This is useful if you want to be sure you always use four bytes,\n * at the expense of wasting a few bytes for smaller numbers.\n * @param {number}\n * @returns {Array}\n */\nencode.NUMBER32 = function(v) {\n    return [29, (v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.NUMBER32 = constant(5);\n\n/**\n * @param {number}\n * @returns {Array}\n */\nencode.REAL = function(v) {\n    let value = v.toString();\n\n    // Some numbers use an epsilon to encode the value. (e.g. JavaScript will store 0.0000001 as 1e-7)\n    // This code converts it back to a number without the epsilon.\n    const m = /\\.(\\d*?)(?:9{5,20}|0{5,20})\\d{0,2}(?:e(.+)|$)/.exec(value);\n    if (m) {\n        const epsilon = parseFloat('1e' + ((m[2] ? +m[2] : 0) + m[1].length));\n        value = (Math.round(v * epsilon) / epsilon).toString();\n    }\n\n    let nibbles = '';\n    for (let i = 0, ii = value.length; i < ii; i += 1) {\n        const c = value[i];\n        if (c === 'e') {\n            nibbles += value[++i] === '-' ? 'c' : 'b';\n        } else if (c === '.') {\n            nibbles += 'a';\n        } else if (c === '-') {\n            nibbles += 'e';\n        } else {\n            nibbles += c;\n        }\n    }\n\n    nibbles += (nibbles.length & 1) ? 'f' : 'ff';\n    const out = [30];\n    for (let i = 0, ii = nibbles.length; i < ii; i += 2) {\n        out.push(parseInt(nibbles.substr(i, 2), 16));\n    }\n\n    return out;\n};\n\n/**\n * @param {number}\n * @returns {number}\n */\nsizeOf.REAL = function(v) {\n    return encode.REAL(v).length;\n};\n\nencode.NAME = encode.CHARARRAY;\nsizeOf.NAME = sizeOf.CHARARRAY;\n\nencode.STRING = encode.CHARARRAY;\nsizeOf.STRING = sizeOf.CHARARRAY;\n\n/**\n * @param {DataView} data\n * @param {number} offset\n * @param {number} numBytes\n * @returns {string}\n */\ndecode.UTF8 = function(data, offset, numBytes) {\n    const codePoints = [];\n    const numChars = numBytes;\n    for (let j = 0; j < numChars; j++, offset += 1) {\n        codePoints[j] = data.getUint8(offset);\n    }\n\n    return String.fromCharCode.apply(null, codePoints);\n};\n\n/**\n * @param {DataView} data\n * @param {number} offset\n * @param {number} numBytes\n * @returns {string}\n */\ndecode.UTF16 = function(data, offset, numBytes) {\n    const codePoints = [];\n    const numChars = numBytes / 2;\n    for (let j = 0; j < numChars; j++, offset += 2) {\n        codePoints[j] = data.getUint16(offset);\n    }\n\n    return String.fromCharCode.apply(null, codePoints);\n};\n\n/**\n * Convert a JavaScript string to UTF16-BE.\n * @param {string}\n * @returns {Array}\n */\nencode.UTF16 = function(v) {\n    const b = [];\n    for (let i = 0; i < v.length; i += 1) {\n        const codepoint = v.charCodeAt(i);\n        b[b.length] = (codepoint >> 8) & 0xFF;\n        b[b.length] = codepoint & 0xFF;\n    }\n\n    return b;\n};\n\n/**\n * @param {string}\n * @returns {number}\n */\nsizeOf.UTF16 = function(v) {\n    return v.length * 2;\n};\n\n// Data for converting old eight-bit Macintosh encodings to Unicode.\n// This representation is optimized for decoding; encoding is slower\n// and needs more memory. The assumption is that all opentype.js users\n// want to open fonts, but saving a font will be comparatively rare\n// so it can be more expensive. Keyed by IANA character set name.\n//\n// Python script for generating these strings:\n//\n//     s = u''.join([chr(c).decode('mac_greek') for c in range(128, 256)])\n//     print(s.encode('utf-8'))\n/**\n * @private\n */\nconst eightBitMacEncodings = {\n    'x-mac-croatian':  // Python: 'mac_croatian'\n    '' +\n    '',\n    'x-mac-cyrillic':  // Python: 'mac_cyrillic'\n    '' +\n    '',\n    'x-mac-gaelic': // http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/GAELIC.TXT\n    '' +\n    '',\n    'x-mac-greek':  // Python: 'mac_greek'\n    '' +\n    '\\u00AD',\n    'x-mac-icelandic':  // Python: 'mac_iceland'\n    '' +\n    '',\n    'x-mac-inuit': // http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/INUIT.TXT\n    '' +\n    '',\n    'x-mac-ce':  // Python: 'mac_latin2'\n    '' +\n    '',\n    macintosh:  // Python: 'mac_roman'\n    '' +\n    '',\n    'x-mac-romanian':  // Python: 'mac_romanian'\n    '' +\n    '',\n    'x-mac-turkish':  // Python: 'mac_turkish'\n    '' +\n    ''\n};\n\n/**\n * Decodes an old-style Macintosh string. Returns either a Unicode JavaScript\n * string, or 'undefined' if the encoding is unsupported. For example, we do\n * not support Chinese, Japanese or Korean because these would need large\n * mapping tables.\n * @param {DataView} dataView\n * @param {number} offset\n * @param {number} dataLength\n * @param {string} encoding\n * @returns {string}\n */\ndecode.MACSTRING = function(dataView, offset, dataLength, encoding) {\n    const table = eightBitMacEncodings[encoding];\n    if (table === undefined) {\n        return undefined;\n    }\n\n    let result = '';\n    for (let i = 0; i < dataLength; i++) {\n        const c = dataView.getUint8(offset + i);\n        // In all eight-bit Mac encodings, the characters 0x00..0x7F are\n        // mapped to U+0000..U+007F; we only need to look up the others.\n        if (c <= 0x7F) {\n            result += String.fromCharCode(c);\n        } else {\n            result += table[c & 0x7F];\n        }\n    }\n\n    return result;\n};\n\n// Helper function for encode.MACSTRING. Returns a dictionary for mapping\n// Unicode character codes to their 8-bit MacOS equivalent. This table\n// is not exactly a super cheap data structure, but we do not care because\n// encoding Macintosh strings is only rarely needed in typical applications.\nconst macEncodingTableCache = typeof WeakMap === 'function' && new WeakMap();\nlet macEncodingCacheKeys;\nconst getMacEncodingTable = function (encoding) {\n    // Since we use encoding as a cache key for WeakMap, it has to be\n    // a String object and not a literal. And at least on NodeJS 2.10.1,\n    // WeakMap requires that the same String instance is passed for cache hits.\n    if (!macEncodingCacheKeys) {\n        macEncodingCacheKeys = {};\n        for (let e in eightBitMacEncodings) {\n            /*jshint -W053 */  // Suppress \"Do not use String as a constructor.\"\n            macEncodingCacheKeys[e] = new String(e);\n        }\n    }\n\n    const cacheKey = macEncodingCacheKeys[encoding];\n    if (cacheKey === undefined) {\n        return undefined;\n    }\n\n    // We can't do \"if (cache.has(key)) {return cache.get(key)}\" here:\n    // since garbage collection may run at any time, it could also kick in\n    // between the calls to cache.has() and cache.get(). In that case,\n    // we would return 'undefined' even though we do support the encoding.\n    if (macEncodingTableCache) {\n        const cachedTable = macEncodingTableCache.get(cacheKey);\n        if (cachedTable !== undefined) {\n            return cachedTable;\n        }\n    }\n\n    const decodingTable = eightBitMacEncodings[encoding];\n    if (decodingTable === undefined) {\n        return undefined;\n    }\n\n    const encodingTable = {};\n    for (let i = 0; i < decodingTable.length; i++) {\n        encodingTable[decodingTable.charCodeAt(i)] = i + 0x80;\n    }\n\n    if (macEncodingTableCache) {\n        macEncodingTableCache.set(cacheKey, encodingTable);\n    }\n\n    return encodingTable;\n};\n\n/**\n * Encodes an old-style Macintosh string. Returns a byte array upon success.\n * If the requested encoding is unsupported, or if the input string contains\n * a character that cannot be expressed in the encoding, the function returns\n * 'undefined'.\n * @param {string} str\n * @param {string} encoding\n * @returns {Array}\n */\nencode.MACSTRING = function(str, encoding) {\n    const table = getMacEncodingTable(encoding);\n    if (table === undefined) {\n        return undefined;\n    }\n\n    const result = [];\n    for (let i = 0; i < str.length; i++) {\n        let c = str.charCodeAt(i);\n\n        // In all eight-bit Mac encodings, the characters 0x00..0x7F are\n        // mapped to U+0000..U+007F; we only need to look up the others.\n        if (c >= 0x80) {\n            c = table[c];\n            if (c === undefined) {\n                // str contains a Unicode character that cannot be encoded\n                // in the requested encoding.\n                return undefined;\n            }\n        }\n        result[i] = c;\n        // result.push(c);\n    }\n\n    return result;\n};\n\n/**\n * @param {string} str\n * @param {string} encoding\n * @returns {number}\n */\nsizeOf.MACSTRING = function(str, encoding) {\n    const b = encode.MACSTRING(str, encoding);\n    if (b !== undefined) {\n        return b.length;\n    } else {\n        return 0;\n    }\n};\n\n// Helper for encode.VARDELTAS\nfunction isByteEncodable(value) {\n    return value >= -128 && value <= 127;\n}\n\n// Helper for encode.VARDELTAS\nfunction encodeVarDeltaRunAsZeroes(deltas, pos, result) {\n    let runLength = 0;\n    const numDeltas = deltas.length;\n    while (pos < numDeltas && runLength < 64 && deltas[pos] === 0) {\n        ++pos;\n        ++runLength;\n    }\n    result.push(0x80 | (runLength - 1));\n    return pos;\n}\n\n// Helper for encode.VARDELTAS\nfunction encodeVarDeltaRunAsBytes(deltas, offset, result) {\n    let runLength = 0;\n    const numDeltas = deltas.length;\n    let pos = offset;\n    while (pos < numDeltas && runLength < 64) {\n        const value = deltas[pos];\n        if (!isByteEncodable(value)) {\n            break;\n        }\n\n        // Within a byte-encoded run of deltas, a single zero is best\n        // stored literally as 0x00 value. However, if we have two or\n        // more zeroes in a sequence, it is better to start a new run.\n        // Fore example, the sequence of deltas [15, 15, 0, 15, 15]\n        // becomes 6 bytes (04 0F 0F 00 0F 0F) when storing the zero\n        // within the current run, but 7 bytes (01 0F 0F 80 01 0F 0F)\n        // when starting a new run.\n        if (value === 0 && pos + 1 < numDeltas && deltas[pos + 1] === 0) {\n            break;\n        }\n\n        ++pos;\n        ++runLength;\n    }\n    result.push(runLength - 1);\n    for (let i = offset; i < pos; ++i) {\n        result.push((deltas[i] + 256) & 0xff);\n    }\n    return pos;\n}\n\n// Helper for encode.VARDELTAS\nfunction encodeVarDeltaRunAsWords(deltas, offset, result) {\n    let runLength = 0;\n    const numDeltas = deltas.length;\n    let pos = offset;\n    while (pos < numDeltas && runLength < 64) {\n        const value = deltas[pos];\n\n        // Within a word-encoded run of deltas, it is easiest to start\n        // a new run (with a different encoding) whenever we encounter\n        // a zero value. For example, the sequence [0x6666, 0, 0x7777]\n        // needs 7 bytes when storing the zero inside the current run\n        // (42 66 66 00 00 77 77), and equally 7 bytes when starting a\n        // new run (40 66 66 80 40 77 77).\n        if (value === 0) {\n            break;\n        }\n\n        // Within a word-encoded run of deltas, a single value in the\n        // range (-128..127) should be encoded within the current run\n        // because it is more compact. For example, the sequence\n        // [0x6666, 2, 0x7777] becomes 7 bytes when storing the value\n        // literally (42 66 66 00 02 77 77), but 8 bytes when starting\n        // a new run (40 66 66 00 02 40 77 77).\n        if (isByteEncodable(value) && pos + 1 < numDeltas && isByteEncodable(deltas[pos + 1])) {\n            break;\n        }\n\n        ++pos;\n        ++runLength;\n    }\n    result.push(0x40 | (runLength - 1));\n    for (let i = offset; i < pos; ++i) {\n        const val = deltas[i];\n        result.push(((val + 0x10000) >> 8) & 0xff, (val + 0x100) & 0xff);\n    }\n    return pos;\n}\n\n/**\n * Encode a list of variation adjustment deltas.\n *\n * Variation adjustment deltas are used in gvar and cvar tables.\n * They indicate how points (in gvar) or values (in cvar) get adjusted\n * when generating instances of variation fonts.\n *\n * @see https://www.microsoft.com/typography/otspec/gvar.htm\n * @see https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6gvar.html\n * @param {Array}\n * @return {Array}\n */\nencode.VARDELTAS = function(deltas) {\n    let pos = 0;\n    const result = [];\n    while (pos < deltas.length) {\n        const value = deltas[pos];\n        if (value === 0) {\n            pos = encodeVarDeltaRunAsZeroes(deltas, pos, result);\n        } else if (value >= -128 && value <= 127) {\n            pos = encodeVarDeltaRunAsBytes(deltas, pos, result);\n        } else {\n            pos = encodeVarDeltaRunAsWords(deltas, pos, result);\n        }\n    }\n    return result;\n};\n\n// Convert a list of values to a CFF INDEX structure.\n// The values should be objects containing name / type / value.\n/**\n * @param {Array} l\n * @returns {Array}\n */\nencode.INDEX = function(l) {\n    //var offset, offsets, offsetEncoder, encodedOffsets, encodedOffset, data,\n    //    i, v;\n    // Because we have to know which data type to use to encode the offsets,\n    // we have to go through the values twice: once to encode the data and\n    // calculate the offsets, then again to encode the offsets using the fitting data type.\n    let offset = 1; // First offset is always 1.\n    const offsets = [offset];\n    const data = [];\n    for (let i = 0; i < l.length; i += 1) {\n        const v = encode.OBJECT(l[i]);\n        Array.prototype.push.apply(data, v);\n        offset += v.length;\n        offsets.push(offset);\n    }\n\n    if (data.length === 0) {\n        return [0, 0];\n    }\n\n    const encodedOffsets = [];\n    const offSize = (1 + Math.floor(Math.log(offset) / Math.log(2)) / 8) | 0;\n    const offsetEncoder = [undefined, encode.BYTE, encode.USHORT, encode.UINT24, encode.ULONG][offSize];\n    for (let i = 0; i < offsets.length; i += 1) {\n        const encodedOffset = offsetEncoder(offsets[i]);\n        Array.prototype.push.apply(encodedOffsets, encodedOffset);\n    }\n\n    return Array.prototype.concat(encode.Card16(l.length),\n                           encode.OffSize(offSize),\n                           encodedOffsets,\n                           data);\n};\n\n/**\n * @param {Array}\n * @returns {number}\n */\nsizeOf.INDEX = function(v) {\n    return encode.INDEX(v).length;\n};\n\n/**\n * Convert an object to a CFF DICT structure.\n * The keys should be numeric.\n * The values should be objects containing name / type / value.\n * @param {Object} m\n * @returns {Array}\n */\nencode.DICT = function(m) {\n    let d = [];\n    const keys = Object.keys(m);\n    const length = keys.length;\n\n    for (let i = 0; i < length; i += 1) {\n        // Object.keys() return string keys, but our keys are always numeric.\n        const k = parseInt(keys[i], 0);\n        const v = m[k];\n        // Value comes before the key.\n        d = d.concat(encode.OPERAND(v.value, v.type));\n        d = d.concat(encode.OPERATOR(k));\n    }\n\n    return d;\n};\n\n/**\n * @param {Object}\n * @returns {number}\n */\nsizeOf.DICT = function(m) {\n    return encode.DICT(m).length;\n};\n\n/**\n * @param {number}\n * @returns {Array}\n */\nencode.OPERATOR = function(v) {\n    if (v < 1200) {\n        return [v];\n    } else {\n        return [12, v - 1200];\n    }\n};\n\n/**\n * @param {Array} v\n * @param {string}\n * @returns {Array}\n */\nencode.OPERAND = function(v, type) {\n    let d = [];\n    if (Array.isArray(type)) {\n        for (let i = 0; i < type.length; i += 1) {\n            check.argument(v.length === type.length, 'Not enough arguments given for type' + type);\n            d = d.concat(encode.OPERAND(v[i], type[i]));\n        }\n    } else {\n        if (type === 'SID') {\n            d = d.concat(encode.NUMBER(v));\n        } else if (type === 'offset') {\n            // We make it easy for ourselves and always encode offsets as\n            // 4 bytes. This makes offset calculation for the top dict easier.\n            d = d.concat(encode.NUMBER32(v));\n        } else if (type === 'number') {\n            d = d.concat(encode.NUMBER(v));\n        } else if (type === 'real') {\n            d = d.concat(encode.REAL(v));\n        } else {\n            throw new Error('Unknown operand type ' + type);\n            // FIXME Add support for booleans\n        }\n    }\n\n    return d;\n};\n\nencode.OP = encode.BYTE;\nsizeOf.OP = sizeOf.BYTE;\n\n// memoize charstring encoding using WeakMap if available\nconst wmm = typeof WeakMap === 'function' && new WeakMap();\n\n/**\n * Convert a list of CharString operations to bytes.\n * @param {Array}\n * @returns {Array}\n */\nencode.CHARSTRING = function(ops) {\n    // See encode.MACSTRING for why we don't do \"if (wmm && wmm.has(ops))\".\n    if (wmm) {\n        const cachedValue = wmm.get(ops);\n        if (cachedValue !== undefined) {\n            return cachedValue;\n        }\n    }\n\n    let d = [];\n    const length = ops.length;\n\n    for (let i = 0; i < length; i += 1) {\n        const op = ops[i];\n        d = d.concat(encode[op.type](op.value));\n    }\n\n    if (wmm) {\n        wmm.set(ops, d);\n    }\n\n    return d;\n};\n\n/**\n * @param {Array}\n * @returns {number}\n */\nsizeOf.CHARSTRING = function(ops) {\n    return encode.CHARSTRING(ops).length;\n};\n\n// Utility functions ////////////////////////////////////////////////////////\n\n/**\n * Convert an object containing name / type / value to bytes.\n * @param {Object}\n * @returns {Array}\n */\nencode.OBJECT = function(v) {\n    const encodingFunction = encode[v.type];\n    check.argument(encodingFunction !== undefined, 'No encoding function for type ' + v.type);\n    return encodingFunction(v.value);\n};\n\n/**\n * @param {Object}\n * @returns {number}\n */\nsizeOf.OBJECT = function(v) {\n    const sizeOfFunction = sizeOf[v.type];\n    check.argument(sizeOfFunction !== undefined, 'No sizeOf function for type ' + v.type);\n    return sizeOfFunction(v.value);\n};\n\n/**\n * Convert a table object to bytes.\n * A table contains a list of fields containing the metadata (name, type and default value).\n * The table itself has the field values set as attributes.\n * @param {opentype.Table}\n * @returns {Array}\n */\nencode.TABLE = function(table) {\n    let d = [];\n    const length = table.fields.length;\n    const subtables = [];\n    const subtableOffsets = [];\n\n    for (let i = 0; i < length; i += 1) {\n        const field = table.fields[i];\n        const encodingFunction = encode[field.type];\n        check.argument(encodingFunction !== undefined, 'No encoding function for field type ' + field.type + ' (' + field.name + ')');\n        let value = table[field.name];\n        if (value === undefined) {\n            value = field.value;\n        }\n\n        const bytes = encodingFunction(value);\n\n        if (field.type === 'TABLE') {\n            subtableOffsets.push(d.length);\n            d = d.concat([0, 0]);\n            subtables.push(bytes);\n        } else {\n            d = d.concat(bytes);\n        }\n    }\n\n    for (let i = 0; i < subtables.length; i += 1) {\n        const o = subtableOffsets[i];\n        const offset = d.length;\n        check.argument(offset < 65536, 'Table ' + table.tableName + ' too big.');\n        d[o] = offset >> 8;\n        d[o + 1] = offset & 0xff;\n        d = d.concat(subtables[i]);\n    }\n\n    return d;\n};\n\n/**\n * @param {opentype.Table}\n * @returns {number}\n */\nsizeOf.TABLE = function(table) {\n    let numBytes = 0;\n    const length = table.fields.length;\n\n    for (let i = 0; i < length; i += 1) {\n        const field = table.fields[i];\n        const sizeOfFunction = sizeOf[field.type];\n        check.argument(sizeOfFunction !== undefined, 'No sizeOf function for field type ' + field.type + ' (' + field.name + ')');\n        let value = table[field.name];\n        if (value === undefined) {\n            value = field.value;\n        }\n\n        numBytes += sizeOfFunction(value);\n\n        // Subtables take 2 more bytes for offsets.\n        if (field.type === 'TABLE') {\n            numBytes += 2;\n        }\n    }\n\n    return numBytes;\n};\n\nencode.RECORD = encode.TABLE;\nsizeOf.RECORD = sizeOf.TABLE;\n\n// Merge in a list of bytes.\nencode.LITERAL = function(v) {\n    return v;\n};\n\nsizeOf.LITERAL = function(v) {\n    return v.length;\n};\n\nexport { decode, encode, sizeOf };\n","// The `cmap` table stores the mappings from characters to glyphs.\n// https://www.microsoft.com/typography/OTSPEC/cmap.htm\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\nfunction parseCmapTableFormat12(cmap, p) {\n    //Skip reserved.\n    p.parseUShort();\n\n    // Length in bytes of the sub-tables.\n    cmap.length = p.parseULong();\n    cmap.language = p.parseULong();\n\n    let groupCount;\n    cmap.groupCount = groupCount = p.parseULong();\n    cmap.glyphIndexMap = {};\n\n    for (let i = 0; i < groupCount; i += 1) {\n        const startCharCode = p.parseULong();\n        const endCharCode = p.parseULong();\n        let startGlyphId = p.parseULong();\n\n        for (let c = startCharCode; c <= endCharCode; c += 1) {\n            cmap.glyphIndexMap[c] = startGlyphId;\n            startGlyphId++;\n        }\n    }\n}\n\nfunction parseCmapTableFormat4(cmap, p, data, start, offset) {\n    // Length in bytes of the sub-tables.\n    cmap.length = p.parseUShort();\n    cmap.language = p.parseUShort();\n\n    // segCount is stored x 2.\n    let segCount;\n    cmap.segCount = segCount = p.parseUShort() >> 1;\n\n    // Skip searchRange, entrySelector, rangeShift.\n    p.skip('uShort', 3);\n\n    // The \"unrolled\" mapping from character codes to glyph indices.\n    cmap.glyphIndexMap = {};\n    const endCountParser = new parse.Parser(data, start + offset + 14);\n    const startCountParser = new parse.Parser(data, start + offset + 16 + segCount * 2);\n    const idDeltaParser = new parse.Parser(data, start + offset + 16 + segCount * 4);\n    const idRangeOffsetParser = new parse.Parser(data, start + offset + 16 + segCount * 6);\n    let glyphIndexOffset = start + offset + 16 + segCount * 8;\n    for (let i = 0; i < segCount - 1; i += 1) {\n        let glyphIndex;\n        const endCount = endCountParser.parseUShort();\n        const startCount = startCountParser.parseUShort();\n        const idDelta = idDeltaParser.parseShort();\n        const idRangeOffset = idRangeOffsetParser.parseUShort();\n        for (let c = startCount; c <= endCount; c += 1) {\n            if (idRangeOffset !== 0) {\n                // The idRangeOffset is relative to the current position in the idRangeOffset array.\n                // Take the current offset in the idRangeOffset array.\n                glyphIndexOffset = (idRangeOffsetParser.offset + idRangeOffsetParser.relativeOffset - 2);\n\n                // Add the value of the idRangeOffset, which will move us into the glyphIndex array.\n                glyphIndexOffset += idRangeOffset;\n\n                // Then add the character index of the current segment, multiplied by 2 for USHORTs.\n                glyphIndexOffset += (c - startCount) * 2;\n                glyphIndex = parse.getUShort(data, glyphIndexOffset);\n                if (glyphIndex !== 0) {\n                    glyphIndex = (glyphIndex + idDelta) & 0xFFFF;\n                }\n            } else {\n                glyphIndex = (c + idDelta) & 0xFFFF;\n            }\n\n            cmap.glyphIndexMap[c] = glyphIndex;\n        }\n    }\n}\n\n// Parse the `cmap` table. This table stores the mappings from characters to glyphs.\n// There are many available formats, but we only support the Windows format 4 and 12.\n// This function returns a `CmapEncoding` object or null if no supported format could be found.\nfunction parseCmapTable(data, start) {\n    const cmap = {};\n    cmap.version = parse.getUShort(data, start);\n    check.argument(cmap.version === 0, 'cmap table version should be 0.');\n\n    // The cmap table can contain many sub-tables, each with their own format.\n    // We're only interested in a \"platform 0\" (Unicode format) and \"platform 3\" (Windows format) table.\n    cmap.numTables = parse.getUShort(data, start + 2);\n    let offset = -1;\n    for (let i = cmap.numTables - 1; i >= 0; i -= 1) {\n        const platformId = parse.getUShort(data, start + 4 + (i * 8));\n        const encodingId = parse.getUShort(data, start + 4 + (i * 8) + 2);\n        if ((platformId === 3 && (encodingId === 0 || encodingId === 1 || encodingId === 10)) ||\n            (platformId === 0 && (encodingId === 0 || encodingId === 1 || encodingId === 2 || encodingId === 3 || encodingId === 4))) {\n            offset = parse.getULong(data, start + 4 + (i * 8) + 4);\n            break;\n        }\n    }\n\n    if (offset === -1) {\n        // There is no cmap table in the font that we support.\n        throw new Error('No valid cmap sub-tables found.');\n    }\n\n    const p = new parse.Parser(data, start + offset);\n    cmap.format = p.parseUShort();\n\n    if (cmap.format === 12) {\n        parseCmapTableFormat12(cmap, p);\n    } else if (cmap.format === 4) {\n        parseCmapTableFormat4(cmap, p, data, start, offset);\n    } else {\n        throw new Error('Only format 4 and 12 cmap tables are supported (found format ' + cmap.format + ').');\n    }\n\n    return cmap;\n}\n\nfunction addSegment(t, code, glyphIndex) {\n    t.segments.push({\n        end: code,\n        start: code,\n        delta: -(code - glyphIndex),\n        offset: 0,\n        glyphIndex: glyphIndex\n    });\n}\n\nfunction addTerminatorSegment(t) {\n    t.segments.push({\n        end: 0xFFFF,\n        start: 0xFFFF,\n        delta: 1,\n        offset: 0\n    });\n}\n\n// Make cmap table, format 4 by default, 12 if needed only\nfunction makeCmapTable(glyphs) {\n    // Plan 0 is the base Unicode Plan but emojis, for example are on another plan, and needs cmap 12 format (with 32bit)\n    let isPlan0Only = true;\n    let i;\n\n    // Check if we need to add cmap format 12 or if format 4 only is fine\n    for (i = glyphs.length - 1; i > 0; i -= 1) {\n        const g = glyphs.get(i);\n        if (g.unicode > 65535) {\n            console.log('Adding CMAP format 12 (needed!)');\n            isPlan0Only = false;\n            break;\n        }\n    }\n\n    let cmapTable = [\n        {name: 'version', type: 'USHORT', value: 0},\n        {name: 'numTables', type: 'USHORT', value: isPlan0Only ? 1 : 2},\n\n        // CMAP 4 header\n        {name: 'platformID', type: 'USHORT', value: 3},\n        {name: 'encodingID', type: 'USHORT', value: 1},\n        {name: 'offset', type: 'ULONG', value: isPlan0Only ? 12 : (12 + 8)}\n    ];\n\n    if (!isPlan0Only)\n        cmapTable = cmapTable.concat([\n            // CMAP 12 header\n            {name: 'cmap12PlatformID', type: 'USHORT', value: 3}, // We encode only for PlatformID = 3 (Windows) because it is supported everywhere\n            {name: 'cmap12EncodingID', type: 'USHORT', value: 10},\n            {name: 'cmap12Offset', type: 'ULONG', value: 0}\n        ]);\n\n    cmapTable = cmapTable.concat([\n        // CMAP 4 Subtable\n        {name: 'format', type: 'USHORT', value: 4},\n        {name: 'cmap4Length', type: 'USHORT', value: 0},\n        {name: 'language', type: 'USHORT', value: 0},\n        {name: 'segCountX2', type: 'USHORT', value: 0},\n        {name: 'searchRange', type: 'USHORT', value: 0},\n        {name: 'entrySelector', type: 'USHORT', value: 0},\n        {name: 'rangeShift', type: 'USHORT', value: 0}\n    ]);\n\n    const t = new table.Table('cmap', cmapTable);\n\n    t.segments = [];\n    for (i = 0; i < glyphs.length; i += 1) {\n        const glyph = glyphs.get(i);\n        for (let j = 0; j < glyph.unicodes.length; j += 1) {\n            addSegment(t, glyph.unicodes[j], i);\n        }\n\n        t.segments = t.segments.sort(function (a, b) {\n            return a.start - b.start;\n        });\n    }\n\n    addTerminatorSegment(t);\n\n    const segCount = t.segments.length;\n    let segCountToRemove = 0;\n\n    // CMAP 4\n    // Set up parallel segment arrays.\n    let endCounts = [];\n    let startCounts = [];\n    let idDeltas = [];\n    let idRangeOffsets = [];\n    let glyphIds = [];\n\n    // CMAP 12\n    let cmap12Groups = [];\n\n    // Reminder this loop is not following the specification at 100%\n    // The specification -> find suites of characters and make a group\n    // Here we're doing one group for each letter\n    // Doing as the spec can save 8 times (or more) space\n    for (i = 0; i < segCount; i += 1) {\n        const segment = t.segments[i];\n\n        // CMAP 4\n        if (segment.end <= 65535 && segment.start <= 65535) {\n            endCounts = endCounts.concat({name: 'end_' + i, type: 'USHORT', value: segment.end});\n            startCounts = startCounts.concat({name: 'start_' + i, type: 'USHORT', value: segment.start});\n            idDeltas = idDeltas.concat({name: 'idDelta_' + i, type: 'SHORT', value: segment.delta});\n            idRangeOffsets = idRangeOffsets.concat({name: 'idRangeOffset_' + i, type: 'USHORT', value: segment.offset});\n            if (segment.glyphId !== undefined) {\n                glyphIds = glyphIds.concat({name: 'glyph_' + i, type: 'USHORT', value: segment.glyphId});\n            }\n        } else {\n            // Skip Unicode > 65535 (16bit unsigned max) for CMAP 4, will be added in CMAP 12\n            segCountToRemove += 1;\n        }\n\n        // CMAP 12\n        // Skip Terminator Segment\n        if (!isPlan0Only && segment.glyphIndex !== undefined) {\n            cmap12Groups = cmap12Groups.concat({name: 'cmap12Start_' + i, type: 'ULONG', value: segment.start});\n            cmap12Groups = cmap12Groups.concat({name: 'cmap12End_' + i, type: 'ULONG', value: segment.end});\n            cmap12Groups = cmap12Groups.concat({name: 'cmap12Glyph_' + i, type: 'ULONG', value: segment.glyphIndex});\n        }\n    }\n\n    // CMAP 4 Subtable\n    t.segCountX2 = (segCount - segCountToRemove) * 2;\n    t.searchRange = Math.pow(2, Math.floor(Math.log((segCount - segCountToRemove)) / Math.log(2))) * 2;\n    t.entrySelector = Math.log(t.searchRange / 2) / Math.log(2);\n    t.rangeShift = t.segCountX2 - t.searchRange;\n\n    t.fields = t.fields.concat(endCounts);\n    t.fields.push({name: 'reservedPad', type: 'USHORT', value: 0});\n    t.fields = t.fields.concat(startCounts);\n    t.fields = t.fields.concat(idDeltas);\n    t.fields = t.fields.concat(idRangeOffsets);\n    t.fields = t.fields.concat(glyphIds);\n\n    t.cmap4Length = 14 + // Subtable header\n        endCounts.length * 2 +\n        2 + // reservedPad\n        startCounts.length * 2 +\n        idDeltas.length * 2 +\n        idRangeOffsets.length * 2 +\n        glyphIds.length * 2;\n\n    if (!isPlan0Only) {\n        // CMAP 12 Subtable\n        const cmap12Length = 16 + // Subtable header\n            cmap12Groups.length * 4;\n\n        t.cmap12Offset = 12 + (2 * 2) + 4 + t.cmap4Length;\n        t.fields = t.fields.concat([\n            {name: 'cmap12Format', type: 'USHORT', value: 12},\n            {name: 'cmap12Reserved', type: 'USHORT', value: 0},\n            {name: 'cmap12Length', type: 'ULONG', value: cmap12Length},\n            {name: 'cmap12Language', type: 'ULONG', value: 0},\n            {name: 'cmap12nGroups', type: 'ULONG', value: cmap12Groups.length / 3}\n        ]);\n\n        t.fields = t.fields.concat(cmap12Groups);\n    }\n\n    return t;\n}\n\nexport default { parse: parseCmapTable, make: makeCmapTable };\n","// Parsing utility functions\n\nimport check from './check';\n\n// Retrieve an unsigned byte from the DataView.\nfunction getByte(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\n// Retrieve an unsigned 16-bit short from the DataView.\n// The value is stored in big endian.\nfunction getUShort(dataView, offset) {\n    return dataView.getUint16(offset, false);\n}\n\n// Retrieve a signed 16-bit short from the DataView.\n// The value is stored in big endian.\nfunction getShort(dataView, offset) {\n    return dataView.getInt16(offset, false);\n}\n\n// Retrieve an unsigned 32-bit long from the DataView.\n// The value is stored in big endian.\nfunction getULong(dataView, offset) {\n    return dataView.getUint32(offset, false);\n}\n\n// Retrieve a 32-bit signed fixed-point number (16.16) from the DataView.\n// The value is stored in big endian.\nfunction getFixed(dataView, offset) {\n    const decimal = dataView.getInt16(offset, false);\n    const fraction = dataView.getUint16(offset + 2, false);\n    return decimal + fraction / 65535;\n}\n\n// Retrieve a 4-character tag from the DataView.\n// Tags are used to identify tables.\nfunction getTag(dataView, offset) {\n    let tag = '';\n    for (let i = offset; i < offset + 4; i += 1) {\n        tag += String.fromCharCode(dataView.getInt8(i));\n    }\n\n    return tag;\n}\n\n// Retrieve an offset from the DataView.\n// Offsets are 1 to 4 bytes in length, depending on the offSize argument.\nfunction getOffset(dataView, offset, offSize) {\n    let v = 0;\n    for (let i = 0; i < offSize; i += 1) {\n        v <<= 8;\n        v += dataView.getUint8(offset + i);\n    }\n\n    return v;\n}\n\n// Retrieve a number of bytes from start offset to the end offset from the DataView.\nfunction getBytes(dataView, startOffset, endOffset) {\n    const bytes = [];\n    for (let i = startOffset; i < endOffset; i += 1) {\n        bytes.push(dataView.getUint8(i));\n    }\n\n    return bytes;\n}\n\n// Convert the list of bytes to a string.\nfunction bytesToString(bytes) {\n    let s = '';\n    for (let i = 0; i < bytes.length; i += 1) {\n        s += String.fromCharCode(bytes[i]);\n    }\n\n    return s;\n}\n\nconst typeOffsets = {\n    byte: 1,\n    uShort: 2,\n    short: 2,\n    uLong: 4,\n    fixed: 4,\n    longDateTime: 8,\n    tag: 4\n};\n\n// A stateful parser that changes the offset whenever a value is retrieved.\n// The data is a DataView.\nfunction Parser(data, offset) {\n    this.data = data;\n    this.offset = offset;\n    this.relativeOffset = 0;\n}\n\nParser.prototype.parseByte = function() {\n    const v = this.data.getUint8(this.offset + this.relativeOffset);\n    this.relativeOffset += 1;\n    return v;\n};\n\nParser.prototype.parseChar = function() {\n    const v = this.data.getInt8(this.offset + this.relativeOffset);\n    this.relativeOffset += 1;\n    return v;\n};\n\nParser.prototype.parseCard8 = Parser.prototype.parseByte;\n\nParser.prototype.parseUShort = function() {\n    const v = this.data.getUint16(this.offset + this.relativeOffset);\n    this.relativeOffset += 2;\n    return v;\n};\n\nParser.prototype.parseCard16 = Parser.prototype.parseUShort;\nParser.prototype.parseSID = Parser.prototype.parseUShort;\nParser.prototype.parseOffset16 = Parser.prototype.parseUShort;\n\nParser.prototype.parseShort = function() {\n    const v = this.data.getInt16(this.offset + this.relativeOffset);\n    this.relativeOffset += 2;\n    return v;\n};\n\nParser.prototype.parseF2Dot14 = function() {\n    const v = this.data.getInt16(this.offset + this.relativeOffset) / 16384;\n    this.relativeOffset += 2;\n    return v;\n};\n\nParser.prototype.parseULong = function() {\n    const v = getULong(this.data, this.offset + this.relativeOffset);\n    this.relativeOffset += 4;\n    return v;\n};\n\nParser.prototype.parseOffset32 = Parser.prototype.parseULong;\n\nParser.prototype.parseFixed = function() {\n    const v = getFixed(this.data, this.offset + this.relativeOffset);\n    this.relativeOffset += 4;\n    return v;\n};\n\nParser.prototype.parseString = function(length) {\n    const dataView = this.data;\n    const offset = this.offset + this.relativeOffset;\n    let string = '';\n    this.relativeOffset += length;\n    for (let i = 0; i < length; i++) {\n        string += String.fromCharCode(dataView.getUint8(offset + i));\n    }\n\n    return string;\n};\n\nParser.prototype.parseTag = function() {\n    return this.parseString(4);\n};\n\n// LONGDATETIME is a 64-bit integer.\n// JavaScript and unix timestamps traditionally use 32 bits, so we\n// only take the last 32 bits.\n// + Since until 2038 those bits will be filled by zeros we can ignore them.\nParser.prototype.parseLongDateTime = function() {\n    let v = getULong(this.data, this.offset + this.relativeOffset + 4);\n    // Subtract seconds between 01/01/1904 and 01/01/1970\n    // to convert Apple Mac timestamp to Standard Unix timestamp\n    v -= 2082844800;\n    this.relativeOffset += 8;\n    return v;\n};\n\nParser.prototype.parseVersion = function(minorBase) {\n    const major = getUShort(this.data, this.offset + this.relativeOffset);\n\n    // How to interpret the minor version is very vague in the spec. 0x5000 is 5, 0x1000 is 1\n    // Default returns the correct number if minor = 0xN000 where N is 0-9\n    // Set minorBase to 1 for tables that use minor = N where N is 0-9\n    const minor = getUShort(this.data, this.offset + this.relativeOffset + 2);\n    this.relativeOffset += 4;\n    if (minorBase === undefined) minorBase = 0x1000;\n    return major + minor / minorBase / 10;\n};\n\nParser.prototype.skip = function(type, amount) {\n    if (amount === undefined) {\n        amount = 1;\n    }\n\n    this.relativeOffset += typeOffsets[type] * amount;\n};\n\n///// Parsing lists and records ///////////////////////////////\n\n// Parse a list of 32 bit unsigned integers.\nParser.prototype.parseULongList = function(count) {\n    if (count === undefined) { count = this.parseULong(); }\n    const offsets = new Array(count);\n    const dataView = this.data;\n    let offset = this.offset + this.relativeOffset;\n    for (let i = 0; i < count; i++) {\n        offsets[i] = dataView.getUint32(offset);\n        offset += 4;\n    }\n\n    this.relativeOffset += count * 4;\n    return offsets;\n};\n\n// Parse a list of 16 bit unsigned integers. The length of the list can be read on the stream\n// or provided as an argument.\nParser.prototype.parseOffset16List =\nParser.prototype.parseUShortList = function(count) {\n    if (count === undefined) { count = this.parseUShort(); }\n    const offsets = new Array(count);\n    const dataView = this.data;\n    let offset = this.offset + this.relativeOffset;\n    for (let i = 0; i < count; i++) {\n        offsets[i] = dataView.getUint16(offset);\n        offset += 2;\n    }\n\n    this.relativeOffset += count * 2;\n    return offsets;\n};\n\n// Parses a list of 16 bit signed integers.\nParser.prototype.parseShortList = function(count) {\n    const list = new Array(count);\n    const dataView = this.data;\n    let offset = this.offset + this.relativeOffset;\n    for (let i = 0; i < count; i++) {\n        list[i] = dataView.getInt16(offset);\n        offset += 2;\n    }\n\n    this.relativeOffset += count * 2;\n    return list;\n};\n\n// Parses a list of bytes.\nParser.prototype.parseByteList = function(count) {\n    const list = new Array(count);\n    const dataView = this.data;\n    let offset = this.offset + this.relativeOffset;\n    for (let i = 0; i < count; i++) {\n        list[i] = dataView.getUint8(offset++);\n    }\n\n    this.relativeOffset += count;\n    return list;\n};\n\n/**\n * Parse a list of items.\n * Record count is optional, if omitted it is read from the stream.\n * itemCallback is one of the Parser methods.\n */\nParser.prototype.parseList = function(count, itemCallback) {\n    if (!itemCallback) {\n        itemCallback = count;\n        count = this.parseUShort();\n    }\n    const list = new Array(count);\n    for (let i = 0; i < count; i++) {\n        list[i] = itemCallback.call(this);\n    }\n    return list;\n};\n\nParser.prototype.parseList32 = function(count, itemCallback) {\n    if (!itemCallback) {\n        itemCallback = count;\n        count = this.parseULong();\n    }\n    const list = new Array(count);\n    for (let i = 0; i < count; i++) {\n        list[i] = itemCallback.call(this);\n    }\n    return list;\n};\n\n/**\n * Parse a list of records.\n * Record count is optional, if omitted it is read from the stream.\n * Example of recordDescription: { sequenceIndex: Parser.uShort, lookupListIndex: Parser.uShort }\n */\nParser.prototype.parseRecordList = function(count, recordDescription) {\n    // If the count argument is absent, read it in the stream.\n    if (!recordDescription) {\n        recordDescription = count;\n        count = this.parseUShort();\n    }\n    const records = new Array(count);\n    const fields = Object.keys(recordDescription);\n    for (let i = 0; i < count; i++) {\n        const rec = {};\n        for (let j = 0; j < fields.length; j++) {\n            const fieldName = fields[j];\n            const fieldType = recordDescription[fieldName];\n            rec[fieldName] = fieldType.call(this);\n        }\n        records[i] = rec;\n    }\n    return records;\n};\n\nParser.prototype.parseRecordList32 = function(count, recordDescription) {\n    // If the count argument is absent, read it in the stream.\n    if (!recordDescription) {\n        recordDescription = count;\n        count = this.parseULong();\n    }\n    const records = new Array(count);\n    const fields = Object.keys(recordDescription);\n    for (let i = 0; i < count; i++) {\n        const rec = {};\n        for (let j = 0; j < fields.length; j++) {\n            const fieldName = fields[j];\n            const fieldType = recordDescription[fieldName];\n            rec[fieldName] = fieldType.call(this);\n        }\n        records[i] = rec;\n    }\n    return records;\n};\n\n// Parse a data structure into an object\n// Example of description: { sequenceIndex: Parser.uShort, lookupListIndex: Parser.uShort }\nParser.prototype.parseStruct = function(description) {\n    if (typeof description === 'function') {\n        return description.call(this);\n    } else {\n        const fields = Object.keys(description);\n        const struct = {};\n        for (let j = 0; j < fields.length; j++) {\n            const fieldName = fields[j];\n            const fieldType = description[fieldName];\n            struct[fieldName] = fieldType.call(this);\n        }\n        return struct;\n    }\n};\n\n/**\n * Parse a GPOS valueRecord\n * https://docs.microsoft.com/en-us/typography/opentype/spec/gpos#value-record\n * valueFormat is optional, if omitted it is read from the stream.\n */\nParser.prototype.parseValueRecord = function(valueFormat) {\n    if (valueFormat === undefined) {\n        valueFormat = this.parseUShort();\n    }\n    if (valueFormat === 0) {\n        // valueFormat2 in kerning pairs is most often 0\n        // in this case return undefined instead of an empty object, to save space\n        return;\n    }\n    const valueRecord = {};\n\n    if (valueFormat & 0x0001) { valueRecord.xPlacement = this.parseShort(); }\n    if (valueFormat & 0x0002) { valueRecord.yPlacement = this.parseShort(); }\n    if (valueFormat & 0x0004) { valueRecord.xAdvance = this.parseShort(); }\n    if (valueFormat & 0x0008) { valueRecord.yAdvance = this.parseShort(); }\n\n    // Device table (non-variable font) / VariationIndex table (variable font) not supported\n    // https://docs.microsoft.com/fr-fr/typography/opentype/spec/chapter2#devVarIdxTbls\n    if (valueFormat & 0x0010) { valueRecord.xPlaDevice = undefined; this.parseShort(); }\n    if (valueFormat & 0x0020) { valueRecord.yPlaDevice = undefined; this.parseShort(); }\n    if (valueFormat & 0x0040) { valueRecord.xAdvDevice = undefined; this.parseShort(); }\n    if (valueFormat & 0x0080) { valueRecord.yAdvDevice = undefined; this.parseShort(); }\n\n    return valueRecord;\n};\n\n/**\n * Parse a list of GPOS valueRecords\n * https://docs.microsoft.com/en-us/typography/opentype/spec/gpos#value-record\n * valueFormat and valueCount are read from the stream.\n */\nParser.prototype.parseValueRecordList = function() {\n    const valueFormat = this.parseUShort();\n    const valueCount = this.parseUShort();\n    const values = new Array(valueCount);\n    for (let i = 0; i < valueCount; i++) {\n        values[i] = this.parseValueRecord(valueFormat);\n    }\n    return values;\n};\n\nParser.prototype.parsePointer = function(description) {\n    const structOffset = this.parseOffset16();\n    if (structOffset > 0) {\n        // NULL offset => return undefined\n        return new Parser(this.data, this.offset + structOffset).parseStruct(description);\n    }\n    return undefined;\n};\n\nParser.prototype.parsePointer32 = function(description) {\n    const structOffset = this.parseOffset32();\n    if (structOffset > 0) {\n        // NULL offset => return undefined\n        return new Parser(this.data, this.offset + structOffset).parseStruct(description);\n    }\n    return undefined;\n};\n\n/**\n * Parse a list of offsets to lists of 16-bit integers,\n * or a list of offsets to lists of offsets to any kind of items.\n * If itemCallback is not provided, a list of list of UShort is assumed.\n * If provided, itemCallback is called on each item and must parse the item.\n * See examples in tables/gsub.js\n */\nParser.prototype.parseListOfLists = function(itemCallback) {\n    const offsets = this.parseOffset16List();\n    const count = offsets.length;\n    const relativeOffset = this.relativeOffset;\n    const list = new Array(count);\n    for (let i = 0; i < count; i++) {\n        const start = offsets[i];\n        if (start === 0) {\n            // NULL offset\n            // Add i as owned property to list. Convenient with assert.\n            list[i] = undefined;\n            continue;\n        }\n        this.relativeOffset = start;\n        if (itemCallback) {\n            const subOffsets = this.parseOffset16List();\n            const subList = new Array(subOffsets.length);\n            for (let j = 0; j < subOffsets.length; j++) {\n                this.relativeOffset = start + subOffsets[j];\n                subList[j] = itemCallback.call(this);\n            }\n            list[i] = subList;\n        } else {\n            list[i] = this.parseUShortList();\n        }\n    }\n    this.relativeOffset = relativeOffset;\n    return list;\n};\n\n///// Complex tables parsing //////////////////////////////////\n\n// Parse a coverage table in a GSUB, GPOS or GDEF table.\n// https://www.microsoft.com/typography/OTSPEC/chapter2.htm\n// parser.offset must point to the start of the table containing the coverage.\nParser.prototype.parseCoverage = function() {\n    const startOffset = this.offset + this.relativeOffset;\n    const format = this.parseUShort();\n    const count = this.parseUShort();\n    if (format === 1) {\n        return {\n            format: 1,\n            glyphs: this.parseUShortList(count)\n        };\n    } else if (format === 2) {\n        const ranges = new Array(count);\n        for (let i = 0; i < count; i++) {\n            ranges[i] = {\n                start: this.parseUShort(),\n                end: this.parseUShort(),\n                index: this.parseUShort()\n            };\n        }\n        return {\n            format: 2,\n            ranges: ranges\n        };\n    }\n    throw new Error('0x' + startOffset.toString(16) + ': Coverage format must be 1 or 2.');\n};\n\n// Parse a Class Definition Table in a GSUB, GPOS or GDEF table.\n// https://www.microsoft.com/typography/OTSPEC/chapter2.htm\nParser.prototype.parseClassDef = function() {\n    const startOffset = this.offset + this.relativeOffset;\n    const format = this.parseUShort();\n    if (format === 1) {\n        return {\n            format: 1,\n            startGlyph: this.parseUShort(),\n            classes: this.parseUShortList()\n        };\n    } else if (format === 2) {\n        return {\n            format: 2,\n            ranges: this.parseRecordList({\n                start: Parser.uShort,\n                end: Parser.uShort,\n                classId: Parser.uShort\n            })\n        };\n    }\n    throw new Error('0x' + startOffset.toString(16) + ': ClassDef format must be 1 or 2.');\n};\n\n///// Static methods ///////////////////////////////////\n// These convenience methods can be used as callbacks and should be called with \"this\" context set to a Parser instance.\n\nParser.list = function(count, itemCallback) {\n    return function() {\n        return this.parseList(count, itemCallback);\n    };\n};\n\nParser.list32 = function(count, itemCallback) {\n    return function() {\n        return this.parseList32(count, itemCallback);\n    };\n};\n\nParser.recordList = function(count, recordDescription) {\n    return function() {\n        return this.parseRecordList(count, recordDescription);\n    };\n};\n\nParser.recordList32 = function(count, recordDescription) {\n    return function() {\n        return this.parseRecordList32(count, recordDescription);\n    };\n};\n\nParser.pointer = function(description) {\n    return function() {\n        return this.parsePointer(description);\n    };\n};\n\nParser.pointer32 = function(description) {\n    return function() {\n        return this.parsePointer32(description);\n    };\n};\n\nParser.tag = Parser.prototype.parseTag;\nParser.byte = Parser.prototype.parseByte;\nParser.uShort = Parser.offset16 = Parser.prototype.parseUShort;\nParser.uShortList = Parser.prototype.parseUShortList;\nParser.uLong = Parser.offset32 = Parser.prototype.parseULong;\nParser.uLongList = Parser.prototype.parseULongList;\nParser.struct = Parser.prototype.parseStruct;\nParser.coverage = Parser.prototype.parseCoverage;\nParser.classDef = Parser.prototype.parseClassDef;\n\n///// Script, Feature, Lookup lists ///////////////////////////////////////////////\n// https://www.microsoft.com/typography/OTSPEC/chapter2.htm\n\nconst langSysTable = {\n    reserved: Parser.uShort,\n    reqFeatureIndex: Parser.uShort,\n    featureIndexes: Parser.uShortList\n};\n\nParser.prototype.parseScriptList = function() {\n    return this.parsePointer(Parser.recordList({\n        tag: Parser.tag,\n        script: Parser.pointer({\n            defaultLangSys: Parser.pointer(langSysTable),\n            langSysRecords: Parser.recordList({\n                tag: Parser.tag,\n                langSys: Parser.pointer(langSysTable)\n            })\n        })\n    })) || [];\n};\n\nParser.prototype.parseFeatureList = function() {\n    return this.parsePointer(Parser.recordList({\n        tag: Parser.tag,\n        feature: Parser.pointer({\n            featureParams: Parser.offset16,\n            lookupListIndexes: Parser.uShortList\n        })\n    })) || [];\n};\n\nParser.prototype.parseLookupList = function(lookupTableParsers) {\n    return this.parsePointer(Parser.list(Parser.pointer(function() {\n        const lookupType = this.parseUShort();\n        check.argument(1 <= lookupType && lookupType <= 9, 'GPOS/GSUB lookup type ' + lookupType + ' unknown.');\n        const lookupFlag = this.parseUShort();\n        const useMarkFilteringSet = lookupFlag & 0x10;\n        return {\n            lookupType: lookupType,\n            lookupFlag: lookupFlag,\n            subtables: this.parseList(Parser.pointer(lookupTableParsers[lookupType])),\n            markFilteringSet: useMarkFilteringSet ? this.parseUShort() : undefined\n        };\n    }))) || [];\n};\n\nParser.prototype.parseFeatureVariationsList = function() {\n    return this.parsePointer32(function() {\n        const majorVersion = this.parseUShort();\n        const minorVersion = this.parseUShort();\n        check.argument(majorVersion === 1 && minorVersion < 1, 'GPOS/GSUB feature variations table unknown.');\n        const featureVariations = this.parseRecordList32({\n            conditionSetOffset: Parser.offset32,\n            featureTableSubstitutionOffset: Parser.offset32\n        });\n        return featureVariations;\n    }) || [];\n};\n\nexport default {\n    getByte,\n    getCard8: getByte,\n    getUShort,\n    getCard16: getUShort,\n    getShort,\n    getULong,\n    getFixed,\n    getTag,\n    getOffset,\n    getBytes,\n    bytesToString,\n    Parser,\n};\n\nexport { Parser };\n","// The `CFF` table contains the glyph outlines in PostScript format.\n// https://www.microsoft.com/typography/OTSPEC/cff.htm\n// http://download.microsoft.com/download/8/0/1/801a191c-029d-4af3-9642-555f6fe514ee/cff.pdf\n// http://download.microsoft.com/download/8/0/1/801a191c-029d-4af3-9642-555f6fe514ee/type2.pdf\n\nimport { CffEncoding, cffStandardEncoding, cffExpertEncoding, cffStandardStrings } from '../encoding';\nimport glyphset from '../glyphset';\nimport parse from '../parse';\nimport Path from '../path';\nimport table from '../table';\n\n// Custom equals function that can also check lists.\nfunction equals(a, b) {\n    if (a === b) {\n        return true;\n    } else if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return false;\n        }\n\n        for (let i = 0; i < a.length; i += 1) {\n            if (!equals(a[i], b[i])) {\n                return false;\n            }\n        }\n\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Subroutines are encoded using the negative half of the number space.\n// See type 2 chapter 4.7 \"Subroutine operators\".\nfunction calcCFFSubroutineBias(subrs) {\n    let bias;\n    if (subrs.length < 1240) {\n        bias = 107;\n    } else if (subrs.length < 33900) {\n        bias = 1131;\n    } else {\n        bias = 32768;\n    }\n\n    return bias;\n}\n\n// Parse a `CFF` INDEX array.\n// An index array consists of a list of offsets, then a list of objects at those offsets.\nfunction parseCFFIndex(data, start, conversionFn) {\n    const offsets = [];\n    const objects = [];\n    const count = parse.getCard16(data, start);\n    let objectOffset;\n    let endOffset;\n    if (count !== 0) {\n        const offsetSize = parse.getByte(data, start + 2);\n        objectOffset = start + ((count + 1) * offsetSize) + 2;\n        let pos = start + 3;\n        for (let i = 0; i < count + 1; i += 1) {\n            offsets.push(parse.getOffset(data, pos, offsetSize));\n            pos += offsetSize;\n        }\n\n        // The total size of the index array is 4 header bytes + the value of the last offset.\n        endOffset = objectOffset + offsets[count];\n    } else {\n        endOffset = start + 2;\n    }\n\n    for (let i = 0; i < offsets.length - 1; i += 1) {\n        let value = parse.getBytes(data, objectOffset + offsets[i], objectOffset + offsets[i + 1]);\n        if (conversionFn) {\n            value = conversionFn(value);\n        }\n\n        objects.push(value);\n    }\n\n    return {objects: objects, startOffset: start, endOffset: endOffset};\n}\n\n// Parse a `CFF` DICT real value.\nfunction parseFloatOperand(parser) {\n    let s = '';\n    const eof = 15;\n    const lookup = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.', 'E', 'E-', null, '-'];\n    while (true) {\n        const b = parser.parseByte();\n        const n1 = b >> 4;\n        const n2 = b & 15;\n\n        if (n1 === eof) {\n            break;\n        }\n\n        s += lookup[n1];\n\n        if (n2 === eof) {\n            break;\n        }\n\n        s += lookup[n2];\n    }\n\n    return parseFloat(s);\n}\n\n// Parse a `CFF` DICT operand.\nfunction parseOperand(parser, b0) {\n    let b1;\n    let b2;\n    let b3;\n    let b4;\n    if (b0 === 28) {\n        b1 = parser.parseByte();\n        b2 = parser.parseByte();\n        return b1 << 8 | b2;\n    }\n\n    if (b0 === 29) {\n        b1 = parser.parseByte();\n        b2 = parser.parseByte();\n        b3 = parser.parseByte();\n        b4 = parser.parseByte();\n        return b1 << 24 | b2 << 16 | b3 << 8 | b4;\n    }\n\n    if (b0 === 30) {\n        return parseFloatOperand(parser);\n    }\n\n    if (b0 >= 32 && b0 <= 246) {\n        return b0 - 139;\n    }\n\n    if (b0 >= 247 && b0 <= 250) {\n        b1 = parser.parseByte();\n        return (b0 - 247) * 256 + b1 + 108;\n    }\n\n    if (b0 >= 251 && b0 <= 254) {\n        b1 = parser.parseByte();\n        return -(b0 - 251) * 256 - b1 - 108;\n    }\n\n    throw new Error('Invalid b0 ' + b0);\n}\n\n// Convert the entries returned by `parseDict` to a proper dictionary.\n// If a value is a list of one, it is unpacked.\nfunction entriesToObject(entries) {\n    const o = {};\n    for (let i = 0; i < entries.length; i += 1) {\n        const key = entries[i][0];\n        const values = entries[i][1];\n        let value;\n        if (values.length === 1) {\n            value = values[0];\n        } else {\n            value = values;\n        }\n\n        if (o.hasOwnProperty(key) && !isNaN(o[key])) {\n            throw new Error('Object ' + o + ' already has key ' + key);\n        }\n\n        o[key] = value;\n    }\n\n    return o;\n}\n\n// Parse a `CFF` DICT object.\n// A dictionary contains key-value pairs in a compact tokenized format.\nfunction parseCFFDict(data, start, size) {\n    start = start !== undefined ? start : 0;\n    const parser = new parse.Parser(data, start);\n    const entries = [];\n    let operands = [];\n    size = size !== undefined ? size : data.length;\n\n    while (parser.relativeOffset < size) {\n        let op = parser.parseByte();\n\n        // The first byte for each dict item distinguishes between operator (key) and operand (value).\n        // Values <= 21 are operators.\n        if (op <= 21) {\n            // Two-byte operators have an initial escape byte of 12.\n            if (op === 12) {\n                op = 1200 + parser.parseByte();\n            }\n\n            entries.push([op, operands]);\n            operands = [];\n        } else {\n            // Since the operands (values) come before the operators (keys), we store all operands in a list\n            // until we encounter an operator.\n            operands.push(parseOperand(parser, op));\n        }\n    }\n\n    return entriesToObject(entries);\n}\n\n// Given a String Index (SID), return the value of the string.\n// Strings below index 392 are standard CFF strings and are not encoded in the font.\nfunction getCFFString(strings, index) {\n    if (index <= 390) {\n        index = cffStandardStrings[index];\n    } else {\n        index = strings[index - 391];\n    }\n\n    return index;\n}\n\n// Interpret a dictionary and return a new dictionary with readable keys and values for missing entries.\n// This function takes `meta` which is a list of objects containing `operand`, `name` and `default`.\nfunction interpretDict(dict, meta, strings) {\n    const newDict = {};\n    let value;\n\n    // Because we also want to include missing values, we start out from the meta list\n    // and lookup values in the dict.\n    for (let i = 0; i < meta.length; i += 1) {\n        const m = meta[i];\n\n        if (Array.isArray(m.type)) {\n            const values = [];\n            values.length = m.type.length;\n            for (let j = 0; j < m.type.length; j++) {\n                value = dict[m.op] !== undefined ? dict[m.op][j] : undefined;\n                if (value === undefined) {\n                    value = m.value !== undefined && m.value[j] !== undefined ? m.value[j] : null;\n                }\n                if (m.type[j] === 'SID') {\n                    value = getCFFString(strings, value);\n                }\n                values[j] = value;\n            }\n            newDict[m.name] = values;\n        } else {\n            value = dict[m.op];\n            if (value === undefined) {\n                value = m.value !== undefined ? m.value : null;\n            }\n\n            if (m.type === 'SID') {\n                value = getCFFString(strings, value);\n            }\n            newDict[m.name] = value;\n        }\n    }\n\n    return newDict;\n}\n\n// Parse the CFF header.\nfunction parseCFFHeader(data, start) {\n    const header = {};\n    header.formatMajor = parse.getCard8(data, start);\n    header.formatMinor = parse.getCard8(data, start + 1);\n    header.size = parse.getCard8(data, start + 2);\n    header.offsetSize = parse.getCard8(data, start + 3);\n    header.startOffset = start;\n    header.endOffset = start + 4;\n    return header;\n}\n\nconst TOP_DICT_META = [\n    {name: 'version', op: 0, type: 'SID'},\n    {name: 'notice', op: 1, type: 'SID'},\n    {name: 'copyright', op: 1200, type: 'SID'},\n    {name: 'fullName', op: 2, type: 'SID'},\n    {name: 'familyName', op: 3, type: 'SID'},\n    {name: 'weight', op: 4, type: 'SID'},\n    {name: 'isFixedPitch', op: 1201, type: 'number', value: 0},\n    {name: 'italicAngle', op: 1202, type: 'number', value: 0},\n    {name: 'underlinePosition', op: 1203, type: 'number', value: -100},\n    {name: 'underlineThickness', op: 1204, type: 'number', value: 50},\n    {name: 'paintType', op: 1205, type: 'number', value: 0},\n    {name: 'charstringType', op: 1206, type: 'number', value: 2},\n    {\n        name: 'fontMatrix',\n        op: 1207,\n        type: ['real', 'real', 'real', 'real', 'real', 'real'],\n        value: [0.001, 0, 0, 0.001, 0, 0]\n    },\n    {name: 'uniqueId', op: 13, type: 'number'},\n    {name: 'fontBBox', op: 5, type: ['number', 'number', 'number', 'number'], value: [0, 0, 0, 0]},\n    {name: 'strokeWidth', op: 1208, type: 'number', value: 0},\n    {name: 'xuid', op: 14, type: [], value: null},\n    {name: 'charset', op: 15, type: 'offset', value: 0},\n    {name: 'encoding', op: 16, type: 'offset', value: 0},\n    {name: 'charStrings', op: 17, type: 'offset', value: 0},\n    {name: 'private', op: 18, type: ['number', 'offset'], value: [0, 0]},\n    {name: 'ros', op: 1230, type: ['SID', 'SID', 'number']},\n    {name: 'cidFontVersion', op: 1231, type: 'number', value: 0},\n    {name: 'cidFontRevision', op: 1232, type: 'number', value: 0},\n    {name: 'cidFontType', op: 1233, type: 'number', value: 0},\n    {name: 'cidCount', op: 1234, type: 'number', value: 8720},\n    {name: 'uidBase', op: 1235, type: 'number'},\n    {name: 'fdArray', op: 1236, type: 'offset'},\n    {name: 'fdSelect', op: 1237, type: 'offset'},\n    {name: 'fontName', op: 1238, type: 'SID'}\n];\n\nconst PRIVATE_DICT_META = [\n    {name: 'subrs', op: 19, type: 'offset', value: 0},\n    {name: 'defaultWidthX', op: 20, type: 'number', value: 0},\n    {name: 'nominalWidthX', op: 21, type: 'number', value: 0}\n];\n\n// Parse the CFF top dictionary. A CFF table can contain multiple fonts, each with their own top dictionary.\n// The top dictionary contains the essential metadata for the font, together with the private dictionary.\nfunction parseCFFTopDict(data, strings) {\n    const dict = parseCFFDict(data, 0, data.byteLength);\n    return interpretDict(dict, TOP_DICT_META, strings);\n}\n\n// Parse the CFF private dictionary. We don't fully parse out all the values, only the ones we need.\nfunction parseCFFPrivateDict(data, start, size, strings) {\n    const dict = parseCFFDict(data, start, size);\n    return interpretDict(dict, PRIVATE_DICT_META, strings);\n}\n\n// Returns a list of \"Top DICT\"s found using an INDEX list.\n// Used to read both the usual high-level Top DICTs and also the FDArray\n// discovered inside CID-keyed fonts.  When a Top DICT has a reference to\n// a Private DICT that is read and saved into the Top DICT.\n//\n// In addition to the expected/optional values as outlined in TOP_DICT_META\n// the following values might be saved into the Top DICT.\n//\n//    _subrs []        array of local CFF subroutines from Private DICT\n//    _subrsBias       bias value computed from number of subroutines\n//                      (see calcCFFSubroutineBias() and parseCFFCharstring())\n//    _defaultWidthX   default widths for CFF characters\n//    _nominalWidthX   bias added to width embedded within glyph description\n//\n//    _privateDict     saved copy of parsed Private DICT from Top DICT\nfunction gatherCFFTopDicts(data, start, cffIndex, strings) {\n    const topDictArray = [];\n    for (let iTopDict = 0; iTopDict < cffIndex.length; iTopDict += 1) {\n        const topDictData = new DataView(new Uint8Array(cffIndex[iTopDict]).buffer);\n        const topDict = parseCFFTopDict(topDictData, strings);\n        topDict._subrs = [];\n        topDict._subrsBias = 0;\n        const privateSize = topDict.private[0];\n        const privateOffset = topDict.private[1];\n        if (privateSize !== 0 && privateOffset !== 0) {\n            const privateDict = parseCFFPrivateDict(data, privateOffset + start, privateSize, strings);\n            topDict._defaultWidthX = privateDict.defaultWidthX;\n            topDict._nominalWidthX = privateDict.nominalWidthX;\n            if (privateDict.subrs !== 0) {\n                const subrOffset = privateOffset + privateDict.subrs;\n                const subrIndex = parseCFFIndex(data, subrOffset + start);\n                topDict._subrs = subrIndex.objects;\n                topDict._subrsBias = calcCFFSubroutineBias(topDict._subrs);\n            }\n            topDict._privateDict = privateDict;\n        }\n        topDictArray.push(topDict);\n    }\n    return topDictArray;\n}\n\n// Parse the CFF charset table, which contains internal names for all the glyphs.\n// This function will return a list of glyph names.\n// See Adobe TN #5176 chapter 13, \"Charsets\".\nfunction parseCFFCharset(data, start, nGlyphs, strings) {\n    let sid;\n    let count;\n    const parser = new parse.Parser(data, start);\n\n    // The .notdef glyph is not included, so subtract 1.\n    nGlyphs -= 1;\n    const charset = ['.notdef'];\n\n    const format = parser.parseCard8();\n    if (format === 0) {\n        for (let i = 0; i < nGlyphs; i += 1) {\n            sid = parser.parseSID();\n            charset.push(getCFFString(strings, sid));\n        }\n    } else if (format === 1) {\n        while (charset.length <= nGlyphs) {\n            sid = parser.parseSID();\n            count = parser.parseCard8();\n            for (let i = 0; i <= count; i += 1) {\n                charset.push(getCFFString(strings, sid));\n                sid += 1;\n            }\n        }\n    } else if (format === 2) {\n        while (charset.length <= nGlyphs) {\n            sid = parser.parseSID();\n            count = parser.parseCard16();\n            for (let i = 0; i <= count; i += 1) {\n                charset.push(getCFFString(strings, sid));\n                sid += 1;\n            }\n        }\n    } else {\n        throw new Error('Unknown charset format ' + format);\n    }\n\n    return charset;\n}\n\n// Parse the CFF encoding data. Only one encoding can be specified per font.\n// See Adobe TN #5176 chapter 12, \"Encodings\".\nfunction parseCFFEncoding(data, start, charset) {\n    let code;\n    const enc = {};\n    const parser = new parse.Parser(data, start);\n    const format = parser.parseCard8();\n    if (format === 0) {\n        const nCodes = parser.parseCard8();\n        for (let i = 0; i < nCodes; i += 1) {\n            code = parser.parseCard8();\n            enc[code] = i;\n        }\n    } else if (format === 1) {\n        const nRanges = parser.parseCard8();\n        code = 1;\n        for (let i = 0; i < nRanges; i += 1) {\n            const first = parser.parseCard8();\n            const nLeft = parser.parseCard8();\n            for (let j = first; j <= first + nLeft; j += 1) {\n                enc[j] = code;\n                code += 1;\n            }\n        }\n    } else {\n        throw new Error('Unknown encoding format ' + format);\n    }\n\n    return new CffEncoding(enc, charset);\n}\n\n// Take in charstring code and return a Glyph object.\n// The encoding is described in the Type 2 Charstring Format\n// https://www.microsoft.com/typography/OTSPEC/charstr2.htm\nfunction parseCFFCharstring(font, glyph, code) {\n    let c1x;\n    let c1y;\n    let c2x;\n    let c2y;\n    const p = new Path();\n    const stack = [];\n    let nStems = 0;\n    let haveWidth = false;\n    let open = false;\n    let x = 0;\n    let y = 0;\n    let subrs;\n    let subrsBias;\n    let defaultWidthX;\n    let nominalWidthX;\n    if (font.isCIDFont) {\n        const fdIndex = font.tables.cff.topDict._fdSelect[glyph.index];\n        const fdDict = font.tables.cff.topDict._fdArray[fdIndex];\n        subrs = fdDict._subrs;\n        subrsBias = fdDict._subrsBias;\n        defaultWidthX = fdDict._defaultWidthX;\n        nominalWidthX = fdDict._nominalWidthX;\n    } else {\n        subrs = font.tables.cff.topDict._subrs;\n        subrsBias = font.tables.cff.topDict._subrsBias;\n        defaultWidthX = font.tables.cff.topDict._defaultWidthX;\n        nominalWidthX = font.tables.cff.topDict._nominalWidthX;\n    }\n    let width = defaultWidthX;\n\n    function newContour(x, y) {\n        if (open) {\n            p.closePath();\n        }\n\n        p.moveTo(x, y);\n        open = true;\n    }\n\n    function parseStems() {\n        let hasWidthArg;\n\n        // The number of stem operators on the stack is always even.\n        // If the value is uneven, that means a width is specified.\n        hasWidthArg = stack.length % 2 !== 0;\n        if (hasWidthArg && !haveWidth) {\n            width = stack.shift() + nominalWidthX;\n        }\n\n        nStems += stack.length >> 1;\n        stack.length = 0;\n        haveWidth = true;\n    }\n\n    function parse(code) {\n        let b1;\n        let b2;\n        let b3;\n        let b4;\n        let codeIndex;\n        let subrCode;\n        let jpx;\n        let jpy;\n        let c3x;\n        let c3y;\n        let c4x;\n        let c4y;\n\n        let i = 0;\n        while (i < code.length) {\n            let v = code[i];\n            i += 1;\n            switch (v) {\n                case 1: // hstem\n                    parseStems();\n                    break;\n                case 3: // vstem\n                    parseStems();\n                    break;\n                case 4: // vmoveto\n                    if (stack.length > 1 && !haveWidth) {\n                        width = stack.shift() + nominalWidthX;\n                        haveWidth = true;\n                    }\n\n                    y += stack.pop();\n                    newContour(x, y);\n                    break;\n                case 5: // rlineto\n                    while (stack.length > 0) {\n                        x += stack.shift();\n                        y += stack.shift();\n                        p.lineTo(x, y);\n                    }\n\n                    break;\n                case 6: // hlineto\n                    while (stack.length > 0) {\n                        x += stack.shift();\n                        p.lineTo(x, y);\n                        if (stack.length === 0) {\n                            break;\n                        }\n\n                        y += stack.shift();\n                        p.lineTo(x, y);\n                    }\n\n                    break;\n                case 7: // vlineto\n                    while (stack.length > 0) {\n                        y += stack.shift();\n                        p.lineTo(x, y);\n                        if (stack.length === 0) {\n                            break;\n                        }\n\n                        x += stack.shift();\n                        p.lineTo(x, y);\n                    }\n\n                    break;\n                case 8: // rrcurveto\n                    while (stack.length > 0) {\n                        c1x = x + stack.shift();\n                        c1y = y + stack.shift();\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x + stack.shift();\n                        y = c2y + stack.shift();\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    break;\n                case 10: // callsubr\n                    codeIndex = stack.pop() + subrsBias;\n                    subrCode = subrs[codeIndex];\n                    if (subrCode) {\n                        parse(subrCode);\n                    }\n\n                    break;\n                case 11: // return\n                    return;\n                case 12: // flex operators\n                    v = code[i];\n                    i += 1;\n                    switch (v) {\n                        case 35: // flex\n                            // |- dx1 dy1 dx2 dy2 dx3 dy3 dx4 dy4 dx5 dy5 dx6 dy6 fd flex (12 35) |-\n                            c1x = x   + stack.shift();    // dx1\n                            c1y = y   + stack.shift();    // dy1\n                            c2x = c1x + stack.shift();    // dx2\n                            c2y = c1y + stack.shift();    // dy2\n                            jpx = c2x + stack.shift();    // dx3\n                            jpy = c2y + stack.shift();    // dy3\n                            c3x = jpx + stack.shift();    // dx4\n                            c3y = jpy + stack.shift();    // dy4\n                            c4x = c3x + stack.shift();    // dx5\n                            c4y = c3y + stack.shift();    // dy5\n                            x = c4x   + stack.shift();    // dx6\n                            y = c4y   + stack.shift();    // dy6\n                            stack.shift();                // flex depth\n                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n                            break;\n                        case 34: // hflex\n                            // |- dx1 dx2 dy2 dx3 dx4 dx5 dx6 hflex (12 34) |-\n                            c1x = x   + stack.shift();    // dx1\n                            c1y = y;                      // dy1\n                            c2x = c1x + stack.shift();    // dx2\n                            c2y = c1y + stack.shift();    // dy2\n                            jpx = c2x + stack.shift();    // dx3\n                            jpy = c2y;                    // dy3\n                            c3x = jpx + stack.shift();    // dx4\n                            c3y = c2y;                    // dy4\n                            c4x = c3x + stack.shift();    // dx5\n                            c4y = y;                      // dy5\n                            x = c4x + stack.shift();      // dx6\n                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n                            break;\n                        case 36: // hflex1\n                            // |- dx1 dy1 dx2 dy2 dx3 dx4 dx5 dy5 dx6 hflex1 (12 36) |-\n                            c1x = x   + stack.shift();    // dx1\n                            c1y = y   + stack.shift();    // dy1\n                            c2x = c1x + stack.shift();    // dx2\n                            c2y = c1y + stack.shift();    // dy2\n                            jpx = c2x + stack.shift();    // dx3\n                            jpy = c2y;                    // dy3\n                            c3x = jpx + stack.shift();    // dx4\n                            c3y = c2y;                    // dy4\n                            c4x = c3x + stack.shift();    // dx5\n                            c4y = c3y + stack.shift();    // dy5\n                            x = c4x + stack.shift();      // dx6\n                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n                            break;\n                        case 37: // flex1\n                            // |- dx1 dy1 dx2 dy2 dx3 dy3 dx4 dy4 dx5 dy5 d6 flex1 (12 37) |-\n                            c1x = x   + stack.shift();    // dx1\n                            c1y = y   + stack.shift();    // dy1\n                            c2x = c1x + stack.shift();    // dx2\n                            c2y = c1y + stack.shift();    // dy2\n                            jpx = c2x + stack.shift();    // dx3\n                            jpy = c2y + stack.shift();    // dy3\n                            c3x = jpx + stack.shift();    // dx4\n                            c3y = jpy + stack.shift();    // dy4\n                            c4x = c3x + stack.shift();    // dx5\n                            c4y = c3y + stack.shift();    // dy5\n                            if (Math.abs(c4x - x) > Math.abs(c4y - y)) {\n                                x = c4x + stack.shift();\n                            } else {\n                                y = c4y + stack.shift();\n                            }\n\n                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n                            break;\n                        default:\n                            console.log('Glyph ' + glyph.index + ': unknown operator ' + 1200 + v);\n                            stack.length = 0;\n                    }\n                    break;\n                case 14: // endchar\n                    if (stack.length > 0 && !haveWidth) {\n                        width = stack.shift() + nominalWidthX;\n                        haveWidth = true;\n                    }\n\n                    if (open) {\n                        p.closePath();\n                        open = false;\n                    }\n\n                    break;\n                case 18: // hstemhm\n                    parseStems();\n                    break;\n                case 19: // hintmask\n                case 20: // cntrmask\n                    parseStems();\n                    i += (nStems + 7) >> 3;\n                    break;\n                case 21: // rmoveto\n                    if (stack.length > 2 && !haveWidth) {\n                        width = stack.shift() + nominalWidthX;\n                        haveWidth = true;\n                    }\n\n                    y += stack.pop();\n                    x += stack.pop();\n                    newContour(x, y);\n                    break;\n                case 22: // hmoveto\n                    if (stack.length > 1 && !haveWidth) {\n                        width = stack.shift() + nominalWidthX;\n                        haveWidth = true;\n                    }\n\n                    x += stack.pop();\n                    newContour(x, y);\n                    break;\n                case 23: // vstemhm\n                    parseStems();\n                    break;\n                case 24: // rcurveline\n                    while (stack.length > 2) {\n                        c1x = x + stack.shift();\n                        c1y = y + stack.shift();\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x + stack.shift();\n                        y = c2y + stack.shift();\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    x += stack.shift();\n                    y += stack.shift();\n                    p.lineTo(x, y);\n                    break;\n                case 25: // rlinecurve\n                    while (stack.length > 6) {\n                        x += stack.shift();\n                        y += stack.shift();\n                        p.lineTo(x, y);\n                    }\n\n                    c1x = x + stack.shift();\n                    c1y = y + stack.shift();\n                    c2x = c1x + stack.shift();\n                    c2y = c1y + stack.shift();\n                    x = c2x + stack.shift();\n                    y = c2y + stack.shift();\n                    p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    break;\n                case 26: // vvcurveto\n                    if (stack.length % 2) {\n                        x += stack.shift();\n                    }\n\n                    while (stack.length > 0) {\n                        c1x = x;\n                        c1y = y + stack.shift();\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x;\n                        y = c2y + stack.shift();\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    break;\n                case 27: // hhcurveto\n                    if (stack.length % 2) {\n                        y += stack.shift();\n                    }\n\n                    while (stack.length > 0) {\n                        c1x = x + stack.shift();\n                        c1y = y;\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x + stack.shift();\n                        y = c2y;\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    break;\n                case 28: // shortint\n                    b1 = code[i];\n                    b2 = code[i + 1];\n                    stack.push(((b1 << 24) | (b2 << 16)) >> 16);\n                    i += 2;\n                    break;\n                case 29: // callgsubr\n                    codeIndex = stack.pop() + font.gsubrsBias;\n                    subrCode = font.gsubrs[codeIndex];\n                    if (subrCode) {\n                        parse(subrCode);\n                    }\n\n                    break;\n                case 30: // vhcurveto\n                    while (stack.length > 0) {\n                        c1x = x;\n                        c1y = y + stack.shift();\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x + stack.shift();\n                        y = c2y + (stack.length === 1 ? stack.shift() : 0);\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                        if (stack.length === 0) {\n                            break;\n                        }\n\n                        c1x = x + stack.shift();\n                        c1y = y;\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        y = c2y + stack.shift();\n                        x = c2x + (stack.length === 1 ? stack.shift() : 0);\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    break;\n                case 31: // hvcurveto\n                    while (stack.length > 0) {\n                        c1x = x + stack.shift();\n                        c1y = y;\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        y = c2y + stack.shift();\n                        x = c2x + (stack.length === 1 ? stack.shift() : 0);\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                        if (stack.length === 0) {\n                            break;\n                        }\n\n                        c1x = x;\n                        c1y = y + stack.shift();\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x + stack.shift();\n                        y = c2y + (stack.length === 1 ? stack.shift() : 0);\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    break;\n                default:\n                    if (v < 32) {\n                        console.log('Glyph ' + glyph.index + ': unknown operator ' + v);\n                    } else if (v < 247) {\n                        stack.push(v - 139);\n                    } else if (v < 251) {\n                        b1 = code[i];\n                        i += 1;\n                        stack.push((v - 247) * 256 + b1 + 108);\n                    } else if (v < 255) {\n                        b1 = code[i];\n                        i += 1;\n                        stack.push(-(v - 251) * 256 - b1 - 108);\n                    } else {\n                        b1 = code[i];\n                        b2 = code[i + 1];\n                        b3 = code[i + 2];\n                        b4 = code[i + 3];\n                        i += 4;\n                        stack.push(((b1 << 24) | (b2 << 16) | (b3 << 8) | b4) / 65536);\n                    }\n            }\n        }\n    }\n\n    parse(code);\n\n    glyph.advanceWidth = width;\n    return p;\n}\n\nfunction parseCFFFDSelect(data, start, nGlyphs, fdArrayCount) {\n    const fdSelect = [];\n    let fdIndex;\n    const parser = new parse.Parser(data, start);\n    const format = parser.parseCard8();\n    if (format === 0) {\n        // Simple list of nGlyphs elements\n        for (let iGid = 0; iGid < nGlyphs; iGid++) {\n            fdIndex = parser.parseCard8();\n            if (fdIndex >= fdArrayCount) {\n                throw new Error('CFF table CID Font FDSelect has bad FD index value ' + fdIndex + ' (FD count ' + fdArrayCount + ')');\n            }\n            fdSelect.push(fdIndex);\n        }\n    } else if (format === 3) {\n        // Ranges\n        const nRanges = parser.parseCard16();\n        let first = parser.parseCard16();\n        if (first !== 0) {\n            throw new Error('CFF Table CID Font FDSelect format 3 range has bad initial GID ' + first);\n        }\n        let next;\n        for (let iRange = 0; iRange < nRanges; iRange++) {\n            fdIndex = parser.parseCard8();\n            next = parser.parseCard16();\n            if (fdIndex >= fdArrayCount) {\n                throw new Error('CFF table CID Font FDSelect has bad FD index value ' + fdIndex + ' (FD count ' + fdArrayCount + ')');\n            }\n            if (next > nGlyphs) {\n                throw new Error('CFF Table CID Font FDSelect format 3 range has bad GID ' + next);\n            }\n            for (; first < next; first++) {\n                fdSelect.push(fdIndex);\n            }\n            first = next;\n        }\n        if (next !== nGlyphs) {\n            throw new Error('CFF Table CID Font FDSelect format 3 range has bad final GID ' + next);\n        }\n    } else {\n        throw new Error('CFF Table CID Font FDSelect table has unsupported format ' + format);\n    }\n    return fdSelect;\n}\n\n// Parse the `CFF` table, which contains the glyph outlines in PostScript format.\nfunction parseCFFTable(data, start, font) {\n    font.tables.cff = {};\n    const header = parseCFFHeader(data, start);\n    const nameIndex = parseCFFIndex(data, header.endOffset, parse.bytesToString);\n    const topDictIndex = parseCFFIndex(data, nameIndex.endOffset);\n    const stringIndex = parseCFFIndex(data, topDictIndex.endOffset, parse.bytesToString);\n    const globalSubrIndex = parseCFFIndex(data, stringIndex.endOffset);\n    font.gsubrs = globalSubrIndex.objects;\n    font.gsubrsBias = calcCFFSubroutineBias(font.gsubrs);\n\n    const topDictArray = gatherCFFTopDicts(data, start, topDictIndex.objects, stringIndex.objects);\n    if (topDictArray.length !== 1) {\n        throw new Error('CFF table has too many fonts in \\'FontSet\\' - count of fonts NameIndex.length = ' + topDictArray.length);\n    }\n\n    const topDict = topDictArray[0];\n    font.tables.cff.topDict = topDict;\n\n    if (topDict._privateDict) {\n        font.defaultWidthX = topDict._privateDict.defaultWidthX;\n        font.nominalWidthX = topDict._privateDict.nominalWidthX;\n    }\n\n    if (topDict.ros[0] !== undefined && topDict.ros[1] !== undefined) {\n        font.isCIDFont = true;\n    }\n\n    if (font.isCIDFont) {\n        let fdArrayOffset = topDict.fdArray;\n        let fdSelectOffset = topDict.fdSelect;\n        if (fdArrayOffset === 0 || fdSelectOffset === 0) {\n            throw new Error('Font is marked as a CID font, but FDArray and/or FDSelect information is missing');\n        }\n        fdArrayOffset += start;\n        const fdArrayIndex = parseCFFIndex(data, fdArrayOffset);\n        const fdArray = gatherCFFTopDicts(data, start, fdArrayIndex.objects, stringIndex.objects);\n        topDict._fdArray = fdArray;\n        fdSelectOffset += start;\n        topDict._fdSelect = parseCFFFDSelect(data, fdSelectOffset, font.numGlyphs, fdArray.length);\n    }\n\n    const privateDictOffset = start + topDict.private[1];\n    const privateDict = parseCFFPrivateDict(data, privateDictOffset, topDict.private[0], stringIndex.objects);\n    font.defaultWidthX = privateDict.defaultWidthX;\n    font.nominalWidthX = privateDict.nominalWidthX;\n\n    if (privateDict.subrs !== 0) {\n        const subrOffset = privateDictOffset + privateDict.subrs;\n        const subrIndex = parseCFFIndex(data, subrOffset);\n        font.subrs = subrIndex.objects;\n        font.subrsBias = calcCFFSubroutineBias(font.subrs);\n    } else {\n        font.subrs = [];\n        font.subrsBias = 0;\n    }\n\n    // Offsets in the top dict are relative to the beginning of the CFF data, so add the CFF start offset.\n    const charStringsIndex = parseCFFIndex(data, start + topDict.charStrings);\n    font.nGlyphs = charStringsIndex.objects.length;\n\n    const charset = parseCFFCharset(data, start + topDict.charset, font.nGlyphs, stringIndex.objects);\n    if (topDict.encoding === 0) {\n        // Standard encoding\n        font.cffEncoding = new CffEncoding(cffStandardEncoding, charset);\n    } else if (topDict.encoding === 1) {\n        // Expert encoding\n        font.cffEncoding = new CffEncoding(cffExpertEncoding, charset);\n    } else {\n        font.cffEncoding = parseCFFEncoding(data, start + topDict.encoding, charset);\n    }\n\n    // Prefer the CMAP encoding to the CFF encoding.\n    font.encoding = font.encoding || font.cffEncoding;\n\n    font.glyphs = new glyphset.GlyphSet(font);\n    for (let i = 0; i < font.nGlyphs; i += 1) {\n        const charString = charStringsIndex.objects[i];\n        font.glyphs.push(i, glyphset.cffGlyphLoader(font, i, parseCFFCharstring, charString));\n    }\n}\n\n// Convert a string to a String ID (SID).\n// The list of strings is modified in place.\nfunction encodeString(s, strings) {\n    let sid;\n\n    // Is the string in the CFF standard strings?\n    let i = cffStandardStrings.indexOf(s);\n    if (i >= 0) {\n        sid = i;\n    }\n\n    // Is the string already in the string index?\n    i = strings.indexOf(s);\n    if (i >= 0) {\n        sid = i + cffStandardStrings.length;\n    } else {\n        sid = cffStandardStrings.length + strings.length;\n        strings.push(s);\n    }\n\n    return sid;\n}\n\nfunction makeHeader() {\n    return new table.Record('Header', [\n        {name: 'major', type: 'Card8', value: 1},\n        {name: 'minor', type: 'Card8', value: 0},\n        {name: 'hdrSize', type: 'Card8', value: 4},\n        {name: 'major', type: 'Card8', value: 1}\n    ]);\n}\n\nfunction makeNameIndex(fontNames) {\n    const t = new table.Record('Name INDEX', [\n        {name: 'names', type: 'INDEX', value: []}\n    ]);\n    t.names = [];\n    for (let i = 0; i < fontNames.length; i += 1) {\n        t.names.push({name: 'name_' + i, type: 'NAME', value: fontNames[i]});\n    }\n\n    return t;\n}\n\n// Given a dictionary's metadata, create a DICT structure.\nfunction makeDict(meta, attrs, strings) {\n    const m = {};\n    for (let i = 0; i < meta.length; i += 1) {\n        const entry = meta[i];\n        let value = attrs[entry.name];\n        if (value !== undefined && !equals(value, entry.value)) {\n            if (entry.type === 'SID') {\n                value = encodeString(value, strings);\n            }\n\n            m[entry.op] = {name: entry.name, type: entry.type, value: value};\n        }\n    }\n\n    return m;\n}\n\n// The Top DICT houses the global font attributes.\nfunction makeTopDict(attrs, strings) {\n    const t = new table.Record('Top DICT', [\n        {name: 'dict', type: 'DICT', value: {}}\n    ]);\n    t.dict = makeDict(TOP_DICT_META, attrs, strings);\n    return t;\n}\n\nfunction makeTopDictIndex(topDict) {\n    const t = new table.Record('Top DICT INDEX', [\n        {name: 'topDicts', type: 'INDEX', value: []}\n    ]);\n    t.topDicts = [{name: 'topDict_0', type: 'TABLE', value: topDict}];\n    return t;\n}\n\nfunction makeStringIndex(strings) {\n    const t = new table.Record('String INDEX', [\n        {name: 'strings', type: 'INDEX', value: []}\n    ]);\n    t.strings = [];\n    for (let i = 0; i < strings.length; i += 1) {\n        t.strings.push({name: 'string_' + i, type: 'STRING', value: strings[i]});\n    }\n\n    return t;\n}\n\nfunction makeGlobalSubrIndex() {\n    // Currently we don't use subroutines.\n    return new table.Record('Global Subr INDEX', [\n        {name: 'subrs', type: 'INDEX', value: []}\n    ]);\n}\n\nfunction makeCharsets(glyphNames, strings) {\n    const t = new table.Record('Charsets', [\n        {name: 'format', type: 'Card8', value: 0}\n    ]);\n    for (let i = 0; i < glyphNames.length; i += 1) {\n        const glyphName = glyphNames[i];\n        const glyphSID = encodeString(glyphName, strings);\n        t.fields.push({name: 'glyph_' + i, type: 'SID', value: glyphSID});\n    }\n\n    return t;\n}\n\nfunction glyphToOps(glyph) {\n    const ops = [];\n    const path = glyph.path;\n    ops.push({name: 'width', type: 'NUMBER', value: glyph.advanceWidth});\n    let x = 0;\n    let y = 0;\n    for (let i = 0; i < path.commands.length; i += 1) {\n        let dx;\n        let dy;\n        let cmd = path.commands[i];\n        if (cmd.type === 'Q') {\n            // CFF only supports bzier curves, so convert the quad to a bzier.\n            const _13 = 1 / 3;\n            const _23 = 2 / 3;\n\n            // We're going to create a new command so we don't change the original path.\n            cmd = {\n                type: 'C',\n                x: cmd.x,\n                y: cmd.y,\n                x1: _13 * x + _23 * cmd.x1,\n                y1: _13 * y + _23 * cmd.y1,\n                x2: _13 * cmd.x + _23 * cmd.x1,\n                y2: _13 * cmd.y + _23 * cmd.y1\n            };\n        }\n\n        if (cmd.type === 'M') {\n            dx = Math.round(cmd.x - x);\n            dy = Math.round(cmd.y - y);\n            ops.push({name: 'dx', type: 'NUMBER', value: dx});\n            ops.push({name: 'dy', type: 'NUMBER', value: dy});\n            ops.push({name: 'rmoveto', type: 'OP', value: 21});\n            x = Math.round(cmd.x);\n            y = Math.round(cmd.y);\n        } else if (cmd.type === 'L') {\n            dx = Math.round(cmd.x - x);\n            dy = Math.round(cmd.y - y);\n            ops.push({name: 'dx', type: 'NUMBER', value: dx});\n            ops.push({name: 'dy', type: 'NUMBER', value: dy});\n            ops.push({name: 'rlineto', type: 'OP', value: 5});\n            x = Math.round(cmd.x);\n            y = Math.round(cmd.y);\n        } else if (cmd.type === 'C') {\n            const dx1 = Math.round(cmd.x1 - x);\n            const dy1 = Math.round(cmd.y1 - y);\n            const dx2 = Math.round(cmd.x2 - cmd.x1);\n            const dy2 = Math.round(cmd.y2 - cmd.y1);\n            dx = Math.round(cmd.x - cmd.x2);\n            dy = Math.round(cmd.y - cmd.y2);\n            ops.push({name: 'dx1', type: 'NUMBER', value: dx1});\n            ops.push({name: 'dy1', type: 'NUMBER', value: dy1});\n            ops.push({name: 'dx2', type: 'NUMBER', value: dx2});\n            ops.push({name: 'dy2', type: 'NUMBER', value: dy2});\n            ops.push({name: 'dx', type: 'NUMBER', value: dx});\n            ops.push({name: 'dy', type: 'NUMBER', value: dy});\n            ops.push({name: 'rrcurveto', type: 'OP', value: 8});\n            x = Math.round(cmd.x);\n            y = Math.round(cmd.y);\n        }\n\n        // Contours are closed automatically.\n    }\n\n    ops.push({name: 'endchar', type: 'OP', value: 14});\n    return ops;\n}\n\nfunction makeCharStringsIndex(glyphs) {\n    const t = new table.Record('CharStrings INDEX', [\n        {name: 'charStrings', type: 'INDEX', value: []}\n    ]);\n\n    for (let i = 0; i < glyphs.length; i += 1) {\n        const glyph = glyphs.get(i);\n        const ops = glyphToOps(glyph);\n        t.charStrings.push({name: glyph.name, type: 'CHARSTRING', value: ops});\n    }\n\n    return t;\n}\n\nfunction makePrivateDict(attrs, strings) {\n    const t = new table.Record('Private DICT', [\n        {name: 'dict', type: 'DICT', value: {}}\n    ]);\n    t.dict = makeDict(PRIVATE_DICT_META, attrs, strings);\n    return t;\n}\n\nfunction makeCFFTable(glyphs, options) {\n    const t = new table.Table('CFF ', [\n        {name: 'header', type: 'RECORD'},\n        {name: 'nameIndex', type: 'RECORD'},\n        {name: 'topDictIndex', type: 'RECORD'},\n        {name: 'stringIndex', type: 'RECORD'},\n        {name: 'globalSubrIndex', type: 'RECORD'},\n        {name: 'charsets', type: 'RECORD'},\n        {name: 'charStringsIndex', type: 'RECORD'},\n        {name: 'privateDict', type: 'RECORD'}\n    ]);\n\n    const fontScale = 1 / options.unitsPerEm;\n    // We use non-zero values for the offsets so that the DICT encodes them.\n    // This is important because the size of the Top DICT plays a role in offset calculation,\n    // and the size shouldn't change after we've written correct offsets.\n    const attrs = {\n        version: options.version,\n        fullName: options.fullName,\n        familyName: options.familyName,\n        weight: options.weightName,\n        fontBBox: options.fontBBox || [0, 0, 0, 0],\n        fontMatrix: [fontScale, 0, 0, fontScale, 0, 0],\n        charset: 999,\n        encoding: 0,\n        charStrings: 999,\n        private: [0, 999]\n    };\n\n    const privateAttrs = {};\n\n    const glyphNames = [];\n    let glyph;\n\n    // Skip first glyph (.notdef)\n    for (let i = 1; i < glyphs.length; i += 1) {\n        glyph = glyphs.get(i);\n        glyphNames.push(glyph.name);\n    }\n\n    const strings = [];\n\n    t.header = makeHeader();\n    t.nameIndex = makeNameIndex([options.postScriptName]);\n    let topDict = makeTopDict(attrs, strings);\n    t.topDictIndex = makeTopDictIndex(topDict);\n    t.globalSubrIndex = makeGlobalSubrIndex();\n    t.charsets = makeCharsets(glyphNames, strings);\n    t.charStringsIndex = makeCharStringsIndex(glyphs);\n    t.privateDict = makePrivateDict(privateAttrs, strings);\n\n    // Needs to come at the end, to encode all custom strings used in the font.\n    t.stringIndex = makeStringIndex(strings);\n\n    const startOffset = t.header.sizeOf() +\n        t.nameIndex.sizeOf() +\n        t.topDictIndex.sizeOf() +\n        t.stringIndex.sizeOf() +\n        t.globalSubrIndex.sizeOf();\n    attrs.charset = startOffset;\n\n    // We use the CFF standard encoding; proper encoding will be handled in cmap.\n    attrs.encoding = 0;\n    attrs.charStrings = attrs.charset + t.charsets.sizeOf();\n    attrs.private[1] = attrs.charStrings + t.charStringsIndex.sizeOf();\n\n    // Recreate the Top DICT INDEX with the correct offsets.\n    topDict = makeTopDict(attrs, strings);\n    t.topDictIndex = makeTopDictIndex(topDict);\n\n    return t;\n}\n\nexport default { parse: parseCFFTable, make: makeCFFTable };\n","// Glyph encoding\n\nconst cffStandardStrings = [\n    '.notdef', 'space', 'exclam', 'quotedbl', 'numbersign', 'dollar', 'percent', 'ampersand', 'quoteright',\n    'parenleft', 'parenright', 'asterisk', 'plus', 'comma', 'hyphen', 'period', 'slash', 'zero', 'one', 'two',\n    'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'colon', 'semicolon', 'less', 'equal', 'greater',\n    'question', 'at', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',\n    'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'bracketleft', 'backslash', 'bracketright', 'asciicircum', 'underscore',\n    'quoteleft', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\n    'u', 'v', 'w', 'x', 'y', 'z', 'braceleft', 'bar', 'braceright', 'asciitilde', 'exclamdown', 'cent', 'sterling',\n    'fraction', 'yen', 'florin', 'section', 'currency', 'quotesingle', 'quotedblleft', 'guillemotleft',\n    'guilsinglleft', 'guilsinglright', 'fi', 'fl', 'endash', 'dagger', 'daggerdbl', 'periodcentered', 'paragraph',\n    'bullet', 'quotesinglbase', 'quotedblbase', 'quotedblright', 'guillemotright', 'ellipsis', 'perthousand',\n    'questiondown', 'grave', 'acute', 'circumflex', 'tilde', 'macron', 'breve', 'dotaccent', 'dieresis', 'ring',\n    'cedilla', 'hungarumlaut', 'ogonek', 'caron', 'emdash', 'AE', 'ordfeminine', 'Lslash', 'Oslash', 'OE',\n    'ordmasculine', 'ae', 'dotlessi', 'lslash', 'oslash', 'oe', 'germandbls', 'onesuperior', 'logicalnot', 'mu',\n    'trademark', 'Eth', 'onehalf', 'plusminus', 'Thorn', 'onequarter', 'divide', 'brokenbar', 'degree', 'thorn',\n    'threequarters', 'twosuperior', 'registered', 'minus', 'eth', 'multiply', 'threesuperior', 'copyright',\n    'Aacute', 'Acircumflex', 'Adieresis', 'Agrave', 'Aring', 'Atilde', 'Ccedilla', 'Eacute', 'Ecircumflex',\n    'Edieresis', 'Egrave', 'Iacute', 'Icircumflex', 'Idieresis', 'Igrave', 'Ntilde', 'Oacute', 'Ocircumflex',\n    'Odieresis', 'Ograve', 'Otilde', 'Scaron', 'Uacute', 'Ucircumflex', 'Udieresis', 'Ugrave', 'Yacute',\n    'Ydieresis', 'Zcaron', 'aacute', 'acircumflex', 'adieresis', 'agrave', 'aring', 'atilde', 'ccedilla', 'eacute',\n    'ecircumflex', 'edieresis', 'egrave', 'iacute', 'icircumflex', 'idieresis', 'igrave', 'ntilde', 'oacute',\n    'ocircumflex', 'odieresis', 'ograve', 'otilde', 'scaron', 'uacute', 'ucircumflex', 'udieresis', 'ugrave',\n    'yacute', 'ydieresis', 'zcaron', 'exclamsmall', 'Hungarumlautsmall', 'dollaroldstyle', 'dollarsuperior',\n    'ampersandsmall', 'Acutesmall', 'parenleftsuperior', 'parenrightsuperior', '266 ff', 'onedotenleader',\n    'zerooldstyle', 'oneoldstyle', 'twooldstyle', 'threeoldstyle', 'fouroldstyle', 'fiveoldstyle', 'sixoldstyle',\n    'sevenoldstyle', 'eightoldstyle', 'nineoldstyle', 'commasuperior', 'threequartersemdash', 'periodsuperior',\n    'questionsmall', 'asuperior', 'bsuperior', 'centsuperior', 'dsuperior', 'esuperior', 'isuperior', 'lsuperior',\n    'msuperior', 'nsuperior', 'osuperior', 'rsuperior', 'ssuperior', 'tsuperior', 'ff', 'ffi', 'ffl',\n    'parenleftinferior', 'parenrightinferior', 'Circumflexsmall', 'hyphensuperior', 'Gravesmall', 'Asmall',\n    'Bsmall', 'Csmall', 'Dsmall', 'Esmall', 'Fsmall', 'Gsmall', 'Hsmall', 'Ismall', 'Jsmall', 'Ksmall', 'Lsmall',\n    'Msmall', 'Nsmall', 'Osmall', 'Psmall', 'Qsmall', 'Rsmall', 'Ssmall', 'Tsmall', 'Usmall', 'Vsmall', 'Wsmall',\n    'Xsmall', 'Ysmall', 'Zsmall', 'colonmonetary', 'onefitted', 'rupiah', 'Tildesmall', 'exclamdownsmall',\n    'centoldstyle', 'Lslashsmall', 'Scaronsmall', 'Zcaronsmall', 'Dieresissmall', 'Brevesmall', 'Caronsmall',\n    'Dotaccentsmall', 'Macronsmall', 'figuredash', 'hypheninferior', 'Ogoneksmall', 'Ringsmall', 'Cedillasmall',\n    'questiondownsmall', 'oneeighth', 'threeeighths', 'fiveeighths', 'seveneighths', 'onethird', 'twothirds',\n    'zerosuperior', 'foursuperior', 'fivesuperior', 'sixsuperior', 'sevensuperior', 'eightsuperior', 'ninesuperior',\n    'zeroinferior', 'oneinferior', 'twoinferior', 'threeinferior', 'fourinferior', 'fiveinferior', 'sixinferior',\n    'seveninferior', 'eightinferior', 'nineinferior', 'centinferior', 'dollarinferior', 'periodinferior',\n    'commainferior', 'Agravesmall', 'Aacutesmall', 'Acircumflexsmall', 'Atildesmall', 'Adieresissmall',\n    'Aringsmall', 'AEsmall', 'Ccedillasmall', 'Egravesmall', 'Eacutesmall', 'Ecircumflexsmall', 'Edieresissmall',\n    'Igravesmall', 'Iacutesmall', 'Icircumflexsmall', 'Idieresissmall', 'Ethsmall', 'Ntildesmall', 'Ogravesmall',\n    'Oacutesmall', 'Ocircumflexsmall', 'Otildesmall', 'Odieresissmall', 'OEsmall', 'Oslashsmall', 'Ugravesmall',\n    'Uacutesmall', 'Ucircumflexsmall', 'Udieresissmall', 'Yacutesmall', 'Thornsmall', 'Ydieresissmall', '001.000',\n    '001.001', '001.002', '001.003', 'Black', 'Bold', 'Book', 'Light', 'Medium', 'Regular', 'Roman', 'Semibold'];\n\nconst cffStandardEncoding = [\n    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n    '', '', '', '', 'space', 'exclam', 'quotedbl', 'numbersign', 'dollar', 'percent', 'ampersand', 'quoteright',\n    'parenleft', 'parenright', 'asterisk', 'plus', 'comma', 'hyphen', 'period', 'slash', 'zero', 'one', 'two',\n    'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'colon', 'semicolon', 'less', 'equal', 'greater',\n    'question', 'at', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',\n    'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'bracketleft', 'backslash', 'bracketright', 'asciicircum', 'underscore',\n    'quoteleft', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\n    'u', 'v', 'w', 'x', 'y', 'z', 'braceleft', 'bar', 'braceright', 'asciitilde', '', '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n    'exclamdown', 'cent', 'sterling', 'fraction', 'yen', 'florin', 'section', 'currency', 'quotesingle',\n    'quotedblleft', 'guillemotleft', 'guilsinglleft', 'guilsinglright', 'fi', 'fl', '', 'endash', 'dagger',\n    'daggerdbl', 'periodcentered', '', 'paragraph', 'bullet', 'quotesinglbase', 'quotedblbase', 'quotedblright',\n    'guillemotright', 'ellipsis', 'perthousand', '', 'questiondown', '', 'grave', 'acute', 'circumflex', 'tilde',\n    'macron', 'breve', 'dotaccent', 'dieresis', '', 'ring', 'cedilla', '', 'hungarumlaut', 'ogonek', 'caron',\n    'emdash', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'AE', '', 'ordfeminine', '', '', '',\n    '', 'Lslash', 'Oslash', 'OE', 'ordmasculine', '', '', '', '', '', 'ae', '', '', '', 'dotlessi', '', '',\n    'lslash', 'oslash', 'oe', 'germandbls'];\n\nconst cffExpertEncoding = [\n    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n    '', '', '', '', 'space', 'exclamsmall', 'Hungarumlautsmall', '', 'dollaroldstyle', 'dollarsuperior',\n    'ampersandsmall', 'Acutesmall', 'parenleftsuperior', 'parenrightsuperior', 'twodotenleader', 'onedotenleader',\n    'comma', 'hyphen', 'period', 'fraction', 'zerooldstyle', 'oneoldstyle', 'twooldstyle', 'threeoldstyle',\n    'fouroldstyle', 'fiveoldstyle', 'sixoldstyle', 'sevenoldstyle', 'eightoldstyle', 'nineoldstyle', 'colon',\n    'semicolon', 'commasuperior', 'threequartersemdash', 'periodsuperior', 'questionsmall', '', 'asuperior',\n    'bsuperior', 'centsuperior', 'dsuperior', 'esuperior', '', '', 'isuperior', '', '', 'lsuperior', 'msuperior',\n    'nsuperior', 'osuperior', '', '', 'rsuperior', 'ssuperior', 'tsuperior', '', 'ff', 'fi', 'fl', 'ffi', 'ffl',\n    'parenleftinferior', '', 'parenrightinferior', 'Circumflexsmall', 'hyphensuperior', 'Gravesmall', 'Asmall',\n    'Bsmall', 'Csmall', 'Dsmall', 'Esmall', 'Fsmall', 'Gsmall', 'Hsmall', 'Ismall', 'Jsmall', 'Ksmall', 'Lsmall',\n    'Msmall', 'Nsmall', 'Osmall', 'Psmall', 'Qsmall', 'Rsmall', 'Ssmall', 'Tsmall', 'Usmall', 'Vsmall', 'Wsmall',\n    'Xsmall', 'Ysmall', 'Zsmall', 'colonmonetary', 'onefitted', 'rupiah', 'Tildesmall', '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n    'exclamdownsmall', 'centoldstyle', 'Lslashsmall', '', '', 'Scaronsmall', 'Zcaronsmall', 'Dieresissmall',\n    'Brevesmall', 'Caronsmall', '', 'Dotaccentsmall', '', '', 'Macronsmall', '', '', 'figuredash', 'hypheninferior',\n    '', '', 'Ogoneksmall', 'Ringsmall', 'Cedillasmall', '', '', '', 'onequarter', 'onehalf', 'threequarters',\n    'questiondownsmall', 'oneeighth', 'threeeighths', 'fiveeighths', 'seveneighths', 'onethird', 'twothirds', '',\n    '', 'zerosuperior', 'onesuperior', 'twosuperior', 'threesuperior', 'foursuperior', 'fivesuperior',\n    'sixsuperior', 'sevensuperior', 'eightsuperior', 'ninesuperior', 'zeroinferior', 'oneinferior', 'twoinferior',\n    'threeinferior', 'fourinferior', 'fiveinferior', 'sixinferior', 'seveninferior', 'eightinferior',\n    'nineinferior', 'centinferior', 'dollarinferior', 'periodinferior', 'commainferior', 'Agravesmall',\n    'Aacutesmall', 'Acircumflexsmall', 'Atildesmall', 'Adieresissmall', 'Aringsmall', 'AEsmall', 'Ccedillasmall',\n    'Egravesmall', 'Eacutesmall', 'Ecircumflexsmall', 'Edieresissmall', 'Igravesmall', 'Iacutesmall',\n    'Icircumflexsmall', 'Idieresissmall', 'Ethsmall', 'Ntildesmall', 'Ogravesmall', 'Oacutesmall',\n    'Ocircumflexsmall', 'Otildesmall', 'Odieresissmall', 'OEsmall', 'Oslashsmall', 'Ugravesmall', 'Uacutesmall',\n    'Ucircumflexsmall', 'Udieresissmall', 'Yacutesmall', 'Thornsmall', 'Ydieresissmall'];\n\nconst standardNames = [\n    '.notdef', '.null', 'nonmarkingreturn', 'space', 'exclam', 'quotedbl', 'numbersign', 'dollar', 'percent',\n    'ampersand', 'quotesingle', 'parenleft', 'parenright', 'asterisk', 'plus', 'comma', 'hyphen', 'period', 'slash',\n    'zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'colon', 'semicolon', 'less',\n    'equal', 'greater', 'question', 'at', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O',\n    'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'bracketleft', 'backslash', 'bracketright',\n    'asciicircum', 'underscore', 'grave', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o',\n    'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'braceleft', 'bar', 'braceright', 'asciitilde',\n    'Adieresis', 'Aring', 'Ccedilla', 'Eacute', 'Ntilde', 'Odieresis', 'Udieresis', 'aacute', 'agrave',\n    'acircumflex', 'adieresis', 'atilde', 'aring', 'ccedilla', 'eacute', 'egrave', 'ecircumflex', 'edieresis',\n    'iacute', 'igrave', 'icircumflex', 'idieresis', 'ntilde', 'oacute', 'ograve', 'ocircumflex', 'odieresis',\n    'otilde', 'uacute', 'ugrave', 'ucircumflex', 'udieresis', 'dagger', 'degree', 'cent', 'sterling', 'section',\n    'bullet', 'paragraph', 'germandbls', 'registered', 'copyright', 'trademark', 'acute', 'dieresis', 'notequal',\n    'AE', 'Oslash', 'infinity', 'plusminus', 'lessequal', 'greaterequal', 'yen', 'mu', 'partialdiff', 'summation',\n    'product', 'pi', 'integral', 'ordfeminine', 'ordmasculine', 'Omega', 'ae', 'oslash', 'questiondown',\n    'exclamdown', 'logicalnot', 'radical', 'florin', 'approxequal', 'Delta', 'guillemotleft', 'guillemotright',\n    'ellipsis', 'nonbreakingspace', 'Agrave', 'Atilde', 'Otilde', 'OE', 'oe', 'endash', 'emdash', 'quotedblleft',\n    'quotedblright', 'quoteleft', 'quoteright', 'divide', 'lozenge', 'ydieresis', 'Ydieresis', 'fraction',\n    'currency', 'guilsinglleft', 'guilsinglright', 'fi', 'fl', 'daggerdbl', 'periodcentered', 'quotesinglbase',\n    'quotedblbase', 'perthousand', 'Acircumflex', 'Ecircumflex', 'Aacute', 'Edieresis', 'Egrave', 'Iacute',\n    'Icircumflex', 'Idieresis', 'Igrave', 'Oacute', 'Ocircumflex', 'apple', 'Ograve', 'Uacute', 'Ucircumflex',\n    'Ugrave', 'dotlessi', 'circumflex', 'tilde', 'macron', 'breve', 'dotaccent', 'ring', 'cedilla', 'hungarumlaut',\n    'ogonek', 'caron', 'Lslash', 'lslash', 'Scaron', 'scaron', 'Zcaron', 'zcaron', 'brokenbar', 'Eth', 'eth',\n    'Yacute', 'yacute', 'Thorn', 'thorn', 'minus', 'multiply', 'onesuperior', 'twosuperior', 'threesuperior',\n    'onehalf', 'onequarter', 'threequarters', 'franc', 'Gbreve', 'gbreve', 'Idotaccent', 'Scedilla', 'scedilla',\n    'Cacute', 'cacute', 'Ccaron', 'ccaron', 'dcroat'];\n\n/**\n * This is the encoding used for fonts created from scratch.\n * It loops through all glyphs and finds the appropriate unicode value.\n * Since it's linear time, other encodings will be faster.\n * @exports opentype.DefaultEncoding\n * @class\n * @constructor\n * @param {opentype.Font}\n */\nfunction DefaultEncoding(font) {\n    this.font = font;\n}\n\nDefaultEncoding.prototype.charToGlyphIndex = function(c) {\n    const code = c.codePointAt(0);\n    const glyphs = this.font.glyphs;\n    if (glyphs) {\n        for (let i = 0; i < glyphs.length; i += 1) {\n            const glyph = glyphs.get(i);\n            for (let j = 0; j < glyph.unicodes.length; j += 1) {\n                if (glyph.unicodes[j] === code) {\n                    return i;\n                }\n            }\n        }\n    }\n    return null;\n};\n\n/**\n * @exports opentype.CmapEncoding\n * @class\n * @constructor\n * @param {Object} cmap - a object with the cmap encoded data\n */\nfunction CmapEncoding(cmap) {\n    this.cmap = cmap;\n}\n\n/**\n * @param  {string} c - the character\n * @return {number} The glyph index.\n */\nCmapEncoding.prototype.charToGlyphIndex = function(c) {\n    return this.cmap.glyphIndexMap[c.codePointAt(0)] || 0;\n};\n\n/**\n * @exports opentype.CffEncoding\n * @class\n * @constructor\n * @param {string} encoding - The encoding\n * @param {Array} charset - The character set.\n */\nfunction CffEncoding(encoding, charset) {\n    this.encoding = encoding;\n    this.charset = charset;\n}\n\n/**\n * @param  {string} s - The character\n * @return {number} The index.\n */\nCffEncoding.prototype.charToGlyphIndex = function(s) {\n    const code = s.codePointAt(0);\n    const charName = this.encoding[code];\n    return this.charset.indexOf(charName);\n};\n\n/**\n * @exports opentype.GlyphNames\n * @class\n * @constructor\n * @param {Object} post\n */\nfunction GlyphNames(post) {\n    switch (post.version) {\n        case 1:\n            this.names = standardNames.slice();\n            break;\n        case 2:\n            this.names = new Array(post.numberOfGlyphs);\n            for (let i = 0; i < post.numberOfGlyphs; i++) {\n                if (post.glyphNameIndex[i] < standardNames.length) {\n                    this.names[i] = standardNames[post.glyphNameIndex[i]];\n                } else {\n                    this.names[i] = post.names[post.glyphNameIndex[i] - standardNames.length];\n                }\n            }\n\n            break;\n        case 2.5:\n            this.names = new Array(post.numberOfGlyphs);\n            for (let i = 0; i < post.numberOfGlyphs; i++) {\n                this.names[i] = standardNames[i + post.glyphNameIndex[i]];\n            }\n\n            break;\n        case 3:\n            this.names = [];\n            break;\n        default:\n            this.names = [];\n            break;\n    }\n}\n\n/**\n * Gets the index of a glyph by name.\n * @param  {string} name - The glyph name\n * @return {number} The index\n */\nGlyphNames.prototype.nameToGlyphIndex = function(name) {\n    return this.names.indexOf(name);\n};\n\n/**\n * @param  {number} gid\n * @return {string}\n */\nGlyphNames.prototype.glyphIndexToName = function(gid) {\n    return this.names[gid];\n};\n\n/**\n * @alias opentype.addGlyphNames\n * @param {opentype.Font}\n */\nfunction addGlyphNames(font) {\n    let glyph;\n    const glyphIndexMap = font.tables.cmap.glyphIndexMap;\n    const charCodes = Object.keys(glyphIndexMap);\n\n    for (let i = 0; i < charCodes.length; i += 1) {\n        const c = charCodes[i];\n        const glyphIndex = glyphIndexMap[c];\n        glyph = font.glyphs.get(glyphIndex);\n        glyph.addUnicode(parseInt(c));\n    }\n\n    for (let i = 0; i < font.glyphs.length; i += 1) {\n        glyph = font.glyphs.get(i);\n        if (font.cffEncoding) {\n            if (font.isCIDFont) {\n                glyph.name = 'gid' + i;\n            } else {\n                glyph.name = font.cffEncoding.charset[i];\n            }\n        } else if (font.glyphNames.names) {\n            glyph.name = font.glyphNames.glyphIndexToName(i);\n        }\n    }\n}\n\nexport {\n    cffStandardStrings,\n    cffStandardEncoding,\n    cffExpertEncoding,\n    standardNames,\n    DefaultEncoding,\n    CmapEncoding,\n    CffEncoding,\n    GlyphNames,\n    addGlyphNames\n};\n","// The GlyphSet object\n\nimport Glyph from './glyph';\n\n// Define a property on the glyph that depends on the path being loaded.\nfunction defineDependentProperty(glyph, externalName, internalName) {\n    Object.defineProperty(glyph, externalName, {\n        get: function() {\n            // Request the path property to make sure the path is loaded.\n            glyph.path; // jshint ignore:line\n            return glyph[internalName];\n        },\n        set: function(newValue) {\n            glyph[internalName] = newValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n}\n\n/**\n * A GlyphSet represents all glyphs available in the font, but modelled using\n * a deferred glyph loader, for retrieving glyphs only once they are absolutely\n * necessary, to keep the memory footprint down.\n * @exports opentype.GlyphSet\n * @class\n * @param {opentype.Font}\n * @param {Array}\n */\nfunction GlyphSet(font, glyphs) {\n    this.font = font;\n    this.glyphs = {};\n    if (Array.isArray(glyphs)) {\n        for (let i = 0; i < glyphs.length; i++) {\n            this.glyphs[i] = glyphs[i];\n        }\n    }\n\n    this.length = (glyphs && glyphs.length) || 0;\n}\n\n/**\n * @param  {number} index\n * @return {opentype.Glyph}\n */\nGlyphSet.prototype.get = function(index) {\n    if (typeof this.glyphs[index] === 'function') {\n        this.glyphs[index] = this.glyphs[index]();\n    }\n\n    return this.glyphs[index];\n};\n\n/**\n * @param  {number} index\n * @param  {Object}\n */\nGlyphSet.prototype.push = function(index, loader) {\n    this.glyphs[index] = loader;\n    this.length++;\n};\n\n/**\n * @alias opentype.glyphLoader\n * @param  {opentype.Font} font\n * @param  {number} index\n * @return {opentype.Glyph}\n */\nfunction glyphLoader(font, index) {\n    return new Glyph({index: index, font: font});\n}\n\n/**\n * Generate a stub glyph that can be filled with all metadata *except*\n * the \"points\" and \"path\" properties, which must be loaded only once\n * the glyph's path is actually requested for text shaping.\n * @alias opentype.ttfGlyphLoader\n * @param  {opentype.Font} font\n * @param  {number} index\n * @param  {Function} parseGlyph\n * @param  {Object} data\n * @param  {number} position\n * @param  {Function} buildPath\n * @return {opentype.Glyph}\n */\nfunction ttfGlyphLoader(font, index, parseGlyph, data, position, buildPath) {\n    return function() {\n        const glyph = new Glyph({index: index, font: font});\n\n        glyph.path = function() {\n            parseGlyph(glyph, data, position);\n            const path = buildPath(font.glyphs, glyph);\n            path.unitsPerEm = font.unitsPerEm;\n            return path;\n        };\n\n        defineDependentProperty(glyph, 'xMin', '_xMin');\n        defineDependentProperty(glyph, 'xMax', '_xMax');\n        defineDependentProperty(glyph, 'yMin', '_yMin');\n        defineDependentProperty(glyph, 'yMax', '_yMax');\n\n        return glyph;\n    };\n}\n/**\n * @alias opentype.cffGlyphLoader\n * @param  {opentype.Font} font\n * @param  {number} index\n * @param  {Function} parseCFFCharstring\n * @param  {string} charstring\n * @return {opentype.Glyph}\n */\nfunction cffGlyphLoader(font, index, parseCFFCharstring, charstring) {\n    return function() {\n        const glyph = new Glyph({index: index, font: font});\n\n        glyph.path = function() {\n            const path = parseCFFCharstring(font, glyph, charstring);\n            path.unitsPerEm = font.unitsPerEm;\n            return path;\n        };\n\n        return glyph;\n    };\n}\n\nexport default { GlyphSet, glyphLoader, ttfGlyphLoader, cffGlyphLoader };\n","// The Glyph object\n\nimport check from './check';\nimport draw from './draw';\nimport Path from './path';\n// import glyf from './tables/glyf' Can't be imported here, because it's a circular dependency\n\nfunction getPathDefinition(glyph, path) {\n    let _path = path || new Path();\n    return {\n        configurable: true,\n\n        get: function() {\n            if (typeof _path === 'function') {\n                _path = _path();\n            }\n\n            return _path;\n        },\n\n        set: function(p) {\n            _path = p;\n        }\n    };\n}\n/**\n * @typedef GlyphOptions\n * @type Object\n * @property {string} [name] - The glyph name\n * @property {number} [unicode]\n * @property {Array} [unicodes]\n * @property {number} [xMin]\n * @property {number} [yMin]\n * @property {number} [xMax]\n * @property {number} [yMax]\n * @property {number} [advanceWidth]\n */\n\n// A Glyph is an individual mark that often corresponds to a character.\n// Some glyphs, such as ligatures, are a combination of many characters.\n// Glyphs are the basic building blocks of a font.\n//\n// The `Glyph` class contains utility methods for drawing the path and its points.\n/**\n * @exports opentype.Glyph\n * @class\n * @param {GlyphOptions}\n * @constructor\n */\nfunction Glyph(options) {\n    // By putting all the code on a prototype function (which is only declared once)\n    // we reduce the memory requirements for larger fonts by some 2%\n    this.bindConstructorValues(options);\n}\n\n/**\n * @param  {GlyphOptions}\n */\nGlyph.prototype.bindConstructorValues = function(options) {\n    this.index = options.index || 0;\n\n    // These three values cannot be deferred for memory optimization:\n    this.name = options.name || null;\n    this.unicode = options.unicode || undefined;\n    this.unicodes = options.unicodes || options.unicode !== undefined ? [options.unicode] : [];\n\n    // But by binding these values only when necessary, we reduce can\n    // the memory requirements by almost 3% for larger fonts.\n    if (options.xMin) {\n        this.xMin = options.xMin;\n    }\n\n    if (options.yMin) {\n        this.yMin = options.yMin;\n    }\n\n    if (options.xMax) {\n        this.xMax = options.xMax;\n    }\n\n    if (options.yMax) {\n        this.yMax = options.yMax;\n    }\n\n    if (options.advanceWidth) {\n        this.advanceWidth = options.advanceWidth;\n    }\n\n    // The path for a glyph is the most memory intensive, and is bound as a value\n    // with a getter/setter to ensure we actually do path parsing only once the\n    // path is actually needed by anything.\n    Object.defineProperty(this, 'path', getPathDefinition(this, options.path));\n};\n\n/**\n * @param {number}\n */\nGlyph.prototype.addUnicode = function(unicode) {\n    if (this.unicodes.length === 0) {\n        this.unicode = unicode;\n    }\n\n    this.unicodes.push(unicode);\n};\n\n/**\n * Calculate the minimum bounding box for this glyph.\n * @return {opentype.BoundingBox}\n */\nGlyph.prototype.getBoundingBox = function() {\n    return this.path.getBoundingBox();\n};\n\n/**\n * Convert the glyph to a Path we can draw on a drawing context.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {Object=} options - xScale, yScale to stretch the glyph.\n * @param  {opentype.Font} if hinting is to be used, the font\n * @return {opentype.Path}\n */\nGlyph.prototype.getPath = function(x, y, fontSize, options, font) {\n    x = x !== undefined ? x : 0;\n    y = y !== undefined ? y : 0;\n    fontSize = fontSize !== undefined ? fontSize : 72;\n    let commands;\n    let hPoints;\n    if (!options) options = { };\n    let xScale = options.xScale;\n    let yScale = options.yScale;\n\n    if (options.hinting && font && font.hinting) {\n        // in case of hinting, the hinting engine takes care\n        // of scaling the points (not the path) before hinting.\n        hPoints = this.path && font.hinting.exec(this, fontSize);\n        // in case the hinting engine failed hPoints is undefined\n        // and thus reverts to plain rending\n    }\n\n    if (hPoints) {\n        // Call font.hinting.getCommands instead of `glyf.getPath(hPoints).commands` to avoid a circular dependency\n        commands = font.hinting.getCommands(hPoints);\n        x = Math.round(x);\n        y = Math.round(y);\n        // TODO in case of hinting xyScaling is not yet supported\n        xScale = yScale = 1;\n    } else {\n        commands = this.path.commands;\n        const scale = 1 / this.path.unitsPerEm * fontSize;\n        if (xScale === undefined) xScale = scale;\n        if (yScale === undefined) yScale = scale;\n    }\n\n    const p = new Path();\n    for (let i = 0; i < commands.length; i += 1) {\n        const cmd = commands[i];\n        if (cmd.type === 'M') {\n            p.moveTo(x + (cmd.x * xScale), y + (-cmd.y * yScale));\n        } else if (cmd.type === 'L') {\n            p.lineTo(x + (cmd.x * xScale), y + (-cmd.y * yScale));\n        } else if (cmd.type === 'Q') {\n            p.quadraticCurveTo(x + (cmd.x1 * xScale), y + (-cmd.y1 * yScale),\n                               x + (cmd.x * xScale), y + (-cmd.y * yScale));\n        } else if (cmd.type === 'C') {\n            p.curveTo(x + (cmd.x1 * xScale), y + (-cmd.y1 * yScale),\n                      x + (cmd.x2 * xScale), y + (-cmd.y2 * yScale),\n                      x + (cmd.x * xScale), y + (-cmd.y * yScale));\n        } else if (cmd.type === 'Z') {\n            p.closePath();\n        }\n    }\n\n    return p;\n};\n\n/**\n * Split the glyph into contours.\n * This function is here for backwards compatibility, and to\n * provide raw access to the TrueType glyph outlines.\n * @return {Array}\n */\nGlyph.prototype.getContours = function() {\n    if (this.points === undefined) {\n        return [];\n    }\n\n    const contours = [];\n    let currentContour = [];\n    for (let i = 0; i < this.points.length; i += 1) {\n        const pt = this.points[i];\n        currentContour.push(pt);\n        if (pt.lastPointOfContour) {\n            contours.push(currentContour);\n            currentContour = [];\n        }\n    }\n\n    check.argument(currentContour.length === 0, 'There are still points left in the current contour.');\n    return contours;\n};\n\n/**\n * Calculate the xMin/yMin/xMax/yMax/lsb/rsb for a Glyph.\n * @return {Object}\n */\nGlyph.prototype.getMetrics = function() {\n    const commands = this.path.commands;\n    const xCoords = [];\n    const yCoords = [];\n    for (let i = 0; i < commands.length; i += 1) {\n        const cmd = commands[i];\n        if (cmd.type !== 'Z') {\n            xCoords.push(cmd.x);\n            yCoords.push(cmd.y);\n        }\n\n        if (cmd.type === 'Q' || cmd.type === 'C') {\n            xCoords.push(cmd.x1);\n            yCoords.push(cmd.y1);\n        }\n\n        if (cmd.type === 'C') {\n            xCoords.push(cmd.x2);\n            yCoords.push(cmd.y2);\n        }\n    }\n\n    const metrics = {\n        xMin: Math.min.apply(null, xCoords),\n        yMin: Math.min.apply(null, yCoords),\n        xMax: Math.max.apply(null, xCoords),\n        yMax: Math.max.apply(null, yCoords),\n        leftSideBearing: this.leftSideBearing\n    };\n\n    if (!isFinite(metrics.xMin)) {\n        metrics.xMin = 0;\n    }\n\n    if (!isFinite(metrics.xMax)) {\n        metrics.xMax = this.advanceWidth;\n    }\n\n    if (!isFinite(metrics.yMin)) {\n        metrics.yMin = 0;\n    }\n\n    if (!isFinite(metrics.yMax)) {\n        metrics.yMax = 0;\n    }\n\n    metrics.rightSideBearing = this.advanceWidth - metrics.leftSideBearing - (metrics.xMax - metrics.xMin);\n    return metrics;\n};\n\n/**\n * Draw the glyph on the given context.\n * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {Object=} options - xScale, yScale to stretch the glyph.\n */\nGlyph.prototype.draw = function(ctx, x, y, fontSize, options) {\n    this.getPath(x, y, fontSize, options).draw(ctx);\n};\n\n/**\n * Draw the points of the glyph.\n * On-curve points will be drawn in blue, off-curve points will be drawn in red.\n * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n */\nGlyph.prototype.drawPoints = function(ctx, x, y, fontSize) {\n    function drawCircles(l, x, y, scale) {\n        const PI_SQ = Math.PI * 2;\n        ctx.beginPath();\n        for (let j = 0; j < l.length; j += 1) {\n            ctx.moveTo(x + (l[j].x * scale), y + (l[j].y * scale));\n            ctx.arc(x + (l[j].x * scale), y + (l[j].y * scale), 2, 0, PI_SQ, false);\n        }\n\n        ctx.closePath();\n        ctx.fill();\n    }\n\n    x = x !== undefined ? x : 0;\n    y = y !== undefined ? y : 0;\n    fontSize = fontSize !== undefined ? fontSize : 24;\n    const scale = 1 / this.path.unitsPerEm * fontSize;\n\n    const blueCircles = [];\n    const redCircles = [];\n    const path = this.path;\n    for (let i = 0; i < path.commands.length; i += 1) {\n        const cmd = path.commands[i];\n        if (cmd.x !== undefined) {\n            blueCircles.push({x: cmd.x, y: -cmd.y});\n        }\n\n        if (cmd.x1 !== undefined) {\n            redCircles.push({x: cmd.x1, y: -cmd.y1});\n        }\n\n        if (cmd.x2 !== undefined) {\n            redCircles.push({x: cmd.x2, y: -cmd.y2});\n        }\n    }\n\n    ctx.fillStyle = 'blue';\n    drawCircles(blueCircles, x, y, scale);\n    ctx.fillStyle = 'red';\n    drawCircles(redCircles, x, y, scale);\n};\n\n/**\n * Draw lines indicating important font measurements.\n * Black lines indicate the origin of the coordinate system (point 0,0).\n * Blue lines indicate the glyph bounding box.\n * Green line indicates the advance width of the glyph.\n * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n */\nGlyph.prototype.drawMetrics = function(ctx, x, y, fontSize) {\n    let scale;\n    x = x !== undefined ? x : 0;\n    y = y !== undefined ? y : 0;\n    fontSize = fontSize !== undefined ? fontSize : 24;\n    scale = 1 / this.path.unitsPerEm * fontSize;\n    ctx.lineWidth = 1;\n\n    // Draw the origin\n    ctx.strokeStyle = 'black';\n    draw.line(ctx, x, -10000, x, 10000);\n    draw.line(ctx, -10000, y, 10000, y);\n\n    // This code is here due to memory optimization: by not using\n    // defaults in the constructor, we save a notable amount of memory.\n    const xMin = this.xMin || 0;\n    let yMin = this.yMin || 0;\n    const xMax = this.xMax || 0;\n    let yMax = this.yMax || 0;\n    const advanceWidth = this.advanceWidth || 0;\n\n    // Draw the glyph box\n    ctx.strokeStyle = 'blue';\n    draw.line(ctx, x + (xMin * scale), -10000, x + (xMin * scale), 10000);\n    draw.line(ctx, x + (xMax * scale), -10000, x + (xMax * scale), 10000);\n    draw.line(ctx, -10000, y + (-yMin * scale), 10000, y + (-yMin * scale));\n    draw.line(ctx, -10000, y + (-yMax * scale), 10000, y + (-yMax * scale));\n\n    // Draw the advance width\n    ctx.strokeStyle = 'green';\n    draw.line(ctx, x + (advanceWidth * scale), -10000, x + (advanceWidth * scale), 10000);\n};\n\nexport default Glyph;\n","// Drawing utility functions.\n\n// Draw a line on the given context from point `x1,y1` to point `x2,y2`.\nfunction line(ctx, x1, y1, x2, y2) {\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n}\n\nexport default { line };\n","// The `head` table contains global information about the font.\n// https://www.microsoft.com/typography/OTSPEC/head.htm\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the header `head` table\nfunction parseHeadTable(data, start) {\n    const head = {};\n    const p = new parse.Parser(data, start);\n    head.version = p.parseVersion();\n    head.fontRevision = Math.round(p.parseFixed() * 1000) / 1000;\n    head.checkSumAdjustment = p.parseULong();\n    head.magicNumber = p.parseULong();\n    check.argument(head.magicNumber === 0x5F0F3CF5, 'Font header has wrong magic number.');\n    head.flags = p.parseUShort();\n    head.unitsPerEm = p.parseUShort();\n    head.created = p.parseLongDateTime();\n    head.modified = p.parseLongDateTime();\n    head.xMin = p.parseShort();\n    head.yMin = p.parseShort();\n    head.xMax = p.parseShort();\n    head.yMax = p.parseShort();\n    head.macStyle = p.parseUShort();\n    head.lowestRecPPEM = p.parseUShort();\n    head.fontDirectionHint = p.parseShort();\n    head.indexToLocFormat = p.parseShort();\n    head.glyphDataFormat = p.parseShort();\n    return head;\n}\n\nfunction makeHeadTable(options) {\n    // Apple Mac timestamp epoch is 01/01/1904 not 01/01/1970\n    const timestamp = Math.round(new Date().getTime() / 1000) + 2082844800;\n    let createdTimestamp = timestamp;\n\n    if (options.createdTimestamp) {\n        createdTimestamp = options.createdTimestamp + 2082844800;\n    }\n\n    return new table.Table('head', [\n        {name: 'version', type: 'FIXED', value: 0x00010000},\n        {name: 'fontRevision', type: 'FIXED', value: 0x00010000},\n        {name: 'checkSumAdjustment', type: 'ULONG', value: 0},\n        {name: 'magicNumber', type: 'ULONG', value: 0x5F0F3CF5},\n        {name: 'flags', type: 'USHORT', value: 0},\n        {name: 'unitsPerEm', type: 'USHORT', value: 1000},\n        {name: 'created', type: 'LONGDATETIME', value: createdTimestamp},\n        {name: 'modified', type: 'LONGDATETIME', value: timestamp},\n        {name: 'xMin', type: 'SHORT', value: 0},\n        {name: 'yMin', type: 'SHORT', value: 0},\n        {name: 'xMax', type: 'SHORT', value: 0},\n        {name: 'yMax', type: 'SHORT', value: 0},\n        {name: 'macStyle', type: 'USHORT', value: 0},\n        {name: 'lowestRecPPEM', type: 'USHORT', value: 0},\n        {name: 'fontDirectionHint', type: 'SHORT', value: 2},\n        {name: 'indexToLocFormat', type: 'SHORT', value: 0},\n        {name: 'glyphDataFormat', type: 'SHORT', value: 0}\n    ], options);\n}\n\nexport default { parse: parseHeadTable, make: makeHeadTable };\n","// The `hhea` table contains information for horizontal layout.\n// https://www.microsoft.com/typography/OTSPEC/hhea.htm\n\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the horizontal header `hhea` table\nfunction parseHheaTable(data, start) {\n    const hhea = {};\n    const p = new parse.Parser(data, start);\n    hhea.version = p.parseVersion();\n    hhea.ascender = p.parseShort();\n    hhea.descender = p.parseShort();\n    hhea.lineGap = p.parseShort();\n    hhea.advanceWidthMax = p.parseUShort();\n    hhea.minLeftSideBearing = p.parseShort();\n    hhea.minRightSideBearing = p.parseShort();\n    hhea.xMaxExtent = p.parseShort();\n    hhea.caretSlopeRise = p.parseShort();\n    hhea.caretSlopeRun = p.parseShort();\n    hhea.caretOffset = p.parseShort();\n    p.relativeOffset += 8;\n    hhea.metricDataFormat = p.parseShort();\n    hhea.numberOfHMetrics = p.parseUShort();\n    return hhea;\n}\n\nfunction makeHheaTable(options) {\n    return new table.Table('hhea', [\n        {name: 'version', type: 'FIXED', value: 0x00010000},\n        {name: 'ascender', type: 'FWORD', value: 0},\n        {name: 'descender', type: 'FWORD', value: 0},\n        {name: 'lineGap', type: 'FWORD', value: 0},\n        {name: 'advanceWidthMax', type: 'UFWORD', value: 0},\n        {name: 'minLeftSideBearing', type: 'FWORD', value: 0},\n        {name: 'minRightSideBearing', type: 'FWORD', value: 0},\n        {name: 'xMaxExtent', type: 'FWORD', value: 0},\n        {name: 'caretSlopeRise', type: 'SHORT', value: 1},\n        {name: 'caretSlopeRun', type: 'SHORT', value: 0},\n        {name: 'caretOffset', type: 'SHORT', value: 0},\n        {name: 'reserved1', type: 'SHORT', value: 0},\n        {name: 'reserved2', type: 'SHORT', value: 0},\n        {name: 'reserved3', type: 'SHORT', value: 0},\n        {name: 'reserved4', type: 'SHORT', value: 0},\n        {name: 'metricDataFormat', type: 'SHORT', value: 0},\n        {name: 'numberOfHMetrics', type: 'USHORT', value: 0}\n    ], options);\n}\n\nexport default { parse: parseHheaTable, make: makeHheaTable };\n","// The `hmtx` table contains the horizontal metrics for all glyphs.\n// https://www.microsoft.com/typography/OTSPEC/hmtx.htm\n\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the `hmtx` table, which contains the horizontal metrics for all glyphs.\n// This function augments the glyph array, adding the advanceWidth and leftSideBearing to each glyph.\nfunction parseHmtxTable(data, start, numMetrics, numGlyphs, glyphs) {\n    let advanceWidth;\n    let leftSideBearing;\n    const p = new parse.Parser(data, start);\n    for (let i = 0; i < numGlyphs; i += 1) {\n        // If the font is monospaced, only one entry is needed. This last entry applies to all subsequent glyphs.\n        if (i < numMetrics) {\n            advanceWidth = p.parseUShort();\n            leftSideBearing = p.parseShort();\n        }\n\n        const glyph = glyphs.get(i);\n        glyph.advanceWidth = advanceWidth;\n        glyph.leftSideBearing = leftSideBearing;\n    }\n}\n\nfunction makeHmtxTable(glyphs) {\n    const t = new table.Table('hmtx', []);\n    for (let i = 0; i < glyphs.length; i += 1) {\n        const glyph = glyphs.get(i);\n        const advanceWidth = glyph.advanceWidth || 0;\n        const leftSideBearing = glyph.leftSideBearing || 0;\n        t.fields.push({name: 'advanceWidth_' + i, type: 'USHORT', value: advanceWidth});\n        t.fields.push({name: 'leftSideBearing_' + i, type: 'SHORT', value: leftSideBearing});\n    }\n\n    return t;\n}\n\nexport default { parse: parseHmtxTable, make: makeHmtxTable };\n","// The `ltag` table stores IETF BCP-47 language tags. It allows supporting\n// languages for which TrueType does not assign a numeric code.\n// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6ltag.html\n// http://www.w3.org/International/articles/language-tags/\n// http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\nfunction makeLtagTable(tags) {\n    const result = new table.Table('ltag', [\n        {name: 'version', type: 'ULONG', value: 1},\n        {name: 'flags', type: 'ULONG', value: 0},\n        {name: 'numTags', type: 'ULONG', value: tags.length}\n    ]);\n\n    let stringPool = '';\n    const stringPoolOffset = 12 + tags.length * 4;\n    for (let i = 0; i < tags.length; ++i) {\n        let pos = stringPool.indexOf(tags[i]);\n        if (pos < 0) {\n            pos = stringPool.length;\n            stringPool += tags[i];\n        }\n\n        result.fields.push({name: 'offset ' + i, type: 'USHORT', value: stringPoolOffset + pos});\n        result.fields.push({name: 'length ' + i, type: 'USHORT', value: tags[i].length});\n    }\n\n    result.fields.push({name: 'stringPool', type: 'CHARARRAY', value: stringPool});\n    return result;\n}\n\nfunction parseLtagTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const tableVersion = p.parseULong();\n    check.argument(tableVersion === 1, 'Unsupported ltag table version.');\n    // The 'ltag' specification does not define any flags; skip the field.\n    p.skip('uLong', 1);\n    const numTags = p.parseULong();\n\n    const tags = [];\n    for (let i = 0; i < numTags; i++) {\n        let tag = '';\n        const offset = start + p.parseUShort();\n        const length = p.parseUShort();\n        for (let j = offset; j < offset + length; ++j) {\n            tag += String.fromCharCode(data.getInt8(j));\n        }\n\n        tags.push(tag);\n    }\n\n    return tags;\n}\n\nexport default { make: makeLtagTable, parse: parseLtagTable };\n","// The `maxp` table establishes the memory requirements for the font.\n// We need it just to get the number of glyphs in the font.\n// https://www.microsoft.com/typography/OTSPEC/maxp.htm\n\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the maximum profile `maxp` table.\nfunction parseMaxpTable(data, start) {\n    const maxp = {};\n    const p = new parse.Parser(data, start);\n    maxp.version = p.parseVersion();\n    maxp.numGlyphs = p.parseUShort();\n    if (maxp.version === 1.0) {\n        maxp.maxPoints = p.parseUShort();\n        maxp.maxContours = p.parseUShort();\n        maxp.maxCompositePoints = p.parseUShort();\n        maxp.maxCompositeContours = p.parseUShort();\n        maxp.maxZones = p.parseUShort();\n        maxp.maxTwilightPoints = p.parseUShort();\n        maxp.maxStorage = p.parseUShort();\n        maxp.maxFunctionDefs = p.parseUShort();\n        maxp.maxInstructionDefs = p.parseUShort();\n        maxp.maxStackElements = p.parseUShort();\n        maxp.maxSizeOfInstructions = p.parseUShort();\n        maxp.maxComponentElements = p.parseUShort();\n        maxp.maxComponentDepth = p.parseUShort();\n    }\n\n    return maxp;\n}\n\nfunction makeMaxpTable(numGlyphs) {\n    return new table.Table('maxp', [\n        {name: 'version', type: 'FIXED', value: 0x00005000},\n        {name: 'numGlyphs', type: 'USHORT', value: numGlyphs}\n    ]);\n}\n\nexport default { parse: parseMaxpTable, make: makeMaxpTable };\n","// The `name` naming table.\n// https://www.microsoft.com/typography/OTSPEC/name.htm\n\nimport { decode, encode } from '../types';\nimport parse from '../parse';\nimport table from '../table';\n\n// NameIDs for the name table.\nconst nameTableNames = [\n    'copyright',              // 0\n    'fontFamily',             // 1\n    'fontSubfamily',          // 2\n    'uniqueID',               // 3\n    'fullName',               // 4\n    'version',                // 5\n    'postScriptName',         // 6\n    'trademark',              // 7\n    'manufacturer',           // 8\n    'designer',               // 9\n    'description',            // 10\n    'manufacturerURL',        // 11\n    'designerURL',            // 12\n    'license',                // 13\n    'licenseURL',             // 14\n    'reserved',               // 15\n    'preferredFamily',        // 16\n    'preferredSubfamily',     // 17\n    'compatibleFullName',     // 18\n    'sampleText',             // 19\n    'postScriptFindFontName', // 20\n    'wwsFamily',              // 21\n    'wwsSubfamily'            // 22\n];\n\nconst macLanguages = {\n    0: 'en',\n    1: 'fr',\n    2: 'de',\n    3: 'it',\n    4: 'nl',\n    5: 'sv',\n    6: 'es',\n    7: 'da',\n    8: 'pt',\n    9: 'no',\n    10: 'he',\n    11: 'ja',\n    12: 'ar',\n    13: 'fi',\n    14: 'el',\n    15: 'is',\n    16: 'mt',\n    17: 'tr',\n    18: 'hr',\n    19: 'zh-Hant',\n    20: 'ur',\n    21: 'hi',\n    22: 'th',\n    23: 'ko',\n    24: 'lt',\n    25: 'pl',\n    26: 'hu',\n    27: 'es',\n    28: 'lv',\n    29: 'se',\n    30: 'fo',\n    31: 'fa',\n    32: 'ru',\n    33: 'zh',\n    34: 'nl-BE',\n    35: 'ga',\n    36: 'sq',\n    37: 'ro',\n    38: 'cz',\n    39: 'sk',\n    40: 'si',\n    41: 'yi',\n    42: 'sr',\n    43: 'mk',\n    44: 'bg',\n    45: 'uk',\n    46: 'be',\n    47: 'uz',\n    48: 'kk',\n    49: 'az-Cyrl',\n    50: 'az-Arab',\n    51: 'hy',\n    52: 'ka',\n    53: 'mo',\n    54: 'ky',\n    55: 'tg',\n    56: 'tk',\n    57: 'mn-CN',\n    58: 'mn',\n    59: 'ps',\n    60: 'ks',\n    61: 'ku',\n    62: 'sd',\n    63: 'bo',\n    64: 'ne',\n    65: 'sa',\n    66: 'mr',\n    67: 'bn',\n    68: 'as',\n    69: 'gu',\n    70: 'pa',\n    71: 'or',\n    72: 'ml',\n    73: 'kn',\n    74: 'ta',\n    75: 'te',\n    76: 'si',\n    77: 'my',\n    78: 'km',\n    79: 'lo',\n    80: 'vi',\n    81: 'id',\n    82: 'tl',\n    83: 'ms',\n    84: 'ms-Arab',\n    85: 'am',\n    86: 'ti',\n    87: 'om',\n    88: 'so',\n    89: 'sw',\n    90: 'rw',\n    91: 'rn',\n    92: 'ny',\n    93: 'mg',\n    94: 'eo',\n    128: 'cy',\n    129: 'eu',\n    130: 'ca',\n    131: 'la',\n    132: 'qu',\n    133: 'gn',\n    134: 'ay',\n    135: 'tt',\n    136: 'ug',\n    137: 'dz',\n    138: 'jv',\n    139: 'su',\n    140: 'gl',\n    141: 'af',\n    142: 'br',\n    143: 'iu',\n    144: 'gd',\n    145: 'gv',\n    146: 'ga',\n    147: 'to',\n    148: 'el-polyton',\n    149: 'kl',\n    150: 'az',\n    151: 'nn'\n};\n\n// MacOS language ID  MacOS script ID\n//\n// Note that the script ID is not sufficient to determine what encoding\n// to use in TrueType files. For some languages, MacOS used a modification\n// of a mainstream script. For example, an Icelandic name would be stored\n// with smRoman in the TrueType naming table, but the actual encoding\n// is a special Icelandic version of the normal Macintosh Roman encoding.\n// As another example, Inuktitut uses an 8-bit encoding for Canadian Aboriginal\n// Syllables but MacOS had run out of available script codes, so this was\n// done as a (pretty radical) \"modification\" of Ethiopic.\n//\n// http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/Readme.txt\nconst macLanguageToScript = {\n    0: 0,  // langEnglish  smRoman\n    1: 0,  // langFrench  smRoman\n    2: 0,  // langGerman  smRoman\n    3: 0,  // langItalian  smRoman\n    4: 0,  // langDutch  smRoman\n    5: 0,  // langSwedish  smRoman\n    6: 0,  // langSpanish  smRoman\n    7: 0,  // langDanish  smRoman\n    8: 0,  // langPortuguese  smRoman\n    9: 0,  // langNorwegian  smRoman\n    10: 5,  // langHebrew  smHebrew\n    11: 1,  // langJapanese  smJapanese\n    12: 4,  // langArabic  smArabic\n    13: 0,  // langFinnish  smRoman\n    14: 6,  // langGreek  smGreek\n    15: 0,  // langIcelandic  smRoman (modified)\n    16: 0,  // langMaltese  smRoman\n    17: 0,  // langTurkish  smRoman (modified)\n    18: 0,  // langCroatian  smRoman (modified)\n    19: 2,  // langTradChinese  smTradChinese\n    20: 4,  // langUrdu  smArabic\n    21: 9,  // langHindi  smDevanagari\n    22: 21,  // langThai  smThai\n    23: 3,  // langKorean  smKorean\n    24: 29,  // langLithuanian  smCentralEuroRoman\n    25: 29,  // langPolish  smCentralEuroRoman\n    26: 29,  // langHungarian  smCentralEuroRoman\n    27: 29,  // langEstonian  smCentralEuroRoman\n    28: 29,  // langLatvian  smCentralEuroRoman\n    29: 0,  // langSami  smRoman\n    30: 0,  // langFaroese  smRoman (modified)\n    31: 4,  // langFarsi  smArabic (modified)\n    32: 7,  // langRussian  smCyrillic\n    33: 25,  // langSimpChinese  smSimpChinese\n    34: 0,  // langFlemish  smRoman\n    35: 0,  // langIrishGaelic  smRoman (modified)\n    36: 0,  // langAlbanian  smRoman\n    37: 0,  // langRomanian  smRoman (modified)\n    38: 29,  // langCzech  smCentralEuroRoman\n    39: 29,  // langSlovak  smCentralEuroRoman\n    40: 0,  // langSlovenian  smRoman (modified)\n    41: 5,  // langYiddish  smHebrew\n    42: 7,  // langSerbian  smCyrillic\n    43: 7,  // langMacedonian  smCyrillic\n    44: 7,  // langBulgarian  smCyrillic\n    45: 7,  // langUkrainian  smCyrillic (modified)\n    46: 7,  // langByelorussian  smCyrillic\n    47: 7,  // langUzbek  smCyrillic\n    48: 7,  // langKazakh  smCyrillic\n    49: 7,  // langAzerbaijani  smCyrillic\n    50: 4,  // langAzerbaijanAr  smArabic\n    51: 24,  // langArmenian  smArmenian\n    52: 23,  // langGeorgian  smGeorgian\n    53: 7,  // langMoldavian  smCyrillic\n    54: 7,  // langKirghiz  smCyrillic\n    55: 7,  // langTajiki  smCyrillic\n    56: 7,  // langTurkmen  smCyrillic\n    57: 27,  // langMongolian  smMongolian\n    58: 7,  // langMongolianCyr  smCyrillic\n    59: 4,  // langPashto  smArabic\n    60: 4,  // langKurdish  smArabic\n    61: 4,  // langKashmiri  smArabic\n    62: 4,  // langSindhi  smArabic\n    63: 26,  // langTibetan  smTibetan\n    64: 9,  // langNepali  smDevanagari\n    65: 9,  // langSanskrit  smDevanagari\n    66: 9,  // langMarathi  smDevanagari\n    67: 13,  // langBengali  smBengali\n    68: 13,  // langAssamese  smBengali\n    69: 11,  // langGujarati  smGujarati\n    70: 10,  // langPunjabi  smGurmukhi\n    71: 12,  // langOriya  smOriya\n    72: 17,  // langMalayalam  smMalayalam\n    73: 16,  // langKannada  smKannada\n    74: 14,  // langTamil  smTamil\n    75: 15,  // langTelugu  smTelugu\n    76: 18,  // langSinhalese  smSinhalese\n    77: 19,  // langBurmese  smBurmese\n    78: 20,  // langKhmer  smKhmer\n    79: 22,  // langLao  smLao\n    80: 30,  // langVietnamese  smVietnamese\n    81: 0,  // langIndonesian  smRoman\n    82: 0,  // langTagalog  smRoman\n    83: 0,  // langMalayRoman  smRoman\n    84: 4,  // langMalayArabic  smArabic\n    85: 28,  // langAmharic  smEthiopic\n    86: 28,  // langTigrinya  smEthiopic\n    87: 28,  // langOromo  smEthiopic\n    88: 0,  // langSomali  smRoman\n    89: 0,  // langSwahili  smRoman\n    90: 0,  // langKinyarwanda  smRoman\n    91: 0,  // langRundi  smRoman\n    92: 0,  // langNyanja  smRoman\n    93: 0,  // langMalagasy  smRoman\n    94: 0,  // langEsperanto  smRoman\n    128: 0,  // langWelsh  smRoman (modified)\n    129: 0,  // langBasque  smRoman\n    130: 0,  // langCatalan  smRoman\n    131: 0,  // langLatin  smRoman\n    132: 0,  // langQuechua  smRoman\n    133: 0,  // langGuarani  smRoman\n    134: 0,  // langAymara  smRoman\n    135: 7,  // langTatar  smCyrillic\n    136: 4,  // langUighur  smArabic\n    137: 26,  // langDzongkha  smTibetan\n    138: 0,  // langJavaneseRom  smRoman\n    139: 0,  // langSundaneseRom  smRoman\n    140: 0,  // langGalician  smRoman\n    141: 0,  // langAfrikaans  smRoman\n    142: 0,  // langBreton  smRoman (modified)\n    143: 28,  // langInuktitut  smEthiopic (modified)\n    144: 0,  // langScottishGaelic  smRoman (modified)\n    145: 0,  // langManxGaelic  smRoman (modified)\n    146: 0,  // langIrishGaelicScript  smRoman (modified)\n    147: 0,  // langTongan  smRoman\n    148: 6,  // langGreekAncient  smRoman\n    149: 0,  // langGreenlandic  smRoman\n    150: 0,  // langAzerbaijanRoman  smRoman\n    151: 0   // langNynorsk  smRoman\n};\n\n// While Microsoft indicates a region/country for all its language\n// IDs, we omit the region code if it's equal to the \"most likely\n// region subtag\" according to Unicode CLDR. For scripts, we omit\n// the subtag if it is equal to the Suppress-Script entry in the\n// IANA language subtag registry for IETF BCP 47.\n//\n// For example, Microsoft states that its language code 0x041A is\n// Croatian in Croatia. We transform this to the BCP 47 language code 'hr'\n// and not 'hr-HR' because Croatia is the default country for Croatian,\n// according to Unicode CLDR. As another example, Microsoft states\n// that 0x101A is Croatian (Latin) in Bosnia-Herzegovina. We transform\n// this to 'hr-BA' and not 'hr-Latn-BA' because Latin is the default script\n// for the Croatian language, according to IANA.\n//\n// http://www.unicode.org/cldr/charts/latest/supplemental/likely_subtags.html\n// http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\nconst windowsLanguages = {\n    0x0436: 'af',\n    0x041C: 'sq',\n    0x0484: 'gsw',\n    0x045E: 'am',\n    0x1401: 'ar-DZ',\n    0x3C01: 'ar-BH',\n    0x0C01: 'ar',\n    0x0801: 'ar-IQ',\n    0x2C01: 'ar-JO',\n    0x3401: 'ar-KW',\n    0x3001: 'ar-LB',\n    0x1001: 'ar-LY',\n    0x1801: 'ary',\n    0x2001: 'ar-OM',\n    0x4001: 'ar-QA',\n    0x0401: 'ar-SA',\n    0x2801: 'ar-SY',\n    0x1C01: 'aeb',\n    0x3801: 'ar-AE',\n    0x2401: 'ar-YE',\n    0x042B: 'hy',\n    0x044D: 'as',\n    0x082C: 'az-Cyrl',\n    0x042C: 'az',\n    0x046D: 'ba',\n    0x042D: 'eu',\n    0x0423: 'be',\n    0x0845: 'bn',\n    0x0445: 'bn-IN',\n    0x201A: 'bs-Cyrl',\n    0x141A: 'bs',\n    0x047E: 'br',\n    0x0402: 'bg',\n    0x0403: 'ca',\n    0x0C04: 'zh-HK',\n    0x1404: 'zh-MO',\n    0x0804: 'zh',\n    0x1004: 'zh-SG',\n    0x0404: 'zh-TW',\n    0x0483: 'co',\n    0x041A: 'hr',\n    0x101A: 'hr-BA',\n    0x0405: 'cs',\n    0x0406: 'da',\n    0x048C: 'prs',\n    0x0465: 'dv',\n    0x0813: 'nl-BE',\n    0x0413: 'nl',\n    0x0C09: 'en-AU',\n    0x2809: 'en-BZ',\n    0x1009: 'en-CA',\n    0x2409: 'en-029',\n    0x4009: 'en-IN',\n    0x1809: 'en-IE',\n    0x2009: 'en-JM',\n    0x4409: 'en-MY',\n    0x1409: 'en-NZ',\n    0x3409: 'en-PH',\n    0x4809: 'en-SG',\n    0x1C09: 'en-ZA',\n    0x2C09: 'en-TT',\n    0x0809: 'en-GB',\n    0x0409: 'en',\n    0x3009: 'en-ZW',\n    0x0425: 'et',\n    0x0438: 'fo',\n    0x0464: 'fil',\n    0x040B: 'fi',\n    0x080C: 'fr-BE',\n    0x0C0C: 'fr-CA',\n    0x040C: 'fr',\n    0x140C: 'fr-LU',\n    0x180C: 'fr-MC',\n    0x100C: 'fr-CH',\n    0x0462: 'fy',\n    0x0456: 'gl',\n    0x0437: 'ka',\n    0x0C07: 'de-AT',\n    0x0407: 'de',\n    0x1407: 'de-LI',\n    0x1007: 'de-LU',\n    0x0807: 'de-CH',\n    0x0408: 'el',\n    0x046F: 'kl',\n    0x0447: 'gu',\n    0x0468: 'ha',\n    0x040D: 'he',\n    0x0439: 'hi',\n    0x040E: 'hu',\n    0x040F: 'is',\n    0x0470: 'ig',\n    0x0421: 'id',\n    0x045D: 'iu',\n    0x085D: 'iu-Latn',\n    0x083C: 'ga',\n    0x0434: 'xh',\n    0x0435: 'zu',\n    0x0410: 'it',\n    0x0810: 'it-CH',\n    0x0411: 'ja',\n    0x044B: 'kn',\n    0x043F: 'kk',\n    0x0453: 'km',\n    0x0486: 'quc',\n    0x0487: 'rw',\n    0x0441: 'sw',\n    0x0457: 'kok',\n    0x0412: 'ko',\n    0x0440: 'ky',\n    0x0454: 'lo',\n    0x0426: 'lv',\n    0x0427: 'lt',\n    0x082E: 'dsb',\n    0x046E: 'lb',\n    0x042F: 'mk',\n    0x083E: 'ms-BN',\n    0x043E: 'ms',\n    0x044C: 'ml',\n    0x043A: 'mt',\n    0x0481: 'mi',\n    0x047A: 'arn',\n    0x044E: 'mr',\n    0x047C: 'moh',\n    0x0450: 'mn',\n    0x0850: 'mn-CN',\n    0x0461: 'ne',\n    0x0414: 'nb',\n    0x0814: 'nn',\n    0x0482: 'oc',\n    0x0448: 'or',\n    0x0463: 'ps',\n    0x0415: 'pl',\n    0x0416: 'pt',\n    0x0816: 'pt-PT',\n    0x0446: 'pa',\n    0x046B: 'qu-BO',\n    0x086B: 'qu-EC',\n    0x0C6B: 'qu',\n    0x0418: 'ro',\n    0x0417: 'rm',\n    0x0419: 'ru',\n    0x243B: 'smn',\n    0x103B: 'smj-NO',\n    0x143B: 'smj',\n    0x0C3B: 'se-FI',\n    0x043B: 'se',\n    0x083B: 'se-SE',\n    0x203B: 'sms',\n    0x183B: 'sma-NO',\n    0x1C3B: 'sms',\n    0x044F: 'sa',\n    0x1C1A: 'sr-Cyrl-BA',\n    0x0C1A: 'sr',\n    0x181A: 'sr-Latn-BA',\n    0x081A: 'sr-Latn',\n    0x046C: 'nso',\n    0x0432: 'tn',\n    0x045B: 'si',\n    0x041B: 'sk',\n    0x0424: 'sl',\n    0x2C0A: 'es-AR',\n    0x400A: 'es-BO',\n    0x340A: 'es-CL',\n    0x240A: 'es-CO',\n    0x140A: 'es-CR',\n    0x1C0A: 'es-DO',\n    0x300A: 'es-EC',\n    0x440A: 'es-SV',\n    0x100A: 'es-GT',\n    0x480A: 'es-HN',\n    0x080A: 'es-MX',\n    0x4C0A: 'es-NI',\n    0x180A: 'es-PA',\n    0x3C0A: 'es-PY',\n    0x280A: 'es-PE',\n    0x500A: 'es-PR',\n\n    // Microsoft has defined two different language codes for\n    // Spanish with modern sorting and Spanish with traditional\n    // sorting. This makes sense for collation APIs, and it would be\n    // possible to express this in BCP 47 language tags via Unicode\n    // extensions (eg., es-u-co-trad is Spanish with traditional\n    // sorting). However, for storing names in fonts, the distinction\n    // does not make sense, so we give es in both cases.\n    0x0C0A: 'es',\n    0x040A: 'es',\n\n    0x540A: 'es-US',\n    0x380A: 'es-UY',\n    0x200A: 'es-VE',\n    0x081D: 'sv-FI',\n    0x041D: 'sv',\n    0x045A: 'syr',\n    0x0428: 'tg',\n    0x085F: 'tzm',\n    0x0449: 'ta',\n    0x0444: 'tt',\n    0x044A: 'te',\n    0x041E: 'th',\n    0x0451: 'bo',\n    0x041F: 'tr',\n    0x0442: 'tk',\n    0x0480: 'ug',\n    0x0422: 'uk',\n    0x042E: 'hsb',\n    0x0420: 'ur',\n    0x0843: 'uz-Cyrl',\n    0x0443: 'uz',\n    0x042A: 'vi',\n    0x0452: 'cy',\n    0x0488: 'wo',\n    0x0485: 'sah',\n    0x0478: 'ii',\n    0x046A: 'yo'\n};\n\n// Returns a IETF BCP 47 language code, for example 'zh-Hant'\n// for 'Chinese in the traditional script'.\nfunction getLanguageCode(platformID, languageID, ltag) {\n    switch (platformID) {\n        case 0:  // Unicode\n            if (languageID === 0xFFFF) {\n                return 'und';\n            } else if (ltag) {\n                return ltag[languageID];\n            }\n\n            break;\n\n        case 1:  // Macintosh\n            return macLanguages[languageID];\n\n        case 3:  // Windows\n            return windowsLanguages[languageID];\n    }\n\n    return undefined;\n}\n\nconst utf16 = 'utf-16';\n\n// MacOS script ID  encoding. This table stores the default case,\n// which can be overridden by macLanguageEncodings.\nconst macScriptEncodings = {\n    0: 'macintosh',           // smRoman\n    1: 'x-mac-japanese',      // smJapanese\n    2: 'x-mac-chinesetrad',   // smTradChinese\n    3: 'x-mac-korean',        // smKorean\n    6: 'x-mac-greek',         // smGreek\n    7: 'x-mac-cyrillic',      // smCyrillic\n    9: 'x-mac-devanagai',     // smDevanagari\n    10: 'x-mac-gurmukhi',     // smGurmukhi\n    11: 'x-mac-gujarati',     // smGujarati\n    12: 'x-mac-oriya',        // smOriya\n    13: 'x-mac-bengali',      // smBengali\n    14: 'x-mac-tamil',        // smTamil\n    15: 'x-mac-telugu',       // smTelugu\n    16: 'x-mac-kannada',      // smKannada\n    17: 'x-mac-malayalam',    // smMalayalam\n    18: 'x-mac-sinhalese',    // smSinhalese\n    19: 'x-mac-burmese',      // smBurmese\n    20: 'x-mac-khmer',        // smKhmer\n    21: 'x-mac-thai',         // smThai\n    22: 'x-mac-lao',          // smLao\n    23: 'x-mac-georgian',     // smGeorgian\n    24: 'x-mac-armenian',     // smArmenian\n    25: 'x-mac-chinesesimp',  // smSimpChinese\n    26: 'x-mac-tibetan',      // smTibetan\n    27: 'x-mac-mongolian',    // smMongolian\n    28: 'x-mac-ethiopic',     // smEthiopic\n    29: 'x-mac-ce',           // smCentralEuroRoman\n    30: 'x-mac-vietnamese',   // smVietnamese\n    31: 'x-mac-extarabic'     // smExtArabic\n};\n\n// MacOS language ID  encoding. This table stores the exceptional\n// cases, which override macScriptEncodings. For writing MacOS naming\n// tables, we need to emit a MacOS script ID. Therefore, we cannot\n// merge macScriptEncodings into macLanguageEncodings.\n//\n// http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/Readme.txt\nconst macLanguageEncodings = {\n    15: 'x-mac-icelandic',    // langIcelandic\n    17: 'x-mac-turkish',      // langTurkish\n    18: 'x-mac-croatian',     // langCroatian\n    24: 'x-mac-ce',           // langLithuanian\n    25: 'x-mac-ce',           // langPolish\n    26: 'x-mac-ce',           // langHungarian\n    27: 'x-mac-ce',           // langEstonian\n    28: 'x-mac-ce',           // langLatvian\n    30: 'x-mac-icelandic',    // langFaroese\n    37: 'x-mac-romanian',     // langRomanian\n    38: 'x-mac-ce',           // langCzech\n    39: 'x-mac-ce',           // langSlovak\n    40: 'x-mac-ce',           // langSlovenian\n    143: 'x-mac-inuit',       // langInuktitut\n    146: 'x-mac-gaelic'       // langIrishGaelicScript\n};\n\nfunction getEncoding(platformID, encodingID, languageID) {\n    switch (platformID) {\n        case 0:  // Unicode\n            return utf16;\n\n        case 1:  // Apple Macintosh\n            return macLanguageEncodings[languageID] || macScriptEncodings[encodingID];\n\n        case 3:  // Microsoft Windows\n            if (encodingID === 1 || encodingID === 10) {\n                return utf16;\n            }\n\n            break;\n    }\n\n    return undefined;\n}\n\n// Parse the naming `name` table.\n// FIXME: Format 1 additional fields are not supported yet.\n// ltag is the content of the `ltag' table, such as ['en', 'zh-Hans', 'de-CH-1904'].\nfunction parseNameTable(data, start, ltag) {\n    const name = {};\n    const p = new parse.Parser(data, start);\n    const format = p.parseUShort();\n    const count = p.parseUShort();\n    const stringOffset = p.offset + p.parseUShort();\n    for (let i = 0; i < count; i++) {\n        const platformID = p.parseUShort();\n        const encodingID = p.parseUShort();\n        const languageID = p.parseUShort();\n        const nameID = p.parseUShort();\n        const property = nameTableNames[nameID] || nameID;\n        const byteLength = p.parseUShort();\n        const offset = p.parseUShort();\n        const language = getLanguageCode(platformID, languageID, ltag);\n        const encoding = getEncoding(platformID, encodingID, languageID);\n        if (encoding !== undefined && language !== undefined) {\n            let text;\n            if (encoding === utf16) {\n                text = decode.UTF16(data, stringOffset + offset, byteLength);\n            } else {\n                text = decode.MACSTRING(data, stringOffset + offset, byteLength, encoding);\n            }\n\n            if (text) {\n                let translations = name[property];\n                if (translations === undefined) {\n                    translations = name[property] = {};\n                }\n\n                translations[language] = text;\n            }\n        }\n    }\n\n    let langTagCount = 0;\n    if (format === 1) {\n        // FIXME: Also handle Microsoft's 'name' table 1.\n        langTagCount = p.parseUShort();\n    }\n\n    return name;\n}\n\n// {23: 'foo'}  {'foo': 23}\n// ['bar', 'baz']  {'bar': 0, 'baz': 1}\nfunction reverseDict(dict) {\n    const result = {};\n    for (let key in dict) {\n        result[dict[key]] = parseInt(key);\n    }\n\n    return result;\n}\n\nfunction makeNameRecord(platformID, encodingID, languageID, nameID, length, offset) {\n    return new table.Record('NameRecord', [\n        {name: 'platformID', type: 'USHORT', value: platformID},\n        {name: 'encodingID', type: 'USHORT', value: encodingID},\n        {name: 'languageID', type: 'USHORT', value: languageID},\n        {name: 'nameID', type: 'USHORT', value: nameID},\n        {name: 'length', type: 'USHORT', value: length},\n        {name: 'offset', type: 'USHORT', value: offset}\n    ]);\n}\n\n// Finds the position of needle in haystack, or -1 if not there.\n// Like String.indexOf(), but for arrays.\nfunction findSubArray(needle, haystack) {\n    const needleLength = needle.length;\n    const limit = haystack.length - needleLength + 1;\n\n    loop:\n    for (let pos = 0; pos < limit; pos++) {\n        for (; pos < limit; pos++) {\n            for (let k = 0; k < needleLength; k++) {\n                if (haystack[pos + k] !== needle[k]) {\n                    continue loop;\n                }\n            }\n\n            return pos;\n        }\n    }\n\n    return -1;\n}\n\nfunction addStringToPool(s, pool) {\n    let offset = findSubArray(s, pool);\n    if (offset < 0) {\n        offset = pool.length;\n        let i = 0;\n        const len = s.length;\n        for (; i < len; ++i) {\n            pool.push(s[i]);\n        }\n\n    }\n\n    return offset;\n}\n\nfunction makeNameTable(names, ltag) {\n    let nameID;\n    const nameIDs = [];\n\n    const namesWithNumericKeys = {};\n    const nameTableIds = reverseDict(nameTableNames);\n    for (let key in names) {\n        let id = nameTableIds[key];\n        if (id === undefined) {\n            id = key;\n        }\n\n        nameID = parseInt(id);\n\n        if (isNaN(nameID)) {\n            throw new Error('Name table entry \"' + key + '\" does not exist, see nameTableNames for complete list.');\n        }\n\n        namesWithNumericKeys[nameID] = names[key];\n        nameIDs.push(nameID);\n    }\n\n    const macLanguageIds = reverseDict(macLanguages);\n    const windowsLanguageIds = reverseDict(windowsLanguages);\n\n    const nameRecords = [];\n    const stringPool = [];\n\n    for (let i = 0; i < nameIDs.length; i++) {\n        nameID = nameIDs[i];\n        const translations = namesWithNumericKeys[nameID];\n        for (let lang in translations) {\n            const text = translations[lang];\n\n            // For MacOS, we try to emit the name in the form that was introduced\n            // in the initial version of the TrueType spec (in the late 1980s).\n            // However, this can fail for various reasons: the requested BCP 47\n            // language code might not have an old-style Mac equivalent;\n            // we might not have a codec for the needed character encoding;\n            // or the name might contain characters that cannot be expressed\n            // in the old-style Macintosh encoding. In case of failure, we emit\n            // the name in a more modern fashion (Unicode encoding with BCP 47\n            // language tags) that is recognized by MacOS 10.5, released in 2009.\n            // If fonts were only read by operating systems, we could simply\n            // emit all names in the modern form; this would be much easier.\n            // However, there are many applications and libraries that read\n            // 'name' tables directly, and these will usually only recognize\n            // the ancient form (silently skipping the unrecognized names).\n            let macPlatform = 1;  // Macintosh\n            let macLanguage = macLanguageIds[lang];\n            let macScript = macLanguageToScript[macLanguage];\n            const macEncoding = getEncoding(macPlatform, macScript, macLanguage);\n            let macName = encode.MACSTRING(text, macEncoding);\n            if (macName === undefined) {\n                macPlatform = 0;  // Unicode\n                macLanguage = ltag.indexOf(lang);\n                if (macLanguage < 0) {\n                    macLanguage = ltag.length;\n                    ltag.push(lang);\n                }\n\n                macScript = 4;  // Unicode 2.0 and later\n                macName = encode.UTF16(text);\n            }\n\n            const macNameOffset = addStringToPool(macName, stringPool);\n            nameRecords.push(makeNameRecord(macPlatform, macScript, macLanguage,\n                                            nameID, macName.length, macNameOffset));\n\n            const winLanguage = windowsLanguageIds[lang];\n            if (winLanguage !== undefined) {\n                const winName = encode.UTF16(text);\n                const winNameOffset = addStringToPool(winName, stringPool);\n                nameRecords.push(makeNameRecord(3, 1, winLanguage,\n                                                nameID, winName.length, winNameOffset));\n            }\n        }\n    }\n\n    nameRecords.sort(function(a, b) {\n        return ((a.platformID - b.platformID) ||\n                (a.encodingID - b.encodingID) ||\n                (a.languageID - b.languageID) ||\n                (a.nameID - b.nameID));\n    });\n\n    const t = new table.Table('name', [\n        {name: 'format', type: 'USHORT', value: 0},\n        {name: 'count', type: 'USHORT', value: nameRecords.length},\n        {name: 'stringOffset', type: 'USHORT', value: 6 + nameRecords.length * 12}\n    ]);\n\n    for (let r = 0; r < nameRecords.length; r++) {\n        t.fields.push({name: 'record_' + r, type: 'RECORD', value: nameRecords[r]});\n    }\n\n    t.fields.push({name: 'strings', type: 'LITERAL', value: stringPool});\n    return t;\n}\n\nexport default { parse: parseNameTable, make: makeNameTable };\n","// The `OS/2` table contains metrics required in OpenType fonts.\n// https://www.microsoft.com/typography/OTSPEC/os2.htm\n\nimport parse from '../parse';\nimport table from '../table';\n\nconst unicodeRanges = [\n    {begin: 0x0000, end: 0x007F}, // Basic Latin\n    {begin: 0x0080, end: 0x00FF}, // Latin-1 Supplement\n    {begin: 0x0100, end: 0x017F}, // Latin Extended-A\n    {begin: 0x0180, end: 0x024F}, // Latin Extended-B\n    {begin: 0x0250, end: 0x02AF}, // IPA Extensions\n    {begin: 0x02B0, end: 0x02FF}, // Spacing Modifier Letters\n    {begin: 0x0300, end: 0x036F}, // Combining Diacritical Marks\n    {begin: 0x0370, end: 0x03FF}, // Greek and Coptic\n    {begin: 0x2C80, end: 0x2CFF}, // Coptic\n    {begin: 0x0400, end: 0x04FF}, // Cyrillic\n    {begin: 0x0530, end: 0x058F}, // Armenian\n    {begin: 0x0590, end: 0x05FF}, // Hebrew\n    {begin: 0xA500, end: 0xA63F}, // Vai\n    {begin: 0x0600, end: 0x06FF}, // Arabic\n    {begin: 0x07C0, end: 0x07FF}, // NKo\n    {begin: 0x0900, end: 0x097F}, // Devanagari\n    {begin: 0x0980, end: 0x09FF}, // Bengali\n    {begin: 0x0A00, end: 0x0A7F}, // Gurmukhi\n    {begin: 0x0A80, end: 0x0AFF}, // Gujarati\n    {begin: 0x0B00, end: 0x0B7F}, // Oriya\n    {begin: 0x0B80, end: 0x0BFF}, // Tamil\n    {begin: 0x0C00, end: 0x0C7F}, // Telugu\n    {begin: 0x0C80, end: 0x0CFF}, // Kannada\n    {begin: 0x0D00, end: 0x0D7F}, // Malayalam\n    {begin: 0x0E00, end: 0x0E7F}, // Thai\n    {begin: 0x0E80, end: 0x0EFF}, // Lao\n    {begin: 0x10A0, end: 0x10FF}, // Georgian\n    {begin: 0x1B00, end: 0x1B7F}, // Balinese\n    {begin: 0x1100, end: 0x11FF}, // Hangul Jamo\n    {begin: 0x1E00, end: 0x1EFF}, // Latin Extended Additional\n    {begin: 0x1F00, end: 0x1FFF}, // Greek Extended\n    {begin: 0x2000, end: 0x206F}, // General Punctuation\n    {begin: 0x2070, end: 0x209F}, // Superscripts And Subscripts\n    {begin: 0x20A0, end: 0x20CF}, // Currency Symbol\n    {begin: 0x20D0, end: 0x20FF}, // Combining Diacritical Marks For Symbols\n    {begin: 0x2100, end: 0x214F}, // Letterlike Symbols\n    {begin: 0x2150, end: 0x218F}, // Number Forms\n    {begin: 0x2190, end: 0x21FF}, // Arrows\n    {begin: 0x2200, end: 0x22FF}, // Mathematical Operators\n    {begin: 0x2300, end: 0x23FF}, // Miscellaneous Technical\n    {begin: 0x2400, end: 0x243F}, // Control Pictures\n    {begin: 0x2440, end: 0x245F}, // Optical Character Recognition\n    {begin: 0x2460, end: 0x24FF}, // Enclosed Alphanumerics\n    {begin: 0x2500, end: 0x257F}, // Box Drawing\n    {begin: 0x2580, end: 0x259F}, // Block Elements\n    {begin: 0x25A0, end: 0x25FF}, // Geometric Shapes\n    {begin: 0x2600, end: 0x26FF}, // Miscellaneous Symbols\n    {begin: 0x2700, end: 0x27BF}, // Dingbats\n    {begin: 0x3000, end: 0x303F}, // CJK Symbols And Punctuation\n    {begin: 0x3040, end: 0x309F}, // Hiragana\n    {begin: 0x30A0, end: 0x30FF}, // Katakana\n    {begin: 0x3100, end: 0x312F}, // Bopomofo\n    {begin: 0x3130, end: 0x318F}, // Hangul Compatibility Jamo\n    {begin: 0xA840, end: 0xA87F}, // Phags-pa\n    {begin: 0x3200, end: 0x32FF}, // Enclosed CJK Letters And Months\n    {begin: 0x3300, end: 0x33FF}, // CJK Compatibility\n    {begin: 0xAC00, end: 0xD7AF}, // Hangul Syllables\n    {begin: 0xD800, end: 0xDFFF}, // Non-Plane 0 *\n    {begin: 0x10900, end: 0x1091F}, // Phoenicia\n    {begin: 0x4E00, end: 0x9FFF}, // CJK Unified Ideographs\n    {begin: 0xE000, end: 0xF8FF}, // Private Use Area (plane 0)\n    {begin: 0x31C0, end: 0x31EF}, // CJK Strokes\n    {begin: 0xFB00, end: 0xFB4F}, // Alphabetic Presentation Forms\n    {begin: 0xFB50, end: 0xFDFF}, // Arabic Presentation Forms-A\n    {begin: 0xFE20, end: 0xFE2F}, // Combining Half Marks\n    {begin: 0xFE10, end: 0xFE1F}, // Vertical Forms\n    {begin: 0xFE50, end: 0xFE6F}, // Small Form Variants\n    {begin: 0xFE70, end: 0xFEFF}, // Arabic Presentation Forms-B\n    {begin: 0xFF00, end: 0xFFEF}, // Halfwidth And Fullwidth Forms\n    {begin: 0xFFF0, end: 0xFFFF}, // Specials\n    {begin: 0x0F00, end: 0x0FFF}, // Tibetan\n    {begin: 0x0700, end: 0x074F}, // Syriac\n    {begin: 0x0780, end: 0x07BF}, // Thaana\n    {begin: 0x0D80, end: 0x0DFF}, // Sinhala\n    {begin: 0x1000, end: 0x109F}, // Myanmar\n    {begin: 0x1200, end: 0x137F}, // Ethiopic\n    {begin: 0x13A0, end: 0x13FF}, // Cherokee\n    {begin: 0x1400, end: 0x167F}, // Unified Canadian Aboriginal Syllabics\n    {begin: 0x1680, end: 0x169F}, // Ogham\n    {begin: 0x16A0, end: 0x16FF}, // Runic\n    {begin: 0x1780, end: 0x17FF}, // Khmer\n    {begin: 0x1800, end: 0x18AF}, // Mongolian\n    {begin: 0x2800, end: 0x28FF}, // Braille Patterns\n    {begin: 0xA000, end: 0xA48F}, // Yi Syllables\n    {begin: 0x1700, end: 0x171F}, // Tagalog\n    {begin: 0x10300, end: 0x1032F}, // Old Italic\n    {begin: 0x10330, end: 0x1034F}, // Gothic\n    {begin: 0x10400, end: 0x1044F}, // Deseret\n    {begin: 0x1D000, end: 0x1D0FF}, // Byzantine Musical Symbols\n    {begin: 0x1D400, end: 0x1D7FF}, // Mathematical Alphanumeric Symbols\n    {begin: 0xFF000, end: 0xFFFFD}, // Private Use (plane 15)\n    {begin: 0xFE00, end: 0xFE0F}, // Variation Selectors\n    {begin: 0xE0000, end: 0xE007F}, // Tags\n    {begin: 0x1900, end: 0x194F}, // Limbu\n    {begin: 0x1950, end: 0x197F}, // Tai Le\n    {begin: 0x1980, end: 0x19DF}, // New Tai Lue\n    {begin: 0x1A00, end: 0x1A1F}, // Buginese\n    {begin: 0x2C00, end: 0x2C5F}, // Glagolitic\n    {begin: 0x2D30, end: 0x2D7F}, // Tifinagh\n    {begin: 0x4DC0, end: 0x4DFF}, // Yijing Hexagram Symbols\n    {begin: 0xA800, end: 0xA82F}, // Syloti Nagri\n    {begin: 0x10000, end: 0x1007F}, // Linear B Syllabary\n    {begin: 0x10140, end: 0x1018F}, // Ancient Greek Numbers\n    {begin: 0x10380, end: 0x1039F}, // Ugaritic\n    {begin: 0x103A0, end: 0x103DF}, // Old Persian\n    {begin: 0x10450, end: 0x1047F}, // Shavian\n    {begin: 0x10480, end: 0x104AF}, // Osmanya\n    {begin: 0x10800, end: 0x1083F}, // Cypriot Syllabary\n    {begin: 0x10A00, end: 0x10A5F}, // Kharoshthi\n    {begin: 0x1D300, end: 0x1D35F}, // Tai Xuan Jing Symbols\n    {begin: 0x12000, end: 0x123FF}, // Cuneiform\n    {begin: 0x1D360, end: 0x1D37F}, // Counting Rod Numerals\n    {begin: 0x1B80, end: 0x1BBF}, // Sundanese\n    {begin: 0x1C00, end: 0x1C4F}, // Lepcha\n    {begin: 0x1C50, end: 0x1C7F}, // Ol Chiki\n    {begin: 0xA880, end: 0xA8DF}, // Saurashtra\n    {begin: 0xA900, end: 0xA92F}, // Kayah Li\n    {begin: 0xA930, end: 0xA95F}, // Rejang\n    {begin: 0xAA00, end: 0xAA5F}, // Cham\n    {begin: 0x10190, end: 0x101CF}, // Ancient Symbols\n    {begin: 0x101D0, end: 0x101FF}, // Phaistos Disc\n    {begin: 0x102A0, end: 0x102DF}, // Carian\n    {begin: 0x1F030, end: 0x1F09F}  // Domino Tiles\n];\n\nfunction getUnicodeRange(unicode) {\n    for (let i = 0; i < unicodeRanges.length; i += 1) {\n        const range = unicodeRanges[i];\n        if (unicode >= range.begin && unicode < range.end) {\n            return i;\n        }\n    }\n\n    return -1;\n}\n\n// Parse the OS/2 and Windows metrics `OS/2` table\nfunction parseOS2Table(data, start) {\n    const os2 = {};\n    const p = new parse.Parser(data, start);\n    os2.version = p.parseUShort();\n    os2.xAvgCharWidth = p.parseShort();\n    os2.usWeightClass = p.parseUShort();\n    os2.usWidthClass = p.parseUShort();\n    os2.fsType = p.parseUShort();\n    os2.ySubscriptXSize = p.parseShort();\n    os2.ySubscriptYSize = p.parseShort();\n    os2.ySubscriptXOffset = p.parseShort();\n    os2.ySubscriptYOffset = p.parseShort();\n    os2.ySuperscriptXSize = p.parseShort();\n    os2.ySuperscriptYSize = p.parseShort();\n    os2.ySuperscriptXOffset = p.parseShort();\n    os2.ySuperscriptYOffset = p.parseShort();\n    os2.yStrikeoutSize = p.parseShort();\n    os2.yStrikeoutPosition = p.parseShort();\n    os2.sFamilyClass = p.parseShort();\n    os2.panose = [];\n    for (let i = 0; i < 10; i++) {\n        os2.panose[i] = p.parseByte();\n    }\n\n    os2.ulUnicodeRange1 = p.parseULong();\n    os2.ulUnicodeRange2 = p.parseULong();\n    os2.ulUnicodeRange3 = p.parseULong();\n    os2.ulUnicodeRange4 = p.parseULong();\n    os2.achVendID = String.fromCharCode(p.parseByte(), p.parseByte(), p.parseByte(), p.parseByte());\n    os2.fsSelection = p.parseUShort();\n    os2.usFirstCharIndex = p.parseUShort();\n    os2.usLastCharIndex = p.parseUShort();\n    os2.sTypoAscender = p.parseShort();\n    os2.sTypoDescender = p.parseShort();\n    os2.sTypoLineGap = p.parseShort();\n    os2.usWinAscent = p.parseUShort();\n    os2.usWinDescent = p.parseUShort();\n    if (os2.version >= 1) {\n        os2.ulCodePageRange1 = p.parseULong();\n        os2.ulCodePageRange2 = p.parseULong();\n    }\n\n    if (os2.version >= 2) {\n        os2.sxHeight = p.parseShort();\n        os2.sCapHeight = p.parseShort();\n        os2.usDefaultChar = p.parseUShort();\n        os2.usBreakChar = p.parseUShort();\n        os2.usMaxContent = p.parseUShort();\n    }\n\n    return os2;\n}\n\nfunction makeOS2Table(options) {\n    return new table.Table('OS/2', [\n        {name: 'version', type: 'USHORT', value: 0x0003},\n        {name: 'xAvgCharWidth', type: 'SHORT', value: 0},\n        {name: 'usWeightClass', type: 'USHORT', value: 0},\n        {name: 'usWidthClass', type: 'USHORT', value: 0},\n        {name: 'fsType', type: 'USHORT', value: 0},\n        {name: 'ySubscriptXSize', type: 'SHORT', value: 650},\n        {name: 'ySubscriptYSize', type: 'SHORT', value: 699},\n        {name: 'ySubscriptXOffset', type: 'SHORT', value: 0},\n        {name: 'ySubscriptYOffset', type: 'SHORT', value: 140},\n        {name: 'ySuperscriptXSize', type: 'SHORT', value: 650},\n        {name: 'ySuperscriptYSize', type: 'SHORT', value: 699},\n        {name: 'ySuperscriptXOffset', type: 'SHORT', value: 0},\n        {name: 'ySuperscriptYOffset', type: 'SHORT', value: 479},\n        {name: 'yStrikeoutSize', type: 'SHORT', value: 49},\n        {name: 'yStrikeoutPosition', type: 'SHORT', value: 258},\n        {name: 'sFamilyClass', type: 'SHORT', value: 0},\n        {name: 'bFamilyType', type: 'BYTE', value: 0},\n        {name: 'bSerifStyle', type: 'BYTE', value: 0},\n        {name: 'bWeight', type: 'BYTE', value: 0},\n        {name: 'bProportion', type: 'BYTE', value: 0},\n        {name: 'bContrast', type: 'BYTE', value: 0},\n        {name: 'bStrokeVariation', type: 'BYTE', value: 0},\n        {name: 'bArmStyle', type: 'BYTE', value: 0},\n        {name: 'bLetterform', type: 'BYTE', value: 0},\n        {name: 'bMidline', type: 'BYTE', value: 0},\n        {name: 'bXHeight', type: 'BYTE', value: 0},\n        {name: 'ulUnicodeRange1', type: 'ULONG', value: 0},\n        {name: 'ulUnicodeRange2', type: 'ULONG', value: 0},\n        {name: 'ulUnicodeRange3', type: 'ULONG', value: 0},\n        {name: 'ulUnicodeRange4', type: 'ULONG', value: 0},\n        {name: 'achVendID', type: 'CHARARRAY', value: 'XXXX'},\n        {name: 'fsSelection', type: 'USHORT', value: 0},\n        {name: 'usFirstCharIndex', type: 'USHORT', value: 0},\n        {name: 'usLastCharIndex', type: 'USHORT', value: 0},\n        {name: 'sTypoAscender', type: 'SHORT', value: 0},\n        {name: 'sTypoDescender', type: 'SHORT', value: 0},\n        {name: 'sTypoLineGap', type: 'SHORT', value: 0},\n        {name: 'usWinAscent', type: 'USHORT', value: 0},\n        {name: 'usWinDescent', type: 'USHORT', value: 0},\n        {name: 'ulCodePageRange1', type: 'ULONG', value: 0},\n        {name: 'ulCodePageRange2', type: 'ULONG', value: 0},\n        {name: 'sxHeight', type: 'SHORT', value: 0},\n        {name: 'sCapHeight', type: 'SHORT', value: 0},\n        {name: 'usDefaultChar', type: 'USHORT', value: 0},\n        {name: 'usBreakChar', type: 'USHORT', value: 0},\n        {name: 'usMaxContext', type: 'USHORT', value: 0}\n    ], options);\n}\n\nexport default { parse: parseOS2Table, make: makeOS2Table, unicodeRanges, getUnicodeRange };\n","// The `post` table stores additional PostScript information, such as glyph names.\n// https://www.microsoft.com/typography/OTSPEC/post.htm\n\nimport { standardNames } from '../encoding';\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the PostScript `post` table\nfunction parsePostTable(data, start) {\n    const post = {};\n    const p = new parse.Parser(data, start);\n    post.version = p.parseVersion();\n    post.italicAngle = p.parseFixed();\n    post.underlinePosition = p.parseShort();\n    post.underlineThickness = p.parseShort();\n    post.isFixedPitch = p.parseULong();\n    post.minMemType42 = p.parseULong();\n    post.maxMemType42 = p.parseULong();\n    post.minMemType1 = p.parseULong();\n    post.maxMemType1 = p.parseULong();\n    switch (post.version) {\n        case 1:\n            post.names = standardNames.slice();\n            break;\n        case 2:\n            post.numberOfGlyphs = p.parseUShort();\n            post.glyphNameIndex = new Array(post.numberOfGlyphs);\n            for (let i = 0; i < post.numberOfGlyphs; i++) {\n                post.glyphNameIndex[i] = p.parseUShort();\n            }\n\n            post.names = [];\n            for (let i = 0; i < post.numberOfGlyphs; i++) {\n                if (post.glyphNameIndex[i] >= standardNames.length) {\n                    const nameLength = p.parseChar();\n                    post.names.push(p.parseString(nameLength));\n                }\n            }\n\n            break;\n        case 2.5:\n            post.numberOfGlyphs = p.parseUShort();\n            post.offset = new Array(post.numberOfGlyphs);\n            for (let i = 0; i < post.numberOfGlyphs; i++) {\n                post.offset[i] = p.parseChar();\n            }\n\n            break;\n    }\n    return post;\n}\n\nfunction makePostTable() {\n    return new table.Table('post', [\n        {name: 'version', type: 'FIXED', value: 0x00030000},\n        {name: 'italicAngle', type: 'FIXED', value: 0},\n        {name: 'underlinePosition', type: 'FWORD', value: 0},\n        {name: 'underlineThickness', type: 'FWORD', value: 0},\n        {name: 'isFixedPitch', type: 'ULONG', value: 0},\n        {name: 'minMemType42', type: 'ULONG', value: 0},\n        {name: 'maxMemType42', type: 'ULONG', value: 0},\n        {name: 'minMemType1', type: 'ULONG', value: 0},\n        {name: 'maxMemType1', type: 'ULONG', value: 0}\n    ]);\n}\n\nexport default { parse: parsePostTable, make: makePostTable };\n","// The `GSUB` table contains ligatures, among other things.\n// https://www.microsoft.com/typography/OTSPEC/gsub.htm\n\nimport check from '../check';\nimport { Parser } from '../parse';\nimport table from '../table';\n\nconst subtableParsers = new Array(9);         // subtableParsers[0] is unused\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#SS\nsubtableParsers[1] = function parseLookup1() {\n    const start = this.offset + this.relativeOffset;\n    const substFormat = this.parseUShort();\n    if (substFormat === 1) {\n        return {\n            substFormat: 1,\n            coverage: this.parsePointer(Parser.coverage),\n            deltaGlyphId: this.parseUShort()\n        };\n    } else if (substFormat === 2) {\n        return {\n            substFormat: 2,\n            coverage: this.parsePointer(Parser.coverage),\n            substitute: this.parseOffset16List()\n        };\n    }\n    check.assert(false, '0x' + start.toString(16) + ': lookup type 1 format must be 1 or 2.');\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#MS\nsubtableParsers[2] = function parseLookup2() {\n    const substFormat = this.parseUShort();\n    check.argument(substFormat === 1, 'GSUB Multiple Substitution Subtable identifier-format must be 1');\n    return {\n        substFormat: substFormat,\n        coverage: this.parsePointer(Parser.coverage),\n        sequences: this.parseListOfLists()\n    };\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#AS\nsubtableParsers[3] = function parseLookup3() {\n    const substFormat = this.parseUShort();\n    check.argument(substFormat === 1, 'GSUB Alternate Substitution Subtable identifier-format must be 1');\n    return {\n        substFormat: substFormat,\n        coverage: this.parsePointer(Parser.coverage),\n        alternateSets: this.parseListOfLists()\n    };\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#LS\nsubtableParsers[4] = function parseLookup4() {\n    const substFormat = this.parseUShort();\n    check.argument(substFormat === 1, 'GSUB ligature table identifier-format must be 1');\n    return {\n        substFormat: substFormat,\n        coverage: this.parsePointer(Parser.coverage),\n        ligatureSets: this.parseListOfLists(function() {\n            return {\n                ligGlyph: this.parseUShort(),\n                components: this.parseUShortList(this.parseUShort() - 1)\n            };\n        })\n    };\n};\n\nconst lookupRecordDesc = {\n    sequenceIndex: Parser.uShort,\n    lookupListIndex: Parser.uShort\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#CSF\nsubtableParsers[5] = function parseLookup5() {\n    const start = this.offset + this.relativeOffset;\n    const substFormat = this.parseUShort();\n\n    if (substFormat === 1) {\n        return {\n            substFormat: substFormat,\n            coverage: this.parsePointer(Parser.coverage),\n            ruleSets: this.parseListOfLists(function() {\n                const glyphCount = this.parseUShort();\n                const substCount = this.parseUShort();\n                return {\n                    input: this.parseUShortList(glyphCount - 1),\n                    lookupRecords: this.parseRecordList(substCount, lookupRecordDesc)\n                };\n            })\n        };\n    } else if (substFormat === 2) {\n        return {\n            substFormat: substFormat,\n            coverage: this.parsePointer(Parser.coverage),\n            classDef: this.parsePointer(Parser.classDef),\n            classSets: this.parseListOfLists(function() {\n                const glyphCount = this.parseUShort();\n                const substCount = this.parseUShort();\n                return {\n                    classes: this.parseUShortList(glyphCount - 1),\n                    lookupRecords: this.parseRecordList(substCount, lookupRecordDesc)\n                };\n            })\n        };\n    } else if (substFormat === 3) {\n        const glyphCount = this.parseUShort();\n        const substCount = this.parseUShort();\n        return {\n            substFormat: substFormat,\n            coverages: this.parseList(glyphCount, Parser.pointer(Parser.coverage)),\n            lookupRecords: this.parseRecordList(substCount, lookupRecordDesc)\n        };\n    }\n    check.assert(false, '0x' + start.toString(16) + ': lookup type 5 format must be 1, 2 or 3.');\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#CC\nsubtableParsers[6] = function parseLookup6() {\n    const start = this.offset + this.relativeOffset;\n    const substFormat = this.parseUShort();\n    if (substFormat === 1) {\n        return {\n            substFormat: 1,\n            coverage: this.parsePointer(Parser.coverage),\n            chainRuleSets: this.parseListOfLists(function() {\n                return {\n                    backtrack: this.parseUShortList(),\n                    input: this.parseUShortList(this.parseShort() - 1),\n                    lookahead: this.parseUShortList(),\n                    lookupRecords: this.parseRecordList(lookupRecordDesc)\n                };\n            })\n        };\n    } else if (substFormat === 2) {\n        return {\n            substFormat: 2,\n            coverage: this.parsePointer(Parser.coverage),\n            backtrackClassDef: this.parsePointer(Parser.classDef),\n            inputClassDef: this.parsePointer(Parser.classDef),\n            lookaheadClassDef: this.parsePointer(Parser.classDef),\n            chainClassSet: this.parseListOfLists(function() {\n                return {\n                    backtrack: this.parseUShortList(),\n                    input: this.parseUShortList(this.parseShort() - 1),\n                    lookahead: this.parseUShortList(),\n                    lookupRecords: this.parseRecordList(lookupRecordDesc)\n                };\n            })\n        };\n    } else if (substFormat === 3) {\n        return {\n            substFormat: 3,\n            backtrackCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n            inputCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n            lookaheadCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n            lookupRecords: this.parseRecordList(lookupRecordDesc)\n        };\n    }\n    check.assert(false, '0x' + start.toString(16) + ': lookup type 6 format must be 1, 2 or 3.');\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#ES\nsubtableParsers[7] = function parseLookup7() {\n    // Extension Substitution subtable\n    const substFormat = this.parseUShort();\n    check.argument(substFormat === 1, 'GSUB Extension Substitution subtable identifier-format must be 1');\n    const extensionLookupType = this.parseUShort();\n    const extensionParser = new Parser(this.data, this.offset + this.parseULong());\n    return {\n        substFormat: 1,\n        lookupType: extensionLookupType,\n        extension: subtableParsers[extensionLookupType].call(extensionParser)\n    };\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#RCCS\nsubtableParsers[8] = function parseLookup8() {\n    const substFormat = this.parseUShort();\n    check.argument(substFormat === 1, 'GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1');\n    return {\n        substFormat: substFormat,\n        coverage: this.parsePointer(Parser.coverage),\n        backtrackCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n        lookaheadCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n        substitutes: this.parseUShortList()\n    };\n};\n\n// https://www.microsoft.com/typography/OTSPEC/gsub.htm\nfunction parseGsubTable(data, start) {\n    start = start || 0;\n    const p = new Parser(data, start);\n    const tableVersion = p.parseVersion(1);\n    check.argument(tableVersion === 1 || tableVersion === 1.1, 'Unsupported GSUB table version.');\n    if (tableVersion === 1) {\n        return {\n            version: tableVersion,\n            scripts: p.parseScriptList(),\n            features: p.parseFeatureList(),\n            lookups: p.parseLookupList(subtableParsers)\n        };\n    } else {\n        return {\n            version: tableVersion,\n            scripts: p.parseScriptList(),\n            features: p.parseFeatureList(),\n            lookups: p.parseLookupList(subtableParsers),\n            variations: p.parseFeatureVariationsList()\n        };\n    }\n\n}\n\n// GSUB Writing //////////////////////////////////////////////\nconst subtableMakers = new Array(9);\n\nsubtableMakers[1] = function makeLookup1(subtable) {\n    if (subtable.substFormat === 1) {\n        return new table.Table('substitutionTable', [\n            {name: 'substFormat', type: 'USHORT', value: 1},\n            {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)},\n            {name: 'deltaGlyphID', type: 'USHORT', value: subtable.deltaGlyphId}\n        ]);\n    } else {\n        return new table.Table('substitutionTable', [\n            {name: 'substFormat', type: 'USHORT', value: 2},\n            {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)}\n        ].concat(table.ushortList('substitute', subtable.substitute)));\n    }\n    check.fail('Lookup type 1 substFormat must be 1 or 2.');\n};\n\nsubtableMakers[3] = function makeLookup3(subtable) {\n    check.assert(subtable.substFormat === 1, 'Lookup type 3 substFormat must be 1.');\n    return new table.Table('substitutionTable', [\n        {name: 'substFormat', type: 'USHORT', value: 1},\n        {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)}\n    ].concat(table.tableList('altSet', subtable.alternateSets, function(alternateSet) {\n        return new table.Table('alternateSetTable', table.ushortList('alternate', alternateSet));\n    })));\n};\n\nsubtableMakers[4] = function makeLookup4(subtable) {\n    check.assert(subtable.substFormat === 1, 'Lookup type 4 substFormat must be 1.');\n    return new table.Table('substitutionTable', [\n        {name: 'substFormat', type: 'USHORT', value: 1},\n        {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)}\n    ].concat(table.tableList('ligSet', subtable.ligatureSets, function(ligatureSet) {\n        return new table.Table('ligatureSetTable', table.tableList('ligature', ligatureSet, function(ligature) {\n            return new table.Table('ligatureTable',\n                [{name: 'ligGlyph', type: 'USHORT', value: ligature.ligGlyph}]\n                .concat(table.ushortList('component', ligature.components, ligature.components.length + 1))\n            );\n        }));\n    })));\n};\n\nfunction makeGsubTable(gsub) {\n    return new table.Table('GSUB', [\n        {name: 'version', type: 'ULONG', value: 0x10000},\n        {name: 'scripts', type: 'TABLE', value: new table.ScriptList(gsub.scripts)},\n        {name: 'features', type: 'TABLE', value: new table.FeatureList(gsub.features)},\n        {name: 'lookups', type: 'TABLE', value: new table.LookupList(gsub.lookups, subtableMakers)}\n    ]);\n}\n\nexport default { parse: parseGsubTable, make: makeGsubTable };\n","// The `GPOS` table contains kerning pairs, among other things.\n// https://www.microsoft.com/typography/OTSPEC/gpos.htm\n\nimport check from '../check';\nimport { decode } from '../types';\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the metadata `meta` table.\n// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6meta.html\nfunction parseMetaTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const tableVersion = p.parseULong();\n    check.argument(tableVersion === 1, 'Unsupported META table version.');\n    p.parseULong(); // flags - currently unused and set to 0\n    p.parseULong(); // tableOffset\n    const numDataMaps = p.parseULong();\n\n    const tags = {};\n    for (let i = 0; i < numDataMaps; i++) {\n        const tag = p.parseTag();\n        const dataOffset = p.parseULong();\n        const dataLength = p.parseULong();\n        const text = decode.UTF8(data, start + dataOffset, dataLength);\n\n        tags[tag] = text;\n    }\n    return tags;\n}\n\nfunction makeMetaTable(tags) {\n    const numTags = Object.keys(tags).length;\n    let stringPool = '';\n    const stringPoolOffset = 16 + numTags * 12;\n\n    const result = new table.Table('meta', [\n        {name: 'version', type: 'ULONG', value: 1},\n        {name: 'flags', type: 'ULONG', value: 0},\n        {name: 'offset', type: 'ULONG', value: stringPoolOffset},\n        {name: 'numTags', type: 'ULONG', value: numTags}\n    ]);\n\n    for (let tag in tags) {\n        const pos = stringPool.length;\n        stringPool += tags[tag];\n\n        result.fields.push({name: 'tag ' + tag, type: 'TAG', value: tag});\n        result.fields.push({name: 'offset ' + tag, type: 'ULONG', value: stringPoolOffset + pos});\n        result.fields.push({name: 'length ' + tag, type: 'ULONG', value: tags[tag].length});\n    }\n\n    result.fields.push({name: 'stringPool', type: 'CHARARRAY', value: stringPool});\n\n    return result;\n}\n\nexport default { parse: parseMetaTable, make: makeMetaTable };\n","// The Position object provides utility methods to manipulate\n// the GPOS position table.\n\nimport Layout from './layout';\n\n/**\n * @exports opentype.Position\n * @class\n * @extends opentype.Layout\n * @param {opentype.Font}\n * @constructor\n */\nfunction Position(font) {\n    Layout.call(this, font, 'gpos');\n}\n\nPosition.prototype = Layout.prototype;\n\n/**\n * Init some data for faster and easier access later.\n */\nPosition.prototype.init = function() {\n    const script = this.getDefaultScriptName();\n    this.defaultKerningTables = this.getKerningTables(script);\n};\n\n/**\n * Find a glyph pair in a list of lookup tables of type 2 and retrieve the xAdvance kerning value.\n *\n * @param {integer} leftIndex - left glyph index\n * @param {integer} rightIndex - right glyph index\n * @returns {integer}\n */\nPosition.prototype.getKerningValue = function(kerningLookups, leftIndex, rightIndex) {\n    for (let i = 0; i < kerningLookups.length; i++) {\n        const subtables = kerningLookups[i].subtables;\n        for (let j = 0; j < subtables.length; j++) {\n            const subtable = subtables[j];\n            const covIndex = this.getCoverageIndex(subtable.coverage, leftIndex);\n            if (covIndex < 0) continue;\n            switch (subtable.posFormat) {\n                case 1:\n                    // Search Pair Adjustment Positioning Format 1\n                    let pairSet = subtable.pairSets[covIndex];\n                    for (let k = 0; k < pairSet.length; k++) {\n                        let pair = pairSet[k];\n                        if (pair.secondGlyph === rightIndex) {\n                            return pair.value1 && pair.value1.xAdvance || 0;\n                        }\n                    }\n                    break;      // left glyph found, not right glyph - try next subtable\n                case 2:\n                    // Search Pair Adjustment Positioning Format 2\n                    const class1 = this.getGlyphClass(subtable.classDef1, leftIndex);\n                    const class2 = this.getGlyphClass(subtable.classDef2, rightIndex);\n                    const pair = subtable.classRecords[class1][class2];\n                    return pair.value1 && pair.value1.xAdvance || 0;\n            }\n        }\n    }\n    return 0;\n};\n\n/**\n * List all kerning lookup tables.\n *\n * @param {string} [script='DFLT'] - use font.position.getDefaultScriptName() for a better default value\n * @param {string} [language='dflt']\n * @return {object[]} The list of kerning lookup tables (may be empty), or undefined if there is no GPOS table (and we should use the kern table)\n */\nPosition.prototype.getKerningTables = function(script, language) {\n    if (this.font.tables.gpos) {\n        return this.getLookupTables(script, language, 'kern', 2);\n    }\n};\n\nexport default Position;\n","// The Layout object is the prototype of Substitution objects, and provides\n// utility methods to manipulate common layout tables (GPOS, GSUB, GDEF...)\n\nimport check from './check';\n\nfunction searchTag(arr, tag) {\n    /* jshint bitwise: false */\n    let imin = 0;\n    let imax = arr.length - 1;\n    while (imin <= imax) {\n        const imid = (imin + imax) >>> 1;\n        const val = arr[imid].tag;\n        if (val === tag) {\n            return imid;\n        } else if (val < tag) {\n            imin = imid + 1;\n        } else { imax = imid - 1; }\n    }\n    // Not found: return -1-insertion point\n    return -imin - 1;\n}\n\nfunction binSearch(arr, value) {\n    /* jshint bitwise: false */\n    let imin = 0;\n    let imax = arr.length - 1;\n    while (imin <= imax) {\n        const imid = (imin + imax) >>> 1;\n        const val = arr[imid];\n        if (val === value) {\n            return imid;\n        } else if (val < value) {\n            imin = imid + 1;\n        } else { imax = imid - 1; }\n    }\n    // Not found: return -1-insertion point\n    return -imin - 1;\n}\n\n// binary search in a list of ranges (coverage, class definition)\nfunction searchRange(ranges, value) {\n    // jshint bitwise: false\n    let range;\n    let imin = 0;\n    let imax = ranges.length - 1;\n    while (imin <= imax) {\n        const imid = (imin + imax) >>> 1;\n        range = ranges[imid];\n        const start = range.start;\n        if (start === value) {\n            return range;\n        } else if (start < value) {\n            imin = imid + 1;\n        } else { imax = imid - 1; }\n    }\n    if (imin > 0) {\n        range = ranges[imin - 1];\n        if (value > range.end) return 0;\n        return range;\n    }\n}\n\n/**\n * @exports opentype.Layout\n * @class\n */\nfunction Layout(font, tableName) {\n    this.font = font;\n    this.tableName = tableName;\n}\n\nLayout.prototype = {\n\n    /**\n     * Binary search an object by \"tag\" property\n     * @instance\n     * @function searchTag\n     * @memberof opentype.Layout\n     * @param  {Array} arr\n     * @param  {string} tag\n     * @return {number}\n     */\n    searchTag: searchTag,\n\n    /**\n     * Binary search in a list of numbers\n     * @instance\n     * @function binSearch\n     * @memberof opentype.Layout\n     * @param  {Array} arr\n     * @param  {number} value\n     * @return {number}\n     */\n    binSearch: binSearch,\n\n    /**\n     * Get or create the Layout table (GSUB, GPOS etc).\n     * @param  {boolean} create - Whether to create a new one.\n     * @return {Object} The GSUB or GPOS table.\n     */\n    getTable: function(create) {\n        let layout = this.font.tables[this.tableName];\n        if (!layout && create) {\n            layout = this.font.tables[this.tableName] = this.createDefaultTable();\n        }\n        return layout;\n    },\n\n    /**\n     * Returns all scripts in the substitution table.\n     * @instance\n     * @return {Array}\n     */\n    getScriptNames: function() {\n        let layout = this.getTable();\n        if (!layout) { return []; }\n        return layout.scripts.map(function(script) {\n            return script.tag;\n        });\n    },\n\n    /**\n     * Returns the best bet for a script name.\n     * Returns 'DFLT' if it exists.\n     * If not, returns 'latn' if it exists.\n     * If neither exist, returns undefined.\n     */\n    getDefaultScriptName: function() {\n        let layout = this.getTable();\n        if (!layout) { return; }\n        let hasLatn = false;\n        for (let i = 0; i < layout.scripts.length; i++) {\n            const name = layout.scripts[i].tag;\n            if (name === 'DFLT') return name;\n            if (name === 'latn') hasLatn = true;\n        }\n        if (hasLatn) return 'latn';\n    },\n\n    /**\n     * Returns all LangSysRecords in the given script.\n     * @instance\n     * @param {string} [script='DFLT']\n     * @param {boolean} create - forces the creation of this script table if it doesn't exist.\n     * @return {Object} An object with tag and script properties.\n     */\n    getScriptTable: function(script, create) {\n        const layout = this.getTable(create);\n        if (layout) {\n            script = script || 'DFLT';\n            const scripts = layout.scripts;\n            const pos = searchTag(layout.scripts, script);\n            if (pos >= 0) {\n                return scripts[pos].script;\n            } else if (create) {\n                const scr = {\n                    tag: script,\n                    script: {\n                        defaultLangSys: {reserved: 0, reqFeatureIndex: 0xffff, featureIndexes: []},\n                        langSysRecords: []\n                    }\n                };\n                scripts.splice(-1 - pos, 0, scr);\n                return scr.script;\n            }\n        }\n    },\n\n    /**\n     * Returns a language system table\n     * @instance\n     * @param {string} [script='DFLT']\n     * @param {string} [language='dlft']\n     * @param {boolean} create - forces the creation of this langSysTable if it doesn't exist.\n     * @return {Object}\n     */\n    getLangSysTable: function(script, language, create) {\n        const scriptTable = this.getScriptTable(script, create);\n        if (scriptTable) {\n            if (!language || language === 'dflt' || language === 'DFLT') {\n                return scriptTable.defaultLangSys;\n            }\n            const pos = searchTag(scriptTable.langSysRecords, language);\n            if (pos >= 0) {\n                return scriptTable.langSysRecords[pos].langSys;\n            } else if (create) {\n                const langSysRecord = {\n                    tag: language,\n                    langSys: {reserved: 0, reqFeatureIndex: 0xffff, featureIndexes: []}\n                };\n                scriptTable.langSysRecords.splice(-1 - pos, 0, langSysRecord);\n                return langSysRecord.langSys;\n            }\n        }\n    },\n\n    /**\n     * Get a specific feature table.\n     * @instance\n     * @param {string} [script='DFLT']\n     * @param {string} [language='dlft']\n     * @param {string} feature - One of the codes listed at https://www.microsoft.com/typography/OTSPEC/featurelist.htm\n     * @param {boolean} create - forces the creation of the feature table if it doesn't exist.\n     * @return {Object}\n     */\n    getFeatureTable: function(script, language, feature, create) {\n        const langSysTable = this.getLangSysTable(script, language, create);\n        if (langSysTable) {\n            let featureRecord;\n            const featIndexes = langSysTable.featureIndexes;\n            const allFeatures = this.font.tables[this.tableName].features;\n            // The FeatureIndex array of indices is in arbitrary order,\n            // even if allFeatures is sorted alphabetically by feature tag.\n            for (let i = 0; i < featIndexes.length; i++) {\n                featureRecord = allFeatures[featIndexes[i]];\n                if (featureRecord.tag === feature) {\n                    return featureRecord.feature;\n                }\n            }\n            if (create) {\n                const index = allFeatures.length;\n                // Automatic ordering of features would require to shift feature indexes in the script list.\n                check.assert(index === 0 || feature >= allFeatures[index - 1].tag, 'Features must be added in alphabetical order.');\n                featureRecord = {\n                    tag: feature,\n                    feature: { params: 0, lookupListIndexes: [] }\n                };\n                allFeatures.push(featureRecord);\n                featIndexes.push(index);\n                return featureRecord.feature;\n            }\n        }\n    },\n\n    /**\n     * Get the lookup tables of a given type for a script/language/feature.\n     * @instance\n     * @param {string} [script='DFLT']\n     * @param {string} [language='dlft']\n     * @param {string} feature - 4-letter feature code\n     * @param {number} lookupType - 1 to 9\n     * @param {boolean} create - forces the creation of the lookup table if it doesn't exist, with no subtables.\n     * @return {Object[]}\n     */\n    getLookupTables: function(script, language, feature, lookupType, create) {\n        const featureTable = this.getFeatureTable(script, language, feature, create);\n        const tables = [];\n        if (featureTable) {\n            let lookupTable;\n            const lookupListIndexes = featureTable.lookupListIndexes;\n            const allLookups = this.font.tables[this.tableName].lookups;\n            // lookupListIndexes are in no particular order, so use naive search.\n            for (let i = 0; i < lookupListIndexes.length; i++) {\n                lookupTable = allLookups[lookupListIndexes[i]];\n                if (lookupTable.lookupType === lookupType) {\n                    tables.push(lookupTable);\n                }\n            }\n            if (tables.length === 0 && create) {\n                lookupTable = {\n                    lookupType: lookupType,\n                    lookupFlag: 0,\n                    subtables: [],\n                    markFilteringSet: undefined\n                };\n                const index = allLookups.length;\n                allLookups.push(lookupTable);\n                lookupListIndexes.push(index);\n                return [lookupTable];\n            }\n        }\n        return tables;\n    },\n\n    /**\n     * Find a glyph in a class definition table\n     * https://docs.microsoft.com/en-us/typography/opentype/spec/chapter2#class-definition-table\n     * @param {object} classDefTable - an OpenType Layout class definition table\n     * @param {number} glyphIndex - the index of the glyph to find\n     * @returns {number} -1 if not found\n     */\n    getGlyphClass: function(classDefTable, glyphIndex) {\n        switch (classDefTable.format) {\n            case 1:\n                if (classDefTable.startGlyph <= glyphIndex && glyphIndex < classDefTable.startGlyph + classDefTable.classes.length) {\n                    return classDefTable.classes[glyphIndex - classDefTable.startGlyph];\n                }\n                return 0;\n            case 2:\n                const range = searchRange(classDefTable.ranges, glyphIndex);\n                return range ? range.classId : 0;\n        }\n    },\n\n    /**\n     * Find a glyph in a coverage table\n     * https://docs.microsoft.com/en-us/typography/opentype/spec/chapter2#coverage-table\n     * @param {object} coverageTable - an OpenType Layout coverage table\n     * @param {number} glyphIndex - the index of the glyph to find\n     * @returns {number} -1 if not found\n     */\n    getCoverageIndex: function(coverageTable, glyphIndex) {\n        switch (coverageTable.format) {\n            case 1:\n                const index = binSearch(coverageTable.glyphs, glyphIndex);\n                return index >= 0 ? index : -1;\n            case 2:\n                const range = searchRange(coverageTable.ranges, glyphIndex);\n                return range ? range.index + glyphIndex - range.start : -1;\n        }\n    },\n\n    /**\n     * Returns the list of glyph indexes of a coverage table.\n     * Format 1: the list is stored raw\n     * Format 2: compact list as range records.\n     * @instance\n     * @param  {Object} coverageTable\n     * @return {Array}\n     */\n    expandCoverage: function(coverageTable) {\n        if (coverageTable.format === 1) {\n            return coverageTable.glyphs;\n        } else {\n            const glyphs = [];\n            const ranges = coverageTable.ranges;\n            for (let i = 0; i < ranges.length; i++) {\n                const range = ranges[i];\n                const start = range.start;\n                const end = range.end;\n                for (let j = start; j <= end; j++) {\n                    glyphs.push(j);\n                }\n            }\n            return glyphs;\n        }\n    }\n\n};\n\nexport default Layout;\n","// The Substitution object provides utility methods to manipulate\n// the GSUB substitution table.\n\nimport check from './check';\nimport Layout from './layout';\n\n/**\n * @exports opentype.Substitution\n * @class\n * @extends opentype.Layout\n * @param {opentype.Font}\n * @constructor\n */\nfunction Substitution(font) {\n    Layout.call(this, font, 'gsub');\n}\n\n// Check if 2 arrays of primitives are equal.\nfunction arraysEqual(ar1, ar2) {\n    const n = ar1.length;\n    if (n !== ar2.length) { return false; }\n    for (let i = 0; i < n; i++) {\n        if (ar1[i] !== ar2[i]) { return false; }\n    }\n    return true;\n}\n\n// Find the first subtable of a lookup table in a particular format.\nfunction getSubstFormat(lookupTable, format, defaultSubtable) {\n    const subtables = lookupTable.subtables;\n    for (let i = 0; i < subtables.length; i++) {\n        const subtable = subtables[i];\n        if (subtable.substFormat === format) {\n            return subtable;\n        }\n    }\n    if (defaultSubtable) {\n        subtables.push(defaultSubtable);\n        return defaultSubtable;\n    }\n    return undefined;\n}\n\nSubstitution.prototype = Layout.prototype;\n\n/**\n * Create a default GSUB table.\n * @return {Object} gsub - The GSUB table.\n */\nSubstitution.prototype.createDefaultTable = function() {\n    // Generate a default empty GSUB table with just a DFLT script and dflt lang sys.\n    return {\n        version: 1,\n        scripts: [{\n            tag: 'DFLT',\n            script: {\n                defaultLangSys: { reserved: 0, reqFeatureIndex: 0xffff, featureIndexes: [] },\n                langSysRecords: []\n            }\n        }],\n        features: [],\n        lookups: []\n    };\n};\n\n/**\n * List all single substitutions (lookup type 1) for a given script, language, and feature.\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n * @param {string} feature - 4-character feature name ('aalt', 'salt', 'ss01'...)\n * @return {Array} substitutions - The list of substitutions.\n */\nSubstitution.prototype.getSingle = function(feature, script, language) {\n    const substitutions = [];\n    const lookupTables = this.getLookupTables(script, language, feature, 1);\n    for (let idx = 0; idx < lookupTables.length; idx++) {\n        const subtables = lookupTables[idx].subtables;\n        for (let i = 0; i < subtables.length; i++) {\n            const subtable = subtables[i];\n            const glyphs = this.expandCoverage(subtable.coverage);\n            let j;\n            if (subtable.substFormat === 1) {\n                const delta = subtable.deltaGlyphId;\n                for (j = 0; j < glyphs.length; j++) {\n                    const glyph = glyphs[j];\n                    substitutions.push({ sub: glyph, by: glyph + delta });\n                }\n            } else {\n                const substitute = subtable.substitute;\n                for (j = 0; j < glyphs.length; j++) {\n                    substitutions.push({ sub: glyphs[j], by: substitute[j] });\n                }\n            }\n        }\n    }\n    return substitutions;\n};\n\n/**\n * List all alternates (lookup type 3) for a given script, language, and feature.\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n * @param {string} feature - 4-character feature name ('aalt', 'salt'...)\n * @return {Array} alternates - The list of alternates\n */\nSubstitution.prototype.getAlternates = function(feature, script, language) {\n    const alternates = [];\n    const lookupTables = this.getLookupTables(script, language, feature, 3);\n    for (let idx = 0; idx < lookupTables.length; idx++) {\n        const subtables = lookupTables[idx].subtables;\n        for (let i = 0; i < subtables.length; i++) {\n            const subtable = subtables[i];\n            const glyphs = this.expandCoverage(subtable.coverage);\n            const alternateSets = subtable.alternateSets;\n            for (let j = 0; j < glyphs.length; j++) {\n                alternates.push({ sub: glyphs[j], by: alternateSets[j] });\n            }\n        }\n    }\n    return alternates;\n};\n\n/**\n * List all ligatures (lookup type 4) for a given script, language, and feature.\n * The result is an array of ligature objects like { sub: [ids], by: id }\n * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n * @return {Array} ligatures - The list of ligatures.\n */\nSubstitution.prototype.getLigatures = function(feature, script, language) {\n    const ligatures = [];\n    const lookupTables = this.getLookupTables(script, language, feature, 4);\n    for (let idx = 0; idx < lookupTables.length; idx++) {\n        const subtables = lookupTables[idx].subtables;\n        for (let i = 0; i < subtables.length; i++) {\n            const subtable = subtables[i];\n            const glyphs = this.expandCoverage(subtable.coverage);\n            const ligatureSets = subtable.ligatureSets;\n            for (let j = 0; j < glyphs.length; j++) {\n                const startGlyph = glyphs[j];\n                const ligSet = ligatureSets[j];\n                for (let k = 0; k < ligSet.length; k++) {\n                    const lig = ligSet[k];\n                    ligatures.push({\n                        sub: [startGlyph].concat(lig.components),\n                        by: lig.ligGlyph\n                    });\n                }\n            }\n        }\n    }\n    return ligatures;\n};\n\n/**\n * Add or modify a single substitution (lookup type 1)\n * Format 2, more flexible, is always used.\n * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n * @param {Object} substitution - { sub: id, delta: number } for format 1 or { sub: id, by: id } for format 2.\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n */\nSubstitution.prototype.addSingle = function(feature, substitution, script, language) {\n    const lookupTable = this.getLookupTables(script, language, feature, 1, true)[0];\n    const subtable = getSubstFormat(lookupTable, 2, {                // lookup type 1 subtable, format 2, coverage format 1\n        substFormat: 2,\n        coverage: {format: 1, glyphs: []},\n        substitute: []\n    });\n    check.assert(subtable.coverage.format === 1, 'Ligature: unable to modify coverage table format ' + subtable.coverage.format);\n    const coverageGlyph = substitution.sub;\n    let pos = this.binSearch(subtable.coverage.glyphs, coverageGlyph);\n    if (pos < 0) {\n        pos = -1 - pos;\n        subtable.coverage.glyphs.splice(pos, 0, coverageGlyph);\n        subtable.substitute.splice(pos, 0, 0);\n    }\n    subtable.substitute[pos] = substitution.by;\n};\n\n/**\n * Add or modify an alternate substitution (lookup type 1)\n * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n * @param {Object} substitution - { sub: id, by: [ids] }\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n */\nSubstitution.prototype.addAlternate = function(feature, substitution, script, language) {\n    const lookupTable = this.getLookupTables(script, language, feature, 3, true)[0];\n    const subtable = getSubstFormat(lookupTable, 1, {                // lookup type 3 subtable, format 1, coverage format 1\n        substFormat: 1,\n        coverage: {format: 1, glyphs: []},\n        alternateSets: []\n    });\n    check.assert(subtable.coverage.format === 1, 'Ligature: unable to modify coverage table format ' + subtable.coverage.format);\n    const coverageGlyph = substitution.sub;\n    let pos = this.binSearch(subtable.coverage.glyphs, coverageGlyph);\n    if (pos < 0) {\n        pos = -1 - pos;\n        subtable.coverage.glyphs.splice(pos, 0, coverageGlyph);\n        subtable.alternateSets.splice(pos, 0, 0);\n    }\n    subtable.alternateSets[pos] = substitution.by;\n};\n\n/**\n * Add a ligature (lookup type 4)\n * Ligatures with more components must be stored ahead of those with fewer components in order to be found\n * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n * @param {Object} ligature - { sub: [ids], by: id }\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n */\nSubstitution.prototype.addLigature = function(feature, ligature, script, language) {\n    const lookupTable = this.getLookupTables(script, language, feature, 4, true)[0];\n    let subtable = lookupTable.subtables[0];\n    if (!subtable) {\n        subtable = {                // lookup type 4 subtable, format 1, coverage format 1\n            substFormat: 1,\n            coverage: { format: 1, glyphs: [] },\n            ligatureSets: []\n        };\n        lookupTable.subtables[0] = subtable;\n    }\n    check.assert(subtable.coverage.format === 1, 'Ligature: unable to modify coverage table format ' + subtable.coverage.format);\n    const coverageGlyph = ligature.sub[0];\n    const ligComponents = ligature.sub.slice(1);\n    const ligatureTable = {\n        ligGlyph: ligature.by,\n        components: ligComponents\n    };\n    let pos = this.binSearch(subtable.coverage.glyphs, coverageGlyph);\n    if (pos >= 0) {\n        // ligatureSet already exists\n        const ligatureSet = subtable.ligatureSets[pos];\n        for (let i = 0; i < ligatureSet.length; i++) {\n            // If ligature already exists, return.\n            if (arraysEqual(ligatureSet[i].components, ligComponents)) {\n                return;\n            }\n        }\n        // ligature does not exist: add it.\n        ligatureSet.push(ligatureTable);\n    } else {\n        // Create a new ligatureSet and add coverage for the first glyph.\n        pos = -1 - pos;\n        subtable.coverage.glyphs.splice(pos, 0, coverageGlyph);\n        subtable.ligatureSets.splice(pos, 0, [ligatureTable]);\n    }\n};\n\n/**\n * List all feature data for a given script and language.\n * @param {string} feature - 4-letter feature name\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n * @return {Array} substitutions - The list of substitutions.\n */\nSubstitution.prototype.getFeature = function(feature, script, language) {\n    if (/ss\\d\\d/.test(feature)) {\n        // ss01 - ss20\n        return this.getSingle(feature, script, language);\n    }\n    switch (feature) {\n        case 'aalt':\n        case 'salt':\n            return this.getSingle(feature, script, language)\n                    .concat(this.getAlternates(feature, script, language));\n        case 'dlig':\n        case 'liga':\n        case 'rlig': return this.getLigatures(feature, script, language);\n    }\n    return undefined;\n};\n\n/**\n * Add a substitution to a feature for a given script and language.\n * @param {string} feature - 4-letter feature name\n * @param {Object} sub - the substitution to add (an object like { sub: id or [ids], by: id or [ids] })\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n */\nSubstitution.prototype.add = function(feature, sub, script, language) {\n    if (/ss\\d\\d/.test(feature)) {\n        // ss01 - ss20\n        return this.addSingle(feature, sub, script, language);\n    }\n    switch (feature) {\n        case 'aalt':\n        case 'salt':\n            if (typeof sub.by === 'number') {\n                return this.addSingle(feature, sub, script, language);\n            }\n            return this.addAlternate(feature, sub, script, language);\n        case 'dlig':\n        case 'liga':\n        case 'rlig':\n            return this.addLigature(feature, sub, script, language);\n    }\n    return undefined;\n};\n\nexport default Substitution;\n","function isBrowser() {\n    return typeof window !== 'undefined';\n}\n\nfunction isNode() {\n    return typeof window === 'undefined';\n}\n\nfunction nodeBufferToArrayBuffer(buffer) {\n    const ab = new ArrayBuffer(buffer.length);\n    const view = new Uint8Array(ab);\n    for (let i = 0; i < buffer.length; ++i) {\n        view[i] = buffer[i];\n    }\n\n    return ab;\n}\n\nfunction arrayBufferToNodeBuffer(ab) {\n    const buffer = new Buffer(ab.byteLength);\n    const view = new Uint8Array(ab);\n    for (let i = 0; i < buffer.length; ++i) {\n        buffer[i] = view[i];\n    }\n\n    return buffer;\n}\n\nfunction checkArgument(expression, message) {\n    if (!expression) {\n        throw message;\n    }\n}\n\nexport { isBrowser, isNode, nodeBufferToArrayBuffer, arrayBufferToNodeBuffer, checkArgument };\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/* A TrueType font hinting interpreter.\n*\n* (c) 2017 Axel Kittenberger\n*\n* This interpreter has been implemented according to this documentation:\n* https://developer.apple.com/fonts/TrueType-Reference-Manual/RM05/Chap5.html\n*\n* According to the documentation F24DOT6 values are used for pixels.\n* That means calculation is 1/64 pixel accurate and uses integer operations.\n* However, Javascript has floating point operations by default and only\n* those are available. One could make a case to simulate the 1/64 accuracy\n* exactly by truncating after every division operation\n* (for example with << 0) to get pixel exactly results as other TrueType\n* implementations. It may make sense since some fonts are pixel optimized\n* by hand using DELTAP instructions. The current implementation doesn't\n* and rather uses full floating point precision.\n*\n* xScale, yScale and rotation is currently ignored.\n*\n* A few non-trivial instructions are missing as I didn't encounter yet\n* a font that used them to test a possible implementation.\n*\n* Some fonts seem to use undocumented features regarding the twilight zone.\n* Only some of them are implemented as they were encountered.\n*\n* The exports.DEBUG statements are removed on the minified distribution file.\n*/\n'use strict';\n\nimport glyf from './tables/glyf';\n\nlet instructionTable;\nlet exec;\nlet execGlyph;\nlet execComponent;\n\n/*\n* Creates a hinting object.\n*\n* There ought to be exactly one\n* for each truetype font that is used for hinting.\n*/\nfunction Hinting(font) {\n    // the font this hinting object is for\n    this.font = font;\n\n    this.getCommands = function (hPoints) {\n        return glyf.getPath(hPoints).commands;\n    };\n\n    // cached states\n    this._fpgmState  =\n    this._prepState  =\n        undefined;\n\n    // errorState\n    // 0 ... all okay\n    // 1 ... had an error in a glyf,\n    //       continue working but stop spamming\n    //       the console\n    // 2 ... error at prep, stop hinting at this ppem\n    // 3 ... error at fpeg, stop hinting for this font at all\n    this._errorState = 0;\n}\n\n/*\n* Not rounding.\n*/\nfunction roundOff(v) {\n    return v;\n}\n\n/*\n* Rounding to grid.\n*/\nfunction roundToGrid(v) {\n    //Rounding in TT is supposed to \"symmetrical around zero\"\n    return Math.sign(v) * Math.round(Math.abs(v));\n}\n\n/*\n* Rounding to double grid.\n*/\nfunction roundToDoubleGrid(v) {\n    return Math.sign(v) * Math.round(Math.abs(v * 2)) / 2;\n}\n\n/*\n* Rounding to half grid.\n*/\nfunction roundToHalfGrid(v) {\n    return Math.sign(v) * (Math.round(Math.abs(v) + 0.5) - 0.5);\n}\n\n/*\n* Rounding to up to grid.\n*/\nfunction roundUpToGrid(v) {\n    return Math.sign(v) * Math.ceil(Math.abs(v));\n}\n\n/*\n* Rounding to down to grid.\n*/\nfunction roundDownToGrid(v) {\n    return Math.sign(v) * Math.floor(Math.abs(v));\n}\n\n/*\n* Super rounding.\n*/\nconst roundSuper = function (v) {\n    const period = this.srPeriod;\n    let phase = this.srPhase;\n    const threshold = this.srThreshold;\n    let sign = 1;\n\n    if (v < 0) {\n        v = -v;\n        sign = -1;\n    }\n\n    v += threshold - phase;\n\n    v = Math.trunc(v / period) * period;\n\n    v += phase;\n\n    // according to http://xgridfit.sourceforge.net/round.html\n    if (v < 0) return phase * sign;\n\n    return v * sign;\n};\n\n/*\n* Unit vector of x-axis.\n*/\nconst xUnitVector = {\n    x: 1,\n\n    y: 0,\n\n    axis: 'x',\n\n    // Gets the projected distance between two points.\n    // o1/o2 ... if true, respective original position is used.\n    distance: function (p1, p2, o1, o2) {\n        return (o1 ? p1.xo : p1.x) - (o2 ? p2.xo : p2.x);\n    },\n\n    // Moves point p so the moved position has the same relative\n    // position to the moved positions of rp1 and rp2 than the\n    // original positions had.\n    //\n    // See APPENDIX on INTERPOLATE at the bottom of this file.\n    interpolate: function (p, rp1, rp2, pv) {\n        let do1;\n        let do2;\n        let doa1;\n        let doa2;\n        let dm1;\n        let dm2;\n        let dt;\n\n        if (!pv || pv === this) {\n            do1 = p.xo - rp1.xo;\n            do2 = p.xo - rp2.xo;\n            dm1 = rp1.x - rp1.xo;\n            dm2 = rp2.x - rp2.xo;\n            doa1 = Math.abs(do1);\n            doa2 = Math.abs(do2);\n            dt = doa1 + doa2;\n\n            if (dt === 0) {\n                p.x = p.xo + (dm1 + dm2) / 2;\n                return;\n            }\n\n            p.x = p.xo + (dm1 * doa2 + dm2 * doa1) / dt;\n            return;\n        }\n\n        do1 = pv.distance(p, rp1, true, true);\n        do2 = pv.distance(p, rp2, true, true);\n        dm1 = pv.distance(rp1, rp1, false, true);\n        dm2 = pv.distance(rp2, rp2, false, true);\n        doa1 = Math.abs(do1);\n        doa2 = Math.abs(do2);\n        dt = doa1 + doa2;\n\n        if (dt === 0) {\n            xUnitVector.setRelative(p, p, (dm1 + dm2) / 2, pv, true);\n            return;\n        }\n\n        xUnitVector.setRelative(p, p, (dm1 * doa2 + dm2 * doa1) / dt, pv, true);\n    },\n\n    // Slope of line normal to this\n    normalSlope: Number.NEGATIVE_INFINITY,\n\n    // Sets the point 'p' relative to point 'rp'\n    // by the distance 'd'.\n    //\n    // See APPENDIX on SETRELATIVE at the bottom of this file.\n    //\n    // p   ... point to set\n    // rp  ... reference point\n    // d   ... distance on projection vector\n    // pv  ... projection vector (undefined = this)\n    // org ... if true, uses the original position of rp as reference.\n    setRelative: function (p, rp, d, pv, org) {\n        if (!pv || pv === this) {\n            p.x = (org ? rp.xo : rp.x) + d;\n            return;\n        }\n\n        const rpx = org ? rp.xo : rp.x;\n        const rpy = org ? rp.yo : rp.y;\n        const rpdx = rpx + d * pv.x;\n        const rpdy = rpy + d * pv.y;\n\n        p.x = rpdx + (p.y - rpdy) / pv.normalSlope;\n    },\n\n    // Slope of vector line.\n    slope: 0,\n\n    // Touches the point p.\n    touch: function (p) {\n        p.xTouched = true;\n    },\n\n    // Tests if a point p is touched.\n    touched: function (p) {\n        return p.xTouched;\n    },\n\n    // Untouches the point p.\n    untouch: function (p) {\n        p.xTouched = false;\n    }\n};\n\n/*\n* Unit vector of y-axis.\n*/\nconst yUnitVector = {\n    x: 0,\n\n    y: 1,\n\n    axis: 'y',\n\n    // Gets the projected distance between two points.\n    // o1/o2 ... if true, respective original position is used.\n    distance: function (p1, p2, o1, o2) {\n        return (o1 ? p1.yo : p1.y) - (o2 ? p2.yo : p2.y);\n    },\n\n    // Moves point p so the moved position has the same relative\n    // position to the moved positions of rp1 and rp2 than the\n    // original positions had.\n    //\n    // See APPENDIX on INTERPOLATE at the bottom of this file.\n    interpolate: function (p, rp1, rp2, pv) {\n        let do1;\n        let do2;\n        let doa1;\n        let doa2;\n        let dm1;\n        let dm2;\n        let dt;\n\n        if (!pv || pv === this) {\n            do1 = p.yo - rp1.yo;\n            do2 = p.yo - rp2.yo;\n            dm1 = rp1.y - rp1.yo;\n            dm2 = rp2.y - rp2.yo;\n            doa1 = Math.abs(do1);\n            doa2 = Math.abs(do2);\n            dt = doa1 + doa2;\n\n            if (dt === 0) {\n                p.y = p.yo + (dm1 + dm2) / 2;\n                return;\n            }\n\n            p.y = p.yo + (dm1 * doa2 + dm2 * doa1) / dt;\n            return;\n        }\n\n        do1 = pv.distance(p, rp1, true, true);\n        do2 = pv.distance(p, rp2, true, true);\n        dm1 = pv.distance(rp1, rp1, false, true);\n        dm2 = pv.distance(rp2, rp2, false, true);\n        doa1 = Math.abs(do1);\n        doa2 = Math.abs(do2);\n        dt = doa1 + doa2;\n\n        if (dt === 0) {\n            yUnitVector.setRelative(p, p, (dm1 + dm2) / 2, pv, true);\n            return;\n        }\n\n        yUnitVector.setRelative(p, p, (dm1 * doa2 + dm2 * doa1) / dt, pv, true);\n    },\n\n    // Slope of line normal to this.\n    normalSlope: 0,\n\n    // Sets the point 'p' relative to point 'rp'\n    // by the distance 'd'\n    //\n    // See APPENDIX on SETRELATIVE at the bottom of this file.\n    //\n    // p   ... point to set\n    // rp  ... reference point\n    // d   ... distance on projection vector\n    // pv  ... projection vector (undefined = this)\n    // org ... if true, uses the original position of rp as reference.\n    setRelative: function (p, rp, d, pv, org) {\n        if (!pv || pv === this) {\n            p.y = (org ? rp.yo : rp.y) + d;\n            return;\n        }\n\n        const rpx = org ? rp.xo : rp.x;\n        const rpy = org ? rp.yo : rp.y;\n        const rpdx = rpx + d * pv.x;\n        const rpdy = rpy + d * pv.y;\n\n        p.y = rpdy + pv.normalSlope * (p.x - rpdx);\n    },\n\n    // Slope of vector line.\n    slope: Number.POSITIVE_INFINITY,\n\n    // Touches the point p.\n    touch: function (p) {\n        p.yTouched = true;\n    },\n\n    // Tests if a point p is touched.\n    touched: function (p) {\n        return p.yTouched;\n    },\n\n    // Untouches the point p.\n    untouch: function (p) {\n        p.yTouched = false;\n    }\n};\n\nObject.freeze(xUnitVector);\nObject.freeze(yUnitVector);\n\n/*\n* Creates a unit vector that is not x- or y-axis.\n*/\nfunction UnitVector(x, y) {\n    this.x = x;\n    this.y = y;\n    this.axis = undefined;\n    this.slope = y / x;\n    this.normalSlope = -x / y;\n    Object.freeze(this);\n}\n\n/*\n* Gets the projected distance between two points.\n* o1/o2 ... if true, respective original position is used.\n*/\nUnitVector.prototype.distance = function(p1, p2, o1, o2) {\n    return (\n        this.x * xUnitVector.distance(p1, p2, o1, o2) +\n        this.y * yUnitVector.distance(p1, p2, o1, o2)\n    );\n};\n\n/*\n* Moves point p so the moved position has the same relative\n* position to the moved positions of rp1 and rp2 than the\n* original positions had.\n*\n* See APPENDIX on INTERPOLATE at the bottom of this file.\n*/\nUnitVector.prototype.interpolate = function(p, rp1, rp2, pv) {\n    let dm1;\n    let dm2;\n    let do1;\n    let do2;\n    let doa1;\n    let doa2;\n    let dt;\n\n    do1 = pv.distance(p, rp1, true, true);\n    do2 = pv.distance(p, rp2, true, true);\n    dm1 = pv.distance(rp1, rp1, false, true);\n    dm2 = pv.distance(rp2, rp2, false, true);\n    doa1 = Math.abs(do1);\n    doa2 = Math.abs(do2);\n    dt = doa1 + doa2;\n\n    if (dt === 0) {\n        this.setRelative(p, p, (dm1 + dm2) / 2, pv, true);\n        return;\n    }\n\n    this.setRelative(p, p, (dm1 * doa2 + dm2 * doa1) / dt, pv, true);\n};\n\n/*\n* Sets the point 'p' relative to point 'rp'\n* by the distance 'd'\n*\n* See APPENDIX on SETRELATIVE at the bottom of this file.\n*\n* p   ...  point to set\n* rp  ... reference point\n* d   ... distance on projection vector\n* pv  ... projection vector (undefined = this)\n* org ... if true, uses the original position of rp as reference.\n*/\nUnitVector.prototype.setRelative = function(p, rp, d, pv, org) {\n    pv = pv || this;\n\n    const rpx = org ? rp.xo : rp.x;\n    const rpy = org ? rp.yo : rp.y;\n    const rpdx = rpx + d * pv.x;\n    const rpdy = rpy + d * pv.y;\n\n    const pvns = pv.normalSlope;\n    const fvs = this.slope;\n\n    const px = p.x;\n    const py = p.y;\n\n    p.x = (fvs * px - pvns * rpdx + rpdy - py) / (fvs - pvns);\n    p.y = fvs * (p.x - px) + py;\n};\n\n/*\n* Touches the point p.\n*/\nUnitVector.prototype.touch = function(p) {\n    p.xTouched = true;\n    p.yTouched = true;\n};\n\n/*\n* Returns a unit vector with x/y coordinates.\n*/\nfunction getUnitVector(x, y) {\n    const d = Math.sqrt(x * x + y * y);\n\n    x /= d;\n    y /= d;\n\n    if (x === 1 && y === 0) return xUnitVector;\n    else if (x === 0 && y === 1) return yUnitVector;\n    else return new UnitVector(x, y);\n}\n\n/*\n* Creates a point in the hinting engine.\n*/\nfunction HPoint(\n    x,\n    y,\n    lastPointOfContour,\n    onCurve\n) {\n    this.x = this.xo = Math.round(x * 64) / 64; // hinted x value and original x-value\n    this.y = this.yo = Math.round(y * 64) / 64; // hinted y value and original y-value\n\n    this.lastPointOfContour = lastPointOfContour;\n    this.onCurve = onCurve;\n    this.prevPointOnContour = undefined;\n    this.nextPointOnContour = undefined;\n    this.xTouched = false;\n    this.yTouched = false;\n\n    Object.preventExtensions(this);\n}\n\n/*\n* Returns the next touched point on the contour.\n*\n* v  ... unit vector to test touch axis.\n*/\nHPoint.prototype.nextTouched = function(v) {\n    let p = this.nextPointOnContour;\n\n    while (!v.touched(p) && p !== this) p = p.nextPointOnContour;\n\n    return p;\n};\n\n/*\n* Returns the previous touched point on the contour\n*\n* v  ... unit vector to test touch axis.\n*/\nHPoint.prototype.prevTouched = function(v) {\n    let p = this.prevPointOnContour;\n\n    while (!v.touched(p) && p !== this) p = p.prevPointOnContour;\n\n    return p;\n};\n\n/*\n* The zero point.\n*/\nconst HPZero = Object.freeze(new HPoint(0, 0));\n\n/*\n* The default state of the interpreter.\n*\n* Note: Freezing the defaultState and then deriving from it\n* makes the V8 Javascript engine going awkward,\n* so this is avoided, albeit the defaultState shouldn't\n* ever change.\n*/\nconst defaultState = {\n    cvCutIn: 17 / 16,    // control value cut in\n    deltaBase: 9,\n    deltaShift: 0.125,\n    loop: 1,             // loops some instructions\n    minDis: 1,           // minimum distance\n    autoFlip: true\n};\n\n/*\n* The current state of the interpreter.\n*\n* env  ... 'fpgm' or 'prep' or 'glyf'\n* prog ... the program\n*/\nfunction State(env, prog) {\n    this.env = env;\n    this.stack = [];\n    this.prog = prog;\n\n    switch (env) {\n        case 'glyf' :\n            this.zp0 = this.zp1 = this.zp2 = 1;\n            this.rp0 = this.rp1 = this.rp2 = 0;\n            /* fall through */\n        case 'prep' :\n            this.fv = this.pv = this.dpv = xUnitVector;\n            this.round = roundToGrid;\n    }\n}\n\n/*\n* Executes a glyph program.\n*\n* This does the hinting for each glyph.\n*\n* Returns an array of moved points.\n*\n* glyph: the glyph to hint\n* ppem: the size the glyph is rendered for\n*/\nHinting.prototype.exec = function(glyph, ppem) {\n    if (typeof ppem !== 'number') {\n        throw new Error('Point size is not a number!');\n    }\n\n    // Received a fatal error, don't do any hinting anymore.\n    if (this._errorState > 2) return;\n\n    const font = this.font;\n    let prepState = this._prepState;\n\n    if (!prepState || prepState.ppem !== ppem) {\n        let fpgmState = this._fpgmState;\n\n        if (!fpgmState) {\n            // Executes the fpgm state.\n            // This is used by fonts to define functions.\n            State.prototype = defaultState;\n\n            fpgmState =\n            this._fpgmState =\n                new State('fpgm', font.tables.fpgm);\n\n            fpgmState.funcs = [ ];\n            fpgmState.font = font;\n\n            if (exports.DEBUG) {\n                console.log('---EXEC FPGM---');\n                fpgmState.step = -1;\n            }\n\n            try {\n                exec(fpgmState);\n            } catch (e) {\n                console.log('Hinting error in FPGM:' + e);\n                this._errorState = 3;\n                return;\n            }\n        }\n\n        // Executes the prep program for this ppem setting.\n        // This is used by fonts to set cvt values\n        // depending on to be rendered font size.\n\n        State.prototype = fpgmState;\n        prepState =\n        this._prepState =\n            new State('prep', font.tables.prep);\n\n        prepState.ppem = ppem;\n\n        // Creates a copy of the cvt table\n        // and scales it to the current ppem setting.\n        const oCvt = font.tables.cvt;\n        if (oCvt) {\n            const cvt = prepState.cvt = new Array(oCvt.length);\n            const scale = ppem / font.unitsPerEm;\n            for (let c = 0; c < oCvt.length; c++) {\n                cvt[c] = oCvt[c] * scale;\n            }\n        } else {\n            prepState.cvt = [];\n        }\n\n        if (exports.DEBUG) {\n            console.log('---EXEC PREP---');\n            prepState.step = -1;\n        }\n\n        try {\n            exec(prepState);\n        } catch (e) {\n            if (this._errorState < 2) {\n                console.log('Hinting error in PREP:' + e);\n            }\n            this._errorState = 2;\n        }\n    }\n\n    if (this._errorState > 1) return;\n\n    try {\n        return execGlyph(glyph, prepState);\n    } catch (e) {\n        if (this._errorState < 1) {\n            console.log('Hinting error:' + e);\n            console.log('Note: further hinting errors are silenced');\n        }\n        this._errorState = 1;\n        return undefined;\n    }\n};\n\n/*\n* Executes the hinting program for a glyph.\n*/\nexecGlyph = function(glyph, prepState) {\n    // original point positions\n    const xScale = prepState.ppem / prepState.font.unitsPerEm;\n    const yScale = xScale;\n    let components = glyph.components;\n    let contours;\n    let gZone;\n    let state;\n\n    State.prototype = prepState;\n    if (!components) {\n        state = new State('glyf', glyph.instructions);\n        if (exports.DEBUG) {\n            console.log('---EXEC GLYPH---');\n            state.step = -1;\n        }\n        execComponent(glyph, state, xScale, yScale);\n        gZone = state.gZone;\n    } else {\n        const font = prepState.font;\n        gZone = [];\n        contours = [];\n        for (let i = 0; i < components.length; i++) {\n            const c = components[i];\n            const cg = font.glyphs.get(c.glyphIndex);\n\n            state = new State('glyf', cg.instructions);\n\n            if (exports.DEBUG) {\n                console.log('---EXEC COMP ' + i + '---');\n                state.step = -1;\n            }\n\n            execComponent(cg, state, xScale, yScale);\n            // appends the computed points to the result array\n            // post processes the component points\n            const dx = Math.round(c.dx * xScale);\n            const dy = Math.round(c.dy * yScale);\n            const gz = state.gZone;\n            const cc = state.contours;\n            for (let pi = 0; pi < gz.length; pi++) {\n                const p = gz[pi];\n                p.xTouched = p.yTouched = false;\n                p.xo = p.x = p.x + dx;\n                p.yo = p.y = p.y + dy;\n            }\n\n            const gLen = gZone.length;\n            gZone.push.apply(gZone, gz);\n            for (let j = 0; j < cc.length; j++) {\n                contours.push(cc[j] + gLen);\n            }\n        }\n\n        if (glyph.instructions && !state.inhibitGridFit) {\n            // the composite has instructions on its own\n            state = new State('glyf', glyph.instructions);\n\n            state.gZone = state.z0 = state.z1 = state.z2 = gZone;\n\n            state.contours = contours;\n\n            // note: HPZero cannot be used here, since\n            //       the point might be modified\n            gZone.push(\n                new HPoint(0, 0),\n                new HPoint(Math.round(glyph.advanceWidth * xScale), 0)\n            );\n\n            if (exports.DEBUG) {\n                console.log('---EXEC COMPOSITE---');\n                state.step = -1;\n            }\n\n            exec(state);\n\n            gZone.length -= 2;\n        }\n    }\n\n    return gZone;\n};\n\n/*\n* Executes the hinting program for a component of a multi-component glyph\n* or of the glyph itself for a non-component glyph.\n*/\nexecComponent = function(glyph, state, xScale, yScale)\n{\n    const points = glyph.points || [];\n    const pLen = points.length;\n    const gZone = state.gZone = state.z0 = state.z1 = state.z2 = [];\n    const contours = state.contours = [];\n\n    // Scales the original points and\n    // makes copies for the hinted points.\n    let cp; // current point\n    for (let i = 0; i < pLen; i++) {\n        cp = points[i];\n\n        gZone[i] = new HPoint(\n            cp.x * xScale,\n            cp.y * yScale,\n            cp.lastPointOfContour,\n            cp.onCurve\n        );\n    }\n\n    // Chain links the contours.\n    let sp; // start point\n    let np; // next point\n\n    for (let i = 0; i < pLen; i++) {\n        cp = gZone[i];\n\n        if (!sp) {\n            sp = cp;\n            contours.push(i);\n        }\n\n        if (cp.lastPointOfContour) {\n            cp.nextPointOnContour = sp;\n            sp.prevPointOnContour = cp;\n            sp = undefined;\n        } else {\n            np = gZone[i + 1];\n            cp.nextPointOnContour = np;\n            np.prevPointOnContour = cp;\n        }\n    }\n\n    if (state.inhibitGridFit) return;\n\n    if (exports.DEBUG) {\n        console.log('PROCESSING GLYPH', state.stack);\n        for (let i = 0; i < pLen; i++) {\n            console.log(i, gZone[i].x, gZone[i].y);\n        }\n    }\n\n    gZone.push(\n        new HPoint(0, 0),\n        new HPoint(Math.round(glyph.advanceWidth * xScale), 0)\n    );\n\n    exec(state);\n\n    // Removes the extra points.\n    gZone.length -= 2;\n\n    if (exports.DEBUG) {\n        console.log('FINISHED GLYPH', state.stack);\n        for (let i = 0; i < pLen; i++) {\n            console.log(i, gZone[i].x, gZone[i].y);\n        }\n    }\n};\n\n/*\n* Executes the program loaded in state.\n*/\nexec = function(state) {\n    let prog = state.prog;\n\n    if (!prog) return;\n\n    const pLen = prog.length;\n    let ins;\n\n    for (state.ip = 0; state.ip < pLen; state.ip++) {\n        if (exports.DEBUG) state.step++;\n        ins = instructionTable[prog[state.ip]];\n\n        if (!ins) {\n            throw new Error(\n                'unknown instruction: 0x' +\n                Number(prog[state.ip]).toString(16)\n            );\n        }\n\n        ins(state);\n\n        // very extensive debugging for each step\n        /*\n        if (exports.DEBUG) {\n            var da;\n            if (state.gZone) {\n                da = [];\n                for (let i = 0; i < state.gZone.length; i++)\n                {\n                    da.push(i + ' ' +\n                        state.gZone[i].x * 64 + ' ' +\n                        state.gZone[i].y * 64 + ' ' +\n                        (state.gZone[i].xTouched ? 'x' : '') +\n                        (state.gZone[i].yTouched ? 'y' : '')\n                    );\n                }\n                console.log('GZ', da);\n            }\n\n            if (state.tZone) {\n                da = [];\n                for (let i = 0; i < state.tZone.length; i++) {\n                    da.push(i + ' ' +\n                        state.tZone[i].x * 64 + ' ' +\n                        state.tZone[i].y * 64 + ' ' +\n                        (state.tZone[i].xTouched ? 'x' : '') +\n                        (state.tZone[i].yTouched ? 'y' : '')\n                    );\n                }\n                console.log('TZ', da);\n            }\n\n            if (state.stack.length > 10) {\n                console.log(\n                    state.stack.length,\n                    '...', state.stack.slice(state.stack.length - 10)\n                );\n            } else {\n                console.log(state.stack.length, state.stack);\n            }\n        }\n        */\n    }\n};\n\n/*\n* Initializes the twilight zone.\n*\n* This is only done if a SZPx instruction\n* refers to the twilight zone.\n*/\nfunction initTZone(state)\n{\n    const tZone = state.tZone = new Array(state.gZone.length);\n\n    // no idea if this is actually correct...\n    for (let i = 0; i < tZone.length; i++)\n    {\n        tZone[i] = new HPoint(0, 0);\n    }\n}\n\n/*\n* Skips the instruction pointer ahead over an IF/ELSE block.\n* handleElse .. if true breaks on matching ELSE\n*/\nfunction skip(state, handleElse)\n{\n    const prog = state.prog;\n    let ip = state.ip;\n    let nesting = 1;\n    let ins;\n\n    do {\n        ins = prog[++ip];\n        if (ins === 0x58) // IF\n            nesting++;\n        else if (ins === 0x59) // EIF\n            nesting--;\n        else if (ins === 0x40) // NPUSHB\n            ip += prog[ip + 1] + 1;\n        else if (ins === 0x41) // NPUSHW\n            ip += 2 * prog[ip + 1] + 1;\n        else if (ins >= 0xB0 && ins <= 0xB7) // PUSHB\n            ip += ins - 0xB0 + 1;\n        else if (ins >= 0xB8 && ins <= 0xBF) // PUSHW\n            ip += (ins - 0xB8 + 1) * 2;\n        else if (handleElse && nesting === 1 && ins === 0x1B) // ELSE\n            break;\n    } while (nesting > 0);\n\n    state.ip = ip;\n}\n\n/*----------------------------------------------------------*\n*          And then a lot of instructions...                *\n*----------------------------------------------------------*/\n\n// SVTCA[a] Set freedom and projection Vectors To Coordinate Axis\n// 0x00-0x01\nfunction SVTCA(v, state) {\n    if (exports.DEBUG) console.log(state.step, 'SVTCA[' + v.axis + ']');\n\n    state.fv = state.pv = state.dpv = v;\n}\n\n// SPVTCA[a] Set Projection Vector to Coordinate Axis\n// 0x02-0x03\nfunction SPVTCA(v, state) {\n    if (exports.DEBUG) console.log(state.step, 'SPVTCA[' + v.axis + ']');\n\n    state.pv = state.dpv = v;\n}\n\n// SFVTCA[a] Set Freedom Vector to Coordinate Axis\n// 0x04-0x05\nfunction SFVTCA(v, state) {\n    if (exports.DEBUG) console.log(state.step, 'SFVTCA[' + v.axis + ']');\n\n    state.fv = v;\n}\n\n// SPVTL[a] Set Projection Vector To Line\n// 0x06-0x07\nfunction SPVTL(a, state) {\n    const stack = state.stack;\n    const p2i = stack.pop();\n    const p1i = stack.pop();\n    const p2 = state.z2[p2i];\n    const p1 = state.z1[p1i];\n\n    if (exports.DEBUG) console.log('SPVTL[' + a + ']', p2i, p1i);\n\n    let dx;\n    let dy;\n\n    if (!a) {\n        dx = p1.x - p2.x;\n        dy = p1.y - p2.y;\n    } else {\n        dx = p2.y - p1.y;\n        dy = p1.x - p2.x;\n    }\n\n    state.pv = state.dpv = getUnitVector(dx, dy);\n}\n\n// SFVTL[a] Set Freedom Vector To Line\n// 0x08-0x09\nfunction SFVTL(a, state) {\n    const stack = state.stack;\n    const p2i = stack.pop();\n    const p1i = stack.pop();\n    const p2 = state.z2[p2i];\n    const p1 = state.z1[p1i];\n\n    if (exports.DEBUG) console.log('SFVTL[' + a + ']', p2i, p1i);\n\n    let dx;\n    let dy;\n\n    if (!a) {\n        dx = p1.x - p2.x;\n        dy = p1.y - p2.y;\n    } else {\n        dx = p2.y - p1.y;\n        dy = p1.x - p2.x;\n    }\n\n    state.fv = getUnitVector(dx, dy);\n}\n\n// SPVFS[] Set Projection Vector From Stack\n// 0x0A\nfunction SPVFS(state) {\n    const stack = state.stack;\n    const y = stack.pop();\n    const x = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SPVFS[]', y, x);\n\n    state.pv = state.dpv = getUnitVector(x, y);\n}\n\n// SFVFS[] Set Freedom Vector From Stack\n// 0x0B\nfunction SFVFS(state) {\n    const stack = state.stack;\n    const y = stack.pop();\n    const x = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SPVFS[]', y, x);\n\n    state.fv = getUnitVector(x, y);\n}\n\n// GPV[] Get Projection Vector\n// 0x0C\nfunction GPV(state) {\n    const stack = state.stack;\n    const pv = state.pv;\n\n    if (exports.DEBUG) console.log(state.step, 'GPV[]');\n\n    stack.push(pv.x * 0x4000);\n    stack.push(pv.y * 0x4000);\n}\n\n// GFV[] Get Freedom Vector\n// 0x0C\nfunction GFV(state) {\n    const stack = state.stack;\n    const fv = state.fv;\n\n    if (exports.DEBUG) console.log(state.step, 'GFV[]');\n\n    stack.push(fv.x * 0x4000);\n    stack.push(fv.y * 0x4000);\n}\n\n// SFVTPV[] Set Freedom Vector To Projection Vector\n// 0x0E\nfunction SFVTPV(state) {\n    state.fv = state.pv;\n\n    if (exports.DEBUG) console.log(state.step, 'SFVTPV[]');\n}\n\n// ISECT[] moves point p to the InterSECTion of two lines\n// 0x0F\nfunction ISECT(state)\n{\n    const stack = state.stack;\n    const pa0i = stack.pop();\n    const pa1i = stack.pop();\n    const pb0i = stack.pop();\n    const pb1i = stack.pop();\n    const pi = stack.pop();\n    const z0 = state.z0;\n    const z1 = state.z1;\n    const pa0 = z0[pa0i];\n    const pa1 = z0[pa1i];\n    const pb0 = z1[pb0i];\n    const pb1 = z1[pb1i];\n    const p = state.z2[pi];\n\n    if (exports.DEBUG) console.log('ISECT[], ', pa0i, pa1i, pb0i, pb1i, pi);\n\n    // math from\n    // en.wikipedia.org/wiki/Line%E2%80%93line_intersection#Given_two_points_on_each_line\n\n    const x1 = pa0.x;\n    const y1 = pa0.y;\n    const x2 = pa1.x;\n    const y2 = pa1.y;\n    const x3 = pb0.x;\n    const y3 = pb0.y;\n    const x4 = pb1.x;\n    const y4 = pb1.y;\n\n    const div = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    const f1 = x1 * y2 - y1 * x2;\n    const f2 = x3 * y4 - y3 * x4;\n\n    p.x = (f1 * (x3 - x4) - f2 * (x1 - x2)) / div;\n    p.y = (f1 * (y3 - y4) - f2 * (y1 - y2)) / div;\n}\n\n// SRP0[] Set Reference Point 0\n// 0x10\nfunction SRP0(state) {\n    state.rp0 = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SRP0[]', state.rp0);\n}\n\n// SRP1[] Set Reference Point 1\n// 0x11\nfunction SRP1(state) {\n    state.rp1 = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SRP1[]', state.rp1);\n}\n\n// SRP1[] Set Reference Point 2\n// 0x12\nfunction SRP2(state) {\n    state.rp2 = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SRP2[]', state.rp2);\n}\n\n// SZP0[] Set Zone Pointer 0\n// 0x13\nfunction SZP0(state) {\n    const n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SZP0[]', n);\n\n    state.zp0 = n;\n\n    switch (n) {\n        case 0:\n            if (!state.tZone) initTZone(state);\n            state.z0 = state.tZone;\n            break;\n        case 1 :\n            state.z0 = state.gZone;\n            break;\n        default :\n            throw new Error('Invalid zone pointer');\n    }\n}\n\n// SZP1[] Set Zone Pointer 1\n// 0x14\nfunction SZP1(state) {\n    const n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SZP1[]', n);\n\n    state.zp1 = n;\n\n    switch (n) {\n        case 0:\n            if (!state.tZone) initTZone(state);\n            state.z1 = state.tZone;\n            break;\n        case 1 :\n            state.z1 = state.gZone;\n            break;\n        default :\n            throw new Error('Invalid zone pointer');\n    }\n}\n\n// SZP2[] Set Zone Pointer 2\n// 0x15\nfunction SZP2(state) {\n    const n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SZP2[]', n);\n\n    state.zp2 = n;\n\n    switch (n) {\n        case 0:\n            if (!state.tZone) initTZone(state);\n            state.z2 = state.tZone;\n            break;\n        case 1 :\n            state.z2 = state.gZone;\n            break;\n        default :\n            throw new Error('Invalid zone pointer');\n    }\n}\n\n// SZPS[] Set Zone PointerS\n// 0x16\nfunction SZPS(state) {\n    const n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SZPS[]', n);\n\n    state.zp0 = state.zp1 = state.zp2 = n;\n\n    switch (n) {\n        case 0:\n            if (!state.tZone) initTZone(state);\n            state.z0 = state.z1 = state.z2 = state.tZone;\n            break;\n        case 1 :\n            state.z0 = state.z1 = state.z2 = state.gZone;\n            break;\n        default :\n            throw new Error('Invalid zone pointer');\n    }\n}\n\n// SLOOP[] Set LOOP variable\n// 0x17\nfunction SLOOP(state) {\n    state.loop = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SLOOP[]', state.loop);\n}\n\n// RTG[] Round To Grid\n// 0x18\nfunction RTG(state) {\n    if (exports.DEBUG) console.log(state.step, 'RTG[]');\n\n    state.round = roundToGrid;\n}\n\n// RTHG[] Round To Half Grid\n// 0x19\nfunction RTHG(state) {\n    if (exports.DEBUG) console.log(state.step, 'RTHG[]');\n\n    state.round = roundToHalfGrid;\n}\n\n// SMD[] Set Minimum Distance\n// 0x1A\nfunction SMD(state) {\n    const d = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SMD[]', d);\n\n    state.minDis = d / 0x40;\n}\n\n// ELSE[] ELSE clause\n// 0x1B\nfunction ELSE(state) {\n    // This instruction has been reached by executing a then branch\n    // so it just skips ahead until matching EIF.\n    //\n    // In case the IF was negative the IF[] instruction already\n    // skipped forward over the ELSE[]\n\n    if (exports.DEBUG) console.log(state.step, 'ELSE[]');\n\n    skip(state, false);\n}\n\n// JMPR[] JuMP Relative\n// 0x1C\nfunction JMPR(state) {\n    const o = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'JMPR[]', o);\n\n    // A jump by 1 would do nothing.\n    state.ip += o - 1;\n}\n\n// SCVTCI[] Set Control Value Table Cut-In\n// 0x1D\nfunction SCVTCI(state) {\n    const n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SCVTCI[]', n);\n\n    state.cvCutIn = n / 0x40;\n}\n\n// DUP[] DUPlicate top stack element\n// 0x20\nfunction DUP(state) {\n    const stack = state.stack;\n\n    if (exports.DEBUG) console.log(state.step, 'DUP[]');\n\n    stack.push(stack[stack.length - 1]);\n}\n\n// POP[] POP top stack element\n// 0x21\nfunction POP(state) {\n    if (exports.DEBUG) console.log(state.step, 'POP[]');\n\n    state.stack.pop();\n}\n\n// CLEAR[] CLEAR the stack\n// 0x22\nfunction CLEAR(state) {\n    if (exports.DEBUG) console.log(state.step, 'CLEAR[]');\n\n    state.stack.length = 0;\n}\n\n// SWAP[] SWAP the top two elements on the stack\n// 0x23\nfunction SWAP(state) {\n    const stack = state.stack;\n\n    const a = stack.pop();\n    const b = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SWAP[]');\n\n    stack.push(a);\n    stack.push(b);\n}\n\n// DEPTH[] DEPTH of the stack\n// 0x24\nfunction DEPTH(state) {\n    const stack = state.stack;\n\n    if (exports.DEBUG) console.log(state.step, 'DEPTH[]');\n\n    stack.push(stack.length);\n}\n\n// LOOPCALL[] LOOPCALL function\n// 0x2A\nfunction LOOPCALL(state) {\n    const stack = state.stack;\n    const fn = stack.pop();\n    const c = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'LOOPCALL[]', fn, c);\n\n    // saves callers program\n    const cip = state.ip;\n    const cprog = state.prog;\n\n    state.prog = state.funcs[fn];\n\n    // executes the function\n    for (let i = 0; i < c; i++) {\n        exec(state);\n\n        if (exports.DEBUG) console.log(\n            ++state.step,\n            i + 1 < c ? 'next loopcall' : 'done loopcall',\n            i\n        );\n    }\n\n    // restores the callers program\n    state.ip = cip;\n    state.prog = cprog;\n}\n\n// CALL[] CALL function\n// 0x2B\nfunction CALL(state) {\n    const fn = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'CALL[]', fn);\n\n    // saves callers program\n    const cip = state.ip;\n    const cprog = state.prog;\n\n    state.prog = state.funcs[fn];\n\n    // executes the function\n    exec(state);\n\n    // restores the callers program\n    state.ip = cip;\n    state.prog = cprog;\n\n    if (exports.DEBUG) console.log(++state.step, 'returning from', fn);\n}\n\n// CINDEX[] Copy the INDEXed element to the top of the stack\n// 0x25\nfunction CINDEX(state) {\n    const stack = state.stack;\n    const k = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'CINDEX[]', k);\n\n    // In case of k == 1, it copies the last element after popping\n    // thus stack.length - k.\n    stack.push(stack[stack.length - k]);\n}\n\n// MINDEX[] Move the INDEXed element to the top of the stack\n// 0x26\nfunction MINDEX(state) {\n    const stack = state.stack;\n    const k = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'MINDEX[]', k);\n\n    stack.push(stack.splice(stack.length - k, 1)[0]);\n}\n\n// FDEF[] Function DEFinition\n// 0x2C\nfunction FDEF(state) {\n    if (state.env !== 'fpgm') throw new Error('FDEF not allowed here');\n    const stack = state.stack;\n    const prog = state.prog;\n    let ip = state.ip;\n\n    const fn = stack.pop();\n    const ipBegin = ip;\n\n    if (exports.DEBUG) console.log(state.step, 'FDEF[]', fn);\n\n    while (prog[++ip] !== 0x2D);\n\n    state.ip = ip;\n    state.funcs[fn] = prog.slice(ipBegin + 1, ip);\n}\n\n// MDAP[a] Move Direct Absolute Point\n// 0x2E-0x2F\nfunction MDAP(round, state) {\n    const pi = state.stack.pop();\n    const p = state.z0[pi];\n    const fv = state.fv;\n    const pv = state.pv;\n\n    if (exports.DEBUG) console.log(state.step, 'MDAP[' + round + ']', pi);\n\n    let d = pv.distance(p, HPZero);\n\n    if (round) d = state.round(d);\n\n    fv.setRelative(p, HPZero, d, pv);\n    fv.touch(p);\n\n    state.rp0 = state.rp1 = pi;\n}\n\n// IUP[a] Interpolate Untouched Points through the outline\n// 0x30\nfunction IUP(v, state) {\n    const z2 = state.z2;\n    const pLen = z2.length - 2;\n    let cp;\n    let pp;\n    let np;\n\n    if (exports.DEBUG) console.log(state.step, 'IUP[' + v.axis + ']');\n\n    for (let i = 0; i < pLen; i++) {\n        cp = z2[i]; // current point\n\n        // if this point has been touched go on\n        if (v.touched(cp)) continue;\n\n        pp = cp.prevTouched(v);\n\n        // no point on the contour has been touched?\n        if (pp === cp) continue;\n\n        np = cp.nextTouched(v);\n\n        if (pp === np) {\n            // only one point on the contour has been touched\n            // so simply moves the point like that\n\n            v.setRelative(cp, cp, v.distance(pp, pp, false, true), v, true);\n        }\n\n        v.interpolate(cp, pp, np, v);\n    }\n}\n\n// SHP[] SHift Point using reference point\n// 0x32-0x33\nfunction SHP(a, state) {\n    const stack = state.stack;\n    const rpi = a ? state.rp1 : state.rp2;\n    const rp = (a ? state.z0 : state.z1)[rpi];\n    const fv = state.fv;\n    const pv = state.pv;\n    let loop = state.loop;\n    const z2 = state.z2;\n\n    while (loop--)\n    {\n        const pi = stack.pop();\n        const p = z2[pi];\n\n        const d = pv.distance(rp, rp, false, true);\n        fv.setRelative(p, p, d, pv);\n        fv.touch(p);\n\n        if (exports.DEBUG) {\n            console.log(\n                state.step,\n                (state.loop > 1 ?\n                   'loop ' + (state.loop - loop) + ': ' :\n                   ''\n                ) +\n                'SHP[' + (a ? 'rp1' : 'rp2') + ']', pi\n            );\n        }\n    }\n\n    state.loop = 1;\n}\n\n// SHC[] SHift Contour using reference point\n// 0x36-0x37\nfunction SHC(a, state) {\n    const stack = state.stack;\n    const rpi = a ? state.rp1 : state.rp2;\n    const rp = (a ? state.z0 : state.z1)[rpi];\n    const fv = state.fv;\n    const pv = state.pv;\n    const ci = stack.pop();\n    const sp = state.z2[state.contours[ci]];\n    let p = sp;\n\n    if (exports.DEBUG) console.log(state.step, 'SHC[' + a + ']', ci);\n\n    const d = pv.distance(rp, rp, false, true);\n\n    do {\n        if (p !== rp) fv.setRelative(p, p, d, pv);\n        p = p.nextPointOnContour;\n    } while (p !== sp);\n}\n\n// SHZ[] SHift Zone using reference point\n// 0x36-0x37\nfunction SHZ(a, state) {\n    const stack = state.stack;\n    const rpi = a ? state.rp1 : state.rp2;\n    const rp = (a ? state.z0 : state.z1)[rpi];\n    const fv = state.fv;\n    const pv = state.pv;\n\n    const e = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SHZ[' + a + ']', e);\n\n    let z;\n    switch (e) {\n        case 0 : z = state.tZone; break;\n        case 1 : z = state.gZone; break;\n        default : throw new Error('Invalid zone');\n    }\n\n    let p;\n    const d = pv.distance(rp, rp, false, true);\n    const pLen = z.length - 2;\n    for (let i = 0; i < pLen; i++)\n    {\n        p = z[i];\n        fv.setRelative(p, p, d, pv);\n        //if (p !== rp) fv.setRelative(p, p, d, pv);\n    }\n}\n\n// SHPIX[] SHift point by a PIXel amount\n// 0x38\nfunction SHPIX(state) {\n    const stack = state.stack;\n    let loop = state.loop;\n    const fv = state.fv;\n    const d = stack.pop() / 0x40;\n    const z2 = state.z2;\n\n    while (loop--) {\n        const pi = stack.pop();\n        const p = z2[pi];\n\n        if (exports.DEBUG) {\n            console.log(\n                state.step,\n                (state.loop > 1 ? 'loop ' + (state.loop - loop) + ': ' : '') +\n                'SHPIX[]', pi, d\n            );\n        }\n\n        fv.setRelative(p, p, d);\n        fv.touch(p);\n    }\n\n    state.loop = 1;\n}\n\n// IP[] Interpolate Point\n// 0x39\nfunction IP(state) {\n    const stack = state.stack;\n    const rp1i = state.rp1;\n    const rp2i = state.rp2;\n    let loop = state.loop;\n    const rp1 = state.z0[rp1i];\n    const rp2 = state.z1[rp2i];\n    const fv = state.fv;\n    const pv = state.dpv;\n    const z2 = state.z2;\n\n    while (loop--) {\n        const pi = stack.pop();\n        const p = z2[pi];\n\n        if (exports.DEBUG) {\n            console.log(\n                state.step,\n                (state.loop > 1 ? 'loop ' + (state.loop - loop) + ': ' : '') +\n                'IP[]', pi, rp1i, '<->', rp2i\n            );\n        }\n\n        fv.interpolate(p, rp1, rp2, pv);\n\n        fv.touch(p);\n    }\n\n    state.loop = 1;\n}\n\n// MSIRP[a] Move Stack Indirect Relative Point\n// 0x3A-0x3B\nfunction MSIRP(a, state) {\n    const stack = state.stack;\n    const d = stack.pop() / 64;\n    const pi = stack.pop();\n    const p = state.z1[pi];\n    const rp0 = state.z0[state.rp0];\n    const fv = state.fv;\n    const pv = state.pv;\n\n    fv.setRelative(p, rp0, d, pv);\n    fv.touch(p);\n\n    if (exports.DEBUG) console.log(state.step, 'MSIRP[' + a + ']', d, pi);\n\n    state.rp1 = state.rp0;\n    state.rp2 = pi;\n    if (a) state.rp0 = pi;\n}\n\n// ALIGNRP[] Align to reference point.\n// 0x3C\nfunction ALIGNRP(state) {\n    const stack = state.stack;\n    const rp0i = state.rp0;\n    const rp0 = state.z0[rp0i];\n    let loop = state.loop;\n    const fv = state.fv;\n    const pv = state.pv;\n    const z1 = state.z1;\n\n    while (loop--) {\n        const pi = stack.pop();\n        const p = z1[pi];\n\n        if (exports.DEBUG) {\n            console.log(\n                state.step,\n                (state.loop > 1 ? 'loop ' + (state.loop - loop) + ': ' : '') +\n                'ALIGNRP[]', pi\n            );\n        }\n\n        fv.setRelative(p, rp0, 0, pv);\n        fv.touch(p);\n    }\n\n    state.loop = 1;\n}\n\n// RTG[] Round To Double Grid\n// 0x3D\nfunction RTDG(state) {\n    if (exports.DEBUG) console.log(state.step, 'RTDG[]');\n\n    state.round = roundToDoubleGrid;\n}\n\n// MIAP[a] Move Indirect Absolute Point\n// 0x3E-0x3F\nfunction MIAP(round, state) {\n    const stack = state.stack;\n    const n = stack.pop();\n    const pi = stack.pop();\n    const p = state.z0[pi];\n    const fv = state.fv;\n    const pv = state.pv;\n    let cv = state.cvt[n];\n\n    if (exports.DEBUG) {\n        console.log(\n            state.step,\n            'MIAP[' + round + ']',\n            n, '(', cv, ')', pi\n        );\n    }\n\n    let d = pv.distance(p, HPZero);\n\n    if (round) {\n        if (Math.abs(d - cv) < state.cvCutIn) d = cv;\n\n        d = state.round(d);\n    }\n\n    fv.setRelative(p, HPZero, d, pv);\n\n    if (state.zp0 === 0) {\n        p.xo = p.x;\n        p.yo = p.y;\n    }\n\n    fv.touch(p);\n\n    state.rp0 = state.rp1 = pi;\n}\n\n// NPUSB[] PUSH N Bytes\n// 0x40\nfunction NPUSHB(state) {\n    const prog = state.prog;\n    let ip = state.ip;\n    const stack = state.stack;\n\n    const n = prog[++ip];\n\n    if (exports.DEBUG) console.log(state.step, 'NPUSHB[]', n);\n\n    for (let i = 0; i < n; i++) stack.push(prog[++ip]);\n\n    state.ip = ip;\n}\n\n// NPUSHW[] PUSH N Words\n// 0x41\nfunction NPUSHW(state) {\n    let ip = state.ip;\n    const prog = state.prog;\n    const stack = state.stack;\n    const n = prog[++ip];\n\n    if (exports.DEBUG) console.log(state.step, 'NPUSHW[]', n);\n\n    for (let i = 0; i < n; i++) {\n        let w = (prog[++ip] << 8) | prog[++ip];\n        if (w & 0x8000) w = -((w ^ 0xffff) + 1);\n        stack.push(w);\n    }\n\n    state.ip = ip;\n}\n\n// WS[] Write Store\n// 0x42\nfunction WS(state) {\n    const stack = state.stack;\n    let store = state.store;\n\n    if (!store) store = state.store = [];\n\n    const v = stack.pop();\n    const l = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'WS', v, l);\n\n    store[l] = v;\n}\n\n// RS[] Read Store\n// 0x43\nfunction RS(state) {\n    const stack = state.stack;\n    const store = state.store;\n\n    const l = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'RS', l);\n\n    const v = (store && store[l]) || 0;\n\n    stack.push(v);\n}\n\n// WCVTP[] Write Control Value Table in Pixel units\n// 0x44\nfunction WCVTP(state) {\n    const stack = state.stack;\n\n    const v = stack.pop();\n    const l = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'WCVTP', v, l);\n\n    state.cvt[l] = v / 0x40;\n}\n\n// RCVT[] Read Control Value Table entry\n// 0x45\nfunction RCVT(state) {\n    const stack = state.stack;\n    const cvte = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'RCVT', cvte);\n\n    stack.push(state.cvt[cvte] * 0x40);\n}\n\n// GC[] Get Coordinate projected onto the projection vector\n// 0x46-0x47\nfunction GC(a, state) {\n    const stack = state.stack;\n    const pi = stack.pop();\n    const p = state.z2[pi];\n\n    if (exports.DEBUG) console.log(state.step, 'GC[' + a + ']', pi);\n\n    stack.push(state.dpv.distance(p, HPZero, a, false) * 0x40);\n}\n\n// MD[a] Measure Distance\n// 0x49-0x4A\nfunction MD(a, state) {\n    const stack = state.stack;\n    const pi2 = stack.pop();\n    const pi1 = stack.pop();\n    const p2 = state.z1[pi2];\n    const p1 = state.z0[pi1];\n    const d = state.dpv.distance(p1, p2, a, a);\n\n    if (exports.DEBUG) console.log(state.step, 'MD[' + a + ']', pi2, pi1, '->', d);\n\n    state.stack.push(Math.round(d * 64));\n}\n\n// MPPEM[] Measure Pixels Per EM\n// 0x4B\nfunction MPPEM(state) {\n    if (exports.DEBUG) console.log(state.step, 'MPPEM[]');\n    state.stack.push(state.ppem);\n}\n\n// FLIPON[] set the auto FLIP Boolean to ON\n// 0x4D\nfunction FLIPON(state) {\n    if (exports.DEBUG) console.log(state.step, 'FLIPON[]');\n    state.autoFlip = true;\n}\n\n// LT[] Less Than\n// 0x50\nfunction LT(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'LT[]', e2, e1);\n\n    stack.push(e1 < e2 ? 1 : 0);\n}\n\n// LTEQ[] Less Than or EQual\n// 0x53\nfunction LTEQ(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'LTEQ[]', e2, e1);\n\n    stack.push(e1 <= e2 ? 1 : 0);\n}\n\n// GTEQ[] Greater Than\n// 0x52\nfunction GT(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'GT[]', e2, e1);\n\n    stack.push(e1 > e2 ? 1 : 0);\n}\n\n// GTEQ[] Greater Than or EQual\n// 0x53\nfunction GTEQ(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'GTEQ[]', e2, e1);\n\n    stack.push(e1 >= e2 ? 1 : 0);\n}\n\n// EQ[] EQual\n// 0x54\nfunction EQ(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'EQ[]', e2, e1);\n\n    stack.push(e2 === e1 ? 1 : 0);\n}\n\n// NEQ[] Not EQual\n// 0x55\nfunction NEQ(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'NEQ[]', e2, e1);\n\n    stack.push(e2 !== e1 ? 1 : 0);\n}\n\n// ODD[] ODD\n// 0x56\nfunction ODD(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'ODD[]', n);\n\n    stack.push(Math.trunc(n) % 2 ? 1 : 0);\n}\n\n// EVEN[] EVEN\n// 0x57\nfunction EVEN(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'EVEN[]', n);\n\n    stack.push(Math.trunc(n) % 2 ? 0 : 1);\n}\n\n// IF[] IF test\n// 0x58\nfunction IF(state) {\n    let test = state.stack.pop();\n    let ins;\n\n    if (exports.DEBUG) console.log(state.step, 'IF[]', test);\n\n    // if test is true it just continues\n    // if not the ip is skipped until matching ELSE or EIF\n    if (!test) {\n        skip(state, true);\n\n        if (exports.DEBUG) console.log(state.step, ins === 0x1B ? 'ELSE[]' : 'EIF[]');\n    }\n}\n\n// EIF[] End IF\n// 0x59\nfunction EIF(state) {\n    // this can be reached normally when\n    // executing an else branch.\n    // -> just ignore it\n\n    if (exports.DEBUG) console.log(state.step, 'EIF[]');\n}\n\n// AND[] logical AND\n// 0x5A\nfunction AND(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'AND[]', e2, e1);\n\n    stack.push(e2 && e1 ? 1 : 0);\n}\n\n// OR[] logical OR\n// 0x5B\nfunction OR(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'OR[]', e2, e1);\n\n    stack.push(e2 || e1 ? 1 : 0);\n}\n\n// NOT[] logical NOT\n// 0x5C\nfunction NOT(state) {\n    const stack = state.stack;\n    const e = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'NOT[]', e);\n\n    stack.push(e ? 0 : 1);\n}\n\n// DELTAP1[] DELTA exception P1\n// DELTAP2[] DELTA exception P2\n// DELTAP3[] DELTA exception P3\n// 0x5D, 0x71, 0x72\nfunction DELTAP123(b, state) {\n    const stack = state.stack;\n    const n = stack.pop();\n    const fv = state.fv;\n    const pv = state.pv;\n    const ppem = state.ppem;\n    const base = state.deltaBase + (b - 1) * 16;\n    const ds = state.deltaShift;\n    const z0 = state.z0;\n\n    if (exports.DEBUG) console.log(state.step, 'DELTAP[' + b + ']', n, stack);\n\n    for (let i = 0; i < n; i++) {\n        const pi = stack.pop();\n        const arg = stack.pop();\n        const appem = base + ((arg & 0xF0) >> 4);\n        if (appem !== ppem) continue;\n\n        let mag = (arg & 0x0F) - 8;\n        if (mag >= 0) mag++;\n        if (exports.DEBUG) console.log(state.step, 'DELTAPFIX', pi, 'by', mag * ds);\n\n        const p = z0[pi];\n        fv.setRelative(p, p, mag * ds, pv);\n    }\n}\n\n// SDB[] Set Delta Base in the graphics state\n// 0x5E\nfunction SDB(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SDB[]', n);\n\n    state.deltaBase = n;\n}\n\n// SDS[] Set Delta Shift in the graphics state\n// 0x5F\nfunction SDS(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SDS[]', n);\n\n    state.deltaShift = Math.pow(0.5, n);\n}\n\n// ADD[] ADD\n// 0x60\nfunction ADD(state) {\n    const stack = state.stack;\n    const n2 = stack.pop();\n    const n1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'ADD[]', n2, n1);\n\n    stack.push(n1 + n2);\n}\n\n// SUB[] SUB\n// 0x61\nfunction SUB(state) {\n    const stack = state.stack;\n    const n2 = stack.pop();\n    const n1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SUB[]', n2, n1);\n\n    stack.push(n1 - n2);\n}\n\n// DIV[] DIV\n// 0x62\nfunction DIV(state) {\n    const stack = state.stack;\n    const n2 = stack.pop();\n    const n1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'DIV[]', n2, n1);\n\n    stack.push(n1 * 64 / n2);\n}\n\n// MUL[] MUL\n// 0x63\nfunction MUL(state) {\n    const stack = state.stack;\n    const n2 = stack.pop();\n    const n1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'MUL[]', n2, n1);\n\n    stack.push(n1 * n2 / 64);\n}\n\n// ABS[] ABSolute value\n// 0x64\nfunction ABS(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'ABS[]', n);\n\n    stack.push(Math.abs(n));\n}\n\n// NEG[] NEGate\n// 0x65\nfunction NEG(state) {\n    const stack = state.stack;\n    let n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'NEG[]', n);\n\n    stack.push(-n);\n}\n\n// FLOOR[] FLOOR\n// 0x66\nfunction FLOOR(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'FLOOR[]', n);\n\n    stack.push(Math.floor(n / 0x40) * 0x40);\n}\n\n// CEILING[] CEILING\n// 0x67\nfunction CEILING(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'CEILING[]', n);\n\n    stack.push(Math.ceil(n / 0x40) * 0x40);\n}\n\n// ROUND[ab] ROUND value\n// 0x68-0x6B\nfunction ROUND(dt, state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'ROUND[]');\n\n    stack.push(state.round(n / 0x40) * 0x40);\n}\n\n// WCVTF[] Write Control Value Table in Funits\n// 0x70\nfunction WCVTF(state) {\n    const stack = state.stack;\n    const v = stack.pop();\n    const l = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'WCVTF[]', v, l);\n\n    state.cvt[l] = v * state.ppem / state.font.unitsPerEm;\n}\n\n// DELTAC1[] DELTA exception C1\n// DELTAC2[] DELTA exception C2\n// DELTAC3[] DELTA exception C3\n// 0x73, 0x74, 0x75\nfunction DELTAC123(b, state) {\n    const stack = state.stack;\n    const n = stack.pop();\n    const ppem = state.ppem;\n    const base = state.deltaBase + (b - 1) * 16;\n    const ds = state.deltaShift;\n\n    if (exports.DEBUG) console.log(state.step, 'DELTAC[' + b + ']', n, stack);\n\n    for (let i = 0; i < n; i++) {\n        const c = stack.pop();\n        const arg = stack.pop();\n        const appem = base + ((arg & 0xF0) >> 4);\n        if (appem !== ppem) continue;\n\n        let mag = (arg & 0x0F) - 8;\n        if (mag >= 0) mag++;\n\n        const delta = mag * ds;\n\n        if (exports.DEBUG) console.log(state.step, 'DELTACFIX', c, 'by', delta);\n\n        state.cvt[c] += delta;\n    }\n}\n\n// SROUND[] Super ROUND\n// 0x76\nfunction SROUND(state) {\n    let n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SROUND[]', n);\n\n    state.round = roundSuper;\n\n    let period;\n\n    switch (n & 0xC0) {\n        case 0x00:\n            period = 0.5;\n            break;\n        case 0x40:\n            period = 1;\n            break;\n        case 0x80:\n            period = 2;\n            break;\n        default:\n            throw new Error('invalid SROUND value');\n    }\n\n    state.srPeriod = period;\n\n    switch (n & 0x30) {\n        case 0x00:\n            state.srPhase = 0;\n            break;\n        case 0x10:\n            state.srPhase = 0.25 * period;\n            break;\n        case 0x20:\n            state.srPhase = 0.5  * period;\n            break;\n        case 0x30:\n            state.srPhase = 0.75 * period;\n            break;\n        default: throw new Error('invalid SROUND value');\n    }\n\n    n &= 0x0F;\n\n    if (n === 0) state.srThreshold = 0;\n    else state.srThreshold = (n / 8 - 0.5) * period;\n}\n\n// S45ROUND[] Super ROUND 45 degrees\n// 0x77\nfunction S45ROUND(state) {\n    let n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'S45ROUND[]', n);\n\n    state.round = roundSuper;\n\n    let period;\n\n    switch (n & 0xC0) {\n        case 0x00:\n            period = Math.sqrt(2) / 2;\n            break;\n        case 0x40:\n            period = Math.sqrt(2);\n            break;\n        case 0x80:\n            period = 2 * Math.sqrt(2);\n            break;\n        default:\n            throw new Error('invalid S45ROUND value');\n    }\n\n    state.srPeriod = period;\n\n    switch (n & 0x30) {\n        case 0x00:\n            state.srPhase = 0;\n            break;\n        case 0x10:\n            state.srPhase = 0.25 * period;\n            break;\n        case 0x20:\n            state.srPhase = 0.5  * period;\n            break;\n        case 0x30:\n            state.srPhase = 0.75 * period;\n            break;\n        default:\n            throw new Error('invalid S45ROUND value');\n    }\n\n    n &= 0x0F;\n\n    if (n === 0) state.srThreshold = 0;\n    else state.srThreshold = (n / 8 - 0.5) * period;\n}\n\n// ROFF[] Round Off\n// 0x7A\nfunction ROFF(state) {\n    if (exports.DEBUG) console.log(state.step, 'ROFF[]');\n\n    state.round = roundOff;\n}\n\n// RUTG[] Round Up To Grid\n// 0x7C\nfunction RUTG(state) {\n    if (exports.DEBUG) console.log(state.step, 'RUTG[]');\n\n    state.round = roundUpToGrid;\n}\n\n// RDTG[] Round Down To Grid\n// 0x7D\nfunction RDTG(state) {\n    if (exports.DEBUG) console.log(state.step, 'RDTG[]');\n\n    state.round = roundDownToGrid;\n}\n\n// SCANCTRL[] SCAN conversion ConTRoL\n// 0x85\nfunction SCANCTRL(state) {\n    const n = state.stack.pop();\n\n    // ignored by opentype.js\n\n    if (exports.DEBUG) console.log(state.step, 'SCANCTRL[]', n);\n}\n\n// SDPVTL[a] Set Dual Projection Vector To Line\n// 0x86-0x87\nfunction SDPVTL(a, state) {\n    const stack = state.stack;\n    const p2i = stack.pop();\n    const p1i = stack.pop();\n    const p2 = state.z2[p2i];\n    const p1 = state.z1[p1i];\n\n    if (exports.DEBUG) console.log(state.step, 'SDPVTL[' + a + ']', p2i, p1i);\n\n    let dx;\n    let dy;\n\n    if (!a) {\n        dx = p1.x - p2.x;\n        dy = p1.y - p2.y;\n    } else {\n        dx = p2.y - p1.y;\n        dy = p1.x - p2.x;\n    }\n\n    state.dpv = getUnitVector(dx, dy);\n}\n\n// GETINFO[] GET INFOrmation\n// 0x88\nfunction GETINFO(state) {\n    const stack = state.stack;\n    const sel = stack.pop();\n    let r = 0;\n\n    if (exports.DEBUG) console.log(state.step, 'GETINFO[]', sel);\n\n    // v35 as in no subpixel hinting\n    if (sel & 0x01) r = 35;\n\n    // TODO rotation and stretch currently not supported\n    // and thus those GETINFO are always 0.\n\n    // opentype.js is always gray scaling\n    if (sel & 0x20) r |= 0x1000;\n\n    stack.push(r);\n}\n\n// ROLL[] ROLL the top three stack elements\n// 0x8A\nfunction ROLL(state) {\n    const stack = state.stack;\n    const a = stack.pop();\n    const b = stack.pop();\n    const c = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'ROLL[]');\n\n    stack.push(b);\n    stack.push(a);\n    stack.push(c);\n}\n\n// MAX[] MAXimum of top two stack elements\n// 0x8B\nfunction MAX(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'MAX[]', e2, e1);\n\n    stack.push(Math.max(e1, e2));\n}\n\n// MIN[] MINimum of top two stack elements\n// 0x8C\nfunction MIN(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'MIN[]', e2, e1);\n\n    stack.push(Math.min(e1, e2));\n}\n\n// SCANTYPE[] SCANTYPE\n// 0x8D\nfunction SCANTYPE(state) {\n    const n = state.stack.pop();\n    // ignored by opentype.js\n    if (exports.DEBUG) console.log(state.step, 'SCANTYPE[]', n);\n}\n\n// INSTCTRL[] INSTCTRL\n// 0x8D\nfunction INSTCTRL(state) {\n    const s = state.stack.pop();\n    let v = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'INSTCTRL[]', s, v);\n\n    switch (s) {\n        case 1 : state.inhibitGridFit = !!v; return;\n        case 2 : state.ignoreCvt = !!v; return;\n        default: throw new Error('invalid INSTCTRL[] selector');\n    }\n}\n\n// PUSHB[abc] PUSH Bytes\n// 0xB0-0xB7\nfunction PUSHB(n, state) {\n    const stack = state.stack;\n    const prog = state.prog;\n    let ip = state.ip;\n\n    if (exports.DEBUG) console.log(state.step, 'PUSHB[' + n + ']');\n\n    for (let i = 0; i < n; i++) stack.push(prog[++ip]);\n\n    state.ip = ip;\n}\n\n// PUSHW[abc] PUSH Words\n// 0xB8-0xBF\nfunction PUSHW(n, state) {\n    let ip = state.ip;\n    const prog = state.prog;\n    const stack = state.stack;\n\n    if (exports.DEBUG) console.log(state.ip, 'PUSHW[' + n + ']');\n\n    for (let i = 0; i < n; i++) {\n        let w = (prog[++ip] << 8) | prog[++ip];\n        if (w & 0x8000) w = -((w ^ 0xffff) + 1);\n        stack.push(w);\n    }\n\n    state.ip = ip;\n}\n\n// MDRP[abcde] Move Direct Relative Point\n// 0xD0-0xEF\n// (if indirect is 0)\n//\n// and\n//\n// MIRP[abcde] Move Indirect Relative Point\n// 0xE0-0xFF\n// (if indirect is 1)\n\nfunction MDRP_MIRP(indirect, setRp0, keepD, ro, dt, state) {\n    const stack = state.stack;\n    const cvte = indirect && stack.pop();\n    const pi = stack.pop();\n    const rp0i = state.rp0;\n    const rp = state.z0[rp0i];\n    const p = state.z1[pi];\n\n    const md = state.minDis;\n    const fv = state.fv;\n    const pv = state.dpv;\n    let od; // original distance\n    let d; // moving distance\n    let sign; // sign of distance\n    let cv;\n\n    d = od = pv.distance(p, rp, true, true);\n    sign = d >= 0 ? 1 : -1; // Math.sign would be 0 in case of 0\n\n    // TODO consider autoFlip\n    d = Math.abs(d);\n\n    if (indirect) {\n        cv = state.cvt[cvte];\n\n        if (ro && Math.abs(d - cv) < state.cvCutIn) d = cv;\n    }\n\n    if (keepD && d < md) d = md;\n\n    if (ro) d = state.round(d);\n\n    fv.setRelative(p, rp, sign * d, pv);\n    fv.touch(p);\n\n    if (exports.DEBUG) {\n        console.log(\n            state.step,\n            (indirect ? 'MIRP[' : 'MDRP[') +\n            (setRp0 ? 'M' : 'm') +\n            (keepD ? '>' : '_') +\n            (ro ? 'R' : '_') +\n            (dt === 0 ? 'Gr' : (dt === 1 ? 'Bl' : (dt === 2 ? 'Wh' : ''))) +\n            ']',\n            indirect ?\n                cvte + '(' + state.cvt[cvte] + ',' +  cv + ')' :\n                '',\n            pi,\n            '(d =', od, '->', sign * d, ')'\n        );\n    }\n\n    state.rp1 = state.rp0;\n    state.rp2 = pi;\n    if (setRp0) state.rp0 = pi;\n}\n\n/*\n* The instruction table.\n*/\ninstructionTable = [\n    /* 0x00 */ SVTCA.bind(undefined, yUnitVector),\n    /* 0x01 */ SVTCA.bind(undefined, xUnitVector),\n    /* 0x02 */ SPVTCA.bind(undefined, yUnitVector),\n    /* 0x03 */ SPVTCA.bind(undefined, xUnitVector),\n    /* 0x04 */ SFVTCA.bind(undefined, yUnitVector),\n    /* 0x05 */ SFVTCA.bind(undefined, xUnitVector),\n    /* 0x06 */ SPVTL.bind(undefined, 0),\n    /* 0x07 */ SPVTL.bind(undefined, 1),\n    /* 0x08 */ SFVTL.bind(undefined, 0),\n    /* 0x09 */ SFVTL.bind(undefined, 1),\n    /* 0x0A */ SPVFS,\n    /* 0x0B */ SFVFS,\n    /* 0x0C */ GPV,\n    /* 0x0D */ GFV,\n    /* 0x0E */ SFVTPV,\n    /* 0x0F */ ISECT,\n    /* 0x10 */ SRP0,\n    /* 0x11 */ SRP1,\n    /* 0x12 */ SRP2,\n    /* 0x13 */ SZP0,\n    /* 0x14 */ SZP1,\n    /* 0x15 */ SZP2,\n    /* 0x16 */ SZPS,\n    /* 0x17 */ SLOOP,\n    /* 0x18 */ RTG,\n    /* 0x19 */ RTHG,\n    /* 0x1A */ SMD,\n    /* 0x1B */ ELSE,\n    /* 0x1C */ JMPR,\n    /* 0x1D */ SCVTCI,\n    /* 0x1E */ undefined,   // TODO SSWCI\n    /* 0x1F */ undefined,   // TODO SSW\n    /* 0x20 */ DUP,\n    /* 0x21 */ POP,\n    /* 0x22 */ CLEAR,\n    /* 0x23 */ SWAP,\n    /* 0x24 */ DEPTH,\n    /* 0x25 */ CINDEX,\n    /* 0x26 */ MINDEX,\n    /* 0x27 */ undefined,   // TODO ALIGNPTS\n    /* 0x28 */ undefined,\n    /* 0x29 */ undefined,   // TODO UTP\n    /* 0x2A */ LOOPCALL,\n    /* 0x2B */ CALL,\n    /* 0x2C */ FDEF,\n    /* 0x2D */ undefined,   // ENDF (eaten by FDEF)\n    /* 0x2E */ MDAP.bind(undefined, 0),\n    /* 0x2F */ MDAP.bind(undefined, 1),\n    /* 0x30 */ IUP.bind(undefined, yUnitVector),\n    /* 0x31 */ IUP.bind(undefined, xUnitVector),\n    /* 0x32 */ SHP.bind(undefined, 0),\n    /* 0x33 */ SHP.bind(undefined, 1),\n    /* 0x34 */ SHC.bind(undefined, 0),\n    /* 0x35 */ SHC.bind(undefined, 1),\n    /* 0x36 */ SHZ.bind(undefined, 0),\n    /* 0x37 */ SHZ.bind(undefined, 1),\n    /* 0x38 */ SHPIX,\n    /* 0x39 */ IP,\n    /* 0x3A */ MSIRP.bind(undefined, 0),\n    /* 0x3B */ MSIRP.bind(undefined, 1),\n    /* 0x3C */ ALIGNRP,\n    /* 0x3D */ RTDG,\n    /* 0x3E */ MIAP.bind(undefined, 0),\n    /* 0x3F */ MIAP.bind(undefined, 1),\n    /* 0x40 */ NPUSHB,\n    /* 0x41 */ NPUSHW,\n    /* 0x42 */ WS,\n    /* 0x43 */ RS,\n    /* 0x44 */ WCVTP,\n    /* 0x45 */ RCVT,\n    /* 0x46 */ GC.bind(undefined, 0),\n    /* 0x47 */ GC.bind(undefined, 1),\n    /* 0x48 */ undefined,   // TODO SCFS\n    /* 0x49 */ MD.bind(undefined, 0),\n    /* 0x4A */ MD.bind(undefined, 1),\n    /* 0x4B */ MPPEM,\n    /* 0x4C */ undefined,   // TODO MPS\n    /* 0x4D */ FLIPON,\n    /* 0x4E */ undefined,   // TODO FLIPOFF\n    /* 0x4F */ undefined,   // TODO DEBUG\n    /* 0x50 */ LT,\n    /* 0x51 */ LTEQ,\n    /* 0x52 */ GT,\n    /* 0x53 */ GTEQ,\n    /* 0x54 */ EQ,\n    /* 0x55 */ NEQ,\n    /* 0x56 */ ODD,\n    /* 0x57 */ EVEN,\n    /* 0x58 */ IF,\n    /* 0x59 */ EIF,\n    /* 0x5A */ AND,\n    /* 0x5B */ OR,\n    /* 0x5C */ NOT,\n    /* 0x5D */ DELTAP123.bind(undefined, 1),\n    /* 0x5E */ SDB,\n    /* 0x5F */ SDS,\n    /* 0x60 */ ADD,\n    /* 0x61 */ SUB,\n    /* 0x62 */ DIV,\n    /* 0x63 */ MUL,\n    /* 0x64 */ ABS,\n    /* 0x65 */ NEG,\n    /* 0x66 */ FLOOR,\n    /* 0x67 */ CEILING,\n    /* 0x68 */ ROUND.bind(undefined, 0),\n    /* 0x69 */ ROUND.bind(undefined, 1),\n    /* 0x6A */ ROUND.bind(undefined, 2),\n    /* 0x6B */ ROUND.bind(undefined, 3),\n    /* 0x6C */ undefined,   // TODO NROUND[ab]\n    /* 0x6D */ undefined,   // TODO NROUND[ab]\n    /* 0x6E */ undefined,   // TODO NROUND[ab]\n    /* 0x6F */ undefined,   // TODO NROUND[ab]\n    /* 0x70 */ WCVTF,\n    /* 0x71 */ DELTAP123.bind(undefined, 2),\n    /* 0x72 */ DELTAP123.bind(undefined, 3),\n    /* 0x73 */ DELTAC123.bind(undefined, 1),\n    /* 0x74 */ DELTAC123.bind(undefined, 2),\n    /* 0x75 */ DELTAC123.bind(undefined, 3),\n    /* 0x76 */ SROUND,\n    /* 0x77 */ S45ROUND,\n    /* 0x78 */ undefined,   // TODO JROT[]\n    /* 0x79 */ undefined,   // TODO JROF[]\n    /* 0x7A */ ROFF,\n    /* 0x7B */ undefined,\n    /* 0x7C */ RUTG,\n    /* 0x7D */ RDTG,\n    /* 0x7E */ POP, // actually SANGW, supposed to do only a pop though\n    /* 0x7F */ POP, // actually AA, supposed to do only a pop though\n    /* 0x80 */ undefined,   // TODO FLIPPT\n    /* 0x81 */ undefined,   // TODO FLIPRGON\n    /* 0x82 */ undefined,   // TODO FLIPRGOFF\n    /* 0x83 */ undefined,\n    /* 0x84 */ undefined,\n    /* 0x85 */ SCANCTRL,\n    /* 0x86 */ SDPVTL.bind(undefined, 0),\n    /* 0x87 */ SDPVTL.bind(undefined, 1),\n    /* 0x88 */ GETINFO,\n    /* 0x89 */ undefined,   // TODO IDEF\n    /* 0x8A */ ROLL,\n    /* 0x8B */ MAX,\n    /* 0x8C */ MIN,\n    /* 0x8D */ SCANTYPE,\n    /* 0x8E */ INSTCTRL,\n    /* 0x8F */ undefined,\n    /* 0x90 */ undefined,\n    /* 0x91 */ undefined,\n    /* 0x92 */ undefined,\n    /* 0x93 */ undefined,\n    /* 0x94 */ undefined,\n    /* 0x95 */ undefined,\n    /* 0x96 */ undefined,\n    /* 0x97 */ undefined,\n    /* 0x98 */ undefined,\n    /* 0x99 */ undefined,\n    /* 0x9A */ undefined,\n    /* 0x9B */ undefined,\n    /* 0x9C */ undefined,\n    /* 0x9D */ undefined,\n    /* 0x9E */ undefined,\n    /* 0x9F */ undefined,\n    /* 0xA0 */ undefined,\n    /* 0xA1 */ undefined,\n    /* 0xA2 */ undefined,\n    /* 0xA3 */ undefined,\n    /* 0xA4 */ undefined,\n    /* 0xA5 */ undefined,\n    /* 0xA6 */ undefined,\n    /* 0xA7 */ undefined,\n    /* 0xA8 */ undefined,\n    /* 0xA9 */ undefined,\n    /* 0xAA */ undefined,\n    /* 0xAB */ undefined,\n    /* 0xAC */ undefined,\n    /* 0xAD */ undefined,\n    /* 0xAE */ undefined,\n    /* 0xAF */ undefined,\n    /* 0xB0 */ PUSHB.bind(undefined, 1),\n    /* 0xB1 */ PUSHB.bind(undefined, 2),\n    /* 0xB2 */ PUSHB.bind(undefined, 3),\n    /* 0xB3 */ PUSHB.bind(undefined, 4),\n    /* 0xB4 */ PUSHB.bind(undefined, 5),\n    /* 0xB5 */ PUSHB.bind(undefined, 6),\n    /* 0xB6 */ PUSHB.bind(undefined, 7),\n    /* 0xB7 */ PUSHB.bind(undefined, 8),\n    /* 0xB8 */ PUSHW.bind(undefined, 1),\n    /* 0xB9 */ PUSHW.bind(undefined, 2),\n    /* 0xBA */ PUSHW.bind(undefined, 3),\n    /* 0xBB */ PUSHW.bind(undefined, 4),\n    /* 0xBC */ PUSHW.bind(undefined, 5),\n    /* 0xBD */ PUSHW.bind(undefined, 6),\n    /* 0xBE */ PUSHW.bind(undefined, 7),\n    /* 0xBF */ PUSHW.bind(undefined, 8),\n    /* 0xC0 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 0),\n    /* 0xC1 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 1),\n    /* 0xC2 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 2),\n    /* 0xC3 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 3),\n    /* 0xC4 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 0),\n    /* 0xC5 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 1),\n    /* 0xC6 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 2),\n    /* 0xC7 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 3),\n    /* 0xC8 */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 0),\n    /* 0xC9 */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 1),\n    /* 0xCA */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 2),\n    /* 0xCB */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 3),\n    /* 0xCC */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 0),\n    /* 0xCD */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 1),\n    /* 0xCE */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 2),\n    /* 0xCF */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 3),\n    /* 0xD0 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 0),\n    /* 0xD1 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 1),\n    /* 0xD2 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 2),\n    /* 0xD3 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 3),\n    /* 0xD4 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 0),\n    /* 0xD5 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 1),\n    /* 0xD6 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 2),\n    /* 0xD7 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 3),\n    /* 0xD8 */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 0),\n    /* 0xD9 */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 1),\n    /* 0xDA */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 2),\n    /* 0xDB */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 3),\n    /* 0xDC */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 0),\n    /* 0xDD */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 1),\n    /* 0xDE */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 2),\n    /* 0xDF */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 3),\n    /* 0xE0 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 0),\n    /* 0xE1 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 1),\n    /* 0xE2 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 2),\n    /* 0xE3 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 3),\n    /* 0xE4 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 0),\n    /* 0xE5 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 1),\n    /* 0xE6 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 2),\n    /* 0xE7 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 3),\n    /* 0xE8 */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 0),\n    /* 0xE9 */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 1),\n    /* 0xEA */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 2),\n    /* 0xEB */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 3),\n    /* 0xEC */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 0),\n    /* 0xED */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 1),\n    /* 0xEE */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 2),\n    /* 0xEF */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 3),\n    /* 0xF0 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 0),\n    /* 0xF1 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 1),\n    /* 0xF2 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 2),\n    /* 0xF3 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 3),\n    /* 0xF4 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 0),\n    /* 0xF5 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 1),\n    /* 0xF6 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 2),\n    /* 0xF7 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 3),\n    /* 0xF8 */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 0),\n    /* 0xF9 */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 1),\n    /* 0xFA */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 2),\n    /* 0xFB */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 3),\n    /* 0xFC */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 0),\n    /* 0xFD */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 1),\n    /* 0xFE */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 2),\n    /* 0xFF */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 3)\n];\n\nexport default Hinting;\n\n/*****************************\n  Mathematical Considerations\n******************************\n\nfv ... refers to freedom vector\npv ... refers to projection vector\nrp ... refers to reference point\np  ... refers to to point being operated on\nd  ... refers to distance\n\nSETRELATIVE:\n============\n\ncase freedom vector == x-axis:\n------------------------------\n\n                        (pv)\n                     .-'\n              rpd .-'\n               .-*\n          d .-'90'\n         .-'       '\n      .-'           '\n   *-'               ' b\n  rp                  '\n                       '\n                        '\n            p *----------*-------------- (fv)\n                          pm\n\n  rpdx = rpx + d * pv.x\n  rpdy = rpy + d * pv.y\n\n  equation of line b\n\n   y - rpdy = pvns * (x- rpdx)\n\n   y = p.y\n\n   x = rpdx + ( p.y - rpdy ) / pvns\n\n\ncase freedom vector == y-axis:\n------------------------------\n\n    * pm\n    |\\\n    | \\\n    |  \\\n    |   \\\n    |    \\\n    |     \\\n    |      \\\n    |       \\\n    |        \\\n    |         \\ b\n    |          \\\n    |           \\\n    |            \\    .-' (pv)\n    |         90 \\.-'\n    |           .-'* rpd\n    |        .-'\n    *     *-'  d\n    p     rp\n\n  rpdx = rpx + d * pv.x\n  rpdy = rpy + d * pv.y\n\n  equation of line b:\n           pvns ... normal slope to pv\n\n   y - rpdy = pvns * (x - rpdx)\n\n   x = p.x\n\n   y = rpdy +  pvns * (p.x - rpdx)\n\n\n\ngeneric case:\n-------------\n\n\n                              .'(fv)\n                            .'\n                          .* pm\n                        .' !\n                      .'    .\n                    .'      !\n                  .'         . b\n                .'           !\n               *              .\n              p               !\n                         90   .    ... (pv)\n                           ...-*-'''\n                  ...---'''    rpd\n         ...---'''   d\n   *--'''\n  rp\n\n    rpdx = rpx + d * pv.x\n    rpdy = rpy + d * pv.y\n\n equation of line b:\n    pvns... normal slope to pv\n\n    y - rpdy = pvns * (x - rpdx)\n\n equation of freedom vector line:\n    fvs ... slope of freedom vector (=fy/fx)\n\n    y - py = fvs * (x - px)\n\n\n  on pm both equations are true for same x/y\n\n    y - rpdy = pvns * (x - rpdx)\n\n    y - py = fvs * (x - px)\n\n  form to y and set equal:\n\n    pvns * (x - rpdx) + rpdy = fvs * (x - px) + py\n\n  expand:\n\n    pvns * x - pvns * rpdx + rpdy = fvs * x - fvs * px + py\n\n  switch:\n\n    fvs * x - fvs * px + py = pvns * x - pvns * rpdx + rpdy\n\n  solve for x:\n\n    fvs * x - pvns * x = fvs * px - pvns * rpdx - py + rpdy\n\n\n\n          fvs * px - pvns * rpdx + rpdy - py\n    x =  -----------------------------------\n                 fvs - pvns\n\n  and:\n\n    y = fvs * (x - px) + py\n\n\n\nINTERPOLATE:\n============\n\nExamples of point interpolation.\n\nThe weight of the movement of the reference point gets bigger\nthe further the other reference point is away, thus the safest\noption (that is avoiding 0/0 divisions) is to weight the\noriginal distance of the other point by the sum of both distances.\n\nIf the sum of both distances is 0, then move the point by the\narithmetic average of the movement of both reference points.\n\n\n\n\n           (+6)\n    rp1o *---->*rp1\n         .     .                          (+12)\n         .     .                  rp2o *---------->* rp2\n         .     .                       .           .\n         .     .                       .           .\n         .    10          20           .           .\n         |.........|...................|           .\n               .   .                               .\n               .   . (+8)                          .\n                po *------>*p                      .\n               .           .                       .\n               .    12     .          24           .\n               |...........|.......................|\n                                  36\n\n\n-------\n\n\n\n           (+10)\n    rp1o *-------->*rp1\n         .         .                      (-10)\n         .         .              rp2 *<---------* rpo2\n         .         .                   .         .\n         .         .                   .         .\n         .    10   .          30       .         .\n         |.........|.............................|\n                   .                   .\n                   . (+5)              .\n                po *--->* p            .\n                   .    .              .\n                   .    .   20         .\n                   |....|..............|\n                     5        15\n\n\n-------\n\n\n           (+10)\n    rp1o *-------->*rp1\n         .         .\n         .         .\n    rp2o *-------->*rp2\n\n\n                               (+10)\n                          po *-------->* p\n\n-------\n\n\n           (+10)\n    rp1o *-------->*rp1\n         .         .\n         .         .(+30)\n    rp2o *---------------------------->*rp2\n\n\n                                        (+25)\n                          po *----------------------->* p\n\n\n\nvim: set ts=4 sw=4 expandtab:\n*****/\n","// The `glyf` table describes the glyphs in TrueType outline format.\n// http://www.microsoft.com/typography/otspec/glyf.htm\n\nimport check from '../check';\nimport glyphset from '../glyphset';\nimport parse from '../parse';\nimport Path from '../path';\n\n// Parse the coordinate data for a glyph.\nfunction parseGlyphCoordinate(p, flag, previousValue, shortVectorBitMask, sameBitMask) {\n    let v;\n    if ((flag & shortVectorBitMask) > 0) {\n        // The coordinate is 1 byte long.\n        v = p.parseByte();\n        // The `same` bit is re-used for short values to signify the sign of the value.\n        if ((flag & sameBitMask) === 0) {\n            v = -v;\n        }\n\n        v = previousValue + v;\n    } else {\n        //  The coordinate is 2 bytes long.\n        // If the `same` bit is set, the coordinate is the same as the previous coordinate.\n        if ((flag & sameBitMask) > 0) {\n            v = previousValue;\n        } else {\n            // Parse the coordinate as a signed 16-bit delta value.\n            v = previousValue + p.parseShort();\n        }\n    }\n\n    return v;\n}\n\n// Parse a TrueType glyph.\nfunction parseGlyph(glyph, data, start) {\n    const p = new parse.Parser(data, start);\n    glyph.numberOfContours = p.parseShort();\n    glyph._xMin = p.parseShort();\n    glyph._yMin = p.parseShort();\n    glyph._xMax = p.parseShort();\n    glyph._yMax = p.parseShort();\n    let flags;\n    let flag;\n\n    if (glyph.numberOfContours > 0) {\n        // This glyph is not a composite.\n        const endPointIndices = glyph.endPointIndices = [];\n        for (let i = 0; i < glyph.numberOfContours; i += 1) {\n            endPointIndices.push(p.parseUShort());\n        }\n\n        glyph.instructionLength = p.parseUShort();\n        glyph.instructions = [];\n        for (let i = 0; i < glyph.instructionLength; i += 1) {\n            glyph.instructions.push(p.parseByte());\n        }\n\n        const numberOfCoordinates = endPointIndices[endPointIndices.length - 1] + 1;\n        flags = [];\n        for (let i = 0; i < numberOfCoordinates; i += 1) {\n            flag = p.parseByte();\n            flags.push(flag);\n            // If bit 3 is set, we repeat this flag n times, where n is the next byte.\n            if ((flag & 8) > 0) {\n                const repeatCount = p.parseByte();\n                for (let j = 0; j < repeatCount; j += 1) {\n                    flags.push(flag);\n                    i += 1;\n                }\n            }\n        }\n\n        check.argument(flags.length === numberOfCoordinates, 'Bad flags.');\n\n        if (endPointIndices.length > 0) {\n            const points = [];\n            let point;\n            // X/Y coordinates are relative to the previous point, except for the first point which is relative to 0,0.\n            if (numberOfCoordinates > 0) {\n                for (let i = 0; i < numberOfCoordinates; i += 1) {\n                    flag = flags[i];\n                    point = {};\n                    point.onCurve = !!(flag & 1);\n                    point.lastPointOfContour = endPointIndices.indexOf(i) >= 0;\n                    points.push(point);\n                }\n\n                let px = 0;\n                for (let i = 0; i < numberOfCoordinates; i += 1) {\n                    flag = flags[i];\n                    point = points[i];\n                    point.x = parseGlyphCoordinate(p, flag, px, 2, 16);\n                    px = point.x;\n                }\n\n                let py = 0;\n                for (let i = 0; i < numberOfCoordinates; i += 1) {\n                    flag = flags[i];\n                    point = points[i];\n                    point.y = parseGlyphCoordinate(p, flag, py, 4, 32);\n                    py = point.y;\n                }\n            }\n\n            glyph.points = points;\n        } else {\n            glyph.points = [];\n        }\n    } else if (glyph.numberOfContours === 0) {\n        glyph.points = [];\n    } else {\n        glyph.isComposite = true;\n        glyph.points = [];\n        glyph.components = [];\n        let moreComponents = true;\n        while (moreComponents) {\n            flags = p.parseUShort();\n            const component = {\n                glyphIndex: p.parseUShort(),\n                xScale: 1,\n                scale01: 0,\n                scale10: 0,\n                yScale: 1,\n                dx: 0,\n                dy: 0\n            };\n            if ((flags & 1) > 0) {\n                // The arguments are words\n                if ((flags & 2) > 0) {\n                    // values are offset\n                    component.dx = p.parseShort();\n                    component.dy = p.parseShort();\n                } else {\n                    // values are matched points\n                    component.matchedPoints = [p.parseUShort(), p.parseUShort()];\n                }\n\n            } else {\n                // The arguments are bytes\n                if ((flags & 2) > 0) {\n                    // values are offset\n                    component.dx = p.parseChar();\n                    component.dy = p.parseChar();\n                } else {\n                    // values are matched points\n                    component.matchedPoints = [p.parseByte(), p.parseByte()];\n                }\n            }\n\n            if ((flags & 8) > 0) {\n                // We have a scale\n                component.xScale = component.yScale = p.parseF2Dot14();\n            } else if ((flags & 64) > 0) {\n                // We have an X / Y scale\n                component.xScale = p.parseF2Dot14();\n                component.yScale = p.parseF2Dot14();\n            } else if ((flags & 128) > 0) {\n                // We have a 2x2 transformation\n                component.xScale = p.parseF2Dot14();\n                component.scale01 = p.parseF2Dot14();\n                component.scale10 = p.parseF2Dot14();\n                component.yScale = p.parseF2Dot14();\n            }\n\n            glyph.components.push(component);\n            moreComponents = !!(flags & 32);\n        }\n        if (flags & 0x100) {\n            // We have instructions\n            glyph.instructionLength = p.parseUShort();\n            glyph.instructions = [];\n            for (let i = 0; i < glyph.instructionLength; i += 1) {\n                glyph.instructions.push(p.parseByte());\n            }\n        }\n    }\n}\n\n// Transform an array of points and return a new array.\nfunction transformPoints(points, transform) {\n    const newPoints = [];\n    for (let i = 0; i < points.length; i += 1) {\n        const pt = points[i];\n        const newPt = {\n            x: transform.xScale * pt.x + transform.scale01 * pt.y + transform.dx,\n            y: transform.scale10 * pt.x + transform.yScale * pt.y + transform.dy,\n            onCurve: pt.onCurve,\n            lastPointOfContour: pt.lastPointOfContour\n        };\n        newPoints.push(newPt);\n    }\n\n    return newPoints;\n}\n\nfunction getContours(points) {\n    const contours = [];\n    let currentContour = [];\n    for (let i = 0; i < points.length; i += 1) {\n        const pt = points[i];\n        currentContour.push(pt);\n        if (pt.lastPointOfContour) {\n            contours.push(currentContour);\n            currentContour = [];\n        }\n    }\n\n    check.argument(currentContour.length === 0, 'There are still points left in the current contour.');\n    return contours;\n}\n\n// Convert the TrueType glyph outline to a Path.\nfunction getPath(points) {\n    const p = new Path();\n    if (!points) {\n        return p;\n    }\n\n    const contours = getContours(points);\n\n    for (let contourIndex = 0; contourIndex < contours.length; ++contourIndex) {\n        const contour = contours[contourIndex];\n\n        let prev = null;\n        let curr = contour[contour.length - 1];\n        let next = contour[0];\n\n        if (curr.onCurve) {\n            p.moveTo(curr.x, curr.y);\n        } else {\n            if (next.onCurve) {\n                p.moveTo(next.x, next.y);\n            } else {\n                // If both first and last points are off-curve, start at their middle.\n                const start = {x: (curr.x + next.x) * 0.5, y: (curr.y + next.y) * 0.5};\n                p.moveTo(start.x, start.y);\n            }\n        }\n\n        for (let i = 0; i < contour.length; ++i) {\n            prev = curr;\n            curr = next;\n            next = contour[(i + 1) % contour.length];\n\n            if (curr.onCurve) {\n                // This is a straight line.\n                p.lineTo(curr.x, curr.y);\n            } else {\n                let prev2 = prev;\n                let next2 = next;\n\n                if (!prev.onCurve) {\n                    prev2 = { x: (curr.x + prev.x) * 0.5, y: (curr.y + prev.y) * 0.5 };\n                }\n\n                if (!next.onCurve) {\n                    next2 = { x: (curr.x + next.x) * 0.5, y: (curr.y + next.y) * 0.5 };\n                }\n\n                p.quadraticCurveTo(curr.x, curr.y, next2.x, next2.y);\n            }\n        }\n\n        p.closePath();\n    }\n    return p;\n}\n\nfunction buildPath(glyphs, glyph) {\n    if (glyph.isComposite) {\n        for (let j = 0; j < glyph.components.length; j += 1) {\n            const component = glyph.components[j];\n            const componentGlyph = glyphs.get(component.glyphIndex);\n            // Force the ttfGlyphLoader to parse the glyph.\n            componentGlyph.getPath();\n            if (componentGlyph.points) {\n                let transformedPoints;\n                if (component.matchedPoints === undefined) {\n                    // component positioned by offset\n                    transformedPoints = transformPoints(componentGlyph.points, component);\n                } else {\n                    // component positioned by matched points\n                    if ((component.matchedPoints[0] > glyph.points.length - 1) ||\n                        (component.matchedPoints[1] > componentGlyph.points.length - 1)) {\n                        throw Error('Matched points out of range in ' + glyph.name);\n                    }\n                    const firstPt = glyph.points[component.matchedPoints[0]];\n                    let secondPt = componentGlyph.points[component.matchedPoints[1]];\n                    const transform = {\n                        xScale: component.xScale, scale01: component.scale01,\n                        scale10: component.scale10, yScale: component.yScale,\n                        dx: 0, dy: 0\n                    };\n                    secondPt = transformPoints([secondPt], transform)[0];\n                    transform.dx = firstPt.x - secondPt.x;\n                    transform.dy = firstPt.y - secondPt.y;\n                    transformedPoints = transformPoints(componentGlyph.points, transform);\n                }\n                glyph.points = glyph.points.concat(transformedPoints);\n            }\n        }\n    }\n\n    return getPath(glyph.points);\n}\n\n// Parse all the glyphs according to the offsets from the `loca` table.\nfunction parseGlyfTable(data, start, loca, font) {\n    const glyphs = new glyphset.GlyphSet(font);\n\n    // The last element of the loca table is invalid.\n    for (let i = 0; i < loca.length - 1; i += 1) {\n        const offset = loca[i];\n        const nextOffset = loca[i + 1];\n        if (offset !== nextOffset) {\n            glyphs.push(i, glyphset.ttfGlyphLoader(font, i, parseGlyph, data, start + offset, buildPath));\n        } else {\n            glyphs.push(i, glyphset.glyphLoader(font, i));\n        }\n    }\n\n    return glyphs;\n}\n\nexport default { getPath, parse: parseGlyfTable };\n","/**\n * Infer bidirectional properties for a given text and apply\n * the corresponding layout rules.\n */\n\nimport Tokenizer from './tokenizer';\nimport arabicWordCheck from './features/arab/contextCheck/arabicWord';\nimport arabicSentenceCheck from './features/arab/contextCheck/arabicSentence';\nimport arabicPresentationForms from './features/arab/arabicPresentationForms';\nimport arabicRequiredLigatures from './features/arab/arabicRequiredLigatures';\n\n/**\n * Create Bidi. features\n * @param {string} baseDir text base direction. value either 'ltr' or 'rtl'\n */\nfunction Bidi(baseDir) {\n    this.baseDir = baseDir || 'ltr';\n    this.tokenizer = new Tokenizer();\n    this.features = [];\n}\n\n/**\n * Sets Bidi text\n * @param {string} text a text input\n */\nBidi.prototype.setText = function (text) {\n    this.text = text;\n};\n\n/**\n * Store essential context checks:\n * arabic word check for applying gsub features\n * arabic sentence check for adjusting arabic layout\n */\nBidi.prototype.contextChecks = ({\n    arabicWordCheck,\n    arabicSentenceCheck\n});\n\n/**\n * Register arabic word check\n */\nfunction registerArabicWordCheck() {\n    const checks = this.contextChecks.arabicWordCheck;\n    return this.tokenizer.registerContextChecker(\n        'arabicWord',\n        checks.arabicWordStartCheck,\n        checks.arabicWordEndCheck\n    );\n}\n\n/**\n * Register arabic sentence check\n */\nfunction registerArabicSentenceCheck() {\n    const checks = this.contextChecks.arabicSentenceCheck;\n    return this.tokenizer.registerContextChecker(\n        'arabicSentence',\n        checks.arabicSentenceStartCheck,\n        checks.arabicSentenceEndCheck\n    );\n}\n\n/**\n * Perform pre tokenization procedure then\n * tokenize text input\n */\nfunction tokenizeText() {\n    registerArabicWordCheck.call(this);\n    registerArabicSentenceCheck.call(this);\n    return this.tokenizer.tokenize(this.text);\n}\n\n/**\n * Reverse arabic sentence layout\n * TODO: check base dir before applying adjustments - priority low\n */\nfunction reverseArabicSentences() {\n    const ranges = this.tokenizer.getContextRanges('arabicSentence');\n    ranges.forEach(range => {\n        let rangeTokens = this.tokenizer.getRangeTokens(range);\n        this.tokenizer.replaceRange(\n            range.startIndex,\n            range.endOffset,\n            rangeTokens.reverse()\n        );\n    });\n}\n\n/**\n * Subscribe arabic presentation form features\n * @param {feature} feature a feature to apply\n */\nBidi.prototype.subscribeArabicForms = function(feature) {\n    this.tokenizer.events.contextEnd.subscribe(\n        (contextName, range) => {\n            if (contextName === 'arabicWord') {\n                return arabicPresentationForms.call(\n                    this.tokenizer, range, feature\n                );\n            }\n        }\n    );\n};\n\n/**\n * Apply Gsub features\n * @param {feature} features a list of features\n */\nBidi.prototype.applyFeatures = function (features) {\n    for (let i = 0; i < features.length; i++) {\n        const feature = features[i];\n        if (feature) {\n            const script = feature.script;\n            if (!this.features[script]) {\n                this.features[script] = {};\n            }\n            this.features[script][feature.tag] = feature;\n        }\n    }\n};\n\n/**\n * Register a state modifier\n * @param {string} modifierId state modifier id\n * @param {function} condition a predicate function that returns true or false\n * @param {function} modifier a modifier function to set token state\n */\nBidi.prototype.registerModifier = function (modifierId, condition, modifier) {\n    this.tokenizer.registerModifier(modifierId, condition, modifier);\n};\n\n/**\n * Check if 'glyphIndex' is registered\n */\nfunction checkGlyphIndexStatus() {\n    if (this.tokenizer.registeredModifiers.indexOf('glyphIndex') === -1) {\n        throw new Error(\n            'glyphIndex modifier is required to apply ' +\n            'arabic presentation features.'\n        );\n    }\n}\n\n/**\n * Apply arabic presentation forms features\n */\nfunction applyArabicPresentationForms() {\n    if (!this.features.hasOwnProperty('arab')) return;\n    checkGlyphIndexStatus.call(this);\n    const ranges = this.tokenizer.getContextRanges('arabicWord');\n    ranges.forEach(range => {\n        arabicPresentationForms.call(this, range);\n    });\n}\n\n/**\n * Apply required arabic ligatures\n */\nfunction applyArabicRequireLigatures() {\n    if (!this.features.hasOwnProperty('arab')) return;\n    if (!this.features.arab.hasOwnProperty('rlig')) return;\n    checkGlyphIndexStatus.call(this);\n    const ranges = this.tokenizer.getContextRanges('arabicWord');\n    ranges.forEach(range => {\n        arabicRequiredLigatures.call(this, range);\n    });\n}\n\n/**\n * process text input\n * @param {string} text an input text\n */\nBidi.prototype.processText = function(text) {\n    if (!this.text || this.text !== text) {\n        this.setText(text);\n        tokenizeText.call(this);\n        applyArabicPresentationForms.call(this);\n        applyArabicRequireLigatures.call(this);\n        reverseArabicSentences.call(this);\n    }\n};\n\n/**\n * Process a string of text to identify and adjust\n * bidirectional text entities.\n * @param {string} text input text\n */\nBidi.prototype.getBidiText = function (text) {\n    this.processText(text);\n    return this.tokenizer.getText();\n};\n\n/**\n * Get the current state index of each token\n * @param {text} text an input text\n */\nBidi.prototype.getTextGlyphs = function (text) {\n    this.processText(text);\n    let indexes = [];\n    for (let i = 0; i < this.tokenizer.tokens.length; i++) {\n        const token = this.tokenizer.tokens[i];\n        if (token.state.deleted) continue;\n        const index = token.activeState.value;\n        indexes.push(Array.isArray(index) ? index[0] : index);\n    }\n    return indexes;\n};\n\nexport default Bidi;\n","/**\n * Converts a string into a list of tokens.\n */\n\n/**\n * Create a new token\n * @param {string} char a single char\n */\nfunction Token(char) {\n    this.char = char;\n    this.state = {};\n    this.activeState = null;\n}\n\n/**\n * Create a new context range\n * @param {number} startIndex range start index\n * @param {number} endOffset range end index offset\n * @param {string} contextName owner context name\n */\nfunction ContextRange(startIndex, endOffset, contextName) {\n    this.contextName = contextName;\n    this.startIndex = startIndex;\n    this.endOffset = endOffset;\n}\n\n/**\n * Check context start and end\n * @param {string} contextName a unique context name\n * @param {function} checkStart a predicate function the indicates a context's start\n * @param {function} checkEnd a predicate function the indicates a context's end\n */\nfunction ContextChecker(contextName, checkStart, checkEnd) {\n    this.contextName = contextName;\n    this.openRange = null;\n    this.ranges = [];\n    this.checkStart = checkStart;\n    this.checkEnd = checkEnd;\n}\n\n/**\n * Create a context params\n * @param {array} context a list of items\n * @param {number} currentIndex current item index\n */\nfunction ContextParams(context, currentIndex) {\n    this.context = context;\n    this.index = currentIndex;\n    this.length = context.length;\n    this.current = context[currentIndex];\n    this.backtrack = context.slice(0, currentIndex);\n    this.lookahead = context.slice(currentIndex + 1);\n}\n\n/**\n * Create an event instance\n * @param {string} eventId event unique id\n */\nfunction Event(eventId) {\n    this.eventId = eventId;\n    this.subscribers = [];\n}\n\n/**\n * Initialize a core events and auto subscribe required event handlers\n * @param {any} events an object that enlists core events handlers\n */\nfunction initializeCoreEvents(events) {\n    const coreEvents = [\n        'start', 'end', 'next', 'newToken', 'contextStart',\n        'contextEnd', 'insertToken', 'removeToken', 'removeRange',\n        'replaceToken', 'replaceRange', 'composeRUD', 'updateContextsRanges'\n    ];\n\n    coreEvents.forEach(eventId => {\n        Object.defineProperty(this.events, eventId, {\n            value: new Event(eventId)\n        });\n    });\n\n    if (!!events) {\n        coreEvents.forEach(eventId => {\n            const event = events[eventId];\n            if (typeof event === 'function') {\n                this.events[eventId].subscribe(event);\n            }\n        });\n    }\n    const requiresContextUpdate = [\n        'insertToken', 'removeToken', 'removeRange',\n        'replaceToken', 'replaceRange', 'composeRUD'\n    ];\n    requiresContextUpdate.forEach(eventId => {\n        this.events[eventId].subscribe(\n            this.updateContextsRanges\n        );\n    });\n}\n\n/**\n * Converts a string into a list of tokens\n * @param {any} events tokenizer core events\n */\nfunction Tokenizer(events) {\n    this.tokens = [];\n    this.registeredContexts = {};\n    this.contextCheckers = [];\n    this.events = {};\n    this.registeredModifiers = [];\n\n    initializeCoreEvents.call(this, events);\n}\n\n/**\n * Sets the state of a token, usually called by a state modifier.\n * @param {string} key state item key\n * @param {any} value state item value\n */\nToken.prototype.setState = function(key, value) {\n    this.state[key] = value;\n    this.activeState = { key, value: this.state[key] };\n    return this.activeState;\n};\n\nToken.prototype.getState = function (stateId) {\n    return this.state[stateId] || null;\n};\n\n/**\n * Checks if an index exists in the tokens list.\n * @param {number} index token index\n */\nTokenizer.prototype.inboundIndex = function(index) {\n    return index >= 0 && index < this.tokens.length;\n};\n\n/**\n * Compose and apply a list of operations (replace, update, delete)\n * @param {array} RUDs replace, update and delete operations\n * TODO: Perf. Optimization (lengthBefore === lengthAfter ? dispatch once)\n */\nTokenizer.prototype.composeRUD = function (RUDs) {\n    const silent = true;\n    const state = RUDs.map(RUD => (\n        this[RUD[0]].apply(this, RUD.slice(1).concat(silent))\n    ));\n    const hasFAILObject = obj => (\n        typeof obj === 'object' &&\n        obj.hasOwnProperty('FAIL')\n    );\n    if (state.every(hasFAILObject)) {\n        return {\n            FAIL: `composeRUD: one or more operations hasn't completed successfully`,\n            report: state.filter(hasFAILObject)\n        };\n    }\n    this.dispatch('composeRUD', [state.filter(op => !hasFAILObject(op))]);\n};\n\n/**\n * Replace a range of tokens with a list of tokens\n * @param {number} startIndex range start index\n * @param {number} offset range offset\n * @param {token} tokens a list of tokens to replace\n * @param {boolean} silent dispatch events and update context ranges\n */\nTokenizer.prototype.replaceRange = function (startIndex, offset, tokens, silent) {\n    offset = offset !== null ? offset : this.tokens.length;\n    const isTokenType = tokens.every(token => token instanceof Token);\n    if (!isNaN(startIndex) && this.inboundIndex(startIndex) && isTokenType) {\n        const replaced = this.tokens.splice.apply(\n            this.tokens, [startIndex, offset].concat(tokens)\n        );\n        if (!silent) this.dispatch('replaceToken', [startIndex, offset, tokens]);\n        return [replaced, tokens];\n    } else {\n        return { FAIL: 'replaceRange: invalid tokens or startIndex.' };\n    }\n};\n\n/**\n * Replace a token with another token\n * @param {number} index token index\n * @param {token} token a token to replace\n * @param {boolean} silent dispatch events and update context ranges\n */\nTokenizer.prototype.replaceToken = function (index, token, silent) {\n    if (!isNaN(index) && this.inboundIndex(index) && token instanceof Token) {\n        const replaced = this.tokens.splice(index, 1, token);\n        if (!silent) this.dispatch('replaceToken', [index, token]);\n        return [replaced[0], token];\n    } else {\n        return { FAIL: 'replaceToken: invalid token or index.' };\n    }\n};\n\n/**\n * Removes a range of tokens\n * @param {number} startIndex range start index\n * @param {number} offset range offset\n * @param {boolean} silent dispatch events and update context ranges\n */\nTokenizer.prototype.removeRange = function(startIndex, offset, silent) {\n    offset = !isNaN(offset) ? offset : this.tokens.length;\n    const tokens = this.tokens.splice(startIndex, offset);\n    if (!silent) this.dispatch('removeRange', [tokens, startIndex, offset]);\n    return tokens;\n};\n\n/**\n * Remove a token at a certain index\n * @param {number} index token index\n * @param {boolean} silent dispatch events and update context ranges\n */\nTokenizer.prototype.removeToken = function(index, silent) {\n    if (!isNaN(index) && this.inboundIndex(index)) {\n        const token = this.tokens.splice(index, 1);\n        if (!silent) this.dispatch('removeToken', [token, index]);\n        return token;\n    } else {\n        return { FAIL: 'removeToken: invalid token index.' };\n    }\n};\n\n/**\n * Insert a list of tokens at a certain index\n * @param {array} tokens a list of tokens to insert\n * @param {number} index insert the list of tokens at index\n * @param {boolean} silent dispatch events and update context ranges\n */\nTokenizer.prototype.insertToken = function (tokens, index, silent) {\n    const tokenType = tokens.every(\n        token => token instanceof Token\n    );\n    if (tokenType) {\n        this.tokens.splice.apply(\n            this.tokens, [index, 0].concat(tokens)\n        );\n        if (!silent) this.dispatch('insertToken', [tokens, index]);\n        return tokens;\n    } else {\n        return { FAIL: 'insertToken: invalid token(s).' };\n    }\n};\n\n/**\n * A state modifier that is called on 'newToken' event\n * @param {string} modifierId state modifier id\n * @param {function} condition a predicate function that returns true or false\n * @param {function} modifier a function to update token state\n */\nTokenizer.prototype.registerModifier = function(modifierId, condition, modifier) {\n    this.events.newToken.subscribe(function(token, contextParams) {\n        const conditionParams = [token, contextParams];\n        const canApplyModifier = (\n            condition === null ||\n            condition.apply(this, conditionParams) === true\n        );\n        const modifierParams = [token, contextParams];\n        if (canApplyModifier) {\n            let newStateValue = modifier.apply(this, modifierParams);\n            token.setState(modifierId, newStateValue);\n        }\n    });\n    this.registeredModifiers.push(modifierId);\n};\n\n/**\n * Subscribe a handler to an event\n * @param {function} eventHandler an event handler function\n */\nEvent.prototype.subscribe = function (eventHandler) {\n    if (typeof eventHandler === 'function') {\n        return ((this.subscribers.push(eventHandler)) - 1);\n    } else {\n        return { FAIL: `invalid '${this.eventId}' event handler`};\n    }\n};\n\n/**\n * Unsubscribe an event handler\n * @param {string} subsId subscription id\n */\nEvent.prototype.unsubscribe = function (subsId) {\n    this.subscribers.splice(subsId, 1);\n};\n\n/**\n * Sets context params current value index\n * @param {number} index context params current value index\n */\nContextParams.prototype.setCurrentIndex = function(index) {\n    this.index = index;\n    this.current = this.context[index];\n    this.backtrack = this.context.slice(0, index);\n    this.lookahead = this.context.slice(index + 1);\n};\n\n/**\n * Get an item at an offset from the current value\n * example (current value is 3):\n *  1    2   [3]   4    5   |   items values\n * -2   -1    0    1    2   |   offset values\n * @param {number} offset an offset from current value index\n */\nContextParams.prototype.get = function (offset) {\n    switch (true) {\n        case (offset === 0):\n            return this.current;\n        case (offset < 0 && Math.abs(offset) <= this.backtrack.length):\n            return this.backtrack.slice(offset)[0];\n        case (offset > 0 && offset <= this.lookahead.length):\n            return this.lookahead[offset - 1];\n        default:\n            return null;\n    }\n};\n\n/**\n * Converts a context range into a string value\n * @param {contextRange} range a context range\n */\nTokenizer.prototype.rangeToText = function (range) {\n    if (range instanceof ContextRange) {\n        return (\n            this.getRangeTokens(range)\n                .map(token => token.char).join('')\n        );\n    }\n};\n\n/**\n * Converts all tokens into a string\n */\nTokenizer.prototype.getText = function () {\n    return this.tokens.map(token => token.char).join('');\n};\n\n/**\n * Get a context by name\n * @param {string} contextName context name to get\n */\nTokenizer.prototype.getContext = function (contextName) {\n    let context = this.registeredContexts[contextName];\n    return !!context ? context : null;\n};\n\n/**\n * Subscribes a new event handler to an event\n * @param {string} eventName event name to subscribe to\n * @param {function} eventHandler a function to be invoked on event\n */\nTokenizer.prototype.on = function(eventName, eventHandler) {\n    const event = this.events[eventName];\n    if (!!event) {\n        return event.subscribe(eventHandler);\n    } else {\n        return null;\n    }\n};\n\n/**\n * Dispatches an event\n * @param {string} eventName event name\n * @param {any} args event handler arguments\n */\nTokenizer.prototype.dispatch = function(eventName, args) {\n    const event = this.events[eventName];\n    if (event instanceof Event) {\n        event.subscribers.forEach(subscriber => {\n            subscriber.apply(this, args || []);\n        });\n    }\n};\n\n/**\n * Register a new context checker\n * @param {string} contextName a unique context name\n * @param {function} contextStartCheck a predicate function that returns true on context start\n * @param {function} contextEndCheck  a predicate function that returns true on context end\n * TODO: call tokenize on registration to update context ranges with the new context.\n */\nTokenizer.prototype.registerContextChecker = function(contextName, contextStartCheck, contextEndCheck) {\n    if (!!this.getContext(contextName)) return {\n        FAIL:\n        `context name '${contextName}' is already registered.`\n    };\n    if (typeof contextStartCheck !== 'function') return {\n        FAIL:\n        `missing context start check.`\n    };\n    if (typeof contextEndCheck !== 'function') return {\n        FAIL:\n        `missing context end check.`\n    };\n    const contextCheckers = new ContextChecker(\n        contextName, contextStartCheck, contextEndCheck\n    );\n    this.registeredContexts[contextName] = contextCheckers;\n    this.contextCheckers.push(contextCheckers);\n    return contextCheckers;\n};\n\n/**\n * Gets a context range tokens\n * @param {contextRange} range a context range\n */\nTokenizer.prototype.getRangeTokens = function(range) {\n    const endIndex = range.startIndex + range.endOffset;\n    return [].concat(\n        this.tokens\n            .slice(range.startIndex, endIndex)\n    );\n};\n\n/**\n * Gets the ranges of a context\n * @param {string} contextName context name\n */\nTokenizer.prototype.getContextRanges = function(contextName) {\n    const context = this.getContext(contextName);\n    if (!!context) {\n        return context.ranges;\n    } else {\n        return { FAIL: `context checker '${contextName}' is not registered.` };\n    }\n};\n\n/**\n * Resets context ranges to run context update\n */\nTokenizer.prototype.resetContextsRanges = function () {\n    const registeredContexts = this.registeredContexts;\n    for (const contextName in registeredContexts) {\n        if (registeredContexts.hasOwnProperty(contextName)) {\n            const context = registeredContexts[contextName];\n            context.ranges = [];\n        }\n    }\n};\n\n/**\n * Updates context ranges\n */\nTokenizer.prototype.updateContextsRanges = function () {\n    this.resetContextsRanges();\n    const chars = this.tokens.map(token => token.char);\n    for (let i = 0; i < chars.length; i++) {\n        const contextParams = new ContextParams(chars, i);\n        this.runContextCheck(contextParams);\n    }\n    this.dispatch('updateContextsRanges', [this.registeredContexts]);\n};\n\n/**\n * Sets the end offset of an open range\n * @param {number} offset range end offset\n * @param {string} contextName context name\n */\nTokenizer.prototype.setEndOffset = function (offset, contextName) {\n    const startIndex = this.getContext(contextName).openRange.startIndex;\n    let range = new ContextRange(startIndex, offset, contextName);\n    const ranges = this.getContext(contextName).ranges;\n    range.rangeId = `${contextName}.${ranges.length}`;\n    ranges.push(range);\n    this.getContext(contextName).openRange = null;\n    return range;\n};\n\n/**\n * Runs a context check on the current context\n * @param {contextParams} contextParams current context params\n */\nTokenizer.prototype.runContextCheck = function(contextParams) {\n    const index = contextParams.index;\n    this.contextCheckers.forEach(contextChecker => {\n        let contextName = contextChecker.contextName;\n        let openRange = this.getContext(contextName).openRange;\n        if (!openRange && contextChecker.checkStart(contextParams)) {\n            openRange = new ContextRange(index, null, contextName);\n            this.getContext(contextName).openRange = openRange;\n            this.dispatch('contextStart', [contextName, index]);\n        }\n        if (!!openRange && contextChecker.checkEnd(contextParams)) {\n            const offset = (index - openRange.startIndex) + 1;\n            const range = this.setEndOffset(offset, contextName);\n            this.dispatch('contextEnd', [contextName, range]);\n        }\n    });\n};\n\n/**\n * Converts a text into a list of tokens\n * @param {string} text a text to tokenize\n */\nTokenizer.prototype.tokenize = function (text) {\n    this.tokens = [];\n    this.resetContextsRanges();\n    let chars = Array.from(text);\n    this.dispatch('start');\n    for (let i = 0; i < chars.length; i++) {\n        const char = chars[i];\n        const contextParams = new ContextParams(chars, i);\n        this.dispatch('next', [contextParams]);\n        this.runContextCheck(contextParams);\n        let token = new Token(char);\n        this.tokens.push(token);\n        this.dispatch('newToken', [token, contextParams]);\n    }\n    this.dispatch('end', [this.tokens]);\n    return this.tokens;\n};\n\nexport default Tokenizer;\nexport { Token, Event, ContextRange, ContextParams };\n","/**\n * Arabic word context checkers\n */\n\nimport { isArabicChar } from '../../../char';\n\nfunction arabicWordStartCheck(contextParams) {\n    const char = contextParams.current;\n    const prevChar = contextParams.get(-1);\n    return (\n        // ? arabic first char\n        (prevChar === null && isArabicChar(char)) ||\n        // ? arabic char preceded with a non arabic char\n        (!isArabicChar(prevChar) && isArabicChar(char))\n    );\n}\n\nfunction arabicWordEndCheck(contextParams) {\n    const nextChar = contextParams.get(1);\n    return (\n        // ? last arabic char\n        (nextChar === null) ||\n        // ? next char is not arabic\n        (!isArabicChar(nextChar))\n    );\n}\n\nexport { arabicWordStartCheck, arabicWordEndCheck };\nexport default { arabicWordStartCheck, arabicWordEndCheck };\n","// \n//  Character Class Assertions  Checks if a char belongs to a certain class \n// \n// jscs:disable maximumLineLength\n/**\n * Check if a char is Arabic\n * @param {string} c a single char\n */\nexport function isArabicChar(c) {\n    return /[\\u0600-\\u065F\\u066A-\\u06D2\\u06FA-\\u06FF]/.test(c);\n}\n\n/**\n * Check if a char is an isolated arabic char\n * @param {string} c a single char\n */\nexport function isIsolatedArabicChar(char) {\n    return /[\\u0630\\u0690\\u0621\\u0631\\u0661\\u0671\\u0622\\u0632\\u0672\\u0692\\u06C2\\u0623\\u0673\\u0693\\u06C3\\u0624\\u0694\\u06C4\\u0625\\u0675\\u0695\\u06C5\\u06E5\\u0676\\u0696\\u06C6\\u0627\\u0677\\u0697\\u06C7\\u0648\\u0688\\u0698\\u06C8\\u0689\\u0699\\u06C9\\u068A\\u06CA\\u066B\\u068B\\u06CB\\u068C\\u068D\\u06CD\\u06FD\\u068E\\u06EE\\u06FE\\u062F\\u068F\\u06CF\\u06EF]/.test(char);\n}\n\n/**\n * Check if a char is an Arabic Tashkeel char\n * @param {string} c a single char\n */\nexport function isTashkeelArabicChar(char) {\n    return /[\\u0600-\\u0605\\u060C-\\u060E\\u0610-\\u061B\\u061E\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED]/.test(char);\n}\n\n/**\n * Check if a char is whitespace char\n * @param {string} c a single char\n */\nexport function isWhiteSpace(c) {\n    return /\\s/.test(c);\n}\n","/**\n * Arabic sentence context checkers\n */\n\nimport { isArabicChar, isWhiteSpace, isTashkeelArabicChar } from '../../../char';\n\nfunction arabicSentenceStartCheck(contextParams) {\n    const char = contextParams.current;\n    const prevChar = contextParams.get(-1);\n    return (\n        // ? an arabic char preceded with a non arabic char\n        (isArabicChar(char) || isTashkeelArabicChar(char)) &&\n        !isArabicChar(prevChar)\n    );\n}\n\nfunction arabicSentenceEndCheck(contextParams) {\n    const nextChar = contextParams.get(1);\n    switch (true) {\n        case nextChar === null:\n            return true;\n        case (!isArabicChar(nextChar) && !isTashkeelArabicChar(nextChar)):\n            const nextIsWhitespace = isWhiteSpace(nextChar);\n            if (!nextIsWhitespace) return true;\n            if (nextIsWhitespace) {\n                let arabicCharAhead = false;\n                arabicCharAhead = (\n                    contextParams.lookahead.some(\n                        c => isArabicChar(c) || isTashkeelArabicChar(c)\n                    )\n                );\n                if (!arabicCharAhead) return true;\n            }\n            break;\n        default:\n            return false;\n    }\n}\n\nexport { arabicSentenceStartCheck, arabicSentenceEndCheck };\nexport default { arabicSentenceStartCheck, arabicSentenceEndCheck };\n","/**\n * Apply Arabic presentation forms to a range of tokens\n */\n\nimport { ContextParams } from '../../tokenizer';\nimport { isIsolatedArabicChar, isTashkeelArabicChar } from '../../char';\n/**\n * Check if a char can be connected to it's preceding char\n * @param {ContextParams} charContextParams context params of a char\n */\nfunction willConnectPrev(charContextParams) {\n    let backtrack = [].concat(charContextParams.backtrack);\n    for (let i = backtrack.length - 1; i >= 0; i--) {\n        const prevChar = backtrack[i];\n        const isolated = isIsolatedArabicChar(prevChar);\n        const tashkeel = isTashkeelArabicChar(prevChar);\n        if (!isolated && !tashkeel) return true;\n        if (isolated) return false;\n    }\n    return false;\n}\n\n/**\n * Check if a char can be connected to it's proceeding char\n * @param {ContextParams} charContextParams context params of a char\n */\nfunction willConnectNext(charContextParams) {\n    if (isIsolatedArabicChar(charContextParams.current)) return false;\n    for (let i = 0; i < charContextParams.lookahead.length; i++) {\n        const nextChar = charContextParams.lookahead[i];\n        const tashkeel = isTashkeelArabicChar(nextChar);\n        if (!tashkeel) return true;\n    }\n    return false;\n}\n\n/**\n * Apply arabic presentation forms to a list of tokens\n * @param {ContextRange} range a range of tokens\n */\nfunction arabicPresentationForms(range) {\n    const features = this.features.arab;\n    const rangeTokens = this.tokenizer.getRangeTokens(range);\n    if (rangeTokens.length === 1) return;\n    const getSubstitutionIndex = substitution => (\n        substitution.length === 1 &&\n        substitution[0].id === 12 &&\n        substitution[0].substitution\n    );\n    const applyForm = (tag, token, params) => {\n        if (!features.hasOwnProperty(tag)) return;\n        let substitution = features[tag].lookup(params) || null;\n        let substIndex = getSubstitutionIndex(substitution)[0];\n        if (substIndex >= 0) {\n            return token.setState(tag, substIndex);\n        }\n    };\n    const tokensParams = new ContextParams(rangeTokens, 0);\n    const charContextParams = new ContextParams(rangeTokens.map(t=>t.char), 0);\n    rangeTokens.forEach((token, i) => {\n        if (isTashkeelArabicChar(token.char)) return;\n        tokensParams.setCurrentIndex(i);\n        charContextParams.setCurrentIndex(i);\n        let CONNECT = 0; // 2 bits 00 (10: can connect next) (01: can connect prev)\n        if (willConnectPrev(charContextParams)) CONNECT |= 1;\n        if (willConnectNext(charContextParams)) CONNECT |= 2;\n        switch (CONNECT) {\n            case 0: // isolated * original form\n                return;\n            case 1: // fina\n                applyForm('fina', token, tokensParams);\n                break;\n            case 2: // init\n                applyForm('init', token, tokensParams);\n                break;\n            case 3: // medi\n                applyForm('medi', token, tokensParams);\n                break;\n        }\n    });\n}\n\nexport default arabicPresentationForms;\nexport { arabicPresentationForms };\n","/**\n * Apply Arabic required ligatures feature to a range of tokens\n */\n\nimport { ContextParams } from '../../tokenizer';\n\n/**\n * Apply Arabic required ligatures to a context range\n * @param {ContextRange} range a range of tokens\n */\nfunction arabicRequiredLigatures(range) {\n    const features = this.features.arab;\n    if (!features.hasOwnProperty('rlig')) return;\n    let tokens = this.tokenizer.getRangeTokens(range);\n    for (let i = 0; i < tokens.length; i++) {\n        const lookupParams = new ContextParams(tokens, i);\n        let substitution = features.rlig.lookup(lookupParams) || null;\n        const chainingContext = (\n            substitution.length === 1 &&\n            substitution[0].id === 63 &&\n            substitution[0].substitution\n        );\n        const ligature = (\n            substitution.length === 1 &&\n            substitution[0].id === 41 &&\n            substitution[0].substitution[0]\n        );\n        const token = tokens[i];\n        if (!!ligature) {\n            token.setState('rlig', [ligature.ligGlyph]);\n            for (let c = 0; c < ligature.components.length; c++) {\n                const component = ligature.components[c];\n                const lookaheadToken = lookupParams.get(c + 1);\n                if (lookaheadToken.activeState.value === component) {\n                    lookaheadToken.state.deleted = true;\n                }\n            }\n        } else if (chainingContext) {\n            const substIndex = (\n                chainingContext &&\n                chainingContext.length === 1 &&\n                chainingContext[0].id === 12 &&\n                chainingContext[0].substitution\n            );\n            if (!!substIndex && substIndex >= 0) token.setState('rlig', substIndex);\n        }\n    }\n}\n\nexport default arabicRequiredLigatures;\nexport { arabicRequiredLigatures };\n","/**\n * Query a feature by some of it's properties to lookup a glyph substitution.\n */\n\nimport { ContextParams } from '../tokenizer';\nimport { isTashkeelArabicChar } from '../char';\n\n// DEFAULT TEXT BASE DIRECTION\nlet BASE_DIR = 'ltr';\n\n/**\n * Create feature query instance\n * @param {Font} font opentype font instance\n * @param {string} baseDir text base direction\n */\nfunction FeatureQuery(font, baseDir) {\n    this.font = font;\n    this.features = {};\n    BASE_DIR = !!baseDir ? baseDir : BASE_DIR;\n}\n\n/**\n * Create a new feature lookup\n * @param {string} tag feature tag\n * @param {feature} feature reference to feature at gsub table\n * @param {FeatureLookups} feature lookups associated with this feature\n * @param {string} script gsub script tag\n */\nfunction Feature(tag, feature, featureLookups, script) {\n    this.tag = tag;\n    this.featureRef = feature;\n    this.lookups = featureLookups.lookups;\n    this.script = script;\n}\n\n/**\n * Create a coverage table lookup\n * @param {any} coverageTable gsub coverage table\n */\nfunction Coverage(coverageTable) {\n    this.table = coverageTable;\n}\n\n/**\n * Create a ligature set lookup\n * @param {any} ligatureSets gsub ligature set\n */\nfunction LigatureSets(ligatureSets) {\n    this.ligatureSets = ligatureSets;\n}\n\n/**\n * Lookup a glyph ligature\n * @param {ContextParams} contextParams context params to lookup\n * @param {number} ligSetIndex ligature set index at ligature sets\n */\nLigatureSets.prototype.lookup = function (contextParams, ligSetIndex) {\n    const ligatureSet = this.ligatureSets[ligSetIndex];\n    const matchComponents = (components, indexes) => {\n        if (components.length > indexes.length) return null;\n        for (let c = 0; c < components.length; c++) {\n            const component = components[c];\n            const index = indexes[c];\n            if (component !== index) return false;\n        }\n        return true;\n    };\n    for (let s = 0; s < ligatureSet.length; s++) {\n        const ligSetItem = ligatureSet[s];\n        const lookaheadIndexes = contextParams.lookahead.map(\n            token => token.activeState.value\n        );\n        if (BASE_DIR === 'rtl') lookaheadIndexes.reverse();\n        const componentsMatch = matchComponents(\n            ligSetItem.components, lookaheadIndexes\n        );\n        if (componentsMatch) return ligSetItem;\n    }\n    return null;\n};\n\n/**\n * Create a feature substitution\n * @param {any} lookups a reference to gsub lookups\n * @param {Lookuptable} lookupTable a feature lookup table\n * @param {any} subtable substitution table\n */\nfunction Substitution(lookups, lookupTable, subtable) {\n    this.lookups = lookups;\n    this.subtable = subtable;\n    this.lookupTable = lookupTable;\n    if (subtable.hasOwnProperty('coverage')) {\n        this.coverage = new Coverage(\n            subtable.coverage\n        );\n    }\n    if (subtable.hasOwnProperty('inputCoverage')) {\n        this.inputCoverage = subtable.inputCoverage.map(\n            table => new Coverage(table)\n        );\n    }\n    if (subtable.hasOwnProperty('backtrackCoverage')) {\n        this.backtrackCoverage = subtable.backtrackCoverage.map(\n            table => new Coverage(table)\n        );\n    }\n    if (subtable.hasOwnProperty('lookaheadCoverage')) {\n        this.lookaheadCoverage = subtable.lookaheadCoverage.map(\n            table => new Coverage(table)\n        );\n    }\n    if (subtable.hasOwnProperty('ligatureSets')) {\n        this.ligatureSets = new LigatureSets(subtable.ligatureSets);\n    }\n}\n\n/**\n * Create a lookup table lookup\n * @param {number} index table index at gsub lookups\n * @param {any} lookups a reference to gsub lookups\n */\nfunction LookupTable(index, lookups) {\n    this.index = index;\n    this.subtables = lookups[index].subtables.map(\n        subtable => new Substitution(\n            lookups, lookups[index], subtable\n        )\n    );\n}\n\nfunction FeatureLookups(lookups, lookupListIndexes) {\n    this.lookups = lookupListIndexes.map(\n        index => new LookupTable(index, lookups)\n    );\n}\n\n/**\n * Lookup a lookup table subtables\n * @param {ContextParams} contextParams context params to lookup\n */\nLookupTable.prototype.lookup = function (contextParams) {\n    let substitutions = [];\n    for (let i = 0; i < this.subtables.length; i++) {\n        const subsTable = this.subtables[i];\n        let substitution = subsTable.lookup(contextParams);\n        if (substitution !== null || substitution.length) {\n            substitutions = substitutions.concat(substitution);\n        }\n    }\n    return substitutions;\n};\n\n/**\n * Handle a single substitution - format 2\n * @param {ContextParams} contextParams context params to lookup\n */\nfunction singleSubstitutionFormat2(contextParams) {\n    let glyphIndex = contextParams.current.activeState.value;\n    glyphIndex = Array.isArray(glyphIndex) ? glyphIndex[0] : glyphIndex;\n    let substituteIndex = this.coverage.lookup(glyphIndex);\n    if (substituteIndex === -1) return [];\n    return [this.subtable.substitute[substituteIndex]];\n}\n\n/**\n * Lookup a list of coverage tables\n * @param {any} coverageList a list of coverage tables\n * @param {any} contextParams context params to lookup\n */\nfunction lookupCoverageList(coverageList, contextParams) {\n    let lookupList = [];\n    for (let i = 0; i < coverageList.length; i++) {\n        const coverage = coverageList[i];\n        let glyphIndex = contextParams.current.activeState.value;\n        glyphIndex = Array.isArray(glyphIndex) ? glyphIndex[0] : glyphIndex;\n        const lookupIndex = coverage.lookup(glyphIndex);\n        if (lookupIndex !== -1) {\n            lookupList.push(lookupIndex);\n        }\n    }\n    if (lookupList.length !== coverageList.length) return -1;\n    return lookupList;\n}\n\n/**\n * Handle chaining context substitution - format 3\n * @param {any} contextParams context params to lookup\n */\nfunction chainingSubstitutionFormat3(contextParams) {\n    const lookupsCount = (\n        this.inputCoverage.length +\n        this.lookaheadCoverage.length +\n        this.backtrackCoverage.length\n    );\n    if (contextParams.context.length < lookupsCount) return [];\n    // INPUT LOOKUP //\n    let inputLookups = lookupCoverageList(\n        this.inputCoverage, contextParams\n    );\n    if (inputLookups === -1) return [];\n    // LOOKAHEAD LOOKUP //\n    const lookaheadOffset = this.inputCoverage.length - 1;\n    if (contextParams.lookahead.length < this.lookaheadCoverage.length) return [];\n    let lookaheadContext = contextParams.lookahead.slice(lookaheadOffset);\n    while (lookaheadContext.length && isTashkeelArabicChar(lookaheadContext[0].char)) {\n        lookaheadContext.shift();\n    }\n    const lookaheadParams = new ContextParams(lookaheadContext, 0);\n    let lookaheadLookups = lookupCoverageList(\n        this.lookaheadCoverage, lookaheadParams\n    );\n    // BACKTRACK LOOKUP //\n    let backtrackContext = [].concat(contextParams.backtrack);\n    backtrackContext.reverse();\n    while (backtrackContext.length && isTashkeelArabicChar(backtrackContext[0].char)) {\n        backtrackContext.shift();\n    }\n    if (backtrackContext.length < this.backtrackCoverage.length) return [];\n    const backtrackParams = new ContextParams(backtrackContext, 0);\n    let backtrackLookups = lookupCoverageList(\n        this.backtrackCoverage, backtrackParams\n    );\n    const contextRulesMatch = (\n        inputLookups.length === this.inputCoverage.length &&\n        lookaheadLookups.length === this.lookaheadCoverage.length &&\n        backtrackLookups.length === this.backtrackCoverage.length\n    );\n    let substitutions = [];\n    if (contextRulesMatch) {\n        let lookupRecords = this.subtable.lookupRecords;\n        for (let i = 0; i < lookupRecords.length; i++) {\n            const lookupRecord = lookupRecords[i];\n            for (let j = 0; j < inputLookups.length; j++) {\n                const inputContext = new ContextParams([contextParams.get(j)], 0);\n                let lookupIndex = lookupRecord.lookupListIndex;\n                const lookupTable = new LookupTable(lookupIndex, this.lookups);\n                let lookup = lookupTable.lookup(inputContext);\n                substitutions = substitutions.concat(lookup);\n            }\n        }\n    }\n    return substitutions;\n}\n\n/**\n * Handle ligature substitution - format 1\n * @param {any} contextParams context params to lookup\n */\nfunction ligatureSubstitutionFormat1(contextParams) {\n    // COVERAGE LOOKUP //\n    let glyphIndex = contextParams.current.activeState.value;\n    let ligSetIndex = this.coverage.lookup(glyphIndex);\n    if (ligSetIndex === -1) return [];\n    // COMPONENTS LOOKUP * note that components is logically ordered\n    let ligGlyphs = this.ligatureSets.lookup(contextParams, ligSetIndex);\n    return ligGlyphs ? [ligGlyphs] : [];\n}\n\n/**\n * [ LOOKUP TYPES ]\n * -------------------------------\n * Single                        1;\n * Multiple                      2;\n * Alternate                     3;\n * Ligature                      4;\n * Context                       5;\n * ChainingContext               6;\n * ExtensionSubstitution         7;\n * ReverseChainingContext        8;\n * -------------------------------\n * @param {any} contextParams context params to lookup\n */\nSubstitution.prototype.lookup = function (contextParams) {\n    const substitutions = [];\n    const lookupType = this.lookupTable.lookupType;\n    const substFormat = this.subtable.substFormat;\n    if (lookupType === 1 && substFormat === 2) {\n        let substitution = singleSubstitutionFormat2.call(this, contextParams);\n        if (substitution.length > 0) {\n            substitutions.push({ id: 12, substitution });\n        }\n    }\n    if (lookupType === 6 && substFormat === 3) {\n        const substitution = chainingSubstitutionFormat3.call(this, contextParams);\n        if (substitution.length > 0) {\n            substitutions.push({ id: 63, substitution });\n        }\n    }\n    if (lookupType === 4 && substFormat === 1) {\n        const substitution = ligatureSubstitutionFormat1.call(this, contextParams);\n        if (substitution.length > 0) {\n            substitutions.push({ id: 41, substitution });\n        }\n    }\n    return substitutions;\n};\n\n/**\n * Lookup a coverage table\n * @param {number} glyphIndex to lookup\n */\nCoverage.prototype.lookup = function (glyphIndex) {\n    if (!glyphIndex) return -1;\n    switch (this.table.format) {\n        case 1:\n            return this.table.glyphs.indexOf(glyphIndex);\n\n        case 2:\n            let ranges = this.table.ranges;\n            for (let i = 0; i < ranges.length; i++) {\n                const range = ranges[i];\n                if (glyphIndex >= range.start && glyphIndex <= range.end) {\n                    let offset = glyphIndex - range.start;\n                    return range.index + offset;\n                }\n            }\n            break;\n        default:\n            return -1; // not found\n    }\n    return -1;\n};\n\n/**\n * Lookup a feature for a substitution or more\n * @param {any} contextParams context params to lookup\n */\nFeature.prototype.lookup = function(contextParams) {\n    let lookups = [];\n    for (let i = 0; i < this.lookups.length; i++) {\n        const lookupTable = this.lookups[i];\n        let lookup = lookupTable.lookup(contextParams);\n        if (lookup !== null || lookup.length) {\n            lookups = lookups.concat(lookup);\n        }\n    }\n    return lookups;\n};\n\n/**\n * Get feature indexes of a specific script\n * @param {string} scriptTag script tag\n */\nFeatureQuery.prototype.getScriptFeaturesIndexes = function(scriptTag) {\n    if (!scriptTag) return [];\n    const tables = this.font.tables;\n    if (!tables.gsub) return [];\n    const scripts = this.font.tables.gsub.scripts;\n    for (let i = 0; i < scripts.length; i++) {\n        const script = scripts[i];\n        if (script.tag === scriptTag) {\n            let defaultLangSys = script.script.defaultLangSys;\n            return defaultLangSys.featureIndexes;\n        } else {\n            let langSysRecords = script.langSysRecords;\n            if (!!langSysRecords) {\n                for (let j = 0; j < langSysRecords.length; j++) {\n                    const langSysRecord = langSysRecords[j];\n                    if (langSysRecord.tag === scriptTag) {\n                        let langSys = langSysRecord.langSys;\n                        return langSys.featureIndexes;\n                    }\n                }\n            }\n        }\n    }\n    return [];\n};\n\n/**\n * Map a feature tag to a gsub feature\n * @param {any} features gsub features\n * @param {*} scriptTag script tag\n */\nFeatureQuery.prototype.mapTagsToFeatures = function (features, scriptTag) {\n    let tags = {};\n    for (let i = 0; i < features.length; i++) {\n        const feature = features[i].feature;\n        const tag = features[i].tag;\n        const lookups = this.font.tables.gsub.lookups;\n        const featureLookups = new FeatureLookups(lookups, feature.lookupListIndexes);\n        tags[tag] = new Feature(tag, feature, featureLookups, scriptTag);\n    }\n    this.features[scriptTag].tags = tags;\n};\n\n/**\n * Get features of a specific script\n * @param {string} scriptTag script tag\n */\nFeatureQuery.prototype.getScriptFeatures = function (scriptTag) {\n    let features = this.features[scriptTag];\n    if (this.features.hasOwnProperty(scriptTag)) return features;\n    const featuresIndexes = this.getScriptFeaturesIndexes(scriptTag);\n    if (!featuresIndexes) return null;\n    const gsub = this.font.tables.gsub;\n    features = featuresIndexes.map(index => gsub.features[index]);\n    this.features[scriptTag] = features;\n    this.mapTagsToFeatures(features, scriptTag);\n    return features;\n};\n\n/**\n * Query a feature by it's properties\n * @param {any} query an object that describes the properties of a query\n */\nFeatureQuery.prototype.getFeature = function (query) {\n    if (!this.font) return { FAIL: `No font was found`};\n    if (!this.features.hasOwnProperty(query.script)) {\n        this.getScriptFeatures(query.script);\n    }\n    return this.features[query.script].tags[query.tag] || null;\n};\n\nexport default FeatureQuery;\nexport { Feature };\n","\"use strict\";","// The `fvar` table stores font variation axes and instances.\n// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6fvar.html\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\nfunction addName(name, names) {\n    const nameString = JSON.stringify(name);\n    let nameID = 256;\n    for (let nameKey in names) {\n        let n = parseInt(nameKey);\n        if (!n || n < 256) {\n            continue;\n        }\n\n        if (JSON.stringify(names[nameKey]) === nameString) {\n            return n;\n        }\n\n        if (nameID <= n) {\n            nameID = n + 1;\n        }\n    }\n\n    names[nameID] = name;\n    return nameID;\n}\n\nfunction makeFvarAxis(n, axis, names) {\n    const nameID = addName(axis.name, names);\n    return [\n        {name: 'tag_' + n, type: 'TAG', value: axis.tag},\n        {name: 'minValue_' + n, type: 'FIXED', value: axis.minValue << 16},\n        {name: 'defaultValue_' + n, type: 'FIXED', value: axis.defaultValue << 16},\n        {name: 'maxValue_' + n, type: 'FIXED', value: axis.maxValue << 16},\n        {name: 'flags_' + n, type: 'USHORT', value: 0},\n        {name: 'nameID_' + n, type: 'USHORT', value: nameID}\n    ];\n}\n\nfunction parseFvarAxis(data, start, names) {\n    const axis = {};\n    const p = new parse.Parser(data, start);\n    axis.tag = p.parseTag();\n    axis.minValue = p.parseFixed();\n    axis.defaultValue = p.parseFixed();\n    axis.maxValue = p.parseFixed();\n    p.skip('uShort', 1);  // reserved for flags; no values defined\n    axis.name = names[p.parseUShort()] || {};\n    return axis;\n}\n\nfunction makeFvarInstance(n, inst, axes, names) {\n    const nameID = addName(inst.name, names);\n    const fields = [\n        {name: 'nameID_' + n, type: 'USHORT', value: nameID},\n        {name: 'flags_' + n, type: 'USHORT', value: 0}\n    ];\n\n    for (let i = 0; i < axes.length; ++i) {\n        const axisTag = axes[i].tag;\n        fields.push({\n            name: 'axis_' + n + ' ' + axisTag,\n            type: 'FIXED',\n            value: inst.coordinates[axisTag] << 16\n        });\n    }\n\n    return fields;\n}\n\nfunction parseFvarInstance(data, start, axes, names) {\n    const inst = {};\n    const p = new parse.Parser(data, start);\n    inst.name = names[p.parseUShort()] || {};\n    p.skip('uShort', 1);  // reserved for flags; no values defined\n\n    inst.coordinates = {};\n    for (let i = 0; i < axes.length; ++i) {\n        inst.coordinates[axes[i].tag] = p.parseFixed();\n    }\n\n    return inst;\n}\n\nfunction makeFvarTable(fvar, names) {\n    const result = new table.Table('fvar', [\n        {name: 'version', type: 'ULONG', value: 0x10000},\n        {name: 'offsetToData', type: 'USHORT', value: 0},\n        {name: 'countSizePairs', type: 'USHORT', value: 2},\n        {name: 'axisCount', type: 'USHORT', value: fvar.axes.length},\n        {name: 'axisSize', type: 'USHORT', value: 20},\n        {name: 'instanceCount', type: 'USHORT', value: fvar.instances.length},\n        {name: 'instanceSize', type: 'USHORT', value: 4 + fvar.axes.length * 4}\n    ]);\n    result.offsetToData = result.sizeOf();\n\n    for (let i = 0; i < fvar.axes.length; i++) {\n        result.fields = result.fields.concat(makeFvarAxis(i, fvar.axes[i], names));\n    }\n\n    for (let j = 0; j < fvar.instances.length; j++) {\n        result.fields = result.fields.concat(makeFvarInstance(j, fvar.instances[j], fvar.axes, names));\n    }\n\n    return result;\n}\n\nfunction parseFvarTable(data, start, names) {\n    const p = new parse.Parser(data, start);\n    const tableVersion = p.parseULong();\n    check.argument(tableVersion === 0x00010000, 'Unsupported fvar table version.');\n    const offsetToData = p.parseOffset16();\n    // Skip countSizePairs.\n    p.skip('uShort', 1);\n    const axisCount = p.parseUShort();\n    const axisSize = p.parseUShort();\n    const instanceCount = p.parseUShort();\n    const instanceSize = p.parseUShort();\n\n    const axes = [];\n    for (let i = 0; i < axisCount; i++) {\n        axes.push(parseFvarAxis(data, start + offsetToData + i * axisSize, names));\n    }\n\n    const instances = [];\n    const instanceStart = start + offsetToData + axisCount * axisSize;\n    for (let j = 0; j < instanceCount; j++) {\n        instances.push(parseFvarInstance(data, instanceStart + j * instanceSize, axes, names));\n    }\n\n    return {axes: axes, instances: instances};\n}\n\nexport default { make: makeFvarTable, parse: parseFvarTable };\n","// The `GPOS` table contains kerning pairs, among other things.\n// https://docs.microsoft.com/en-us/typography/opentype/spec/gpos\n\nimport check from '../check';\nimport { Parser } from '../parse';\nimport table from '../table';\n\nconst subtableParsers = new Array(10);         // subtableParsers[0] is unused\n\n// https://docs.microsoft.com/en-us/typography/opentype/spec/gpos#lookup-type-1-single-adjustment-positioning-subtable\n// this = Parser instance\nsubtableParsers[1] = function parseLookup1() {\n    const start = this.offset + this.relativeOffset;\n    const posformat = this.parseUShort();\n    if (posformat === 1) {\n        return {\n            posFormat: 1,\n            coverage: this.parsePointer(Parser.coverage),\n            value: this.parseValueRecord()\n        };\n    } else if (posformat === 2) {\n        return {\n            posFormat: 2,\n            coverage: this.parsePointer(Parser.coverage),\n            values: this.parseValueRecordList()\n        };\n    }\n    check.assert(false, '0x' + start.toString(16) + ': GPOS lookup type 1 format must be 1 or 2.');\n};\n\n// https://docs.microsoft.com/en-us/typography/opentype/spec/gpos#lookup-type-2-pair-adjustment-positioning-subtable\nsubtableParsers[2] = function parseLookup2() {\n    const start = this.offset + this.relativeOffset;\n    const posFormat = this.parseUShort();\n    check.assert(posFormat === 1 || posFormat === 2, '0x' + start.toString(16) + ': GPOS lookup type 2 format must be 1 or 2.');\n    const coverage = this.parsePointer(Parser.coverage);\n    const valueFormat1 = this.parseUShort();\n    const valueFormat2 = this.parseUShort();\n    if (posFormat === 1) {\n        // Adjustments for Glyph Pairs\n        return {\n            posFormat: posFormat,\n            coverage: coverage,\n            valueFormat1: valueFormat1,\n            valueFormat2: valueFormat2,\n            pairSets: this.parseList(Parser.pointer(Parser.list(function() {\n                return {        // pairValueRecord\n                    secondGlyph: this.parseUShort(),\n                    value1: this.parseValueRecord(valueFormat1),\n                    value2: this.parseValueRecord(valueFormat2)\n                };\n            })))\n        };\n    } else if (posFormat === 2) {\n        const classDef1 = this.parsePointer(Parser.classDef);\n        const classDef2 = this.parsePointer(Parser.classDef);\n        const class1Count = this.parseUShort();\n        const class2Count = this.parseUShort();\n        return {\n            // Class Pair Adjustment\n            posFormat: posFormat,\n            coverage: coverage,\n            valueFormat1: valueFormat1,\n            valueFormat2: valueFormat2,\n            classDef1: classDef1,\n            classDef2: classDef2,\n            class1Count: class1Count,\n            class2Count: class2Count,\n            classRecords: this.parseList(class1Count, Parser.list(class2Count, function() {\n                return {\n                    value1: this.parseValueRecord(valueFormat1),\n                    value2: this.parseValueRecord(valueFormat2)\n                };\n            }))\n        };\n    }\n};\n\nsubtableParsers[3] = function parseLookup3() { return { error: 'GPOS Lookup 3 not supported' }; };\nsubtableParsers[4] = function parseLookup4() { return { error: 'GPOS Lookup 4 not supported' }; };\nsubtableParsers[5] = function parseLookup5() { return { error: 'GPOS Lookup 5 not supported' }; };\nsubtableParsers[6] = function parseLookup6() { return { error: 'GPOS Lookup 6 not supported' }; };\nsubtableParsers[7] = function parseLookup7() { return { error: 'GPOS Lookup 7 not supported' }; };\nsubtableParsers[8] = function parseLookup8() { return { error: 'GPOS Lookup 8 not supported' }; };\nsubtableParsers[9] = function parseLookup9() { return { error: 'GPOS Lookup 9 not supported' }; };\n\n// https://docs.microsoft.com/en-us/typography/opentype/spec/gpos\nfunction parseGposTable(data, start) {\n    start = start || 0;\n    const p = new Parser(data, start);\n    const tableVersion = p.parseVersion(1);\n    check.argument(tableVersion === 1 || tableVersion === 1.1, 'Unsupported GPOS table version ' + tableVersion);\n\n    if (tableVersion === 1) {\n        return {\n            version: tableVersion,\n            scripts: p.parseScriptList(),\n            features: p.parseFeatureList(),\n            lookups: p.parseLookupList(subtableParsers)\n        };\n    } else {\n        return {\n            version: tableVersion,\n            scripts: p.parseScriptList(),\n            features: p.parseFeatureList(),\n            lookups: p.parseLookupList(subtableParsers),\n            variations: p.parseFeatureVariationsList()\n        };\n    }\n\n}\n\n// GPOS Writing //////////////////////////////////////////////\n// NOT SUPPORTED\nconst subtableMakers = new Array(10);\n\nfunction makeGposTable(gpos) {\n    return new table.Table('GPOS', [\n        {name: 'version', type: 'ULONG', value: 0x10000},\n        {name: 'scripts', type: 'TABLE', value: new table.ScriptList(gpos.scripts)},\n        {name: 'features', type: 'TABLE', value: new table.FeatureList(gpos.features)},\n        {name: 'lookups', type: 'TABLE', value: new table.LookupList(gpos.lookups, subtableMakers)}\n    ]);\n}\n\nexport default { parse: parseGposTable, make: makeGposTable };\n","// The `kern` table contains kerning pairs.\n// Note that some fonts use the GPOS OpenType layout table to specify kerning.\n// https://www.microsoft.com/typography/OTSPEC/kern.htm\n\nimport check from '../check';\nimport parse from '../parse';\n\nfunction parseWindowsKernTable(p) {\n    const pairs = {};\n    // Skip nTables.\n    p.skip('uShort');\n    const subtableVersion = p.parseUShort();\n    check.argument(subtableVersion === 0, 'Unsupported kern sub-table version.');\n    // Skip subtableLength, subtableCoverage\n    p.skip('uShort', 2);\n    const nPairs = p.parseUShort();\n    // Skip searchRange, entrySelector, rangeShift.\n    p.skip('uShort', 3);\n    for (let i = 0; i < nPairs; i += 1) {\n        const leftIndex = p.parseUShort();\n        const rightIndex = p.parseUShort();\n        const value = p.parseShort();\n        pairs[leftIndex + ',' + rightIndex] = value;\n    }\n    return pairs;\n}\n\nfunction parseMacKernTable(p) {\n    const pairs = {};\n    // The Mac kern table stores the version as a fixed (32 bits) but we only loaded the first 16 bits.\n    // Skip the rest.\n    p.skip('uShort');\n    const nTables = p.parseULong();\n    //check.argument(nTables === 1, 'Only 1 subtable is supported (got ' + nTables + ').');\n    if (nTables > 1) {\n        console.warn('Only the first kern subtable is supported.');\n    }\n    p.skip('uLong');\n    const coverage = p.parseUShort();\n    const subtableVersion = coverage & 0xFF;\n    p.skip('uShort');\n    if (subtableVersion === 0) {\n        const nPairs = p.parseUShort();\n        // Skip searchRange, entrySelector, rangeShift.\n        p.skip('uShort', 3);\n        for (let i = 0; i < nPairs; i += 1) {\n            const leftIndex = p.parseUShort();\n            const rightIndex = p.parseUShort();\n            const value = p.parseShort();\n            pairs[leftIndex + ',' + rightIndex] = value;\n        }\n    }\n    return pairs;\n}\n\n// Parse the `kern` table which contains kerning pairs.\nfunction parseKernTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const tableVersion = p.parseUShort();\n    if (tableVersion === 0) {\n        return parseWindowsKernTable(p);\n    } else if (tableVersion === 1) {\n        return parseMacKernTable(p);\n    } else {\n        throw new Error('Unsupported kern table version (' + tableVersion + ').');\n    }\n}\n\nexport default { parse: parseKernTable };\n","// The `loca` table stores the offsets to the locations of the glyphs in the font.\n// https://www.microsoft.com/typography/OTSPEC/loca.htm\n\nimport parse from '../parse';\n\n// Parse the `loca` table. This table stores the offsets to the locations of the glyphs in the font,\n// relative to the beginning of the glyphData table.\n// The number of glyphs stored in the `loca` table is specified in the `maxp` table (under numGlyphs)\n// The loca table has two versions: a short version where offsets are stored as uShorts, and a long\n// version where offsets are stored as uLongs. The `head` table specifies which version to use\n// (under indexToLocFormat).\nfunction parseLocaTable(data, start, numGlyphs, shortVersion) {\n    const p = new parse.Parser(data, start);\n    const parseFn = shortVersion ? p.parseUShort : p.parseULong;\n    // There is an extra entry after the last index element to compute the length of the last glyph.\n    // That's why we use numGlyphs + 1.\n    const glyphOffsets = [];\n    for (let i = 0; i < numGlyphs + 1; i += 1) {\n        let glyphOffset = parseFn.call(p);\n        if (shortVersion) {\n            // The short table version stores the actual offset divided by 2.\n            glyphOffset *= 2;\n        }\n\n        glyphOffsets.push(glyphOffset);\n    }\n\n    return glyphOffsets;\n}\n\nexport default { parse: parseLocaTable };\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import * as SVG from \"@svgdotjs/svg.js\"\nimport { basicDirections, DirectionInfo } from \"../internal\"\n\nexport type AbstractConstructor<T = {}> = abstract new (...args: any[]) => T\n\n// utility values\n\nexport const defaultStroke = \"var(--bs-emphasis-color)\"\nexport const defaultFill = \"var(--bs-body-bg)\"\n\n// Utility functions for components\n\n/**\n * Simplifies the rotation and scale of a component for better consistency and human readability.\n */\nexport function simpifyRotationAndScale(rotation: number, scale: SVG.Point): [number, SVG.Point] {\n\tlet s = new SVG.Point(scale)\n\trotation = rotation == -180 ? 180 : rotation\n\tif (s.y < 0) {\n\t\tif (rotation == 180) {\n\t\t\trotation = 0\n\t\t\ts.y *= -1\n\t\t\ts.x *= -1\n\t\t} else if (s.x < 0) {\n\t\t\ts.x *= -1\n\t\t\ts.y *= -1\n\t\t\trotation = rotation + 180\n\t\t}\n\t} else if (rotation == 180) {\n\t\trotation = 0\n\t\ts.x *= -1\n\t\ts.y *= -1\n\t}\n\treturn [rotation, s]\n}\n\nexport function approxCompare(value1: number, value2: number, eps: number = 1e-7) {\n\treturn (\n\t\tvalue1 > value2 + eps ? 1\n\t\t: value1 < value2 - eps ? -1\n\t\t: 0\n\t)\n}\n\nexport function interpolate(a: SVG.Point, b: SVG.Point, t: number) {\n\treturn a.add(b.sub(a).mul(t))\n}\n\nexport function closestBasicDirection(direction: SVG.Point): DirectionInfo {\n\treturn basicDirections\n\t\t.map((val) => {\n\t\t\treturn { dirInfo: val, distsq: val.direction.distanceSquared(direction) }\n\t\t})\n\t\t.reduce(\n\t\t\t(prev, current) => {\n\t\t\t\tif (current.distsq < prev.distsq) {\n\t\t\t\t\treturn current\n\t\t\t\t} else {\n\t\t\t\t\treturn prev\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ dirInfo: { key: \"\", name: \"\", direction: new SVG.Point() }, distsq: Number.MAX_VALUE }\n\t\t).dirInfo\n}\n\n/**\n * Clamps a value between a minimum and maximum value.\n * @param value The value to clamp\n * @param min The minimum value\n * @param max The maximum value\n */\nexport function clamp(value: number, min: number, max: number): number {\n\treturn Math.max(min, Math.min(max, value))\n}\n\nexport function memorySizeOf(obj) {\n\tvar bytes = 0\n\n\tfunction sizeOf(obj) {\n\t\tif (obj !== null && obj !== undefined) {\n\t\t\tswitch (typeof obj) {\n\t\t\t\tcase \"number\":\n\t\t\t\t\tbytes += 8\n\t\t\t\t\tbreak\n\t\t\t\tcase \"string\":\n\t\t\t\t\tbytes += obj.length * 2\n\t\t\t\t\tbreak\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tbytes += 4\n\t\t\t\t\tbreak\n\t\t\t\tcase \"object\":\n\t\t\t\t\tvar objClass = Object.prototype.toString.call(obj).slice(8, -1)\n\t\t\t\t\tif (objClass === \"Object\" || objClass === \"Array\") {\n\t\t\t\t\t\tfor (var key in obj) {\n\t\t\t\t\t\t\tif (!obj.hasOwnProperty(key)) continue\n\t\t\t\t\t\t\tsizeOf(obj[key])\n\t\t\t\t\t\t}\n\t\t\t\t\t} else bytes += obj.toString().length * 2\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\treturn bytes\n\t}\n\treturn sizeOf(obj)\n}\n\nexport function bboxFromPoints(points: SVG.Point[]): SVG.Box {\n\tlet minX = Number.MAX_VALUE\n\tlet maxX = -Number.MAX_VALUE\n\tlet minY = Number.MAX_VALUE\n\tlet maxY = -Number.MAX_VALUE\n\tfor (const point of points) {\n\t\tif (point.x < minX) minX = point.x\n\t\tif (point.y < minY) minY = point.y\n\t\tif (point.x > maxX) maxX = point.x\n\t\tif (point.y > maxY) maxY = point.y\n\t}\n\treturn new SVG.Box(minX, minY, maxX - minX, maxY - minY)\n}\n","import * as SVG from \"@svgdotjs/svg.js\"\n\nexport type TikzNodeCommand = {\n\toptions: string[]\n\tname?: string\n\tposition?: string | SVG.Point\n\tcontent?: string\n\tadditionalNodes: TikzNodeCommand[]\n}\n\nexport type CircuitikzTo = {\n\toptions: string[]\n\tname?: string\n}\n\nexport type TikzPathCommand = {\n\toptions: string[]\n\tcoordinates: (string | SVG.Point)[]\n\tconnectors: (string | CircuitikzTo)[]\n\tadditionalNodes: TikzNodeCommand[]\n}\n\nexport function buildTikzStringFromNodeCommand(command: TikzNodeCommand): string {\n\treturn \"\\\\\" + convertNodeCommand(command) + \";\"\n}\n\nfunction convertNodeCommand(command: TikzNodeCommand): string {\n\tlet outputString: string[] = [\"node\"]\n\n\tif (command.options.length > 0) {\n\t\toutputString.push(\"[\" + command.options.join(\", \") + \"]\")\n\t}\n\n\tif (command.name) {\n\t\toutputString.push(\"(\" + command.name + \")\")\n\t}\n\toutputString.push(\" at \")\n\toutputString.push(coordToString(command.position))\n\toutputString.push(\"{\" + (command.content ?? \"\") + \"}\")\n\n\tfor (const additionalCommand of command.additionalNodes) {\n\t\toutputString.push(\" \" + convertNodeCommand(additionalCommand))\n\t}\n\n\treturn outputString.join(\"\")\n}\n\nexport function buildTikzStringFromPathCommand(command: TikzPathCommand): string {\n\treturn \"\\\\\" + convertPathCommand(command) + \";\"\n}\n\nfunction convertPathCommand(command: TikzPathCommand): string {\n\tif (command.coordinates.length !== command.connectors.length + 1) {\n\t\tthrow new Error(\n\t\t\t\"Building path command failed! Number of coordinates has to be one more than number of coordinate connectors\"\n\t\t)\n\t}\n\tif (command.coordinates.length < 2) {\n\t\tthrow new Error(\"Building path command failed! Number of coordinates has to be at least 2\")\n\t}\n\tlet outputString: string[] = []\n\tlet drawIndex = command.options.indexOf(\"draw\")\n\tif (drawIndex >= 0) {\n\t\toutputString.push(\"draw\")\n\t\tcommand.options.splice(drawIndex, 1)\n\t} else {\n\t\toutputString.push(\"path\")\n\t}\n\n\tif (command.options.length > 0) {\n\t\toutputString.push(\"[\" + command.options.join(\", \") + \"]\")\n\t}\n\n\tfor (let index = 0; index < command.connectors.length; index++) {\n\t\tconst coordinate = command.coordinates[index]\n\t\tconst connector = command.connectors[index]\n\n\t\toutputString.push(\" \" + coordToString(coordinate))\n\t\tif (typeof connector == \"string\") {\n\t\t\toutputString.push(\" \" + connector)\n\t\t} else {\n\t\t\toutputString.push(\" \" + buildCircuitikzTo(connector))\n\t\t}\n\t}\n\n\toutputString.push(\" \" + coordToString(command.coordinates.at(-1)))\n\n\tfor (const additionalCommand of command.additionalNodes) {\n\t\t// check that additionalCommand is not null\n\t\tif (additionalCommand) {\n\t\t\toutputString.push(\" \" + convertNodeCommand(additionalCommand))\n\t\t}\n\t}\n\n\treturn outputString.join(\"\")\n}\n\nfunction coordToString(coord: string | SVG.Point) {\n\tif (typeof coord == \"string\") {\n\t\treturn coord\n\t} else {\n\t\treturn coord.toTikzString()\n\t}\n}\n\nfunction buildCircuitikzTo(command: CircuitikzTo): string {\n\tlet outputString: string[] = [...command.options]\n\n\tif (command.name) {\n\t\toutputString.push(\"name=\" + command.name)\n\t}\n\n\treturn \"to[\" + outputString.join(\", \") + \"]\"\n}\n"],"names":["methods","names","registerMethods","name","m","Array","isArray","_name","addMethodNames","Object","getOwnPropertyNames","assign","getMethodsFor","getMethodNames","Set","_names","push","map","array","block","i","il","length","result","filter","radians","d","Math","PI","degrees","r","unCamelCase","s","replace","g","toLowerCase","capitalize","charAt","toUpperCase","slice","proportionalSize","element","width","height","box","bbox","getOrigin","o","origin","ox","originX","oy","originY","x","y","condX","condY","includes","descriptiveElements","isDescriptive","has","nodeName","writeDataToDom","data","defaults","cloned","key","valueOf","keys","node","setAttribute","JSON","stringify","removeAttribute","svg","html","xmlns","xlink","globals","window","document","registerWindow","win","doc","save","saveWindow","restoreWindow","withWindow","fn","getWindow","Base","elements","root","create","ns","createElementNS","makeInstance","isHTML","adopter","querySelector","wrapper","createElement","innerHTML","firstChild","removeChild","nodeOrNew","Node","ownerDocument","defaultView","adopt","instance","Fragment","className","mockAdopt","mock","register","asRoot","prototype","getClass","did","eid","assignNewId","children","id","extend","modules","wrapWithAttrCheck","args","constructor","apply","attr","siblings","parent","position","index","next","prev","forward","p","add","remove","backward","front","back","before","after","insertBefore","insertAfter","numberAndUnit","hex","rgb","reference","transforms","whitespace","isHex","isRgb","isBlank","isNumber","isImage","delimiter","isPathLetter","classes","trim","split","hasClass","indexOf","addClass","join","removeClass","c","toggleClass","css","style","val","ret","arguments","cssText","el","forEach","t","cased","getPropertyValue","setProperty","test","show","hide","visible","a","v","attributes","parse","e","remember","k","memory","forget","_memory","sixDigitHex","substring","componentHex","component","integer","round","bounded","max","min","toString","is","object","space","getParameters","b","params","_a","_b","_c","_d","z","h","l","cieSpace","hueToRgb","q","Color","inputs","init","isColor","color","random","mode","sin","pi","grey","Error","cmyk","hsl","isGrey","delta","values","noWhitespace","exec","parseInt","hexParse","components","lab","xyz","lch","sqrt","atan2","dToR","cos","yL","xL","zL","ct","mx","nm","rU","gU","bU","pow","bd","toArray","toHex","_clamped","toRgb","rV","gV","bV","string","r255","g255","b255","rL","gL","bL","xU","yU","zU","format","Point","clone","base","source","transform","transformO","Matrix","isMatrixLike","f","point","screenCTM","inverseO","closeEnough","threshold","abs","formatTransforms","flipBoth","flip","flipX","flipY","skewX","skew","isFinite","skewY","scaleX","scale","scaleY","shear","theta","rotate","around","px","positionX","NaN","py","positionY","translate","tx","translateX","ty","translateY","relative","rx","relativeX","ry","relativeY","fromArray","matrixMultiply","cx","cy","matrix","aroundO","dx","dy","translateO","lmultiplyO","decompose","determinant","ccw","sx","thetaRad","st","lam","sy","equals","other","comp","axis","flipO","scaleO","Element","matrixify","parseFloat","call","inverse","det","na","nb","nc","nd","ne","nf","lmultiply","multiply","multiplyO","rotateO","shearO","lx","skewO","tan","ly","current","transformer","ctm","getCTM","isRoot","rect","getScreenCTM","console","warn","parser","nodes","size","path","parentNode","body","documentElement","addTo","isNulledBox","domContains","contains","Box","addOffset","pageXOffset","pageYOffset","left","top","w","x2","y2","isNulled","merge","xMin","Infinity","xMax","yMin","yMax","pts","getBox","getBBoxFn","retry","getBBox","rbox","getRBox","getBoundingClientRect","inside","viewbox","zoom","level","clientWidth","clientHeight","zoomX","zoomY","zoomAmount","Number","MAX_SAFE_INTEGER","List","arr","each","fnOrMethodName","concat","reserved","reduce","obj","attrs","baseFind","query","querySelectorAll","find","findOne","listenerId","windowEvents","getEvents","n","getEventHolder","events","getEventTarget","clearEvents","on","listener","binding","options","bind","bag","_svgjsListenerId","event","ev","addEventListener","off","namespace","removeEventListener","dispatch","Event","dispatchEvent","CustomEvent","detail","cancelable","EventTarget","type","j","defaultPrevented","fire","noop","timeline","duration","ease","delay","fill","stroke","opacity","offset","SVGArray","toSet","SVGNumber","convert","unit","value","divide","number","isNaN","match","minus","plus","times","toJSON","colorAttributes","hooks","registerAttrHook","nodeValue","last","curr","getAttribute","_val","hook","leading","setAttributeNS","rebuild","Dom","removeNamespace","SVGElement","appendChild","childNodes","put","clear","hasChildNodes","lastChild","deep","assignNewIds","nodeClone","cloneNode","first","get","htmlOrFn","outerHTML","xml","matches","selector","matcher","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","putIn","removeElement","replaceChild","precision","factor","svgOrFn","outerSVG","words","text","textContent","wrap","xmlOrFn","outerXML","_this","well","fragment","createDocumentFragment","len","firstElementChild","dom","hasAttribute","setData","center","defs","dmove","move","parents","until","isSelector","sugar","prefix","extension","mat","angle","direction","radius","_element","getTotalLength","pointAt","getPointAtLength","font","untransform","str","kv","reverse","toParent","pCtm","toRoot","decomposed","cleanRelative","Container","flatten","ungroup","Defs","Shape","Ellipse","circled","ellipse","from","fx","fy","x1","y1","to","Gradient","targets","url","update","gradiented","gradient","Pattern","pattern","patternUnits","Image","load","callback","img","src","image","PointArray","maxX","maxY","minX","minY","points","pop","toLine","MorphArray","Line","plot","pointed","line","Marker","orient","ref","marker","makeSetterGetter","easing","pos","bezier","steps","stepPosition","jumps","beforeFlag","step","floor","jumping","Stepper","done","Ease","Controller","stepper","target","dt","recalculate","_duration","overshoot","_overshoot","eps","os","log","zeta","wn","Spring","velocity","acceleration","newPosition","PID","windup","integral","error","_windup","P","I","D","segmentParameters","M","L","H","V","C","S","Q","T","A","Z","pathHandlers","p0","mlhvqtcsaz","jl","makeAbsolut","command","segment","segmentComplete","startNewSegment","token","inNumber","finalizeNumber","pathLetter","lastCommand","small","isSmall","inSegment","pointSeen","hasExponent","finalizeSegment","absolute","segments","isArcFlag","isArc","isExponential","lastToken","pathDelimiters","pathParser","toAbsolute","arrayToString","PathArray","getClassForType","NonMorphable","morphableTypes","ObjectBag","Morphable","_stepper","_from","_to","_type","_context","_morphObj","at","morph","complete","_set","align","toConsumable","TransformBag","sortByKey","splice","defaultObject","toDelete","objOrArr","entries","Type","sort","shift","num","registerMorphableType","makeMorphable","context","mapper","Path","_array","Polygon","polygon","poly","Polyline","polyline","Rect","Queue","_first","_last","item","Animator","nextDraw","frames","timeouts","immediates","timer","performance","Date","frame","run","requestAnimationFrame","_draw","timeout","time","now","immediate","cancelFrame","clearTimeout","cancelImmediate","nextTimeout","lastTimeout","nextFrame","lastFrame","nextImmediate","makeSchedule","runnerInfo","start","runner","end","defaultSource","Timeline","timeSource","_timeSource","terminate","active","_nextFrame","finish","getEndTimeOfTimeline","pause","getEndTime","lastRunnerInfo","getLastRunnerInfo","lastDuration","lastStartTime","_time","endTimes","_runners","getRunnerInfoById","_lastRunnerId","_runnerIds","_paused","_continue","persist","dtOrForever","_persist","play","updateTime","yes","currentSpeed","speed","positive","schedule","when","absoluteStartTime","endTime","unschedule","info","seek","_speed","stop","_lastSourceTime","immediateStep","_stepImmediate","_step","_stepFn","dtSource","dtTime","_lastStepTime","dtToStart","reset","runnersLeft","finished","_startTime","_timeline","Runner","_queue","_isDeclarative","_history","enabled","_lastTime","_reseted","transformId","_haveReversed","_reverse","_loopsDone","_swing","_wait","_times","_frameId","sanitise","swing","wait","addTransform","animate","loop","clearTransform","clearTransformsFromQueue","isTransform","during","queue","_prepareRunner","loops","loopDuration","loopsDone","relativeTime","whole","partial","swinging","backwards","uncliped","clipped","swingForward","forwards","progress","initFn","runFn","retargetFn","initialiser","retarget","initialised","running","_lastPosition","justStarted","justFinished","declarative","converged","_initialise","_run","needsIt","_rememberMorpher","method","morpher","caller","positionOrDt","allfinished","_tryRetarget","extra","FakeRunner","mergeWith","getRunnerTransform","mergeTransforms","runners","_transformationRunners","netTransform","RunnerArray","ids","clearBefore","deleteCnt","edit","newRunner","getByID","lastRunner","condition","by","_clearTransformRunnersBefore","currentRunner","_currentTransform","_addRunner","difference","styleAttr","nameOrAttrs","newToAttrs","newKeys","differences","addedFromAttrs","oldFromAttrs","oldToAttrs","newLevel","newPoint","affine","isMatrix","currentAngle","startTransform","setup","undefined","rTarget","rCurrent","possibilities","distances","shortest","affineParameters","newTransforms","_queueNumber","ax","ay","_queueNumberDelta","newTo","_queueObject","amove","Svg","version","nested","Symbol","symbol","plain","_build","createTextNode","getComputedTextLength","build","Text","_rebuild","self","blankLineOffset","fontSize","getComputedStyle","newLined","firstLine","nodeType","newLine","textable","Tspan","tspan","Circle","circle","ClipPath","unclip","clip","clipper","clipWith","ForeignObject","foreignObject","child","SVGSVGElement","G","containerGeometry","group","link","unlink","linker","linkTo","Mask","unmask","mask","masker","maskWith","Stop","cssRule","rule","Style","addText","fontFamily","fontface","TextPath","track","pathArray","textPath","importNodes","Use","use","file","SVG","elementMap","Map","set","instanceMap","delete","MAX_UID","MILLISECONDS_MULTIPLIER","TRANSITION_END","parseSelector","CSS","escape","toType","getUID","getElementById","getTransitionDurationFromElement","transitionDuration","transitionDelay","floatTransitionDuration","floatTransitionDelay","triggerTransitionEnd","isElement","jquery","getElement","isVisible","getClientRects","elementIsVisible","closedDetails","closest","summary","isDisabled","ELEMENT_NODE","classList","disabled","findShadowRoot","attachShadow","getRootNode","ShadowRoot","reflow","offsetHeight","getjQuery","jQuery","DOMContentLoadedCallbacks","onDOMContentLoaded","readyState","isRTL","dir","defineJQueryPlugin","plugin","$","NAME","JQUERY_NO_CONFLICT","jQueryInterface","Constructor","noConflict","execute","possibleCallback","defaultValue","executeAfterTransition","transitionElement","waitForTransition","durationPadding","emulatedDuration","called","handler","setTimeout","getNextActiveElement","list","activeElement","shouldGetNext","isCycleAllowed","listLength","namespaceRegex","stripNameRegex","stripUidRegex","eventRegistry","uidEvent","customEvents","mouseenter","mouseleave","nativeEvents","makeEventUid","uid","getElementEvents","bootstrapHandler","hydrateObj","delegateTarget","oneOff","EventHandler","bootstrapDelegationHandler","domElements","domElement","findHandler","callable","delegationSelector","normalizeParameters","originalTypeEvent","delegationFunction","isDelegated","typeEvent","getTypeEvent","addHandler","wrapFunction","relatedTarget","handlers","previousFunction","removeHandler","Boolean","removeNamespacedHandlers","storeElementEvent","handlerKey","one","inNamespace","isNamespace","startsWith","elementEvent","keyHandlers","trigger","jQueryEvent","bubbles","nativeDispatch","isPropagationStopped","isImmediatePropagationStopped","isDefaultPrevented","evt","preventDefault","meta","_unused","defineProperty","configurable","normalizeData","decodeURIComponent","normalizeDataKey","chr","Manipulator","setDataAttribute","removeDataAttribute","getDataAttributes","bsKeys","dataset","pureKey","getDataAttribute","Config","Default","DefaultType","_getConfig","config","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","jsonConfig","configTypes","property","expectedTypes","valueType","RegExp","TypeError","VERSION","BaseComponent","_config","Data","DATA_KEY","dispose","EVENT_KEY","propertyName","_queueCallback","isAnimated","getInstance","getOrCreateInstance","eventName","getSelector","hrefAttribute","sel","SelectorEngine","ancestor","previous","previousElementSibling","nextElementSibling","focusableChildren","focusables","getSelectorFromElement","getElementFromSelector","getMultipleElementsFromSelector","enableDismissTrigger","clickEvent","tagName","EVENT_CLOSE","EVENT_CLOSED","CLASS_NAME_FADE","CLASS_NAME_SHOW","Alert","close","closeEvent","_destroyElement","DATA_API_KEY","CLASS_NAME_ACTIVE","SELECTOR_DATA_TOGGLE","EVENT_CLICK_DATA_API","Button","toggle","button","EVENT_TOUCHSTART","EVENT_TOUCHMOVE","EVENT_TOUCHEND","EVENT_POINTERDOWN","EVENT_POINTERUP","POINTER_TYPE_TOUCH","POINTER_TYPE_PEN","CLASS_NAME_POINTER_EVENT","SWIPE_THRESHOLD","endCallback","leftCallback","rightCallback","Swipe","isSupported","_deltaX","_supportPointerEvents","PointerEvent","_initEvents","_start","touches","clientX","_eventIsPointerPenTouch","_end","_handleSwipe","_move","absDeltaX","pointerType","navigator","maxTouchPoints","ARROW_LEFT_KEY","ARROW_RIGHT_KEY","TOUCHEVENT_COMPAT_WAIT","ORDER_NEXT","ORDER_PREV","DIRECTION_LEFT","DIRECTION_RIGHT","EVENT_SLIDE","EVENT_SLID","EVENT_KEYDOWN","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_DRAG_START","EVENT_LOAD_DATA_API","CLASS_NAME_CAROUSEL","CLASS_NAME_SLIDE","CLASS_NAME_END","CLASS_NAME_START","CLASS_NAME_NEXT","CLASS_NAME_PREV","SELECTOR_ACTIVE","SELECTOR_ITEM","SELECTOR_ACTIVE_ITEM","SELECTOR_ITEM_IMG","SELECTOR_INDICATORS","SELECTOR_DATA_SLIDE","SELECTOR_DATA_RIDE","KEY_TO_DIRECTION","interval","keyboard","ride","touch","Carousel","_interval","_activeElement","_isSliding","touchTimeout","_swipeHelper","_indicatorsElement","_addEventListeners","cycle","_slide","nextWhenVisible","hidden","_clearInterval","_updateInterval","setInterval","_maybeEnableCycle","items","_getItems","activeIndex","_getItemIndex","_getActive","order","defaultInterval","_keydown","_addTouchEventListeners","endCallBack","swipeConfig","_directionToOrder","_setActiveIndicatorElement","activeIndicator","newActiveIndicator","elementInterval","isNext","nextElement","nextElementIndex","triggerEvent","_orderToDirection","slideEvent","isCycling","directionalClassName","orderClassName","completeCallBack","_isAnimated","clearInterval","carousel","slideIndex","carousels","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDDEN","CLASS_NAME_COLLAPSE","CLASS_NAME_COLLAPSING","CLASS_NAME_COLLAPSED","CLASS_NAME_DEEPER_CHILDREN","CLASS_NAME_HORIZONTAL","WIDTH","HEIGHT","SELECTOR_ACTIVES","Collapse","_isTransitioning","_triggerArray","toggleList","elem","filterElement","foundElement","_initializeChildren","_addAriaAndCollapsedClass","_isShown","activeChildren","_getFirstLevelChildren","startEvent","activeInstance","dimension","_getDimension","capitalizedDimension","scrollSize","selected","triggerArray","isOpen","ESCAPE_KEY","TAB_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","RIGHT_MOUSE_BUTTON","EVENT_KEYDOWN_DATA_API","EVENT_KEYUP_DATA_API","CLASS_NAME_DROPUP","CLASS_NAME_DROPEND","CLASS_NAME_DROPSTART","CLASS_NAME_DROPUP_CENTER","CLASS_NAME_DROPDOWN_CENTER","SELECTOR_DATA_TOGGLE_SHOWN","SELECTOR_MENU","SELECTOR_NAVBAR","SELECTOR_NAVBAR_NAV","SELECTOR_VISIBLE_ITEMS","PLACEMENT_TOP","PLACEMENT_TOPEND","PLACEMENT_BOTTOM","PLACEMENT_BOTTOMEND","PLACEMENT_RIGHT","PLACEMENT_LEFT","PLACEMENT_TOPCENTER","PLACEMENT_BOTTOMCENTER","autoClose","boundary","display","popperConfig","Dropdown","_popper","_parent","_menu","_inNavbar","_detectNavbar","showEvent","_createPopper","focus","_completeHide","destroy","hideEvent","Popper","referenceElement","_getPopperConfig","createPopper","_getPlacement","parentDropdown","isEnd","_getOffset","popperData","defaultBsPopperConfig","placement","modifiers","_selectMenuItem","clearMenus","openToggles","composedPath","isMenuTarget","dataApiKeydownHandler","isInput","isEscapeEvent","isUpOrDownEvent","getToggleButton","stopPropagation","EVENT_MOUSEDOWN","clickCallback","rootElement","Backdrop","_isAppended","_append","_getElement","_emulateAnimation","backdrop","append","EVENT_FOCUSIN","EVENT_KEYDOWN_TAB","TAB_NAV_FORWARD","TAB_NAV_BACKWARD","autofocus","trapElement","FocusTrap","_isActive","_lastTabNavDirection","activate","_handleFocusin","_handleKeydown","deactivate","shiftKey","SELECTOR_FIXED_CONTENT","SELECTOR_STICKY_CONTENT","PROPERTY_PADDING","PROPERTY_MARGIN","ScrollBarHelper","getWidth","documentWidth","innerWidth","_disableOverFlow","_setElementAttributes","calculatedValue","_resetElementAttributes","isOverflowing","_saveInitialAttribute","overflow","styleProperty","scrollbarWidth","manipulationCallBack","_applyManipulationCallback","actualValue","removeProperty","callBack","EVENT_HIDE_PREVENTED","EVENT_RESIZE","EVENT_CLICK_DISMISS","EVENT_MOUSEDOWN_DISMISS","EVENT_KEYDOWN_DISMISS","CLASS_NAME_OPEN","CLASS_NAME_STATIC","OPEN_SELECTOR","SELECTOR_DIALOG","SELECTOR_MODAL_BODY","Modal","_dialog","_backdrop","_initializeBackDrop","_focustrap","_initializeFocusTrap","_scrollBar","_adjustDialog","_showElement","_hideModal","handleUpdate","scrollTop","modalBody","transitionComplete","_triggerBackdropTransition","event2","_resetAdjustments","isModalOverflowing","scrollHeight","initialOverflowY","overflowY","isBodyOverflowing","paddingLeft","paddingRight","alreadyOpen","CLASS_NAME_SHOWING","CLASS_NAME_HIDING","CLASS_NAME_BACKDROP","scroll","Offcanvas","blur","completeCallback","ARIA_ATTRIBUTE_PATTERN","DefaultAllowlist","area","br","col","code","dd","div","dl","em","hr","h1","h2","h3","h4","h5","h6","li","ol","pre","span","sub","sup","strong","u","ul","uriAttributes","SAFE_URL_PATTERN","allowedAttribute","attribute","allowedAttributeList","attributeName","attributeRegex","some","regex","sanitizeHtml","unsafeHtml","allowList","sanitizeFunction","domParser","DOMParser","createdDocument","parseFromString","elementName","attributeList","allowedAttributes","content","extraClass","sanitize","sanitizeFn","template","DefaultContentType","entry","TemplateFactory","getContent","_resolvePossibleFunction","hasContent","changeContent","_checkContent","toHtml","templateWrapper","_maybeSanitize","_setContent","arg","templateElement","_putElementInTemplate","DISALLOWED_ATTRIBUTES","CLASS_NAME_MODAL","SELECTOR_TOOLTIP_INNER","SELECTOR_MODAL","EVENT_MODAL_HIDE","TRIGGER_HOVER","TRIGGER_FOCUS","TRIGGER_CLICK","TRIGGER_MANUAL","EVENT_INSERTED","EVENT_CLICK","EVENT_FOCUSOUT","AttachmentMap","AUTO","TOP","RIGHT","BOTTOM","LEFT","animation","container","customClass","fallbackPlacements","title","Tooltip","_isEnabled","_timeout","_isHovered","_activeTrigger","_templateFactory","_newContent","tip","_setListeners","_fixTitle","enable","disable","toggleEnabled","_leave","_enter","_hideModalHandler","_disposePopper","_isWithContent","shadowRoot","isInTheDom","_getTipElement","_isWithActiveTrigger","_getTitle","_createTipElement","_getContentForTemplate","_getTemplateFactory","tipId","setContent","_initializeOnDelegatedTarget","_getDelegateConfig","attachment","phase","state","triggers","eventIn","eventOut","_setTimeout","dataAttributes","dataAttribute","SELECTOR_TITLE","SELECTOR_CONTENT","Popover","_getContent","EVENT_ACTIVATE","CLASS_NAME_DROPDOWN_ITEM","SELECTOR_DATA_SPY","SELECTOR_TARGET_LINKS","SELECTOR_NAV_LIST_GROUP","SELECTOR_NAV_LINKS","SELECTOR_NAV_ITEMS","SELECTOR_LIST_ITEMS","SELECTOR_LINK_ITEMS","SELECTOR_DROPDOWN","SELECTOR_DROPDOWN_TOGGLE","rootMargin","smoothScroll","ScrollSpy","_targetLinks","_observableSections","_rootElement","_activeTarget","_observer","_previousScrollData","visibleEntryTop","parentScrollTop","refresh","_initializeTargetsAndObservables","_maybeEnableSmoothScroll","disconnect","_getNewObserver","section","observe","observableSection","hash","offsetTop","scrollTo","behavior","IntersectionObserver","_observerCallback","targetElement","_process","userScrollsDown","isIntersecting","_clearActiveClass","entryIsLowerThanPrevious","targetLinks","anchor","decodeURI","_activateParents","listGroup","activeNodes","spy","HOME_KEY","END_KEY","CLASS_DROPDOWN","SELECTOR_DROPDOWN_MENU","NOT_SELECTOR_DROPDOWN_TOGGLE","SELECTOR_TAB_PANEL","SELECTOR_OUTER","SELECTOR_INNER","SELECTOR_INNER_ELEM","SELECTOR_DATA_TOGGLE_ACTIVE","Tab","_setInitialAttributes","_getChildren","innerElem","_elemIsActive","_getActiveElem","_deactivate","_activate","relatedElem","_toggleDropDown","nextActiveElement","preventScroll","_setAttributeIfNotExists","_setInitialAttributesOnChild","_getInnerElement","isActive","outerElem","_getOuterElement","_setInitialAttributesOnTargetPanel","open","EVENT_MOUSEOVER","EVENT_MOUSEOUT","CLASS_NAME_HIDE","autohide","Toast","_hasMouseInteraction","_hasKeyboardInteraction","_clearTimeout","_maybeScheduleHide","isShown","_onInteraction","isInteracting","normalizeEvent","clientY","panZoom","zoomFactor","zoomMin","MIN_VALUE","zoomMax","MAX_VALUE","doWheelZoom","wheelZoom","doPinchZoom","pinchZoom","doPanning","panning","panButton","oneFingerPan","margins","wheelZoomDeltaModeLinePixels","wheelZoomDeltaModeScreenPixels","lastP","lastTouches","zoomInProgress","restrictToMargins","bottom","right","preserveAspectRatio","baseVal","viewportLeftOffset","viewportRightOffset","viewportTopOffset","viewportBottomOffset","SVG_PRESERVEASPECTRATIO_NONE","svgAspectRatio","viewboxAspectRatio","isMeet","meetOrSlice","SVG_MEETORSLICE_SLICE","changedAxis","isWidth","changeHorizontal","ratio","SVG_PRESERVEASPECTRATIO_XMIDYMIN","SVG_PRESERVEASPECTRATIO_XMIDYMID","SVG_PRESERVEASPECTRATIO_XMIDYMAX","SVG_PRESERVEASPECTRATIO_XMINYMIN","SVG_PRESERVEASPECTRATIO_XMINYMID","SVG_PRESERVEASPECTRATIO_XMINYMAX","SVG_PRESERVEASPECTRATIO_XMAXYMIN","SVG_PRESERVEASPECTRATIO_XMAXYMID","SVG_PRESERVEASPECTRATIO_XMAXYMAX","leftLimit","rightLimit","topLimit","bottomLimit","normalizedPixelDeltaY","deltaMode","deltaY","lvl","pinchZoomStart","panStart","panStop","passive","pinchZoomStop","currentTouches","lastDelta","currentDelta","currentFocus","lastFocus","focusP","isMouse","which","currentP","p1","p2","deltaP"],"version":3,"file":"pages.6c4b1899.js.map","sourceRoot":"/__parcel_source_root/"}